<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="Creating Histograms" />
  <meta name="DC.Relation" scheme="URI" content="GUID-988CE67F-F5EB-52DB-95B8-A0AB48307EE0.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-98499337-5CB4-5A9C-907A-95FF57775983.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-5C678281-46F3-53C8-8D5A-93E51EC9E3CF.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-988CE67F-F5EB-52DB-95B8-A0AB48307EE0.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-C519E523-E908-5185-949C-C1FAC0BAF0D9.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-7022455A-E738-574E-897E-33243482D69A.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-7F6A463C-2D33-5B6D-9394-DCB55FEEB5A3.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Creating Histograms
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866">
  <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2392344 id2392446 id2392460 id2392663 id2392677 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html">
      Multimedia Guide
     </a>
     &gt;
     <a href="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html">
      Multimedia APIs and Frameworks Collection
     </a>
     &gt;
     <a href="GUID-98499337-5CB4-5A9C-907A-95FF57775983.html">
      Camera Framework
     </a>
     &gt;
     <a href="GUID-5C678281-46F3-53C8-8D5A-93E51EC9E3CF.html">
      Histogram Library
     </a>
     &gt;
     <a href="GUID-988CE67F-F5EB-52DB-95B8-A0AB48307EE0.html">
      Tutorials
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Creating Histograms
    </h1>
    <div>
     <p>
      This document introduces how to create a histogram.
     </p>
     <div class="section">
      <h2 class="sectiontitle">
       Purpose
      </h2>
      <p>
       This document describes the various APIs used to create a Histogram.
      </p>
      <p>
       <strong>
        Introduction
       </strong>
      </p>
      <p>
       You can request histograms for image capture, video capture and viewfinder separately or you can combine viewfinder functionality with image or video capture. Histograms provide information about the exposure of light on a captured frame.
      </p>
      <p>
       The key classes are described in
       <a href="GUID-3074D4E5-25EA-5DA0-877D-6E3086DCBDB5.html">
        Histogram Overview
       </a>
       .
      </p>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Creating a Histogram
      </h2>
      <p>
       You can create instance of a histogram class from the following class objects:
      </p>
      <ul>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-A416D08B-D229-5085-95F9-CB5ADC593670">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-A416D08B-D229-5085-95F9-CB5ADC593670">
         <!-- -->
        </a>
        <p>
         snapshot
        </p>
       </li>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-ABC4E85C-D0D5-5987-957F-5AD418DBDD75">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-ABC4E85C-D0D5-5987-957F-5AD418DBDD75">
         <!-- -->
        </a>
        <p>
         image capture
        </p>
       </li>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-EC3CB0AE-55C0-5E24-A402-195251A2CD6E">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-EC3CB0AE-55C0-5E24-A402-195251A2CD6E">
         <!-- -->
        </a>
        <p>
         video capture
        </p>
       </li>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-929E10C0-3C52-583C-B61A-AB696F22429E">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-929E10C0-3C52-583C-B61A-AB696F22429E">
         <!-- -->
        </a>
        <p>
         version2 direct viewfinder
        </p>
       </li>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-1F8C1088-8A3D-5990-8F11-B57D81E40FED">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-1F8C1088-8A3D-5990-8F11-B57D81E40FED">
         <!-- -->
        </a>
        <p>
         client viewfinder
        </p>
       </li>
      </ul>
      <p>
       This provides better handling of histogram features by tying it closely to the given object.
      </p>
      <p>
       <strong>
        Note
       </strong>
       :
      </p>
      <p>
       Client is not allowed to create object of this class directly.
      </p>
      <p>
       <strong>
        Setup and Configuration Requirements
       </strong>
      </p>
      <p>
       The following are the setup and configuration requirements you need to follow before Histogram implementation:
      </p>
      <ul>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-90B7676B-A5B6-5B70-AED4-BEF1EFF70C64">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-90B7676B-A5B6-5B70-AED4-BEF1EFF70C64">
         <!-- -->
        </a>
        <p>
         Licensees need to provide the implementation of
         CcameraV2Histogram
         and
         <a href="GUID-E29318E9-D94F-3576-BA18-400FB8556C27.html">
          <span class="apiname">
           MCameraV2Histogram
          </span>
         </a>
         class for the camera v2 histogram.
        </p>
       </li>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-7CD76ECD-43FF-5BFF-8297-30C297953114">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-7CD76ECD-43FF-5BFF-8297-30C297953114">
         <!-- -->
        </a>
        <p>
         Clients need to provide the interfaces:
         McaptureImageObserver
         ,
         McaptureVideoObserver
         ,
         MdirectViewFinderObserver
         and
         MclientViewFinderObserver
         to receive notifications about direct histogram display or client histogram data availability.
        </p>
       </li>
      </ul>
      <p>
       <strong>
        Note
       </strong>
       :
      </p>
      <p>
       McameraObserver2::HandleEvent
       will not be used with this class.
      </p>
      <p>
       <strong>
        Basic Procedure for Creating Histograms
       </strong>
      </p>
      <p>
       The high level steps to create a histogram are shown here:
      </p>
      <ul>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-C4F9F1F4-B5C5-53A4-80B6-237CE3FFDF85">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-C4F9F1F4-B5C5-53A4-80B6-237CE3FFDF85">
         <!-- -->
        </a>
        <p>
         Create a new camera histogram object using
         <a href="GUID-021C509B-C821-3401-B2F4-DE7F52BB16D4.html#GUID-021C509B-C821-3401-B2F4-DE7F52BB16D4__GUID-E159F066-0157-34B4-B154-38D120EAB16C">
          <span class="apiname">
           CCamera::CCameraV2Histogram
          </span>
         </a>
         class. This class allows the client to get histogram data in a specified format for an image. For example, luminance based histogram, average colour value histogram and so on.
        </p>
       </li>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-8E9869ED-2215-59A4-8E95-FF38CC611035">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-8E9869ED-2215-59A4-8E95-FF38CC611035">
         <!-- -->
        </a>
        <p>
         This class maps the exported call to a method of mixin class
         <a href="GUID-E29318E9-D94F-3576-BA18-400FB8556C27.html">
          <span class="apiname">
           MCameraV2Histogram
          </span>
         </a>
         , which provides the camera version 2 histogram functionality.
        </p>
       </li>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-80009232-A3F2-5612-B46F-B5AA95D7A71E">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-80009232-A3F2-5612-B46F-B5AA95D7A71E">
         <!-- -->
        </a>
        <p>
         Pass a pointer to object of type
         <a href="GUID-E29318E9-D94F-3576-BA18-400FB8556C27.html">
          <span class="apiname">
           MCameraV2Histogram
          </span>
         </a>
         to the
         CCameraV2Histogram
         object by the owning camera during the construction phase.
        </p>
       </li>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-697049C9-803B-5737-AB41-EDE17E5885A1">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-697049C9-803B-5737-AB41-EDE17E5885A1">
         <!-- -->
        </a>
        <p>
         Obtain this pointer using a call to
         Ccamera::CustomInterface()
         with UID value
         KECamMCameraHistogramUid
         .
        </p>
       </li>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-4B1CE635-5141-5254-BEBD-EC59ED1F5669">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-4B1CE635-5141-5254-BEBD-EC59ED1F5669">
         <!-- -->
        </a>
        <p>
         List the type of histograms supported by the camera using
         GetSupportedHistogramsL()
         API.
        </p>
       </li>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-66674E2B-563C-5362-A2B3-E1CFFCDE90BB">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-66674E2B-563C-5362-A2B3-E1CFFCDE90BB">
         <!-- -->
        </a>
        <p>
         Check if direct histogram is supported using
         GetDirectHistogramSupportInfoL()
         API.
        </p>
       </li>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-BCE79AE4-49BD-5CEE-8F8E-FACB9B065FD1">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-BCE79AE4-49BD-5CEE-8F8E-FACB9B065FD1">
         <!-- -->
        </a>
        <p>
         Create a request to prepare a direct or client based histogram using
         PrepareDirectHistogramL()
         or
         CCameraV2Histogram::PrepareClientHistogramL()
         APIs appropriately.
        </p>
       </li>
      </ul>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Example
      </h2>
      <p>
       The following example illustrates the sequence for creating a histogram:
      </p>
      <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-1B30A03E-6B0C-576A-9387-C03A60AD5D7E">
       <!-- -->
      </a>
      <ol id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-1B30A03E-6B0C-576A-9387-C03A60AD5D7E">
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-BE008E89-0538-5D91-9490-B4943D31569A">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-BE008E89-0538-5D91-9490-B4943D31569A">
         <!-- -->
        </a>
        <p>
         The following creates the new camera histogram object.
        </p>
        <pre class="codeblock" id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-D4D5FD9E-FB81-50B2-B8D6-D51EB7E2929F">
         <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-D4D5FD9E-FB81-50B2-B8D6-D51EB7E2929F">
          <!-- -->
         </a>
         CCamera* camera;//exists beforehand
CCamera::CCameraClientViewFinder* clientVF;//exists beforehand
MCameraObserver* observer2;//exists beforehand
clientVF  = CCamera::CCameraClientViewFinder::NewL(*camera, *clientVFObserver);    
CCamera::CCameraV2Histogram* histogram_CVF = clientVF-&gt;CreateHistogramHandleL();
        </pre>
       </li>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-941D2BDE-A9C9-50F9-8D6B-5629A993EE5C">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-941D2BDE-A9C9-50F9-8D6B-5629A993EE5C">
         <!-- -->
        </a>
        <p>
         Find out about the supported set of values.
        </p>
        <pre class="codeblock" id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-DC85D107-A94A-523B-AE6C-05CE0CA394A7">
         <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-DC85D107-A94A-523B-AE6C-05CE0CA394A7">
          <!-- -->
         </a>
         TUint supportedHistogramType=0;
histogram_CVF-&gt;GetSupportedHistogramsL(supportedHistogramType);
        </pre>
        <p>
         Get the information about direct histograms.
        </p>
        <pre class="codeblock" id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-EF78CBC3-F706-59EE-9251-EA4E9D326081">
         <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-EF78CBC3-F706-59EE-9251-EA4E9D326081">
          <!-- -->
         </a>
         TBool directHistogramSupported = EFalse;
histogram_CVF-&gt;GetDirectHistogramSupportInfoL(directHistogramSupported);
        </pre>
       </li>
       <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-C05F76AD-91A6-5A56-BF92-828B908BF6D7">
        <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-C05F76AD-91A6-5A56-BF92-828B908BF6D7">
         <!-- -->
        </a>
        <p>
         Prepare the selected or available histogram.
        </p>
        <ul>
         <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-F8C14127-4F21-58A9-BD4D-A81496F2AA17">
          <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-F8C14127-4F21-58A9-BD4D-A81496F2AA17">
           <!-- -->
          </a>
          <p>
           direct access
          </p>
          <pre class="codeblock" id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-F7061052-DA32-5437-810F-71CB5C379AB1">
           <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-F7061052-DA32-5437-810F-71CB5C379AB1">
            <!-- -->
           </a>
           Camera::CCameraV2Histogram::TDirectHistogramParameters histogramParameters;
histogram_CVF-&gt;PrepareDirectHistogramL(histogramParameters);
          </pre>
         </li>
         <li id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-42AA310D-41B2-5094-A934-A30A75819186">
          <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-42AA310D-41B2-5094-A934-A30A75819186">
           <!-- -->
          </a>
          <p>
           non direct access
          </p>
          <pre class="codeblock" id="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-E4EF2CD1-11F4-5368-AB9F-F17CDD9E9C55">
           <a name="GUID-5A5DDB8C-1E70-5B63-96F1-7ABBFA568866__GUID-E4EF2CD1-11F4-5368-AB9F-F17CDD9E9C55">
            <!-- -->
           </a>
           CCamera::CCameraV2Histogram::THistogramType histogramType = CCamera::CCameraV2Histogram::Eluminance;
histogram_CVF-&gt;PrepareClientHistogramL(histogramType);
          </pre>
         </li>
        </ul>
       </li>
      </ol>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-988CE67F-F5EB-52DB-95B8-A0AB48307EE0.html">
        Tutorials
       </a>
      </div>
     </div>
     <div class="relinfo relconcepts">
      <strong>
       Related concepts
      </strong>
      <br />
      <div>
       <a href="GUID-C519E523-E908-5185-949C-C1FAC0BAF0D9.html">
        Histograms
       </a>
      </div>
      <div>
       <a href="GUID-7022455A-E738-574E-897E-33243482D69A.html">
        Working with Histograms
       </a>
      </div>
      <div>
       <a href="GUID-7F6A463C-2D33-5B6D-9394-DCB55FEEB5A3.html">
        Stopping Histograms
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>