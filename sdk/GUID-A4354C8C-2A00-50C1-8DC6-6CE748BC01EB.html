<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="Using Subtitle Graphic Tutorial" />
  <meta name="DC.Relation" scheme="URI" content="GUID-87C81097-A892-5E45-A3CC-BE2C65A2FA70.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-97F83011-BE3C-512C-9599-028CBB92BD51.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-412CB101-A92C-54E1-9518-79E94DD40A08.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-87C81097-A892-5E45-A3CC-BE2C65A2FA70.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-A9803A57-BB43-53F3-97BA-3B5E91D925F0.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-354240A8-2DDD-5181-9A36-9A054D239B62.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Using Subtitle Graphic Tutorial
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB">
  <a name="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2392344 id2393725 id2393798 id2393818 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html">
      Multimedia Guide
     </a>
     &gt;
     <a href="GUID-97F83011-BE3C-512C-9599-028CBB92BD51.html" title="The Multimedia Plug-ins collection facilitates a plug-in framework to handle the Multimedia audio, video and image data.">
      Multimedia Plug-ins Collection
     </a>
     &gt;
     <a href="GUID-412CB101-A92C-54E1-9518-79E94DD40A08.html">
      Video Subtitle CRP Component
     </a>
     &gt;
     <a href="GUID-87C81097-A892-5E45-A3CC-BE2C65A2FA70.html">
      Subtitle Graphic Library
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Using Subtitle Graphic Tutorial
    </h1>
    <div>
     <p>
      This document gives you more information about how to use Subtitle Graphic.
     </p>
     <div class="section">
      <h2 class="sectiontitle">
       Purpose
      </h2>
      <p>
       Subtitle Graphic displays subtitles on the screen when you use two different drawing modes:
      </p>
      <ul>
       <li id="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-955E7707-F33A-57B3-B859-F6D73FBE1B04">
        <a name="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-955E7707-F33A-57B3-B859-F6D73FBE1B04">
         <!-- -->
        </a>
        <p>
         swap frame mode
        </p>
       </li>
       <li id="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-71D61E03-6B70-500A-A4FC-DA414548849A">
        <a name="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-71D61E03-6B70-500A-A4FC-DA414548849A">
         <!-- -->
        </a>
        <p>
         draw frame mode
        </p>
       </li>
      </ul>
      <p>
       <strong>
        Required background
       </strong>
      </p>
      <p>
       Subtitle Graphic is loaded by Video Player Controller to render subtitle graphics on a window when subtitle is added to a video screen.
      </p>
      <p>
       <strong>
        Introduction
       </strong>
      </p>
      <p>
       Subtitle Graphic (
       CMMFSubtitleGraphic
       ) takes bitmap handles to display subtitles on the window. The bitmap handle must be a transparent bitmap. The bitmap handle contains the subtitle image to render on the top of the video window. The bitmap handle must be the same size as the subtitle region.
      </p>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Using Subtitle Graphic
      </h2>
      <p>
       The following task is done using Subtitle Graphic:
      </p>
      <ul>
       <li id="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-A15E631F-155C-572D-8078-9283AB76DD9D">
        <a name="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-A15E631F-155C-572D-8078-9283AB76DD9D">
         <!-- -->
        </a>
        <p>
         <a href="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB.html#GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-E1D035E5-5E17-5DDB-B82F-ECF36C7E00C3">
          How to use Subtitle Graphic
         </a>
         .
        </p>
       </li>
      </ul>
      <p id="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-E1D035E5-5E17-5DDB-B82F-ECF36C7E00C3">
       <a name="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-E1D035E5-5E17-5DDB-B82F-ECF36C7E00C3">
        <!-- -->
       </a>
       <strong>
        Basic procedure to use Subtitle Graphic
       </strong>
      </p>
      <p>
       The high-level steps to use Subtitle Graphic are as follows:
      </p>
      <ul>
       <li id="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-BE4F403A-BCC2-5F25-9757-7710EA89B95E">
        <a name="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-BE4F403A-BCC2-5F25-9757-7710EA89B95E">
         <!-- -->
        </a>
        <p>
         To create a new
         <samp class="codeph">
          CMMFSubtitleGraphic
         </samp>
         call
         CMMFSubtitleGraphic::NewL()
         .
        </p>
       </li>
       <li id="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-398524C5-71DE-5089-89E2-FA3CEF3F5991">
        <a name="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-398524C5-71DE-5089-89E2-FA3CEF3F5991">
         <!-- -->
        </a>
        <p>
         To get the graphic identity of the created
         <samp class="codeph">
          CMMFSubtitleGraphic
         </samp>
         call
         CMMFSubtitleGraphic::GetId(TWsGraphicId &amp;)
         .
        </p>
        <p>
         <strong>
          Note:
         </strong>
         If multiple window support is required, multiple Subtitle Graphics can be created at the same time, and each Subtitle Graphic will have a different graphic ID. Each instance of
         <samp class="codeph">
          CMMFSubtitleGraphic
         </samp>
         can be used for one window.
        </p>
       </li>
       <li id="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-E0B844B0-3A43-5275-994F-3CE84C0DB749">
        <a name="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-E0B844B0-3A43-5275-994F-3CE84C0DB749">
         <!-- -->
        </a>
        <p>
         To draw to
         <samp class="codeph">
          CMMFSubtitleGraphic
         </samp>
         there are two drawing modes:
        </p>
        <ul>
         <li id="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-380735D0-EA1D-5D2D-AB05-F4E468C56ACA">
          <a name="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-380735D0-EA1D-5D2D-AB05-F4E468C56ACA">
           <!-- -->
          </a>
          <p>
           <strong>
            Swap frame mode
           </strong>
          </p>
          <p>
           CMMFSubtitleGraphic::Initialize(TInt,
                        TInt)
           initialises the CRP with two bitmap handles, which act as a front buffer and a back buffer. To swap the current drawing bitmap call
           CMMFSubtitleGraphic::SwapFrame()
           .
          </p>
          <p>
           The example below shows Subtitle Graphic swap frame mode:
          </p>
          <pre class="codeblock" id="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-AED66EBF-71FD-59AA-A8EC-6F3080C9587F">
           <a name="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-AED66EBF-71FD-59AA-A8EC-6F3080C9587F">
            <!-- -->
           </a>
           // initialize crp with the specified bitmap handles
crp-&gt;Initialize(bitmap1.Handle(), bitmap2.Handle()); 

&lt;snip&gt; decode first frame into bitmap1 here… &lt;snip&gt;

// display drawrect1 of bitmap1 for displayDuration number of microsecond
crp-&gt;SwapFrame(1, drawRect1, displayDuration); 

&lt;snip&gt; decode second frame into bitmap2 here… &lt;snip&gt;

// display drawrect2 of bitmap2 for displayDuration number of microsecond
crp-&gt;SwapFrame(2, drawRect2, displayDuration); 

&lt;snip&gt; decode third frame into bitmap1 here… &lt;snip&gt;

// display drawrect1 of bitmap1 for displayDuration number of microsecond
crp-&gt;SwapFrame(1, drawRect1, displayDuration);
          </pre>
         </li>
         <li id="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-7208CFB0-F006-5B12-9192-05F978D6F2C2">
          <a name="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-7208CFB0-F006-5B12-9192-05F978D6F2C2">
           <!-- -->
          </a>
          <p>
           <strong>
            Draw frame mode
           </strong>
          </p>
          <p>
           CMMFSubtitleGraphic::Initialize()
           initialises the CRP with no bitmap handles. To draw bitmap call
           CMMFSubtitleGraphic::DrawFrame()
           .
          </p>
          <p>
           The example below shows Subtitle Graphic draw frame mode:
          </p>
          <pre class="codeblock" id="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-7620F12E-2D57-5BA5-9C70-E821D37A62F6">
           <a name="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-7620F12E-2D57-5BA5-9C70-E821D37A62F6">
            <!-- -->
           </a>
           // initialize crp for drawing any bitmap handle
crp-&gt;Initialize(); 

&lt;snip&gt; decode first frame into bitmap1 here… &lt;snip&gt;

// draw drawrect1 of bitmap1 for displayDuration number of microsecond
crp-&gt;DrawFrame(bitmap1.Handle(), drawRect1, displayDuration); 

&lt;snip&gt; decode second frame into bitmap2 here… &lt;snip&gt;

// draw drawrect2 of bitmap2 for displayDuration number of microsecond
crp-&gt;DrawFrame(bitmap2.Handle(), drawRect2, displayDuration);
          </pre>
         </li>
        </ul>
        <p>
         In both of the examples above, the
         <samp class="codeph">
          drawRect1
         </samp>
         and
         <samp class="codeph">
          drawRect2
         </samp>
         represent the region of the bitmap that contains the subtitle. The region is relative to the bitmap. The region is sent to indicate the region of the bitmap that needs to be drawn. The
         <samp class="codeph">
          displayDuration
         </samp>
         is the time that the subtitle bitmap will be displayed before it is cleared. If the value is 0, the subtitle bitmap will not be cleared until the next
         <samp class="codeph">
          DrawFrame()
         </samp>
         ,
         <samp class="codeph">
          SwapFrame()
         </samp>
         , or
         <samp class="codeph">
          Clear()
         </samp>
         call.
        </p>
       </li>
       <li id="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-0B552DEC-75F9-539E-A7F5-7977CB8C1F62">
        <a name="GUID-A4354C8C-2A00-50C1-8DC6-6CE748BC01EB__GUID-0B552DEC-75F9-539E-A7F5-7977CB8C1F62">
         <!-- -->
        </a>
        <p>
         To clear Subtitle Graphic call
         CMMFSubtitleGraphic::Clear()
         . This may be used when a video is stopped to remove the clear the subtitle bitmap from window.
        </p>
       </li>
      </ul>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-87C81097-A892-5E45-A3CC-BE2C65A2FA70.html">
        Subtitle Graphic Library
       </a>
      </div>
     </div>
     <div class="relinfo relconcepts">
      <strong>
       Related concepts
      </strong>
      <br />
      <div>
       <a href="GUID-A9803A57-BB43-53F3-97BA-3B5E91D925F0.html">
        Subtitle Graphic Overview
       </a>
      </div>
      <div>
       <a href="GUID-354240A8-2DDD-5181-9A36-9A054D239B62.html">
        Video Subtitle CRP Support from
                MMF
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>