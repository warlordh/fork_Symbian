<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="cxxClass" />
  <meta name="DC.Title" content="CSession2" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51" />
  <title>
   CSession2
  </title>
   <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <meta name="keywords" content="api" />
  <link rel="stylesheet" type="text/css" href="cxxref.css" />
 </head>
 <body class="cxxref" id="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51">
  <a name="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2518338 id2518347 id2858858 id2654050 id2654199 id2654204 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
    <div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     CSession2 Class Reference
    </h1>
    <table class="signature">
     <tr>
      <td>
       class CSession2 : public CBase
      </td>
     </tr>
    </table>
    <div class="section">
     <div>
      <p>
       Represents a session (version 2) for a client thread on the server-side.
      </p>
      <p>
       A session acts as a channel of communication between the client and the server. A client thread can have multiple concurrent sessions with a server.
      </p>
      <div class="p">
       A session can be:
       <ul>
        <li>
         <p>
          restricted to the creating thread
         </p>
        </li>
        <li>
         <p>
          can be shared with other threads in the same process
         </p>
        </li>
        <li>
         <p>
          can be shared by all threads in the system.
         </p>
        </li>
       </ul>
      </div>
      <p>
       A server must define and implement a derived class. In particular, it must provide an implementation for the
       <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-54230DEC-ED8D-3E8A-8F62-F737D0B992A8">
        ServiceL()
       </a>
       virtual function.
      </p>
      <p>
       (Note that this class should be used instead of CSession)
      </p>
     </div>
    </div>
    <div class="section derivation">
     <h2 class="sectiontitle">
      Inherits from
     </h2>
     <ul class="derivation derivation-root">
      <li class="derivation-depth-0 ">
       CSession2
       <ul class="derivation">
        <li class="derivation-depth-1 ">
         <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">
          CBase
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <div class="section member-index">
     <table border="0" class="member-index">
      <thead>
       <tr>
        <th colspan="2">
         Public Member Functions
        </th>
       </tr>
      </thead>
      <tbody>
       <tr>
        <td align="right" class="code">
        </td>
        <td>
         <a href="#GUID-1A91442F-D985-316D-A57A-6510F23B02CA">
          ~CSession2
         </a>
         ()
        </td>
       </tr>
       <tr class="bg">
        <td align="right" class="code">
         IMPORT_C
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TInt
         </a>
        </td>
        <td>
         <a href="#GUID-F58627C3-F06D-39AA-8FBD-ABCDDA352138">
          CountResources
         </a>
         ()
        </td>
       </tr>
       <tr>
        <td align="right" class="code">
         IMPORT_C void
        </td>
        <td>
         <a href="#GUID-7150C32F-F316-325D-B613-736379BBEBF7">
          ResourceCountMarkEnd
         </a>
         (const
         <a href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">
          RMessage2
         </a>
         &amp;)
        </td>
       </tr>
       <tr class="bg">
        <td align="right" class="code">
         IMPORT_C void
        </td>
        <td>
         <a href="#GUID-AD09DF56-4766-33C6-9AFD-ACCF618CC2FB">
          ResourceCountMarkStart
         </a>
         ()
        </td>
       </tr>
       <tr>
        <td align="right" class="code">
         const
         <a href="GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C.html">
          CServer2
         </a>
         *
        </td>
        <td>
         <a href="#GUID-C5DEDAAE-1BC2-3E47-AAE3-83A69A675402">
          Server
         </a>
         ()
        </td>
       </tr>
       <tr class="bg">
        <td align="right" class="code">
         IMPORT_C void
        </td>
        <td>
         <a href="#GUID-1B257684-38CF-39FA-94E8-70E4E59EB480">
          ServiceError
         </a>
         (const
         <a href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">
          RMessage2
         </a>
         &amp;,
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TInt
         </a>
         )
        </td>
       </tr>
       <tr>
        <td align="right" class="code">
         void
        </td>
        <td>
         <a href="#GUID-54230DEC-ED8D-3E8A-8F62-F737D0B992A8">
          ServiceL
         </a>
         (const
         <a href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">
          RMessage2
         </a>
         &amp;)
        </td>
       </tr>
       <tr class="bg">
        <td align="right" class="code">
         IMPORT_C void
        </td>
        <td>
         <a href="#GUID-253076B5-5BC5-38F7-92A0-F10BFBB6D78F">
          SetServer
         </a>
         (const
         <a href="GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C.html">
          CServer2
         </a>
         *)
        </td>
       </tr>
      </tbody>
     </table>
     <table border="0" class="member-index">
      <thead>
       <tr>
        <th colspan="2">
         Protected Member Functions
        </th>
       </tr>
      </thead>
      <tbody>
       <tr>
        <td align="right" class="code">
        </td>
        <td>
         <a href="#GUID-222D4602-3CBC-3C0A-873F-9BD3A7C2ADAC">
          CSession2
         </a>
         ()
        </td>
       </tr>
       <tr class="bg">
        <td align="right" class="code">
         IMPORT_C void
        </td>
        <td>
         <a href="#GUID-226E92F5-D079-3BDF-AA49-6B747B42CC1E">
          Disconnect
         </a>
         (const
         <a href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">
          RMessage2
         </a>
         &amp;)
        </td>
       </tr>
       <tr>
        <td align="right" class="code">
         IMPORT_C
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TInt
         </a>
        </td>
        <td>
         <a href="#GUID-D4CC7375-4D2E-3555-A1F7-654D86FE925B">
          Extension_
         </a>
         (
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TUint
         </a>
         ,
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TAny
         </a>
         *&amp;,
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TAny
         </a>
         *)
        </td>
       </tr>
      </tbody>
     </table>
     <table border="0" class="member-index">
      <thead>
       <tr>
        <th colspan="2">
         Private Member Functions
        </th>
       </tr>
      </thead>
      <tbody>
       <tr>
        <td align="right" class="code">
         IMPORT_C void
        </td>
        <td>
         <a href="#GUID-B9260D05-178C-374B-931D-9D38A8FB642B">
          CreateL
         </a>
         ()
        </td>
       </tr>
      </tbody>
     </table>
     <table border="0" class="member-index">
      <thead>
       <tr>
        <th colspan="2">
         Inherited Functions
        </th>
       </tr>
      </thead>
      <tbody>
       <tr>
        <td>
        </td>
        <td>
         <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">
          CBase::CBase()
         </a>
        </td>
       </tr>
       <tr class="bg">
        <td>
        </td>
        <td>
         <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">
          CBase::Delete(CBase *)
         </a>
        </td>
       </tr>
       <tr>
        <td>
        </td>
        <td>
         <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">
          CBase::operator new(TUint)
         </a>
        </td>
       </tr>
       <tr class="bg">
        <td>
        </td>
        <td>
         <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">
          CBase::operator new(TUint,TAny *)
         </a>
        </td>
       </tr>
       <tr>
        <td>
        </td>
        <td>
         <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">
          CBase::operator new(TUint,TLeave)
         </a>
        </td>
       </tr>
       <tr class="bg">
        <td>
        </td>
        <td>
         <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">
          CBase::operator new(TUint,TLeave,TUint)
         </a>
        </td>
       </tr>
       <tr>
        <td>
        </td>
        <td>
         <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">
          CBase::operator new(TUint,TUint)
         </a>
        </td>
       </tr>
       <tr class="bg">
        <td>
        </td>
        <td>
         <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">
          CBase::~CBase()
         </a>
        </td>
       </tr>
      </tbody>
     </table>
     <table border="0" class="member-index">
      <thead>
       <tr>
        <th colspan="2">
         Public Member Enumerations
        </th>
       </tr>
      </thead>
      <tbody>
       <tr>
        <td align="right" valign="top">
         enum
        </td>
        <td>
         <a href="#GUID-0A40A63A-8B40-31D7-9D3F-88DAA31EF1BC">
          TPanicNo
         </a>
         {
         <a href="#GUID-3633E250-5338-3CFD-B393-5BCE65A99612">
          ESesCountResourcesNotImplemented
         </a>
          = 1,
         <a href="#GUID-9050696F-5DC3-3BB4-8CFD-110116607750">
          ESesFoundResCountHeaven
         </a>
         }
        </td>
       </tr>
      </tbody>
     </table>
     <table border="0" class="member-index">
      <thead>
       <tr>
        <th colspan="2">
         Private Attributes
        </th>
       </tr>
      </thead>
      <tbody>
       <tr>
        <td align="right" valign="top">
         <a href="GUID-603E3D27-6A5C-3E3D-8067-69E44AAACC1B.html">
          TDblQueLink
         </a>
        </td>
        <td>
         <a href="#GUID-BC1B19E7-8B8E-3782-B925-CE006A85393A">
          iLink
         </a>
        </td>
       </tr>
       <tr class="bg">
        <td align="right" valign="top">
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TInt
         </a>
        </td>
        <td>
         <a href="#GUID-0F41F491-ED88-3F0D-A3C1-35D81783798D">
          iResourceCountMark
         </a>
        </td>
       </tr>
       <tr>
        <td align="right" valign="top">
         const
         <a href="GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C.html">
          CServer2
         </a>
         *
        </td>
        <td>
         <a href="#GUID-0FFB8BC9-2458-36FA-9D7A-E4004BC889E8">
          iServer
         </a>
        </td>
       </tr>
       <tr class="bg">
        <td align="right" valign="top">
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TAny
         </a>
         *
        </td>
        <td>
         <a href="#GUID-335D5865-7C6A-330D-BF12-136903958343">
          iSpare
         </a>
        </td>
       </tr>
      </tbody>
     </table>
    </div>
    <h1 class="pageHeading topictitle1">
     Constructor &amp; Destructor Documentation
    </h1>
    <div class="nested1" id="GUID-222D4602-3CBC-3C0A-873F-9BD3A7C2ADAC">
     <a name="GUID-222D4602-3CBC-3C0A-873F-9BD3A7C2ADAC">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      CSession2()
     </h2>
     <table class="signature">
      <tr>
       <td>
        IMPORT_C
       </td>
       <td>
        CSession2
       </td>
       <td>
        (
       </td>
       <td>
        )
       </td>
       <td>
        [protected]
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <p>
        Default constructor.
       </p>
       <p>
        This constructor is empty.
       </p>
      </div>
     </div>
    </div>
    <div class="nested1" id="GUID-1A91442F-D985-316D-A57A-6510F23B02CA">
     <a name="GUID-1A91442F-D985-316D-A57A-6510F23B02CA">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      ~CSession2()
     </h2>
     <table class="signature">
      <tr>
       <td>
        IMPORT_C
       </td>
       <td>
        ~CSession2
       </td>
       <td>
        (
       </td>
       <td>
        )
       </td>
       <td>
        [pure virtual]
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <p>
        Destructor.
       </p>
       <p>
        It frees resources prior to destruction of the object. Specifically, it removes this session object from the server active object s list of sessions.
       </p>
      </div>
     </div>
    </div>
    <h1 class="pageHeading topictitle1">
     Member Functions Documentation
    </h1>
    <div class="nested1" id="GUID-F58627C3-F06D-39AA-8FBD-ABCDDA352138">
     <a name="GUID-F58627C3-F06D-39AA-8FBD-ABCDDA352138">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      CountResources()
     </h2>
     <table class="signature">
      <tr>
       <td>
        IMPORT_C
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        CountResources
       </td>
       <td>
        (
       </td>
       <td>
        )
       </td>
       <td>
        [virtual]
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <p>
        Gets the number of resources currently in use.
       </p>
       <p>
        Derived classes must provide a suitable implementation. The meaning of a resource depends on the design intent of the server.
       </p>
       <p>
        The default implementation panics the calling thread (CSession 1) before returning KErrGeneral.
       </p>
       <p>
        CSession2::ResourceCountmarkStart() CSession2::ResourceCountmarkEnd()
       </p>
      </div>
     </div>
    </div>
    <div class="nested1" id="GUID-B9260D05-178C-374B-931D-9D38A8FB642B">
     <a name="GUID-B9260D05-178C-374B-931D-9D38A8FB642B">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      CreateL()
     </h2>
     <table class="signature">
      <tr>
       <td>
        IMPORT_C void
       </td>
       <td>
        CreateL
       </td>
       <td>
        (
       </td>
       <td>
        )
       </td>
       <td>
        [private, virtual]
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <p>
        Completes construction of this server-side client session object.
       </p>
       <p>
        The function is called by the server active object, the
        <a href="GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C.html#GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C">
         CServer2
        </a>
        derived class instance, when a client makes a connection request.
       </p>
       <p>
        The connection request results in the creation of this session object, followed by a call to this function.
       </p>
       <p>
        The default implementation is empty.
       </p>
       <p>
        <a href="GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C.html#GUID-2BC9898D-F3C7-398D-9E0E-821CB09B18D0">
         CServer2::NewSessionL()
        </a>
       </p>
      </div>
     </div>
    </div>
    <div class="nested1" id="GUID-226E92F5-D079-3BDF-AA49-6B747B42CC1E">
     <a name="GUID-226E92F5-D079-3BDF-AA49-6B747B42CC1E">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      Disconnect(const RMessage2 &amp;)
     </h2>
     <table class="signature">
      <tr>
       <td>
        IMPORT_C void
       </td>
       <td>
        Disconnect
       </td>
       <td>
        (
       </td>
       <td>
        const
        <a href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">
         RMessage2
        </a>
        &amp;
       </td>
       <td>
        aMessage
       </td>
       <td>
        )
       </td>
       <td>
        [protected, virtual]
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <p>
        Called by a server when it receives a disconnect message for the session.
       </p>
       <p>
        This message is sent by the kernel when all client handles to the session have been closed. This method deletes the session object and completes the disconnect message.
       </p>
       <p>
        A derived session implementation may overide this virtual method if it needs to perform any asynchronous cleanup actions, these actions must end with a call to the base class implementation of this method, which will delete the session object and complete the disconnect message
       </p>
       <div class="p">
        <dl class="postcondition">
         <dt class="dlterm">
          Post-condition
         </dt>
         <dd>
          'this' session object has been deleted.
         </dd>
        </dl>
       </div>
      </div>
     </div>
     <div class="section parameters">
      <h3 class="sectiontitle">
       Parameters
      </h3>
      <table border="0" class="parameters">
       <tr>
        <td class="parameter">
         const
         <a href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">
          RMessage2
         </a>
         &amp; aMessage
        </td>
        <td>
         The disconnect message.
        </td>
       </tr>
      </table>
     </div>
    </div>
    <div class="nested1" id="GUID-D4CC7375-4D2E-3555-A1F7-654D86FE925B">
     <a name="GUID-D4CC7375-4D2E-3555-A1F7-654D86FE925B">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      Extension_(TUint, TAny *&amp;, TAny *)
     </h2>
     <table class="signature">
      <tr>
       <td>
        IMPORT_C
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        Extension_
       </td>
       <td>
        (
       </td>
       <td>
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TUint
        </a>
       </td>
       <td>
        aExtensionId,
       </td>
      </tr>
      <tr>
       <td colspan="3">
       </td>
       <td>
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TAny
        </a>
        *&amp;
       </td>
       <td>
        a0,
       </td>
      </tr>
      <tr>
       <td colspan="3">
       </td>
       <td>
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TAny
        </a>
        *
       </td>
       <td>
        a1
       </td>
      </tr>
      <tr>
       <td colspan="2">
       </td>
       <td>
        )
       </td>
       <td colspan="2">
        [protected, virtual]
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <p>
        Extension function
       </p>
      </div>
     </div>
     <div class="section parameters">
      <h3 class="sectiontitle">
       Parameters
      </h3>
      <table border="0" class="parameters">
       <tr>
        <td class="parameter">
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TUint
         </a>
         aExtensionId
        </td>
        <td>
        </td>
       </tr>
       <tr class="bg">
        <td class="parameter">
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TAny
         </a>
         *&amp; a0
        </td>
        <td>
        </td>
       </tr>
       <tr>
        <td class="parameter">
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TAny
         </a>
         * a1
        </td>
        <td>
        </td>
       </tr>
      </table>
     </div>
    </div>
    <div class="nested1" id="GUID-7150C32F-F316-325D-B613-736379BBEBF7">
     <a name="GUID-7150C32F-F316-325D-B613-736379BBEBF7">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      ResourceCountMarkEnd(const RMessage2 &amp;)
     </h2>
     <table class="signature">
      <tr>
       <td>
        IMPORT_C void
       </td>
       <td>
        ResourceCountMarkEnd
       </td>
       <td>
        (
       </td>
       <td>
        const
        <a href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">
         RMessage2
        </a>
        &amp;
       </td>
       <td>
        aMessage
       </td>
       <td>
        )
       </td>
       <td>
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <p>
        Marks the end of resource count checking.
       </p>
       <p>
        The function takes the current resource count by calling
        <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-F58627C3-F06D-39AA-8FBD-ABCDDA352138">
         CSession2::CountResources()
        </a>
        , and compares it with the resource count value saved when
        <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-AD09DF56-4766-33C6-9AFD-ACCF618CC2FB">
         CSession2::ResourceCountMarkStart()
        </a>
        was called. If the resource counts differ, then the client thread is panicked (CSession 2)".
       </p>
       <p>
        The client/server framework does not call this function (nor does it call
        <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-AD09DF56-4766-33C6-9AFD-ACCF618CC2FB">
         CSession2::ResourceCountMarkStart()
        </a>
        ), but the function is available for servers to use, if appropriate.
       </p>
       <p>
        <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-F58627C3-F06D-39AA-8FBD-ABCDDA352138">
         CSession2::CountResources()
        </a>
        <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-AD09DF56-4766-33C6-9AFD-ACCF618CC2FB">
         CSession2::ResourceCountMarkStart()
        </a>
       </p>
      </div>
     </div>
     <div class="section parameters">
      <h3 class="sectiontitle">
       Parameters
      </h3>
      <table border="0" class="parameters">
       <tr>
        <td class="parameter">
         const
         <a href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">
          RMessage2
         </a>
         &amp; aMessage
        </td>
        <td>
         Represents the details of the client request that is requesting this resource check.
        </td>
       </tr>
      </table>
     </div>
    </div>
    <div class="nested1" id="GUID-AD09DF56-4766-33C6-9AFD-ACCF618CC2FB">
     <a name="GUID-AD09DF56-4766-33C6-9AFD-ACCF618CC2FB">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      ResourceCountMarkStart()
     </h2>
     <table class="signature">
      <tr>
       <td>
        IMPORT_C void
       </td>
       <td>
        ResourceCountMarkStart
       </td>
       <td>
        (
       </td>
       <td>
        )
       </td>
       <td>
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <p>
        Marks the start of resource count checking.
       </p>
       <p>
        It sets up a starting value for resource count checking.
       </p>
       <p>
        The function sets up a starting value for resource count checking by using the value returned by a call to
        <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-F58627C3-F06D-39AA-8FBD-ABCDDA352138">
         CSession2::CountResources()
        </a>
        , and is the value that will be used for comparison if
        <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-7150C32F-F316-325D-B613-736379BBEBF7">
         CSession2::ResourceCountMarkEnd()
        </a>
        is called at some later time.
       </p>
       <p>
        The client/server framework does not call this function (nor does it call
        <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-7150C32F-F316-325D-B613-736379BBEBF7">
         CSession2::ResourceCountMarkEnd()
        </a>
        ), but is available for servers to use, if appropriate.
       </p>
       <p>
        <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-F58627C3-F06D-39AA-8FBD-ABCDDA352138">
         CSession2::CountResources()
        </a>
        <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-7150C32F-F316-325D-B613-736379BBEBF7">
         CSession2::ResourceCountMarkEnd()
        </a>
       </p>
      </div>
     </div>
    </div>
    <div class="nested1" id="GUID-C5DEDAAE-1BC2-3E47-AAE3-83A69A675402">
     <a name="GUID-C5DEDAAE-1BC2-3E47-AAE3-83A69A675402">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      Server()
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C.html">
         CServer2
        </a>
        *
       </td>
       <td>
        Server
       </td>
       <td>
        (
       </td>
       <td>
        )
       </td>
       <td>
        const [inline]
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <p>
        Gets the server active object that handles messages for this session.
       </p>
       <p>
        This is the instance of the
        <a href="GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C.html#GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C">
         CServer2
        </a>
        derived class that created this session object.
       </p>
       <p>
       </p>
      </div>
     </div>
    </div>
    <div class="nested1" id="GUID-1B257684-38CF-39FA-94E8-70E4E59EB480">
     <a name="GUID-1B257684-38CF-39FA-94E8-70E4E59EB480">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      ServiceError(const RMessage2 &amp;, TInt)
     </h2>
     <table class="signature">
      <tr>
       <td>
        IMPORT_C void
       </td>
       <td>
        ServiceError
       </td>
       <td>
        (
       </td>
       <td>
        const
        <a href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">
         RMessage2
        </a>
        &amp;
       </td>
       <td>
        aMessage,
       </td>
      </tr>
      <tr>
       <td colspan="3">
       </td>
       <td>
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        aError
       </td>
      </tr>
      <tr>
       <td colspan="2">
       </td>
       <td>
        )
       </td>
       <td colspan="2">
        [virtual]
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <p>
        Handles the situation when a call to
        <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-54230DEC-ED8D-3E8A-8F62-F737D0B992A8">
         CSession2::ServiceL()
        </a>
        , which services a client request, leaves.
       </p>
       <p>
        Servers are active objects, and the call to
        <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-54230DEC-ED8D-3E8A-8F62-F737D0B992A8">
         CSession2::ServiceL()
        </a>
        to handle a client request is executed as part of the server's active object RunL() function. If the RunL() leaves, the active object framework calls the active object's RunError() function. The server framework implements this as a call to
        <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-1B257684-38CF-39FA-94E8-70E4E59EB480">
         ServiceError()
        </a>
       </p>
       <p>
        The default behaviour of this function is to complete the message, using the leave value, if it has not already been completed.
       </p>
       <p>
        Servers can re-implement this as appropriate.
       </p>
       <p>
        <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-5D018F25-5173-36C1-A0B9-5C3A33211C5D">
         CActive::RunL()
        </a>
        <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-49FE8001-39DC-389F-851D-44C74BCE55D2">
         CActive::RunError()
        </a>
       </p>
      </div>
     </div>
     <div class="section parameters">
      <h3 class="sectiontitle">
       Parameters
      </h3>
      <table border="0" class="parameters">
       <tr>
        <td class="parameter">
         const
         <a href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">
          RMessage2
         </a>
         &amp; aMessage
        </td>
        <td>
         The message containing the details of the client request that caused the leave.
        </td>
       </tr>
       <tr class="bg">
        <td class="parameter">
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TInt
         </a>
         aError
        </td>
        <td>
         The leave code.
        </td>
       </tr>
      </table>
     </div>
    </div>
    <div class="nested1" id="GUID-54230DEC-ED8D-3E8A-8F62-F737D0B992A8">
     <a name="GUID-54230DEC-ED8D-3E8A-8F62-F737D0B992A8">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      ServiceL(const RMessage2 &amp;)
     </h2>
     <table class="signature">
      <tr>
       <td>
        void
       </td>
       <td>
        ServiceL
       </td>
       <td>
        (
       </td>
       <td>
        const
        <a href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">
         RMessage2
        </a>
        &amp;
       </td>
       <td>
        aMessage
       </td>
       <td>
        )
       </td>
       <td>
        [pure virtual]
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <p>
        Handles the servicing of a client request that has been passed to the server.
       </p>
       <p>
        This function must be implemented in a derived class. The details of the request are contained within the message.
       </p>
       <p>
       </p>
      </div>
     </div>
     <div class="section parameters">
      <h3 class="sectiontitle">
       Parameters
      </h3>
      <table border="0" class="parameters">
       <tr>
        <td class="parameter">
         const
         <a href="GUID-D7D422D3-65E5-378B-8F52-6485BC5603A0.html">
          RMessage2
         </a>
         &amp; aMessage
        </td>
        <td>
         The message containing the details of the client request.
        </td>
       </tr>
      </table>
     </div>
    </div>
    <div class="nested1" id="GUID-253076B5-5BC5-38F7-92A0-F10BFBB6D78F">
     <a name="GUID-253076B5-5BC5-38F7-92A0-F10BFBB6D78F">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      SetServer(const CServer2 *)
     </h2>
     <table class="signature">
      <tr>
       <td>
        IMPORT_C void
       </td>
       <td>
        SetServer
       </td>
       <td>
        (
       </td>
       <td>
        const
        <a href="GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C.html">
         CServer2
        </a>
        *
       </td>
       <td>
        aServer
       </td>
       <td>
        )
       </td>
       <td>
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <p>
        Designates the (master or slave) server that is to service this session.
       </p>
       <p>
        This may be called from the NewSessionL() method of the CServer2-derived class or from the
        <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-B9260D05-178C-374B-931D-9D38A8FB642B">
         CreateL()
        </a>
        method of the CSession2-derived class.
       </p>
       <p>
        It must not be called after
        <a href="GUID-D5A30C75-E22C-34E8-913B-7D2CA6AD5C51.html#GUID-B9260D05-178C-374B-931D-9D38A8FB642B">
         CreateL()
        </a>
        has finished, as this is the point at which the session binding become irrevocable.
       </p>
       <p>
        CServer::DoConnect()
       </p>
      </div>
     </div>
     <div class="section parameters">
      <h3 class="sectiontitle">
       Parameters
      </h3>
      <table border="0" class="parameters">
       <tr>
        <td class="parameter">
         const
         <a href="GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C.html">
          CServer2
         </a>
         * aServer
        </td>
        <td>
        </td>
       </tr>
      </table>
     </div>
    </div>
    <h1 class="pageHeading topictitle1">
     Member Enumerations Documentation
    </h1>
    <div class="nested1" id="GUID-0A40A63A-8B40-31D7-9D3F-88DAA31EF1BC">
     <a name="GUID-0A40A63A-8B40-31D7-9D3F-88DAA31EF1BC">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      Enum TPanicNo
     </h2>
     <div class="section">
     </div>
     <div class="section enumerators">
      <h3 class="sectiontitle">
       Enumerators
      </h3>
      <table border="0" class="enumerators">
       <tr>
        <td valign="top">
         ESesCountResourcesNotImplemented = 1
        </td>
        <td>
        </td>
       </tr>
       <tr class="bg">
        <td valign="top">
         ESesFoundResCountHeaven
        </td>
        <td>
        </td>
       </tr>
      </table>
     </div>
    </div>
    <h1 class="pageHeading topictitle1">
     Member Data Documentation
    </h1>
    <div class="nested1" id="GUID-BC1B19E7-8B8E-3782-B925-CE006A85393A">
     <a name="GUID-BC1B19E7-8B8E-3782-B925-CE006A85393A">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      TDblQueLink
				 iLink
     </h2>
     <table class="signature">
      <tr>
       <td>
        <a href="GUID-603E3D27-6A5C-3E3D-8067-69E44AAACC1B.html">
         TDblQueLink
        </a>
       </td>
       <td>
        iLink
       </td>
       <td>
        [private]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-0F41F491-ED88-3F0D-A3C1-35D81783798D">
     <a name="GUID-0F41F491-ED88-3F0D-A3C1-35D81783798D">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      TInt
				 iResourceCountMark
     </h2>
     <table class="signature">
      <tr>
       <td>
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        iResourceCountMark
       </td>
       <td>
        [private]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-0FFB8BC9-2458-36FA-9D7A-E4004BC889E8">
     <a name="GUID-0FFB8BC9-2458-36FA-9D7A-E4004BC889E8">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const CServer2 * iServer
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-8E316AC4-4676-301A-9A23-659E83AA1D1C.html">
         CServer2
        </a>
        *
       </td>
       <td>
        iServer
       </td>
       <td>
        [private]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-335D5865-7C6A-330D-BF12-136903958343">
     <a name="GUID-335D5865-7C6A-330D-BF12-136903958343">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      TAny * iSpare
     </h2>
     <table class="signature">
      <tr>
       <td>
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TAny
        </a>
        *
       </td>
       <td>
        iSpare
       </td>
       <td>
        [private]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>