<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="BIOMessageMgr: BIO Message manager using the message server" />
  <meta name="DC.Relation" scheme="URI" content="GUID-E7BB0B0F-FC27-5428-81C0-1AB9CA426571.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-E7BB0B0F-FC27-5428-81C0-1AB9CA426571.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   BIOMessageMgr: BIO Message manager using the message server
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66">
  <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2403699 id2403748 id2392269 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html">
      Messaging Middleware Guide
     </a>
     &gt;
     <a href="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html">
      Messaging Framework
     </a>
     &gt;
     <a href="GUID-E7BB0B0F-FC27-5428-81C0-1AB9CA426571.html">
      BIO Messaging Framework
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     BIOMessageMgr: BIO Message manager using the message server
    </h1>
    <div>
     <p>
      The BIO Message manager example comprises two projects
      <span class="filepath">
       BIOMessage.exe
      </span>
      and
      <span class="filepath">
       BIOParser.dll
      </span>
      .
The
      <span class="filepath">
       BIOMessage.exe
      </span>
      example connects to the message
server, creates a BIO message and sends the registered parser DLL
and message entry to
      <span class="filepath">
       BIOParser.dll
      </span>
      .
     </p>
     <div class="section" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-BBF66472-C97E-5C14-85BB-30AD56703E83">
      <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-BBF66472-C97E-5C14-85BB-30AD56703E83">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       Download
      </h2>
      <p>
       Click on the following link to download the example:
       <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/zips/guid-34a2835d-797c-4d05-8919-03fc43821825.zip" target="_blank">
        Biomsgexample.zip
       </a>
      </p>
      <p>
       Click:
       <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/guid-34a2835d-797c-4d05-8919-03fc43821825.html">
        browse
       </a>
       to view the example code.
      </p>
     </div>
     <div class="section" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-3CD32BF4-F354-4281-9C9A-1FD5ED4761C7">
      <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-3CD32BF4-F354-4281-9C9A-1FD5ED4761C7">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       BIOMessage:
BIO messaging using the message server
      </h2>
      <p>
       <strong>
        Description
       </strong>
      </p>
      <p>
       This example code demonstrates BIO messaging using
       <a href="GUID-E1699CAB-423D-3AFA-BE77-3AFF38886EA3.html">
        <span class="apiname">
         RSendAs
        </span>
       </a>
       and
       <a href="GUID-4499491F-FA1A-38E1-BB13-1AB184A31DA6.html">
        <span class="apiname">
         RSendAsMessage
        </span>
       </a>
       and other
supporting classes as mentioned in the
       <a href="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66.html#GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-5048F691-DBA0-52DC-BBBA-922EE5DDE8D5">
        Class Summary
       </a>
       below.
      </p>
      <p>
       The
       <span class="filepath">
        BIOMessage
       </span>
       example code provides the following functionality:
      </p>
      <p>
       <strong>
        Creating
a session
       </strong>
      </p>
      <pre class="codeblock" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-822DA39D-0568-54D9-A8EA-D49ABAB6D4D5">
       <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-822DA39D-0568-54D9-A8EA-D49ABAB6D4D5">
        <!-- -->
       </a>
       void CBioMessage::Connect();
      </pre>
      <p>
       Creates a session with the message server using
       <a href="GUID-E1699CAB-423D-3AFA-BE77-3AFF38886EA3.html">
        <span class="apiname">
         RSendAs
        </span>
       </a>
       .
      </p>
      <p>
       The generated console output looks like this:
      </p>
      <div class="fignone" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-3F7EFDA7-7103-58F2-819B-F50A564F67F9">
       <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-3F7EFDA7-7103-58F2-819B-F50A564F67F9">
        <!-- -->
       </a>
       <img src="GUID-13F10D4C-BA0C-5B46-804D-191A70C36324_d0e292144_href.png" />
      </div>
      <p>
       <strong>
        Creating a BIO message
       </strong>
      </p>
      <pre class="codeblock" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-898B2AF1-6B24-516A-A8CF-CE210D9136EC">
       <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-898B2AF1-6B24-516A-A8CF-CE210D9136EC">
        <!-- -->
       </a>
       void CBioMessage::Create(RSendAsMessage&amp; aMessage);
      </pre>
      <p>
       This function does the following:
      </p>
      <ul>
       <li id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-3B28353D-8885-56A2-9000-B2B481045A4A">
        <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-3B28353D-8885-56A2-9000-B2B481045A4A">
         <!-- -->
        </a>
        <p>
         creates a BIO
message of VCard type
        </p>
       </li>
       <li id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-B8FE7FB1-D904-5520-9762-A0BAE0D53833">
        <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-B8FE7FB1-D904-5520-9762-A0BAE0D53833">
         <!-- -->
        </a>
        <p>
         sets the message
body text
        </p>
       </li>
       <li id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-AE681720-90EE-5AEE-9D98-54C41DD19E49">
        <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-AE681720-90EE-5AEE-9D98-54C41DD19E49">
         <!-- -->
        </a>
        <p>
         adds the message
recipients for the message to be sent.
        </p>
       </li>
      </ul>
      <p>
       The generated console output looks like this:
      </p>
      <div class="fignone" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-7E3F4DA5-BFC3-5393-A04A-FDE944A89815">
       <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-7E3F4DA5-BFC3-5393-A04A-FDE944A89815">
        <!-- -->
       </a>
       <img src="GUID-7DDC1BC6-A100-5B50-ABFE-B4AA466716A6_d0e292181_href.png" />
      </div>
      <p>
       <strong>
        Sending the BIO message
       </strong>
      </p>
      <pre class="codeblock" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-AA6C86D7-1657-5E3D-A025-43EB77FD3D31">
       <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-AA6C86D7-1657-5E3D-A025-43EB77FD3D31">
        <!-- -->
       </a>
       void CBioMessage::Send(RSendAsMessage&amp; aMessage);
      </pre>
      <p>
       Sends the message to the recipients.
      </p>
      <p>
       The generated console
output looks like this:
      </p>
      <div class="fignone" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-75B51188-D5AA-5BBD-90CA-3C33D2CF3744">
       <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-75B51188-D5AA-5BBD-90CA-3C33D2CF3744">
        <!-- -->
       </a>
       <img src="GUID-3239641A-2D13-56D7-B18D-6E65B6B24886_d0e292200_href.png" />
      </div>
      <p>
       <strong>
        Creating the parser
       </strong>
      </p>
      <pre class="codeblock" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-0E38D4C7-B9D8-5F6E-A0AB-315447101C1D">
       <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-0E38D4C7-B9D8-5F6E-A0AB-315447101C1D">
        <!-- -->
       </a>
       CBioParser::NewL(CMsvEntry* aEntry);
      </pre>
      <p>
       Creates a
       <samp class="codeph">
        CBioParser
       </samp>
       object based on the message
entry.
      </p>
      <p>
       <strong>
        Parsing the BIO message
       </strong>
      </p>
      <pre class="codeblock" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-BF605939-E297-5131-AFFA-DFED793492DF">
       <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-BF605939-E297-5131-AFFA-DFED793492DF">
        <!-- -->
       </a>
       CBioParser::ParserL();
      </pre>
      <p>
       This function does the following:
      </p>
      <ul>
       <li id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-A05F6576-7677-5D92-A9C4-1697D64CBAF3">
        <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-A05F6576-7677-5D92-A9C4-1697D64CBAF3">
         <!-- -->
        </a>
        <p>
         calls
         <samp class="codeph">
          ExtractMessageBodyL()
         </samp>
         to extract the message body text from
         <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">
          <span class="apiname">
           CMsvStore
          </span>
         </a>
         , the message store
        </p>
       </li>
       <li id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-ADAB322E-2354-52C5-9B7C-A4335E84B6EF">
        <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-ADAB322E-2354-52C5-9B7C-A4335E84B6EF">
         <!-- -->
        </a>
        <p>
         finds, loads
and maintains a reference count of client processes for a BIO parser
DLL
        </p>
       </li>
       <li id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-5F5D6BE4-EECE-5E70-82C6-2EB92133A2AF">
        <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-5F5D6BE4-EECE-5E70-82C6-2EB92133A2AF">
         <!-- -->
        </a>
        <p>
         parses the message
body text.
        </p>
       </li>
      </ul>
      <p>
       The generated console output looks like this:
      </p>
      <div class="fignone" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-2E3907F9-E810-5B1F-A6A0-60484FE004DF">
       <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-2E3907F9-E810-5B1F-A6A0-60484FE004DF">
        <!-- -->
       </a>
       <img src="GUID-DCCA3BD3-582A-5C71-A104-D922FFE3C680_d0e292258_href.png" />
      </div>
      <p>
       <strong>
        Class Summary
       </strong>
      </p>
      <p>
       <a href="GUID-E1699CAB-423D-3AFA-BE77-3AFF38886EA3.html">
        <span class="apiname">
         RSendAs
        </span>
       </a>
      </p>
      <p>
       <a href="GUID-4499491F-FA1A-38E1-BB13-1AB184A31DA6.html">
        <span class="apiname">
         RSendAsMessage
        </span>
       </a>
      </p>
      <p>
       <a href="GUID-CB2BB982-F91D-3E06-8D66-56731AA60EB8.html">
        <span class="apiname">
         CSendAsMessageTypes
        </span>
       </a>
      </p>
      <p>
       <a href="GUID-90C4FDEE-3E4D-32B3-85E1-52C157AC4AC4.html">
        <span class="apiname">
         CSendAsAccounts
        </span>
       </a>
      </p>
      <p>
       CRegisteredParserDll
      </p>
      <p>
       <a href="GUID-115327CD-43D1-324B-84D7-8DFB6226C42A.html">
        <span class="apiname">
         CBIODatabase
        </span>
       </a>
      </p>
      <p>
       <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">
        <span class="apiname">
         CMsvStore
        </span>
       </a>
      </p>
     </div>
     <div class="section" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-A61C8676-A44E-4F4B-96F3-D4836FD47370">
      <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-A61C8676-A44E-4F4B-96F3-D4836FD47370">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       BIOParser:
BIO message parsing
      </h2>
      <p>
       <strong>
        Description
       </strong>
      </p>
      <p>
       This example
code demonstrates the parsing of the message.
       <samp class="codeph">
        CBIOExampleParser
       </samp>
       is the wrapper class which uses
       CBaseScriptParser2
       and other supporting classes mentioned in the
       <a href="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66.html#GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-E9472DA3-DA7B-5F4B-ACBF-770D3DE81580">
        Class Summary
       </a>
       below.
      </p>
      <p>
       The
       <span class="filepath">
        BIOParser
       </span>
       example code provides the following functionality:
      </p>
      <p>
       <strong>
        Creating
the parser
       </strong>
      </p>
      <pre class="codeblock" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-C4ED1683-524A-55DA-88CB-D321C2AA59C2">
       <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-C4ED1683-524A-55DA-88CB-D321C2AA59C2">
        <!-- -->
       </a>
       CBIOExampleParser* CBIOExampleParser::NewL(CRegisteredParserDll&amp; aRegisteredParserDll, CMsvEntry&amp; aEntry, RFs&amp; aFs);
      </pre>
      <p>
       Creates a
       <samp class="codeph">
        CBIOExampleParser
       </samp>
       object based on
the registered parser DLL and the message entry.
      </p>
      <p>
       <strong>
        Parsing
the BIO message
       </strong>
      </p>
      <pre class="codeblock" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-6F493EBE-BD8C-5982-B1AB-B592A3BAD1F4">
       <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-6F493EBE-BD8C-5982-B1AB-B592A3BAD1F4">
        <!-- -->
       </a>
       void CBIOExampleParser::ParseL();
      </pre>
      <p>
       Parses the BIO message.
      </p>
      <p>
       <strong>
        Processing the BIO message
       </strong>
      </p>
      <pre class="codeblock" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-106E21B6-CDFE-51AB-9C91-C263033B60AE">
       <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-106E21B6-CDFE-51AB-9C91-C263033B60AE">
        <!-- -->
       </a>
       CBIOExampleParser::ProcessL();
      </pre>
      <p>
       Processes the parsed data.
      </p>
      <p id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-E9472DA3-DA7B-5F4B-ACBF-770D3DE81580">
       <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-E9472DA3-DA7B-5F4B-ACBF-770D3DE81580">
        <!-- -->
       </a>
       <strong>
        Class Summary
       </strong>
      </p>
      <p>
       CBaseScriptParser2
      </p>
     </div>
     <div class="section" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-15A5B370-1546-4A27-8F3D-8BE336AE32FD">
      <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-15A5B370-1546-4A27-8F3D-8BE336AE32FD">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       Build
      </h2>
      <p>
       The
       <span class="filepath">
        BIOMessageMgr
       </span>
       example code includes
the following project files for building the application:
       <span class="filepath">
        BIOParser.mmp
       </span>
       ,
       <span class="filepath">
        BIOMessage.mmp
       </span>
       and
       <span class="filepath">
        bld.inf
       </span>
       .
      </p>
      <p>
       The Symbian build process describes how
to build this application.
      </p>
      <p>
       In CodeWarrior:
firstly, 'make' the
       <span class="filepath">
        BIOParser.mcp
       </span>
       which creates
       <span class="filepath">
        BIOParser.dll
       </span>
       and
       <span class="filepath">
        BIOParser.lib
       </span>
       in
       <span class="filepath">
        \epoc32\release\winscw\
       </span>
       <em>
        &lt;build_variant&gt;
       </em>
       , then
secondly, make
       <span class="filepath">
        BIOMessage.exe
       </span>
       in the same directory.
Run
       <span class="filepath">
        BIOMessage.mcp
       </span>
       , which runs
       <span class="filepath">
        BIOMessage.exe
       </span>
       thus launching the emulator.
      </p>
     </div>
     <div class="section" id="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-E5C238CE-1321-4F18-9E37-C2CFE6D3995E">
      <a name="GUID-0CBD2728-DB7E-55FF-929A-E5BF279A1B66__GUID-E5C238CE-1321-4F18-9E37-C2CFE6D3995E">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       Usage
      </h2>
      <p>
       Launch the target. For emulator targets, run:
       <span class="filepath">
        \epoc32\release\&lt;wins
or winscw&gt;\&lt;urel or           udeb&gt;\BIOMessage.exe
       </span>
       .
If TechView emulator is used, to run the application go to System
menu and click on Open files / programs window. Start the "BIO Messaging
Example" application.
      </p>
      <p>
       Step through each phase of the example
by pressing the space bar or by tapping on the window drawn by the
example.
      </p>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-E7BB0B0F-FC27-5428-81C0-1AB9CA426571.html">
        BIO Messaging Framework
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>