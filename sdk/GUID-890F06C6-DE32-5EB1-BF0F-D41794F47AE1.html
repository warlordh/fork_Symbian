<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="Active objects" />
  <meta name="abstract" content="This document describes the functionality and class membership of active objects." />
  <meta name="description" content="This document describes the functionality and class membership of active objects." />
  <meta name="DC.Relation" scheme="URI" content="GUID-C2608BF5-CDA7-530A-B67A-0414C7FA585D.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-E3D2A6ED-8192-563D-8966-DD96B3AF1783.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-3786D8E6-17A9-52E4-A8DF-CFCDC3039854.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-B507490F-6BD3-5DF5-97E4-EFDFEA2B4EDD.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-C2608BF5-CDA7-530A-B67A-0414C7FA585D.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Active objects
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1">
  <a name="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2404579 id2404588 id2404596 id2405740 id2405772 id2405845 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-E3D2A6ED-8192-563D-8966-DD96B3AF1783.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">
      Kernel and Hardware Services Guide
     </a>
     &gt;
     <a href="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html" title="Provides a framework for accessing file systems.">
      User Library and File Server
     </a>
     &gt;
     <a href="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D.html" title="The User Library allows the applications and services that run on a phone to access the functionality provided by the Symbian platform Kernel.">
      User Library
     </a>
     &gt;
     <a href="GUID-3786D8E6-17A9-52E4-A8DF-CFCDC3039854.html">
      Inter Process Communication
     </a>
     &gt;
     <a href="GUID-B507490F-6BD3-5DF5-97E4-EFDFEA2B4EDD.html">
      Using Asynchronous Programming
     </a>
     &gt;
     <a href="GUID-C2608BF5-CDA7-530A-B67A-0414C7FA585D.html">
      High Level Asynchronous Service Handling
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Active
objects
    </h1>
    <div>
     <p>
      This document describes the functionality and class membership
of active objects.
     </p>
     <p>
      An active object uses an asynchronous service provider class to provide
a service. The active object hides the asynchronous service provider. The
active object must provide:
     </p>
     <ul>
      <li id="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-C98FC10D-0ED4-5C6E-94DF-5B44143CB780">
       <a name="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-C98FC10D-0ED4-5C6E-94DF-5B44143CB780">
        <!-- -->
       </a>
       <p>
        a function that requests
a service from the service provider
       </p>
      </li>
      <li id="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-CDA4E8D8-6E4A-5058-80AF-0CCC71956A7E">
       <a name="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-CDA4E8D8-6E4A-5058-80AF-0CCC71956A7E">
        <!-- -->
       </a>
       <p>
        a function that cancels
a request for service from the service provider.
       </p>
      </li>
     </ul>
     <p>
      All active objects are derived from
      <samp class="codeph">
       CActive
      </samp>
      . This class
provides
      <em>
       derived
      </em>
      active objects with:
     </p>
     <ul>
      <li id="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-F6F9FD4E-1796-54F5-B90E-1784CAAB9BA5">
       <a name="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-F6F9FD4E-1796-54F5-B90E-1784CAAB9BA5">
        <!-- -->
       </a>
       <p>
        the data member
        <samp class="codeph">
         iStatus
        </samp>
        .
This data member is a
        <samp class="codeph">
         TRequestStatus
        </samp>
        type object. This object
is passed to the request functions of the asynchronous service provider. The
request functions of the active object do not include a
        <samp class="codeph">
         TRequestStatus
        </samp>
        in
their parameters. The exception to this rule occurs when the active object
acts as a secondary supplier of asynchronous services.
       </p>
      </li>
      <li id="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-E6BBFBF2-C909-5232-B37D-DD2AB5D56287">
       <a name="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-E6BBFBF2-C909-5232-B37D-DD2AB5D56287">
        <!-- -->
       </a>
       <p>
        the
        <samp class="codeph">
         Cancel()
        </samp>
        function.
This function cancels a request to the service provider.
        <samp class="codeph">
         Cancel()
        </samp>
        does
nothing if there is no outstanding request. If a request is pending,
        <samp class="codeph">
         Cancel()
        </samp>
        calls
        <samp class="codeph">
         DoCancel()
        </samp>
        .
        <samp class="codeph">
         DoCancel()
        </samp>
        is a pure virtual function that a derived class supplies.
        <samp class="codeph">
         DoCancel()
        </samp>
        must
deal with the specific cancellation behavior that the service provider requires.
        <samp class="codeph">
         Cancel()
        </samp>
        waits
for the request to complete and then marks the request not active.
       </p>
      </li>
      <li id="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-48261AFE-F289-520B-9AE4-701487DC3376">
       <a name="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-48261AFE-F289-520B-9AE4-701487DC3376">
        <!-- -->
       </a>
       <p>
        the
        <samp class="codeph">
         TPriority
        </samp>
        enumeration.
This enumeration defines the set of priorities that an active object can take.
The priority of the active object is set during construction of the active
object. When the active scheduler's wait completes, it checks the active object
with the highest priority. Where active objects have the same priority, the
order of checking is not defined.
       </p>
      </li>
     </ul>
     <p>
      Classes derived from
      <samp class="codeph">
       CActive
      </samp>
      must:
     </p>
     <ul>
      <li id="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-07DFA89B-0690-56C4-B332-E48306B4FE4E">
       <a name="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-07DFA89B-0690-56C4-B332-E48306B4FE4E">
        <!-- -->
       </a>
       <p>
        own an asynchronous
service provider. It may do this by containing either an instance of the required
service provider or a handle to that provider.
       </p>
      </li>
      <li id="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-BAF677B6-C7EF-56DB-8C42-04F58C72777E">
       <a name="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-BAF677B6-C7EF-56DB-8C42-04F58C72777E">
        <!-- -->
       </a>
       <p>
        provide one or more
request functions, such as
        <samp class="codeph">
         IssueRequest()
        </samp>
        , which pass on
the request to an asynchronous service provider.
       </p>
      </li>
      <li id="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-16AE762B-88BF-5173-AD5F-000E82EC5267">
       <a name="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-16AE762B-88BF-5173-AD5F-000E82EC5267">
        <!-- -->
       </a>
       <p>
        implement a
        <samp class="codeph">
         DoCancel()
        </samp>
        function
which passes on a cancel request to the asynchronous service provider
       </p>
      </li>
      <li id="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-8EBC0A7B-BF62-5568-BD26-DCA0C53961C3">
       <a name="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-8EBC0A7B-BF62-5568-BD26-DCA0C53961C3">
        <!-- -->
       </a>
       <p>
        provide a
        <samp class="codeph">
         RunL()
        </samp>
        function,
which is called by the active scheduler when it detects that an active object’s
request has completed.
       </p>
      </li>
      <li id="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-738F8086-7CCE-558E-A32C-10686214F288">
       <a name="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-738F8086-7CCE-558E-A32C-10686214F288">
        <!-- -->
       </a>
       <p>
        provide a
        <samp class="codeph">
         RunError()
        </samp>
        function,
which is called by the active scheduler if the active object's
        <samp class="codeph">
         RunL()
        </samp>
        function
leaves. A derived class can use the default implementation but this just propagates
the leave code up to the active scheduler.
       </p>
      </li>
     </ul>
     <div class="section" id="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-FF78FFB3-6901-45D1-A5F3-4F1C44355836">
      <a name="GUID-890F06C6-DE32-5EB1-BF0F-D41794F47AE1__GUID-FF78FFB3-6901-45D1-A5F3-4F1C44355836">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       See also
      </h2>
      <p>
       <a href="GUID-2C5D53A3-0211-5C14-BD7F-E89EB27BAD2A.html" title="This document describes how active objects are queued using active schedulers.">
        Active
Scheduler
       </a>
      </p>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-C2608BF5-CDA7-530A-B67A-0414C7FA585D.html">
        High Level Asynchronous Service Handling
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>