<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="Overview" />
  <meta name="DC.Relation" scheme="URI" content="GUID-A3D1684D-1DF1-5CAF-A0BB-A32685528596.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-6425B722-4095-56E3-9198-70BA3E06C617.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-057F1F82-56AF-5696-853E-79196A3D567E.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-A3D1684D-1DF1-5CAF-A0BB-A32685528596.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-5C215C64-5D3D-5B65-A11F-BE6F8C306CF4.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-AFE7F3DA-6D61-5A4C-A08F-C998C8805A06.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Overview
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE">
  <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2386636 id2386727 id2386930 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-6425B722-4095-56E3-9198-70BA3E06C617.html">
      Multimedia Protocols Guide
     </a>
     &gt;
     <a href="GUID-057F1F82-56AF-5696-853E-79196A3D567E.html">
      SIP
     </a>
     &gt;
     <a href="GUID-A3D1684D-1DF1-5CAF-A0BB-A32685528596.html">
      SIP Client Resolver API
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Overview
    </h1>
    <div>
     <p>
      The SIP Client Resolver defines the architecture used to resolve or identify
the target client when SIP requests are received from the default port. The
Symbian SIP stack is implemented as a Symbian server and uses the default
UDP and TCP port 5060 to send and receive SIP messages. Many applications
or target clients receive SIP messages that use the default port, and the
correct target client must be determined.
     </p>
     <p>
      The SIP Client Resolver determines the target client based on the SIP request
and the XML-description provided by every SIP Client Resolver API implementation.
It requests the resolved ECOM plug-in to connect to the SIP or another server
which uses SIP.
     </p>
     <div class="section">
      <h2 class="sectiontitle">
       Architectural relationships
      </h2>
      <p>
       The Client Resolver
API requires the SIP Codec API and the SIP Codec API.
      </p>
      <p>
       The target clients
that receive SIP requests must implement the API Client Resolver API. The
following are the two methods in which a target client can receive SIP requests:
      </p>
      <ul>
       <li id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-F3BEAD9E-744E-5154-91EC-E0B66034A8F4">
        <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-F3BEAD9E-744E-5154-91EC-E0B66034A8F4">
         <!-- -->
        </a>
        <p>
         <strong>
          Implement the CSIPResolvedClient
interface and provide an XML description with their capabilities
         </strong>
        </p>
        <p>
         The
XML description describes the supported content-types and media formats that
use SIP headers and SDP m-lines in the ECOM resource file. Client Resolver
framework determines the target client by comparing the incoming SIP request
to the XML descriptions provided by the
         CSIPResolvedClient
         implementation.
        </p>
       </li>
       <li id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-07B5DFE5-D376-57F7-8ACB-50BB1EF8351B">
        <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-07B5DFE5-D376-57F7-8ACB-50BB1EF8351B">
         <!-- -->
        </a>
        <p>
         Implement the
         CSIPResolvedClient2
         interface
and add Request-URIs user-part, plug-ins UID, and the client UID to the SIP
Client Resolver mapping table in the Central Repository
        </p>
        <p>
         The table
maps the user-part of the incoming SIP request’s Request-URI to the related
         CSIPResolvedClient2
         implementation’s
UID. SIP Client Resolver framework gives the SIP request to only the plug-ins
for which a mapping entry is found in the Central Repository.
        </p>
       </li>
      </ul>
      <p>
       This implies that every target client must provide an ECOM plug-in
that is used by the Client Resolver Framework. The Client Resolver Framework
uses the information in the SIP request and matches it with the XML description
or the mapping table entry provided by the target clients. It then decides
which target client plug-in to load.
      </p>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Class structure
      </h2>
      <p>
       SIP Client Resolver must create
a class derived from
       CSIPResolvedClient
       or
       CSIPResolvedClient2
       to
receive requests outside the SIP dialogs. If the target client is not running,
it must be started to enable it to receive SIP requests.
      </p>
      <div class="fignone" id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-B8A796EA-6850-5695-A516-E92629BE7971">
       <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-B8A796EA-6850-5695-A516-E92629BE7971">
        <!-- -->
       </a>
       <img src="GUID-E77E2E2A-2F2D-549E-ABD6-175E68A406CB_d0e344002_href.png" />
      </div>
      <p>
       <strong>
        CSIPResolvedClient
       </strong>
      </p>
      <p>
       The target clients must implement
the
       CSIPResolvedClient
       interface to receive SIP requests
outside SIP dialogs and enable the client resolution mechanism.
      </p>
      <p>
       SIP
uses the data provided in the ECOM resource file or, as requested by the implementation
to decide which target client is used.
      </p>
      <p>
       <strong>
        CSIPResolvedClient2
       </strong>
      </p>
      <p>
       The
target clients must implement the
       CSIPResolvedClient2
       interface
to receive SIP requests outside SIP dialogs and enable the client resolution
mechanism.
      </p>
      <p>
       The SIP stack uses the plug-ins that implement this interface
as follows:
      </p>
      <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-E3325143-0AA4-5A60-885C-875F388EF0E3">
       <!-- -->
      </a>
      <ol id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-E3325143-0AA4-5A60-885C-875F388EF0E3">
       <li id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-816770B7-3A85-5894-9868-64BEE12FD50C">
        <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-816770B7-3A85-5894-9868-64BEE12FD50C">
         <!-- -->
        </a>
        <p>
         If the SIP request does
not contain the Accept-Contact-header, go to step 2. If it does, the SIP stack
calls the
         CSIPResolvedClient2::MatchAcceptContactsL()
         method
on all the plug-ins and applies the following logic:
        </p>
        <ul>
         <li id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-5457D39D-DE84-5A3F-8E8B-7E79C863E118">
          <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-5457D39D-DE84-5A3F-8E8B-7E79C863E118">
           <!-- -->
          </a>
          <p>
           If none of the clients
match, go to step 2.
          </p>
         </li>
         <li id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-BE1A9D22-BD88-519E-AC4A-242FC6D3B098">
          <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-BE1A9D22-BD88-519E-AC4A-242FC6D3B098">
           <!-- -->
          </a>
          <p>
           If one of the clients
match, send the SIP request to the matching client.
          </p>
         </li>
         <li id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-3A027E2A-C805-595D-B43C-28B19BC07609">
          <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-3A027E2A-C805-595D-B43C-28B19BC07609">
           <!-- -->
          </a>
          <p>
           If more than one of
the clients match, go to step 2.
          </p>
         </li>
        </ul>
       </li>
       <li id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-7F822965-0220-52A8-8CAF-EACA4D87E75D">
        <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-7F822965-0220-52A8-8CAF-EACA4D87E75D">
         <!-- -->
        </a>
        <p>
         If the SIP request does
not contain the Event-header, go to step 3. If it does, SIP stack calls the
         CSIPResolvedClient2::MatchEventL()
         method
on all the plug-ins and applies the following logic:
        </p>
        <ul>
         <li id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-8E85F9F9-D645-53D7-A4D8-6717951B0D1C">
          <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-8E85F9F9-D645-53D7-A4D8-6717951B0D1C">
           <!-- -->
          </a>
          <p>
           If none of the clients
match, go to step 3.
          </p>
         </li>
         <li id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-B713BE42-D8AF-51D6-8832-D0B221CFF4D8">
          <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-B713BE42-D8AF-51D6-8832-D0B221CFF4D8">
           <!-- -->
          </a>
          <p>
           If one of the clients
match, send the SIP request to the matching client.
          </p>
         </li>
         <li id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-93037264-2B67-5DD4-990B-9D3EEEDE6C4D">
          <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-93037264-2B67-5DD4-990B-9D3EEEDE6C4D">
           <!-- -->
          </a>
          <p>
           If more than one of
the clients match, go to step 3.
          </p>
         </li>
        </ul>
       </li>
       <li id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-BFCEF7B8-4068-58E6-B960-27035A5A52D6">
        <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-BFCEF7B8-4068-58E6-B960-27035A5A52D6">
         <!-- -->
        </a>
        <p>
         The SIP stack calls
the
         CSIPResolvedClient2::MatchRequestL()
         method on all
the plug-ins and applies the following logic:
        </p>
        <ul>
         <li id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-86228E63-7E10-571E-B465-EB4D14E8855D">
          <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-86228E63-7E10-571E-B465-EB4D14E8855D">
           <!-- -->
          </a>
          <p>
           If none of the clients
match, an error response is generated.
          </p>
         </li>
         <li id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-6F578483-34E7-5CFB-A565-2209FFF82D28">
          <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-6F578483-34E7-5CFB-A565-2209FFF82D28">
           <!-- -->
          </a>
          <p>
           If one of the clients
matches, send the SIP request to the matching client.
          </p>
         </li>
         <li id="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-C1BD2E18-CFEB-558F-9F10-60EF6B9539E7">
          <a name="GUID-768CCC6E-16D2-50E8-8EED-EB2C2AF0E9BE__GUID-C1BD2E18-CFEB-558F-9F10-60EF6B9539E7">
           <!-- -->
          </a>
          <p>
           If more than one of
the clients match, one of the client is randomly selected and the SIP request
is sent to it. Normally, the ROM-based clients are preferred.
          </p>
         </li>
        </ul>
       </li>
      </ol>
      <p>
       The channel UIDs must be unique across all SIP clients. The clients
may use UIDs assigned for the binaries.
      </p>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-A3D1684D-1DF1-5CAF-A0BB-A32685528596.html">
        SIP Client Resolver API
       </a>
      </div>
     </div>
     <div class="relinfo relconcepts">
      <strong>
       Related concepts
      </strong>
      <br />
      <div>
       <a href="GUID-5C215C64-5D3D-5B65-A11F-BE6F8C306CF4.html">
        How     
           the target client is resolved using CSIPResolvedClient
       </a>
      </div>
      <div>
       <a href="GUID-AFE7F3DA-6D61-5A4C-A08F-C998C8805A06.html">
        How     
           the target client is resolved using CSIPResolvedClient2
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>