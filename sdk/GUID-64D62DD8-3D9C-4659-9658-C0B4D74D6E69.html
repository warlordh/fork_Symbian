<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="task" />
  <meta name="DC.Title" content="Writing the Version 2 Registration Resource File" />
  <meta name="abstract" content="Writing a version 2 registration resource file is similar to writing a standard registration resource file." />
  <meta name="description" content="Writing a version 2 registration resource file is similar to writing a standard registration resource file." />
  <meta name="DC.Relation" scheme="URI" content="GUID-9A9103E4-27B0-5CF3-855A-DCD44795A5C0.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-9E92EE30-F2E2-5F28-BB2A-391C09EC69D2.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-110A0151-5719-51BC-8506-C18BE57FB400.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-57F29787-B425-53EA-9DB4-372B77543584.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-9A9103E4-27B0-5CF3-855A-DCD44795A5C0.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-B541BD01-29BE-4CB7-9420-ABEE0BDC9BA4.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-39186342-960A-46A4-BC35-851F53665FA8.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-64D62DD8-3D9C-4659-9658-C0B4D74D6E69" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Writing the Version 2 Registration Resource File
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-64D62DD8-3D9C-4659-9658-C0B4D74D6E69">
  <a name="GUID-64D62DD8-3D9C-4659-9658-C0B4D74D6E69">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2682564 id2396835 id2396849 id2396899 id2396948 id2396968 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">
      Generic OS Services Guide
     </a>
     &gt;
     <a href="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html">
      Low Level Libraries and Frameworks
     </a>
     &gt;
     <a href="GUID-9E92EE30-F2E2-5F28-BB2A-391C09EC69D2.html">
      Plug-in Framework
     </a>
     &gt;
     <a href="GUID-110A0151-5719-51BC-8506-C18BE57FB400.html">
      Plug-in Framework Tutorials
     </a>
     &gt;
     <a href="GUID-57F29787-B425-53EA-9DB4-372B77543584.html">
      Plug-in Writer's Tutorial
     </a>
     &gt;
     <a href="GUID-9A9103E4-27B0-5CF3-855A-DCD44795A5C0.html" title="The properties of the implementation are published in a compiled resource file. This file is known as the registration resource file of the implementation and has a.rss extension. The plug-in framework reads the resource files to find the interface implementations available on the system. In case of an implementation collection, the collection has one registration resource file and the properties of all the implementations of the collection are described in the file.">
      Creating a Registration Resource File
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Writing
the Version 2 Registration Resource File
    </h1>
    <div>
     <p>
      Writing a version 2 registration resource file is similar to writing
a standard registration resource file.
     </p>
     <div class="section">
      <p>
       All the variables required to write a standard registration
resource file must be set. In addition:
      </p>
     </div>
     <ul>
      <li class="stepexpand" id="GUID-64D62DD8-3D9C-4659-9658-C0B4D74D6E69__GUID-7F2A2305-31F5-431E-8DB5-467859CF5814">
       <a name="GUID-64D62DD8-3D9C-4659-9658-C0B4D74D6E69__GUID-7F2A2305-31F5-431E-8DB5-467859CF5814">
        <!-- -->
       </a>
       <span>
        Set
        <samp class="codeph">
         resource_format_version
        </samp>
        to
the value of
        <samp class="codeph">
         RESOURCE_FORMAT_VERSION_2
        </samp>
        defined in
        <span class="filepath">
         RegistryInfoV2.rh
        </span>
        .
       </span>
      </li>
      <li class="stepexpand" id="GUID-64D62DD8-3D9C-4659-9658-C0B4D74D6E69__GUID-28395805-0EBC-4A16-9AD5-FE88F412EE5C">
       <a name="GUID-64D62DD8-3D9C-4659-9658-C0B4D74D6E69__GUID-28395805-0EBC-4A16-9AD5-FE88F412EE5C">
        <!-- -->
       </a>
       <span>
        In the
        <samp class="codeph">
         IMPLEMENTATION_INFO
        </samp>
        resource
that declares the properties of a single implementation, set an additional
member
        <samp class="codeph">
         rom_only
        </samp>
        .
       </span>
       <p>
        <samp class="codeph">
         rom_only
        </samp>
        set to 1 indicates the ROM-only implementation
must be used.
       </p>
       <p>
        <samp class="codeph">
         rom_only
        </samp>
        set to 0 indicates the ROM-only
implementation can be overidden.
       </p>
       <div class="note">
        <span class="notetitle">
         Note:
        </span>
        <samp class="codeph">
         rom_only
        </samp>
        value
must be set individually for all implementations declared in a version 2 registration
resource file.
       </div>
       <p>
        A RAM plug-in can also use a version 2 registration resource file.
However, the implementation must set
        <samp class="codeph">
         rom_onlymember
        </samp>
        to 0.
In case it is set to one the plug-in cannot be used.
       </p>
      </li>
     </ul>
     <div class="example">
      <p>
       The following example gives a resource registration file for an
implementation collection with two implementations. The first implementation
cannot be overridden by a RAM-based plug-in and the second can be overridden
by a RAM-based plug-in.
      </p>
      <pre class="codeblock">
       // 10009DB1.RSS
//
#include "RegistryInfoV2.rh"

RESOURCE REGISTRY_INFO theInfo
{
// resource_format_version must always be set as follows
resource_format_version = RESOURCE_FORMAT_VERSION_2;

// Normal plug-in parameters
dll_uid = 0x10009DB5;
interfaces = 
	{
	INTERFACE_INFO
		{
		interface_uid = 0x10009DC9;
		implementations = 
			{
			IMPLEMENTATION_INFO
				{
				implementation_uid = 0x10009DCA;
				version_no = 1;
				display_name = "Example Implementation - ROM-only ";
				default_data = "text/wml";
				opaque_data = "";
    
				// This implementation CANNOT be overridden by a RAM-based plug-in
				rom_only = 1;
				},
			IMPLEMENTATION_INFO
				{
				implementation_uid = 0x10009DCB;
				version_no = 1;
				display_name = "Example Implementation - not ROM-only ";
				default_data = "text/wml";
				opaque_data = "";

				// This implementation CAN be overridden by a RAM-based plug-in
				rom_only = 0;
				}
			};
		}
	};
}
      </pre>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-9A9103E4-27B0-5CF3-855A-DCD44795A5C0.html" title="The properties of the implementation are published in a compiled resource file. This file is known as the registration resource file of the implementation and has a.rss extension. The plug-in framework reads the resource files to find the interface implementations available on the system. In case of an implementation collection, the collection has one registration resource file and the properties of all the implementations of the collection are described in the file.">
        Creating a Registration Resource File
       </a>
      </div>
     </div>
     <div class="relinfo reltasks">
      <strong>
       Related tasks
      </strong>
      <br />
      <div>
       <a href="GUID-B541BD01-29BE-4CB7-9420-ABEE0BDC9BA4.html" title="For Symbian OS V9.1 and onwards, the name of the standard registration resource file must be the same as that of the executable with .rss extension. All the registration resource structure types are defined in RegistryInfo.rh. This file has to be included in the registration resource file.">
        Writing a
Standard Registration Resource File
       </a>
      </div>
      <div>
       <a href="GUID-39186342-960A-46A4-BC35-851F53665FA8.html" title="The version 3 registration resource file is an evolution of the version 2 . This version is evolved to accommodate extended interfaces.">
        Writing the
Version 3 Registration Resource File
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>