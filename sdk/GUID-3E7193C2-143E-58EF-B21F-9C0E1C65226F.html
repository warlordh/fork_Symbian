<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="Text Views Overview" />
  <meta name="DC.Relation" scheme="URI" content="GUID-4CBFA2E3-0EFC-5E10-A960-57A8FF9A6025.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-1DCA2F4D-ABE6-52A0-AC4E-5AAC1AB5909D.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-4F901F56-7F0E-4869-85CA-6109ED0AF5B7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-4CBFA2E3-0EFC-5E10-A960-57A8FF9A6025.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-3E7193C2-143E-58EF-B21F-9C0E1C65226F" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Text Views Overview
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-3E7193C2-143E-58EF-B21F-9C0E1C65226F">
  <a name="GUID-3E7193C2-143E-58EF-B21F-9C0E1C65226F">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2400118 id2400464 id2400601 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-1DCA2F4D-ABE6-52A0-AC4E-5AAC1AB5909D.html">
      Text and Localization Guide
     </a>
     &gt;
     <a href="GUID-4F901F56-7F0E-4869-85CA-6109ED0AF5B7.html" title="This section describes about Text Handling and Text Formatting.">
      Text Layout
     </a>
     &gt;
     <a href="GUID-4CBFA2E3-0EFC-5E10-A960-57A8FF9A6025.html">
      Using Text Views (FORM)
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Text Views Overview
    </h1>
    <div>
     <div class="section">
      <h2 class="sectiontitle">
       Purpose
      </h2>
      <p>
       Provides access to the layout information needed to format text for display.
      </p>
      <p>
       The text itself and its formatting are accessed separately, using the Text and Text Attributes API. Text views obtain text and formatting information via an abstract interface class (
       <a href="GUID-51B3C34F-2F8E-3181-93C4-00F073B1207C.html">
        <span class="apiname">
         MLayDoc
        </span>
       </a>
       ).
      </p>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Architectural relationships
      </h2>
      <p>
       Uses the Text and Text Attributes API to store the text content and formatting attributes.
      </p>
      <p>
       The Text Views API is used by the Uikon Core API for editable text windows. Higher-level objects such as editable text windows typically own an editable text object to hold the rich text and attributes, and a Text Views object to store the layout and draw the text.
      </p>
      <p>
       The Graphics API provides a graphics device to draw to, for instance the screen or a printer, and a graphics context (contains the draw functions and the settings they use e.g. pen size and colour).
      </p>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Description
      </h2>
      <p>
       The API has the following key concepts:
      </p>
      <p>
       <strong>
        View and layout
       </strong>
      </p>
      <p>
       The two principal classes in the Text Views API are
       <a href="GUID-CF377A98-F11F-380F-AD10-7F3E261D4421.html">
        <span class="apiname">
         CTextView
        </span>
       </a>
       and
       <a href="GUID-FEE7C848-2E93-3848-A3DA-7EAA533615AF.html">
        <span class="apiname">
         CTextLayout
        </span>
       </a>
       .
      </p>
      <p>
       Most of the Text Views API is provided by the
       <samp class="codeph">
        CTextView
       </samp>
       class. It allows clients to do horizontal and vertical scrolling, set a text selection, change the cursor position and appearance and to set margin widths. It also does intelligent scrolling using block transfer (blit) and does automatic redrawing if necessary. It is optimised to reformat the minimum amount necessary. It also does conversion between document positions and x,y coordinates.
      </p>
      <p>
       <a href="GUID-FEE7C848-2E93-3848-A3DA-7EAA533615AF.html">
        <span class="apiname">
         CTextLayout
        </span>
       </a>
       is a lower level class than
       <a href="GUID-CF377A98-F11F-380F-AD10-7F3E261D4421.html">
        <span class="apiname">
         CTextView
        </span>
       </a>
       . Many of its functions only exist for the convenience of other classes in the API. It is used by
       <a href="GUID-CF377A98-F11F-380F-AD10-7F3E261D4421.html">
        <span class="apiname">
         CTextView
        </span>
       </a>
       to calculate the layout information. It should be used by clients to set layout attributes, including the wrap width, the height of the visible portion of the document (the "band"), whether formatting should be set to the band only, or to the whole document, and it sets the text object which is the source of the text and formatting information.
      </p>
      <p>
       <strong>
        x-y coordinates
       </strong>
      </p>
      <p>
       As in most bitmapped graphics systems, x coordinates increase rightwards and y coordinates increase downwards.
      </p>
      <p>
       The Text Views API uses two slightly different coordinate systems. In the system used by the
       <a href="GUID-FEE7C848-2E93-3848-A3DA-7EAA533615AF.html">
        <span class="apiname">
         CTextLayout
        </span>
       </a>
       class (see for instance
       <a href="GUID-FEE7C848-2E93-3848-A3DA-7EAA533615AF.html#GUID-FEE7C848-2E93-3848-A3DA-7EAA533615AF__GUID-9F9DE7DE-FECD-34BF-94EE-296841514154">
        <span class="apiname">
         CTextLayout::DocPosToXyPosL()
        </span>
       </a>
       ), the origin for x-y pixel coordinates is the top left hand corner of the visible area of the body text, to the right of any margins which may have been set, so that the left edge of a non-indented line is at x coordinate 0. These are called layout coordinates.
      </p>
      <p>
       In the system used by the
       <a href="GUID-CF377A98-F11F-380F-AD10-7F3E261D4421.html">
        <span class="apiname">
         CTextView
        </span>
       </a>
       class, the origin for x-y pixel coordinates is at the top left corner of the view window, to the left of any margins which may have been set. These are called window coordinates.
      </p>
      <p>
       <strong>
        Scrolling polarity
       </strong>
      </p>
      <p>
       When scrolling vertically, the Text Views API uses the convention that positive numbers of pixels, lines, paragraphs, pages, etc., mean that the text moves down, and vice versa. When scrolling horizontally, positive numbers of pixels mean that the text moves left and vice versa.
      </p>
      <p>
       <strong>
        Band formatting
       </strong>
      </p>
      <p>
       The Text Views API support two format states. In one, the visible portion of a document only is formatted, and in the other, the entire document is formatted. The visible portion of the document is referred to as the band. Setting the formatting to the band may be useful to save memory when displaying large documents. The height of the band also controls the amount of scroll caused by a page up or down.
      </p>
      <p>
       <strong>
        Redrawing and scrolling
       </strong>
      </p>
      <p>
       If you need automatic scrolling and redrawing you should use
       <a href="GUID-CF377A98-F11F-380F-AD10-7F3E261D4421.html">
        <span class="apiname">
         CTextView
        </span>
       </a>
       rather than
       <a href="GUID-FEE7C848-2E93-3848-A3DA-7EAA533615AF.html">
        <span class="apiname">
         CTextLayout
        </span>
       </a>
       (see for instance
       <a href="GUID-CF377A98-F11F-380F-AD10-7F3E261D4421.html#GUID-CF377A98-F11F-380F-AD10-7F3E261D4421__GUID-903D1087-42CB-32EB-8379-7B019936AD16">
        <span class="apiname">
         CTextView::HandleGlobalChangeL()
        </span>
       </a>
       ). When using the
       <a href="GUID-FEE7C848-2E93-3848-A3DA-7EAA533615AF.html">
        <span class="apiname">
         CTextLayout
        </span>
       </a>
       class, redrawing and scrolling must be done by the user.
      </p>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       See also
      </h2>
      <p>
       <a href="GUID-0AA6186C-DD10-5811-940F-D26A7D34C66F.html">
        Text and Text Attributes Overview
       </a>
      </p>
      <p>
       <a href="GUID-0AB9B221-38AE-576E-AC5A-C4C106E3D93B.html" title="The GDI component provides abstract base classes that represent the graphics device and the context through which graphics and text can be drawn to it. The context maintains 'settings', such as the pen and brush colors and styles in use, and provides a rich API of drawing commands for creating graphical and textual output. The component also provides abstract device-independent APIs for a variety of graphics-related functions, such as for handling fonts, pictures and printers.">
        Graphics Overview
       </a>
      </p>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-4CBFA2E3-0EFC-5E10-A960-57A8FF9A6025.html">
        Using Text Views (FORM)
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>