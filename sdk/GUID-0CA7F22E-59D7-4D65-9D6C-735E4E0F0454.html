<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="task" />
  <meta name="DC.Title" content="Setting Channel Properties" />
  <meta name="abstract" content="The channel properties can be configured using the CSensrvChannel::SetProperty() function." />
  <meta name="description" content="The channel properties can be configured using the CSensrvChannel::SetProperty() function." />
  <meta name="DC.Relation" scheme="URI" content="GUID-4B709839-8EEF-4AD2-9868-9AF0176B1E5B.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-F8C8CE42-E7C9-5AFC-86BC-B78F677F1B05.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-E3ADCC42-ACFC-49FC-88FF-8196CE61014B.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-9102DB10-3B93-4E79-9125-25791CEEBEFB.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-4B709839-8EEF-4AD2-9868-9AF0176B1E5B.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-0CA7F22E-59D7-4D65-9D6C-735E4E0F0454" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Setting Channel Properties
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-0CA7F22E-59D7-4D65-9D6C-735E4E0F0454">
  <a name="GUID-0CA7F22E-59D7-4D65-9D6C-735E4E0F0454">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2838663 id2839278 id2839334 id2839196 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-F8C8CE42-E7C9-5AFC-86BC-B78F677F1B05.html">
      Device Services Guide
     </a>
     &gt;
     <a href="GUID-E3ADCC42-ACFC-49FC-88FF-8196CE61014B.html" title="The Sensors Services collection provides Sensors Framework, which allows clients to request and receive sensor information from the different sensors on a device.">
      Sensor Services
     </a>
     &gt;
     <a href="GUID-9102DB10-3B93-4E79-9125-25791CEEBEFB.html" title="Sensors Framework provides a framework for creating plug-ins and connecting client applications with the sensor hardware.">
      Sensors Framework
     </a>
     &gt;
     <a href="GUID-4B709839-8EEF-4AD2-9868-9AF0176B1E5B.html" title="The Sensor Channel establishes a data exchange connection between the sensor framework and hardware using the sensor channel APIs.">
      Using Sensor Channels APIs
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Setting
Channel Properties
    </h1>
    <div>
     <p>
      The channel properties can be configured using the
      <samp class="codeph">
       CSensrvChannel::SetProperty()
      </samp>
      function.
     </p>
     <div class="p" id="GUID-0CA7F22E-59D7-4D65-9D6C-735E4E0F0454__GUID-578E2FA5-5265-4AF7-88EC-9BA5C143DDF7">
      <a name="GUID-0CA7F22E-59D7-4D65-9D6C-735E4E0F0454__GUID-578E2FA5-5265-4AF7-88EC-9BA5C143DDF7">
       <!-- -->
      </a>
      <p>
       Before setting
channel properties, you must
       <a href="GUID-4B709839-8EEF-4AD2-9868-9AF0176B1E5B.html#GUID-4B709839-8EEF-4AD2-9868-9AF0176B1E5B__GUID-FBBD3A8B-F240-4DC0-B516-3A51FDD86A88">
        open
the sensor channel
       </a>
       .
      </p>
     </div>
     <a name="GUID-0CA7F22E-59D7-4D65-9D6C-735E4E0F0454__GUID-4DD07DEC-6017-4237-BE46-1D69E5FBD744-GENID-1-10-1-11-1-1-6-1-4-1-4-1-7-1-3-2">
      <!-- -->
     </a>
     <ol id="GUID-0CA7F22E-59D7-4D65-9D6C-735E4E0F0454__GUID-4DD07DEC-6017-4237-BE46-1D69E5FBD744-GENID-1-10-1-11-1-1-6-1-4-1-4-1-7-1-3-2">
      <li class="stepexpand" id="GUID-0CA7F22E-59D7-4D65-9D6C-735E4E0F0454__GUID-9A69E5AD-E938-4092-A8C2-CB65C37C8962-GENID-1-10-1-11-1-1-6-1-4-1-4-1-7-1-3-2-1">
       <a name="GUID-0CA7F22E-59D7-4D65-9D6C-735E4E0F0454__GUID-9A69E5AD-E938-4092-A8C2-CB65C37C8962-GENID-1-10-1-11-1-1-6-1-4-1-4-1-7-1-3-2-1">
        <!-- -->
       </a>
       <span>
        Create a
        <span class="parmname">
         TSensrvProperty
        </span>
        property
object for setting the
        <span class="parmname">
         KSensrvPropIdDataRate
        </span>
        property
using the
        <span class="parmname">
         TSensrvProperty(const TSensrvPropertyId,const TInt,const
TInt)
        </span>
        constructor.
       </span>
       <pre class="codeblock">
        ...
TInt val=2;
TSensrvProperty sensrvProperty(KSensrvPropIdDataRate,KSensrvItemIndexNone,val);
...
       </pre>
      </li>
      <li class="stepexpand" id="GUID-0CA7F22E-59D7-4D65-9D6C-735E4E0F0454__GUID-3AC7711D-8CBB-427A-BEA1-800539AC1377">
       <a name="GUID-0CA7F22E-59D7-4D65-9D6C-735E4E0F0454__GUID-3AC7711D-8CBB-427A-BEA1-800539AC1377">
        <!-- -->
       </a>
       <span>
        Set the
        <span class="parmname">
         KSensrvPropIdDataRate
        </span>
        property
value by passing the property object that you created to
        <a href="GUID-22DC917F-D833-3531-AB2D-A6E2D52EF844.html#GUID-22DC917F-D833-3531-AB2D-A6E2D52EF844__GUID-B69100DD-522F-3B5A-AC65-DE1950A673F0">
         <span class="apiname">
          CSensrvChannel::SetProperty()
         </span>
        </a>
        .
       </span>
       <pre class="codeblock">
        ...
CSensrvChannel* channel;
...
TInt ret;
ret=channel-&gt;SetProperty(sensrvProperty);
...
       </pre>
      </li>
     </ol>
     <div class="example">
      <p>
       The following example explains how to set the x-axis of accelerometer
channel status from activated to deactivated.
      </p>
      <p>
       The axis active property
       <span class="parmname">
        KSensrvPropIdAxisActive
       </span>
       is
first retrieved using the
       <a href="GUID-22DC917F-D833-3531-AB2D-A6E2D52EF844.html#GUID-22DC917F-D833-3531-AB2D-A6E2D52EF844__GUID-1E9D960B-23C4-30DF-A184-7E978AC9AC1B">
        <span class="apiname">
         CSensrvChannel::GetPropertyL()
        </span>
       </a>
       function.
If the axis is active, the new
       <strong>
        deactivated
       </strong>
       value is set in the retrieved
property object. Then the channel is updated with this updated property object
by using the
       <a href="GUID-22DC917F-D833-3531-AB2D-A6E2D52EF844.html#GUID-22DC917F-D833-3531-AB2D-A6E2D52EF844__GUID-B69100DD-522F-3B5A-AC65-DE1950A673F0">
        <span class="apiname">
         CSensrvChannel::SetProperty()
        </span>
       </a>
       function.
      </p>
      <pre class="codeblock">
       TSensrvProperty property;
    TInt err( KErrNone );
    TInt axisActive( 0 );
    iSensorChannel-&gt;GetPropertyL( KSensrvPropIdAxisActive,
                                  TSensrvAccelerometerAxisData::Index::iAxisX,
                                  property );
    property.GetValue( axisActive );
    if( 1 == axisActive )
        {
        property.SetValue( 0 ); // A value other than 1 means that sensor axis is deactivated.
        err = iSensorChannel-&gt;SetProperty( property );
        if( KErrNone == err )
            {
            //Accelerometer x-axis was successfully deactivated
            }
       }
    else
        {
        //Accelerometer x-axis is already inactive
        }
      </pre>
     </div>
     <div class="section" id="GUID-0CA7F22E-59D7-4D65-9D6C-735E4E0F0454__GUID-5155648B-6A69-4BF4-A5C2-83A8611F2B22">
      <a name="GUID-0CA7F22E-59D7-4D65-9D6C-735E4E0F0454__GUID-5155648B-6A69-4BF4-A5C2-83A8611F2B22">
       <!-- -->
      </a>
      <p>
       End the session
with the sensor channel using the
       <a href="GUID-22DC917F-D833-3531-AB2D-A6E2D52EF844.html#GUID-22DC917F-D833-3531-AB2D-A6E2D52EF844__GUID-0B8F50A6-2CA1-316A-82AB-AA026005E810">
        <span class="apiname">
         CSensrvChannel::CloseChannel()
        </span>
       </a>
       function.
      </p>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-4B709839-8EEF-4AD2-9868-9AF0176B1E5B.html" title="The Sensor Channel establishes a data exchange connection between the sensor framework and hardware using the sensor channel APIs.">
        Using Sensor Channels APIs
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>