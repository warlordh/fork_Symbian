<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="task" />
  <meta name="DC.Title" content="Creating and Deleting a Session: Tutorial" />
  <meta name="abstract" content="This tutorial shows you how to create and delete a session with the Comms Database." />
  <meta name="description" content="This tutorial shows you how to create and delete a session with the Comms Database." />
  <meta name="DC.Relation" scheme="URI" content="GUID-BD971173-E009-58DA-AF9C-F4AAFF77B138.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-C3018CEE-865B-595A-A735-40E11665E50A.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-BD971173-E009-58DA-AF9C-F4AAFF77B138.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-1AFDDD6F-CB99-587D-A0B5-D3F5B27F7135.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Creating and Deleting a Session: Tutorial
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90">
  <a name="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2562582 id2562781 id2562786 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04.html" title="The Communications Framework is the base for all communications, network and telephony services that Symbian platform provides. The Communications Framework manages the communications threads and the flow of information between those threads. The Framework also manages and stores the communications related settings.">
      Communications Framework Guide
     </a>
     &gt;
     <a href="GUID-C3018CEE-865B-595A-A735-40E11665E50A.html">
      Communications Configuration Utilities
     </a>
     &gt;
     <a href="GUID-BD971173-E009-58DA-AF9C-F4AAFF77B138.html">
      Comms Database
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Creating
and Deleting a Session: Tutorial
    </h1>
    <div>
     <p>
      This tutorial shows you how to create and delete a session with
the Comms Database.
     </p>
     <div class="p" id="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-120922C5-07D1-504F-ABA7-9ECDE4BE5CFA">
      <a name="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-120922C5-07D1-504F-ABA7-9ECDE4BE5CFA">
       <!-- -->
      </a>
      <p>
       Before you start,
you must understand:
      </p>
      <ul>
       <li id="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-E663CC7F-6F20-5425-9FDE-39645B22F292">
        <a name="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-E663CC7F-6F20-5425-9FDE-39645B22F292">
         <!-- -->
        </a>
        <p>
         the general concept
of the Comms Database
        </p>
       </li>
       <li id="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-1E784DD6-CE6B-58B3-BCF6-EE8578A46211">
        <a name="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-1E784DD6-CE6B-58B3-BCF6-EE8578A46211">
         <!-- -->
        </a>
        <p>
         the specific concept
of Comms Database Sessions
        </p>
       </li>
       <li id="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-60084A0B-78DF-54C1-AEB3-A93415FFE77D">
        <a name="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-60084A0B-78DF-54C1-AEB3-A93415FFE77D">
         <!-- -->
        </a>
        <p>
         how to write and build
application code to run on Symbian platform
        </p>
       </li>
      </ul>
     </div>
     <div class="section" id="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-13169F3C-A14A-56F2-9805-315510A1ED6D">
      <a name="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-13169F3C-A14A-56F2-9805-315510A1ED6D">
       <!-- -->
      </a>
      <p>
       You create a session
with the Comms Database before you start to read and write the data. You can
also set the access attributes for the session.
      </p>
     </div>
     <a name="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-D7867EDD-C29B-573E-AF0C-7BA32B35F9EF">
      <!-- -->
     </a>
     <ol id="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-D7867EDD-C29B-573E-AF0C-7BA32B35F9EF">
      <li class="stepexpand" id="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-E7217733-86F3-5085-B194-049A795AB5B5">
       <a name="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-E7217733-86F3-5085-B194-049A795AB5B5">
        <!-- -->
       </a>
       <span>
        Include the header
files, define namespaces, and declare constants.
       </span>
       The
       <span class="filepath">
        CommsDatTypesV1_1.h
       </span>
       header file defines the
classes and API items that the tool or application requires. This header file
includes all other required header files. 

 Define the CommsDat namesapce. 

 Define a
       TVersion
       set with the
version information. 

 The location of this code depends on the structure of the tool or application.
       <pre class="codeblock" id="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-A73251F7-AF1B-582C-8BA5-28E71CFD3307">
        <a name="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-A73251F7-AF1B-582C-8BA5-28E71CFD3307">
         <!-- -->
        </a>
        #include &lt;CommsDatTypesV1_1.h&gt; 

// Add a declaration like this for each specific version you need.
// In this example, the major version number, the minor version number
// and the build number are all 1.
#define KCDVersion1_1 TVersion(1,1,1) 

using namespace CommsDat;

...
       </pre>
      </li>
      <li class="stepexpand" id="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-68B7A254-9E14-5E1D-8A48-8848F33C3F5E">
       <a name="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-68B7A254-9E14-5E1D-8A48-8848F33C3F5E">
        <!-- -->
       </a>
       <span>
        Create the session.
       </span>
       You select the version of the interface when you create the session.
       <pre class="codeblock" id="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-69C6C0FE-E5F1-59CE-A8D8-665D5E35CC01">
        <a name="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-69C6C0FE-E5F1-59CE-A8D8-665D5E35CC01">
         <!-- -->
        </a>
        ...
// for the version 1.1.1 defined in step 1
CMDBSession* iDb = CMDBSession::NewL(KCDVersion1_1); 
...
       </pre>
      </li>
      <li class="stepexpand" id="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-75A1BC43-4A18-5CC6-BA43-6B4F33357ADC">
       <a name="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-75A1BC43-4A18-5CC6-BA43-6B4F33357ADC">
        <!-- -->
       </a>
       <span>
        Set the access attributes
for the session.
       </span>
       This is an optional step. 
 The following code allows the tool or application to see the elements
that are marked as hidden in the Comms Database. The
       <samp class="codeph">
        ECHidden
       </samp>
       symbol
is an enum value of the
       TCDAttributeFlags
       enum.
You can also set the other access attributes, but the hidden attribute is
the most common use case.
       <pre class="codeblock" id="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-CF73F37B-369C-5FC1-B8D8-79C6A50CA96D">
        <a name="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-CF73F37B-369C-5FC1-B8D8-79C6A50CA96D">
         <!-- -->
        </a>
        ...
iDb-&gt;SetAttributeMask(ECDHidden); 
...
       </pre>
      </li>
      <li class="stepexpand" id="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-8AD04100-7ACD-5B93-A0F9-94BFDD5B464C">
       <a name="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-8AD04100-7ACD-5B93-A0F9-94BFDD5B464C">
        <!-- -->
       </a>
       <span>
        Delete the session
object after the tool or application has finished its use of the Comms Database
       </span>
       <pre class="codeblock" id="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-3674B821-9EFC-523F-8980-0D0EF214094A">
        <a name="GUID-0CDA8FCA-AABE-5988-9467-30AA1AECCC90__GUID-3674B821-9EFC-523F-8980-0D0EF214094A">
         <!-- -->
        </a>
        ...
delete iDb;
       </pre>
      </li>
     </ol>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-BD971173-E009-58DA-AF9C-F4AAFF77B138.html">
        Comms Database
       </a>
      </div>
     </div>
     <div class="relinfo relconcepts">
      <strong>
       Related concepts
      </strong>
      <br />
      <div>
       <a href="GUID-1AFDDD6F-CB99-587D-A0B5-D3F5B27F7135.html">
        Comms Database
concepts
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>