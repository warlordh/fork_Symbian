<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="task" />
  <meta name="DC.Title" content="Using Time-Nudge-Capture Drive Mode" />
  <meta name="abstract" content="This topic describes how to capture an image using Time-Nudge-Capture drive mode in the Ecam API." />
  <meta name="description" content="This topic describes how to capture an image using Time-Nudge-Capture drive mode in the Ecam API." />
  <meta name="DC.Relation" scheme="URI" content="GUID-55A1A47A-A7DD-5B1A-88E1-4818CB65B782.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-98499337-5CB4-5A9C-907A-95FF57775983.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-BDB622BF-1CFA-5F1C-81FB-5579C8599689.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-55A1A47A-A7DD-5B1A-88E1-4818CB65B782.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-BDB622BF-1CFA-5F1C-81FB-5579C8599689.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-36BD6059-6547-5754-8BE0-F8051A838C14" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Using Time-Nudge-Capture Drive Mode
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-36BD6059-6547-5754-8BE0-F8051A838C14">
  <a name="GUID-36BD6059-6547-5754-8BE0-F8051A838C14">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2392344 id2392446 id2392460 id2392498 id2392513 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html">
      Multimedia Guide
     </a>
     &gt;
     <a href="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html">
      Multimedia APIs and Frameworks Collection
     </a>
     &gt;
     <a href="GUID-98499337-5CB4-5A9C-907A-95FF57775983.html">
      Camera Framework
     </a>
     &gt;
     <a href="GUID-BDB622BF-1CFA-5F1C-81FB-5579C8599689.html">
      Camera Library
     </a>
     &gt;
     <a href="GUID-55A1A47A-A7DD-5B1A-88E1-4818CB65B782.html" title="The tutorials in this section show you how to use the Camera API.">
      Tutorials
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Using
Time-Nudge-Capture Drive Mode
    </h1>
    <div>
     <p>
      This topic describes how to capture an image using Time-Nudge-Capture
drive mode in the Ecam API.
     </p>
     <div class="p" id="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-B36A21C3-041E-5DBE-A019-705F64A9DCFA">
      <a name="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-B36A21C3-041E-5DBE-A019-705F64A9DCFA">
       <!-- -->
      </a>
      <p>
       Before you start
you should understand the following topics:
      </p>
      <ul>
       <li>
        <p>
         <a href="Chunk1125924770.html">
          Capturing Still
Images
         </a>
        </p>
       </li>
       <li id="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-C875638C-B10A-511A-B7DF-8BB6ED543B0E">
        <a name="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-C875638C-B10A-511A-B7DF-8BB6ED543B0E">
         <!-- -->
        </a>
        <p>
         <a href="GUID-176913BA-3877-58E2-9E12-3606EE697813.html">
          Advanced
Camera Settings Overview
         </a>
         .
        </p>
       </li>
      </ul>
     </div>
     <div class="section" id="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-C666890D-A6ED-4ABB-982A-CEC3E9881652">
      <a name="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-C666890D-A6ED-4ABB-982A-CEC3E9881652">
       <!-- -->
      </a>
      <p>
       The
       <a href="GUID-E31AEB11-B7A0-3637-BB31-866306F78118.html#GUID-E31AEB11-B7A0-3637-BB31-866306F78118__GUID-552E8197-2AD8-377D-A15A-7EB14C836C86">
        <span class="apiname">
         CCamera::CCameraAdvancedSettings::EDriveModeTimeNudgeCapture
        </span>
       </a>
       mode
allows you to specify the amount of images to be captured both before and
after the capture button key press. The numbers of pre- or post-capture images
to be captured are set by the
       <a href="GUID-7B13335C-10A9-38D2-AE12-A50ECCF7EA58.html#GUID-7B13335C-10A9-38D2-AE12-A50ECCF7EA58__GUID-AED9AF83-72F6-3A5A-8693-81690A58789E">
        <span class="apiname">
         CCamera::CCameraPreImageCaptureControl::TDriveModeDependentAttributes
        </span>
       </a>
       values,
with the total number of images being calculated as follows:
      </p>
      <p>
       <samp class="codeph">
        Total
number of captured images = iParam1 + 1 + iParam2
       </samp>
       where
       <samp class="codeph">
        iParam1
       </samp>
       and
       <samp class="codeph">
        iParam2
       </samp>
       represent
pre and post capture images respectively, and 1 represents the present image.
      </p>
     </div>
     <a name="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-C600E75D-1C96-5D04-8F72-9EC4DCD406C6">
      <!-- -->
     </a>
     <ol id="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-C600E75D-1C96-5D04-8F72-9EC4DCD406C6">
      <li class="stepexpand" id="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-10359A66-1222-5C8A-87E6-7E7E1CAD8847">
       <a name="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-10359A66-1222-5C8A-87E6-7E7E1CAD8847">
        <!-- -->
       </a>
       <span>
        <br />
        Call
        <a href="GUID-021C509B-C821-3401-B2F4-DE7F52BB16D4.html#GUID-021C509B-C821-3401-B2F4-DE7F52BB16D4__GUID-C5A323D2-322D-3784-9546-A066B50C4DE1">
         <span class="apiname">
          CCamera::New2L(MCameraObserver2 &amp;,TInt,TInt)
         </span>
        </a>
        to
create an instance of
        <samp class="codeph">
         CCamera
        </samp>
        .
       </span>
      </li>
      <li class="stepexpand" id="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-7AAE2DB9-0A64-55E6-814F-B6204F19BCF1">
       <a name="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-7AAE2DB9-0A64-55E6-814F-B6204F19BCF1">
        <!-- -->
       </a>
       <span>
        <br />
        Call
        <a href="GUID-021C509B-C821-3401-B2F4-DE7F52BB16D4.html#GUID-021C509B-C821-3401-B2F4-DE7F52BB16D4__GUID-7B13335C-10A9-38D2-AE12-A50ECCF7EA58">
         <span class="apiname">
          CCamera::CCameraPreImageCaptureControl
         </span>
        </a>
        to create
an image capture object.
       </span>
      </li>
      <li class="stepexpand" id="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-7686E078-40F5-56E2-B35F-09CC248994AD">
       <a name="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-7686E078-40F5-56E2-B35F-09CC248994AD">
        <!-- -->
       </a>
       <span>
        <br />
        Call
        <a href="GUID-7B13335C-10A9-38D2-AE12-A50ECCF7EA58.html#GUID-7B13335C-10A9-38D2-AE12-A50ECCF7EA58__GUID-784D7379-183B-3A3E-81A4-CD78DE68F78A">
         <span class="apiname">
          CCamera::CCameraPreImageCaptureControl::PrepareImageCapture(const
TPrepareImageParameters &amp;,MCaptureImageObserver &amp;)
         </span>
        </a>
        to prepare
for capturing the image.
        <samp class="codeph">
         TPrepareImageParameter
        </samp>
        uses
        <samp class="codeph">
         TDriveModeDependentAttributes
        </samp>
        to
set the number of images before and after the camera capture key press event.
The
        <samp class="codeph">
         iDriveMode
        </samp>
        value in
        <samp class="codeph">
         TPrepareImageParameter
        </samp>
        should
be replaced into the
        <samp class="codeph">
         EDriveModeTimeNudgeCapture
        </samp>
        value, to
support the time-nudge-capture drive mode. 
 If an
        <samp class="codeph">
         aErrorCode
        </samp>
        occurs while preparing an image, you
have to call
        <samp class="codeph">
         CCamera::PrepareImageComplete(CCamera::CCameraImageCapture*,
TInt)
        </samp>
        . 
 Note: The
        <samp class="codeph">
         PrepareImageComplete()
        </samp>
        callback is deferred
until the implementation is ready with the pre-image data saved in the buffer
so that you can press the capture key at any time. Meanwhile the implementation
continues saving the latest pre-capture images until the
        <samp class="codeph">
         CaptureImage()
        </samp>
        function
is called.
       </span>
      </li>
      <li class="stepexpand" id="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-016FF403-E087-53CA-9EC7-223496A7AE60">
       <a name="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-016FF403-E087-53CA-9EC7-223496A7AE60">
        <!-- -->
       </a>
       <span>
        <br />
        Call
        <a href="GUID-021C509B-C821-3401-B2F4-DE7F52BB16D4.html#GUID-021C509B-C821-3401-B2F4-DE7F52BB16D4__GUID-0536FECC-1BD8-3726-8BBE-B1231739F23E">
         <span class="apiname">
          CCamera::CaptureImage()
         </span>
        </a>
        to capture an image. 
 Note: You can call the
        <samp class="codeph">
         CaptureImage()
        </samp>
        function to capture
the current image exposed to the sensor plus the required number of post-image
capture images.
       </span>
      </li>
      <li class="stepexpand" id="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-912DC8A8-51F5-5912-9474-1CE28C51715D">
       <a name="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-912DC8A8-51F5-5912-9474-1CE28C51715D">
        <!-- -->
       </a>
       <span>
        <br />
        Call the
        MCaptureImageObserver::IndividualImageControlHandle(CCamera::CCameraImageCapture
&amp;,TPostCaptureControlId)
        function for each captured image to
pass the individual id of each image to the client.
       </span>
      </li>
      <li class="stepexpand" id="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-38DBA9EA-0267-5C31-8D82-E81111636198">
       <a name="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-38DBA9EA-0267-5C31-8D82-E81111636198">
        <!-- -->
       </a>
       <span>
        <br />
        Call
        MCaptureImageObserver::ImageCaptureComplete(CCamera::CCameraImageCapture
&amp;,TInt)
        and
        <a href="GUID-09C6DDB6-A208-3C81-9F54-697D4865D99F.html#GUID-09C6DDB6-A208-3C81-9F54-697D4865D99F__GUID-92A1BB39-F8AC-388D-93FC-32CEC1EB839F">
         <span class="apiname">
          MCameraObserver2::HandleEvent(const TECAMEvent
&amp;)
         </span>
        </a>
        to notify the client that the current capture operation has
finished. 
 Note: This must only occur once the implementation has saved another
set of pre-image capture images. This is so that the implementation is ready
to receive further
        <samp class="codeph">
         CaptureImage()
        </samp>
        calls.
       </span>
      </li>
      <li class="stepexpand" id="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-94BF1548-C4B1-5BBE-AB08-E0A7521BF0CF">
       <a name="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-94BF1548-C4B1-5BBE-AB08-E0A7521BF0CF">
        <!-- -->
       </a>
       <span>
        <br />
        Call
        CCamera::CCameraPostImageCaptureControl::CCameraPostImageCaptureControl(CCamera::CCameraImageCapture
*,TPostCaptureControlId)
        to control the post image capture after
capturing the desired image.
       </span>
      </li>
      <li class="stepexpand" id="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-CCD9A5F2-0447-5154-ACC5-950CC0EC2512">
       <a name="GUID-36BD6059-6547-5754-8BE0-F8051A838C14__GUID-CCD9A5F2-0447-5154-ACC5-950CC0EC2512">
        <!-- -->
       </a>
       <span>
        <br />
        Call the
        <a href="GUID-09C6DDB6-A208-3C81-9F54-697D4865D99F.html#GUID-09C6DDB6-A208-3C81-9F54-697D4865D99F__GUID-92A1BB39-F8AC-388D-93FC-32CEC1EB839F">
         <span class="apiname">
          MCameraObserver2::HandleEvent(const TECAMEvent &amp;)
         </span>
        </a>
        function
when you have deleted the current
        <samp class="codeph">
         CCameraImageCapture
        </samp>
        object. 
 Note: In this drive mode, only one instance of
        <samp class="codeph">
         CCameraImageCapture
        </samp>
        can
be created at any one time, that is,
        <samp class="codeph">
         PrepareImageCapture()
        </samp>
        can
only be called once. In order to successfully call
        <samp class="codeph">
         PrepareImageCapture()
        </samp>
        again
and create a new
        <samp class="codeph">
         CCameraImageCapture
        </samp>
        object, clients must
first destroy the previous one. Therefore, the implementation should only
issue this callback once the client has deleted the object.
       </span>
      </li>
     </ol>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-55A1A47A-A7DD-5B1A-88E1-4818CB65B782.html" title="The tutorials in this section show you how to use the Camera API.">
        Tutorials
       </a>
      </div>
     </div>
     <div class="relinfo relconcepts">
      <strong>
       Related concepts
      </strong>
      <br />
      <div>
       <a href="GUID-BDB622BF-1CFA-5F1C-81FB-5579C8599689.html">
        Camera Library
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>