<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="Removable Media Support" />
  <meta name="DC.Relation" scheme="URI" content="GUID-B82FBA26-6B34-4387-A5BC-758B74F37E5F.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-F22B8035-CD08-4181-B03A-759E92CA967B.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-00631ED2-1B7F-5FC4-9E81-4B6DF7946631.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-B82FBA26-6B34-4387-A5BC-758B74F37E5F.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-DA0F4990-DDC4-5B0A-A446-A3C8672DA95A" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Removable Media Support
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-DA0F4990-DDC4-5B0A-A446-A3C8672DA95A">
  <a name="GUID-DA0F4990-DDC4-5B0A-A446-A3C8672DA95A">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2387417 id2387449 id2387463 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-F22B8035-CD08-4181-B03A-759E92CA967B.html">
      Organizer Guide
     </a>
     &gt;
     <a href="GUID-00631ED2-1B7F-5FC4-9E81-4B6DF7946631.html">
      Calendar Guide
     </a>
     &gt;
     <a href="GUID-B82FBA26-6B34-4387-A5BC-758B74F37E5F.html">
      Concepts
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Removable Media Support
    </h1>
    <div>
     <div class="section">
      <h2 class="sectiontitle">
       Overview
      </h2>
      <p>
       External drives can already be used to store the calendar database file. This means that all clients may access, modify and create calendar files on removable media in the same way as on non-removable media.
      </p>
      <p>
       A calendar file can be opened on any writable drive. Note that if the file is opened on a removable drive and that drive is removed, the operation leaves with an error.
      </p>
      <p>
       This error can also happen when trying to access file attachments on removed media.
      </p>
      <p>
       When this error occurs, the user should close the
       <a href="GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html">
        <span class="apiname">
         CCalSession
        </span>
       </a>
       and re-open it once the media has been replaced. The Calendar indexes must then be restored ('rolled back') to their previous state.
      </p>
      <p>
       It is recommended that when using a calendar file on removable media, the user should watch for when the media is removed or replaced using the
       <a href="GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html">
        <span class="apiname">
         RFs::NotifyChange()
        </span>
       </a>
       API.
      </p>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Use cases
      </h2>
      <p>
       If media is removed during an operation a KErrNotReady again occurs, and in the following cases a rollback is effected:
      </p>
      <div class="tablenoborder">
       <a name="GUID-DA0F4990-DDC4-5B0A-A446-A3C8672DA95A__GUID-F392B402-1E46-5044-8F70-03C0F822C43B">
        <!-- -->
       </a>
       <table cellpadding="4" cellspacing="0" summary="" id="GUID-DA0F4990-DDC4-5B0A-A446-A3C8672DA95A__GUID-F392B402-1E46-5044-8F70-03C0F822C43B" frame="border" border="1" rules="all">
        <thead align="left">
         <tr>
          <th class="cellrowborder" valign="top" id="d1328219e54">
           Function
          </th>
          <th class="cellrowborder" valign="top" id="d1328219e57">
           What has happened if it leaves with KErrNotReady
          </th>
          <th class="cellrowborder" valign="top" id="d1328219e60">
           Does a rollback occur?
          </th>
         </tr>
        </thead>
        <tbody>
         <tr>
          <td class="cellrowborder" valign="top" headers="d1328219e54 ">
           <p>
            <a href="GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html">
             <span class="apiname">
              CCalSession::CreateCalFileL(const TDesC&amp;
                  aFileName)
             </span>
            </a>
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e57 ">
           <p>
            File not created
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e60 ">
           <p>
            N/A
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" headers="d1328219e54 ">
           <p>
            <a href="GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html">
             <span class="apiname">
              CCalSession::OpenL(const TDesC&amp;
                  aFileName)
             </span>
            </a>
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e57 ">
           <p>
            File not created
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e60 ">
           <p>
            N/A
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" headers="d1328219e54 ">
           <p>
            <a href="GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html">
             <span class="apiname">
              CCalSession::DeleteCalFileL(const TDesC&amp;
                  aFileName)
             </span>
            </a>
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e57 ">
           <p>
            File not created
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e60 ">
           <p>
            N/A
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" headers="d1328219e54 ">
           <p>
            <a href="GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html">
             <span class="apiname">
              CCalEntryView::StoreL(const RPointerArray
                  &lt;CCalEntry&gt;&amp; aCalEntryList, TInt&amp; aNumSuccessfulEntry)
             </span>
            </a>
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e57 ">
           <p>
            aNumSuccessfulEntry entries were successfully added before the leave.
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e60 ">
           <p>
            Last store rolled back in RAM after disk write fails.
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" headers="d1328219e54 ">
           <p>
            <a href="GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html">
             <span class="apiname">
              CCalEntryView::UpdateL(const RPointerArray
                  &lt;CCalEntry&gt;&amp; aCalEntryList, TInt&amp; aNumSuccessfulEntry)
             </span>
            </a>
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e57 ">
           <p>
            aNumSuccessfulEntry entries were successfully added before the leave.
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e60 ">
           <p>
            Last store rolled back in RAM after disk write fails.
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" headers="d1328219e54 ">
           <p>
            <a href="GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html">
             <span class="apiname">
              CCalEntryView::DeleteL(const CDesC8Array&amp;
                  aUidList)
             </span>
            </a>
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e57 ">
           <p>
            Some of the UIDs were not deleted (how many is unknown).
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e60 ">
           <p>
            Last UID delete rolled back in RAM.
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" headers="d1328219e54 ">
           <p>
            <a href="GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html">
             <span class="apiname">
              CCalEntryView::DeleteL(const CCalEntry&amp;
                  aCalEntry)
             </span>
            </a>
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e57 ">
           <p>
            Nothing deleted
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e60 ">
           <p>
            Deleted entries in RAM are rolled back.
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" headers="d1328219e54 ">
           <p>
            <a href="GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html">
             <span class="apiname">
              CCalInstanceView::DeleteL(CCalInstance* aInstance,
                  CalCommon::TRecurrenceRange aWhichInstances)
             </span>
            </a>
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e57 ">
           <p>
            Nothing deleted
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e60 ">
           <p>
            Deleted entries in RAM are rolled back.
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" headers="d1328219e54 ">
           <p>
            <a href="GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html">
             <span class="apiname">
              CCalCategoryManager::AddCategoryL(const
                  CCalCategory&amp; aCategory)
             </span>
            </a>
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e57 ">
           <p>
            Category not added to file
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e60 ">
           <p>
            No rollback in RAM.
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top" headers="d1328219e54 ">
           <p>
            <a href="GUID-609318A7-43F1-3FC1-952B-146B1EA8115D.html">
             <span class="apiname">
              CCalCategoryManager::DeleteCategoryL(const
                  CCalCategory&amp; aCategory, MCalProgressCallBack&amp;
                  aProgressCallBack)
             </span>
            </a>
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e57 ">
           <p>
            Category not added to file
           </p>
          </td>
          <td class="cellrowborder" valign="top" headers="d1328219e60 ">
           <p>
            No rollback in RAM.
           </p>
          </td>
         </tr>
        </tbody>
       </table>
      </div>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-B82FBA26-6B34-4387-A5BC-758B74F37E5F.html">
        Concepts
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>