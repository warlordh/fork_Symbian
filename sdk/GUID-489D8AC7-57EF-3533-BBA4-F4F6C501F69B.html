<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="cxxFile" />
  <meta name="DC.Title" content="upnpcontentdirectoryglobals.h" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-489D8AC7-57EF-3533-BBA4-F4F6C501F69B" />
  <title>
   upnpcontentdirectoryglobals.h
  </title>
   <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <meta name="keywords" content="api" />
  <link rel="stylesheet" type="text/css" href="cxxref.css" />
 </head>
 <body class="cxxref" id="GUID-489D8AC7-57EF-3533-BBA4-F4F6C501F69B">
  <a name="GUID-489D8AC7-57EF-3533-BBA4-F4F6C501F69B">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2518338 id2518347 id2420140 id2690952 id2691991 id2692084 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
    <div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     upnpcontentdirectoryglobals.h File Reference
    </h1>
    <div class="nested1" id="GUID-5896D123-557A-3443-A9AF-EF76E236E9E8">
     <a name="GUID-5896D123-557A-3443-A9AF-EF76E236E9E8">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KMaxIntegerLen
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KMaxIntegerLen
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-747D1A97-8C5D-39DA-90CB-D2FD03E932E6">
     <a name="GUID-747D1A97-8C5D-39DA-90CB-D2FD03E932E6">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KMaxIDResLength
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KMaxIDResLength
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-3EA3285F-697A-357A-B0AA-41610E3D309A">
     <a name="GUID-3EA3285F-697A-357A-B0AA-41610E3D309A">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KMaxLongIntegerLen
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KMaxLongIntegerLen
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-7F4C7949-B973-3BBC-A0D1-20B21D9B6A62">
     <a name="GUID-7F4C7949-B973-3BBC-A0D1-20B21D9B6A62">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KMaxBoolLen
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KMaxBoolLen
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-6CDD89F2-86B4-3B77-B65B-198AA1C7CFCA">
     <a name="GUID-6CDD89F2-86B4-3B77-B65B-198AA1C7CFCA">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KColNameMaxLenth
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KColNameMaxLenth
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-B20F219E-1406-3345-BE4A-F8D6B15BB655">
     <a name="GUID-B20F219E-1406-3345-BE4A-F8D6B15BB655">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KDefaultGranularity
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KDefaultGranularity
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-94CF0CCE-551A-35F5-A42D-F579E71D7870">
     <a name="GUID-94CF0CCE-551A-35F5-A42D-F579E71D7870">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KRespBufGranularity
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KRespBufGranularity
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-A0EAE89A-610A-37CF-A16E-15857516A756">
     <a name="GUID-A0EAE89A-610A-37CF-A16E-15857516A756">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KMinDiskSpace
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KMinDiskSpace
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-783A8C81-68A2-3C16-9776-049A245B3A67">
     <a name="GUID-783A8C81-68A2-3C16-9776-049A245B3A67">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KDownloadContId
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KDownloadContId
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-CB27F40F-63AD-31C8-8911-7070DB4F2EAB">
     <a name="GUID-CB27F40F-63AD-31C8-8911-7070DB4F2EAB">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KAvailableNestedLevels
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KAvailableNestedLevels
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-9DED2BFD-149A-32C0-A9DB-BDD31CBACDFD">
     <a name="GUID-9DED2BFD-149A-32C0-A9DB-BDD31CBACDFD">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KMaxUpnpLongStringLen
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KMaxUpnpLongStringLen
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-613095D9-0BA3-3442-84F9-9A313DC77A83">
     <a name="GUID-613095D9-0BA3-3442-84F9-9A313DC77A83">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KMaxUpnpStringLen
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KMaxUpnpStringLen
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-57D2507D-4A56-3D7C-AF28-97A4F373BBC7">
     <a name="GUID-57D2507D-4A56-3D7C-AF28-97A4F373BBC7">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KCommitEveryNum
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KCommitEveryNum
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-5F01CE4B-0DDF-3050-848E-D6156CBFDEF5">
     <a name="GUID-5F01CE4B-0DDF-3050-848E-D6156CBFDEF5">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KOnlyOnePair
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KOnlyOnePair
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-1EEE467A-ADD6-3C9F-A0D8-119DDF572F90">
     <a name="GUID-1EEE467A-ADD6-3C9F-A0D8-119DDF572F90">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KExtensionLength
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KExtensionLength
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-292DD63C-E9D0-3F26-93FD-A3C9C0A4CB52">
     <a name="GUID-292DD63C-E9D0-3F26-93FD-A3C9C0A4CB52">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KThumbnailWidth
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KThumbnailWidth
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-6D8510ED-AE9C-3803-B08B-22E04AF14E1F">
     <a name="GUID-6D8510ED-AE9C-3803-B08B-22E04AF14E1F">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KThumbnailHeight
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KThumbnailHeight
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-DDEB1050-6609-3B35-9BF6-5CCE6F61E966">
     <a name="GUID-DDEB1050-6609-3B35-9BF6-5CCE6F61E966">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KDefaultThumbnailSize
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KDefaultThumbnailSize
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-4021E364-B63A-3259-9975-2B6BF5EB6E86">
     <a name="GUID-4021E364-B63A-3259-9975-2B6BF5EB6E86">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KHttpGetStarted
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KHttpGetStarted
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-3F4035EE-9D2D-3BB3-8ABB-2F9B1D142AE0">
     <a name="GUID-3F4035EE-9D2D-3BB3-8ABB-2F9B1D142AE0">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KHttpPostStarted
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KHttpPostStarted
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-AD1CEFDE-99BF-3A78-AED2-051755B82EC0">
     <a name="GUID-AD1CEFDE-99BF-3A78-AED2-051755B82EC0">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KThumbnailDirLen
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KThumbnailDirLen
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-DAF00F46-9706-3527-A1E2-89CD0EC2BE65">
     <a name="GUID-DAF00F46-9706-3527-A1E2-89CD0EC2BE65">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KCompactWeight
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KCompactWeight
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-5D6572C6-908E-386E-BAA5-7F5D25E2E420">
     <a name="GUID-5D6572C6-908E-386E-BAA5-7F5D25E2E420">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KDeleteWeight
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KDeleteWeight
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-058897B8-62B4-3B5A-B20A-0797C4795075">
     <a name="GUID-058897B8-62B4-3B5A-B20A-0797C4795075">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KExecuteWeight
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KExecuteWeight
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-DF1A0AF3-33B3-30B3-9582-E17041A529E1">
     <a name="GUID-DF1A0AF3-33B3-30B3-9582-E17041A529E1">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KCharSize
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KCharSize
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-0D75FF74-C835-3069-AB07-24F67EC2FF4C">
     <a name="GUID-0D75FF74-C835-3069-AB07-24F67EC2FF4C">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KAutoDestroyTimeLimit
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KAutoDestroyTimeLimit
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-AB7F94B4-35D8-3A1B-9381-506D829FFA12">
     <a name="GUID-AB7F94B4-35D8-3A1B-9381-506D829FFA12">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KMapKeyMaxLength
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KMapKeyMaxLength
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-4814D2AD-2B73-3156-A94C-AA4937C023E1">
     <a name="GUID-4814D2AD-2B73-3156-A94C-AA4937C023E1">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KRandomMax
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KRandomMax
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-E32F7752-E043-35AA-BFFA-3DC0E9DC329D">
     <a name="GUID-E32F7752-E043-35AA-BFFA-3DC0E9DC329D">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KRandomMin
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KRandomMin
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-ECFCCAAC-13A0-37A0-A43A-2DB10602B80A">
     <a name="GUID-ECFCCAAC-13A0-37A0-A43A-2DB10602B80A">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KRandomRangeLength
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KRandomRangeLength
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-3C35CF42-8C12-32B6-87BB-146372DF9917">
     <a name="GUID-3C35CF42-8C12-32B6-87BB-146372DF9917">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KMaxSlashAmount
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KMaxSlashAmount
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-5DA974B8-CE84-3DCA-AEE8-6E2CF0057B76">
     <a name="GUID-5DA974B8-CE84-3DCA-AEE8-6E2CF0057B76">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KCharLen
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KCharLen
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-4D9CC7FB-B761-3A8A-ACE7-B7F28EDB1D62">
     <a name="GUID-4D9CC7FB-B761-3A8A-ACE7-B7F28EDB1D62">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"z:objects.xml")/2 &gt; KObjectsXmlFileName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"z:objects.xml")/2 &gt;
       </td>
       <td>
        KObjectsXmlFileName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-1483AB23-E0F4-342C-998E-A9E1DC2B755F">
     <a name="GUID-1483AB23-E0F4-342C-998E-A9E1DC2B755F">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"C:")/2 &gt; KDefaultMediaDrive
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"C:")/2 &gt;
       </td>
       <td>
        KDefaultMediaDrive
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-15A8E843-777B-3521-AFAB-DF8ABDDFCEFE">
     <a name="GUID-15A8E843-777B-3521-AFAB-DF8ABDDFCEFE">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"Media")/2 &gt; KMediaPath
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"Media")/2 &gt;
       </td>
       <td>
        KMediaPath
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-FDE19C5E-E997-3BE6-9D29-95D63BF41E2A">
     <a name="GUID-FDE19C5E-E997-3BE6-9D29-95D63BF41E2A">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"Download")/2 &gt; KDownloadPath
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"Download")/2 &gt;
       </td>
       <td>
        KDownloadPath
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-1F4542EA-6CEA-38C1-A7A6-7AC538EFDFBE">
     <a name="GUID-1F4542EA-6CEA-38C1-A7A6-7AC538EFDFBE">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("Media")&gt; KMediaPath8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("Media")&gt;
       </td>
       <td>
        KMediaPath8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-9FA67094-DB97-37B5-BA54-2E2640D3D211">
     <a name="GUID-9FA67094-DB97-37B5-BA54-2E2640D3D211">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"Thumbnail")/2 &gt; KThumbnailPath
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"Thumbnail")/2 &gt;
       </td>
       <td>
        KThumbnailPath
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-869779A2-4137-3AA3-A2A6-C2080DB1CCD3">
     <a name="GUID-869779A2-4137-3AA3-A2A6-C2080DB1CCD3">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"/Thumbnail/")/2 &gt; KSearchThumbnailPathPattern
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"/Thumbnail/")/2 &gt;
       </td>
       <td>
        KSearchThumbnailPathPattern
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-1BF61DF4-9F91-3B55-93D3-E41B7B2EE591">
     <a name="GUID-1BF61DF4-9F91-3B55-93D3-E41B7B2EE591">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"Media/Thumbnail")/2 &gt; KMediaThumbnailPath
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"Media/Thumbnail")/2 &gt;
       </td>
       <td>
        KMediaThumbnailPath
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-DF6DB72F-A27A-3D86-945E-F002B06F5E15">
     <a name="GUID-DF6DB72F-A27A-3D86-945E-F002B06F5E15">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"\\")/2 &gt; KMainDir
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"\\")/2 &gt;
       </td>
       <td>
        KMainDir
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-3EC2D966-5188-3FAB-BC56-A41D111163AC">
     <a name="GUID-3EC2D966-5188-3FAB-BC56-A41D111163AC">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"\\")/2 &gt; KDiskPathElSep
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"\\")/2 &gt;
       </td>
       <td>
        KDiskPathElSep
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-790B831F-EC52-3D50-B171-194282C05479">
     <a name="GUID-790B831F-EC52-3D50-B171-194282C05479">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"/")/2 &gt; KSlash
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"/")/2 &gt;
       </td>
       <td>
        KSlash
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-13309E30-ADFC-334D-A819-CB29DFC25B01">
     <a name="GUID-13309E30-ADFC-334D-A819-CB29DFC25B01">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L".jpeg")/2 &gt; KDefaultThumbExtension
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L".jpeg")/2 &gt;
       </td>
       <td>
        KDefaultThumbExtension
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-AB150E85-7E2F-3C8C-9BF9-4F1A84E55CF8">
     <a name="GUID-AB150E85-7E2F-3C8C-9BF9-4F1A84E55CF8">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"Thumbnail\\")/2 &gt; KThumbDirectory11
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"Thumbnail\\")/2 &gt;
       </td>
       <td>
        KThumbDirectory11
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-8D1DACC8-05B3-3375-932A-6C114AC5EE52">
     <a name="GUID-8D1DACC8-05B3-3375-932A-6C114AC5EE52">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("image/jpeg")&gt; KThumbMimeType
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("image/jpeg")&gt;
       </td>
       <td>
        KThumbMimeType
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-7F5D883E-41A8-3C20-B7AF-0DBB74E3C831">
     <a name="GUID-7F5D883E-41A8-3C20-B7AF-0DBB74E3C831">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"data\\Download\\Media\\")/2 &gt; KDefaultUploadDir
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"data\\Download\\Media\\")/2 &gt;
       </td>
       <td>
        KDefaultUploadDir
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-325936F9-56B9-3A05-801B-EAE6E40F7848">
     <a name="GUID-325936F9-56B9-3A05-801B-EAE6E40F7848">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"thumbnail\\")/2 &gt; KThumbnailSubDir
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"thumbnail\\")/2 &gt;
       </td>
       <td>
        KThumbnailSubDir
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-B6E5D70D-A800-38AA-9502-EC231BE68D09">
     <a name="GUID-B6E5D70D-A800-38AA-9502-EC231BE68D09">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L";")/2 &gt; KSemicolon
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L";")/2 &gt;
       </td>
       <td>
        KSemicolon
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-318819EF-9B89-3634-8352-940B2CB029FD">
     <a name="GUID-318819EF-9B89-3634-8352-940B2CB029FD">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof(";")&gt; KSemicolon8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof(";")&gt;
       </td>
       <td>
        KSemicolon8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-572A5F40-BEA9-363E-9987-391B303D579F">
     <a name="GUID-572A5F40-BEA9-363E-9987-391B303D579F">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L":")/2 &gt; KCol
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L":")/2 &gt;
       </td>
       <td>
        KCol
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-52C3624F-226C-3903-B2A8-E406587975BA">
     <a name="GUID-52C3624F-226C-3903-B2A8-E406587975BA">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L",")/2 &gt; KCommaStr
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L",")/2 &gt;
       </td>
       <td>
        KCommaStr
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-7470018A-21EB-32DE-9CFD-C8DE1191AB02">
     <a name="GUID-7470018A-21EB-32DE-9CFD-C8DE1191AB02">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof(",")&gt; KCommaStr8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof(",")&gt;
       </td>
       <td>
        KCommaStr8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-F972BE4C-BF2D-3C99-808F-7F538B152F51">
     <a name="GUID-F972BE4C-BF2D-3C99-808F-7F538B152F51">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"false")/2 &gt; KFalseString
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"false")/2 &gt;
       </td>
       <td>
        KFalseString
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-1C44C3EC-500E-32A1-97B1-4A47FFFB26D1">
     <a name="GUID-1C44C3EC-500E-32A1-97B1-4A47FFFB26D1">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("false")&gt; KFalseString8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("false")&gt;
       </td>
       <td>
        KFalseString8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-E4188FD7-9913-3164-89AA-24F7CBA6474A">
     <a name="GUID-E4188FD7-9913-3164-89AA-24F7CBA6474A">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"0")/2 &gt; KFalseValue
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"0")/2 &gt;
       </td>
       <td>
        KFalseValue
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-4215C392-7C33-33CC-8291-D73957D6EDBD">
     <a name="GUID-4215C392-7C33-33CC-8291-D73957D6EDBD">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("0")&gt; KFalseValue8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("0")&gt;
       </td>
       <td>
        KFalseValue8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-24632FD1-9E01-362A-819B-45A312811D2A">
     <a name="GUID-24632FD1-9E01-362A-819B-45A312811D2A">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"*")/2 KAsterisk
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"*")/2
       </td>
       <td>
        KAsterisk
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-9DFFBFEB-8D59-347D-A988-9E30CAD1879B">
     <a name="GUID-9DFFBFEB-8D59-347D-A988-9E30CAD1879B">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("*") KAsterisk8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("*")
       </td>
       <td>
        KAsterisk8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-F10C99D8-F99E-3279-A745-7955B0FB0198">
     <a name="GUID-F10C99D8-F99E-3279-A745-7955B0FB0198">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"@")/2 &gt; KAtStr
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"@")/2 &gt;
       </td>
       <td>
        KAtStr
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-2DCBBF42-C59E-3DA3-90C6-A1C2B008D039">
     <a name="GUID-2DCBBF42-C59E-3DA3-90C6-A1C2B008D039">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("@")&gt; KAtStr8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("@")&gt;
       </td>
       <td>
        KAtStr8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-F4C7326E-79E6-375F-B9E6-BE391B08CA0A">
     <a name="GUID-F4C7326E-79E6-375F-B9E6-BE391B08CA0A">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("#")&gt; KHash8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("#")&gt;
       </td>
       <td>
        KHash8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-2C1FECED-6291-32C5-887C-3F397A0EE889">
     <a name="GUID-2C1FECED-6291-32C5-887C-3F397A0EE889">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("%23")&gt; KHashASCII8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("%23")&gt;
       </td>
       <td>
        KHashASCII8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-82B26020-3623-3B26-9836-B275D528A4C1">
     <a name="GUID-82B26020-3623-3B26-9836-B275D528A4C1">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"-1")/2 &gt; KMinusOne
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"-1")/2 &gt;
       </td>
       <td>
        KMinusOne
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-79F1072F-52AE-30C5-9E62-5573B5E9DE07">
     <a name="GUID-79F1072F-52AE-30C5-9E62-5573B5E9DE07">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("-1")&gt; KMinusOne8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("-1")&gt;
       </td>
       <td>
        KMinusOne8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-67BEA061-30D0-3340-9215-D8B9CE6663DE">
     <a name="GUID-67BEA061-30D0-3340-9215-D8B9CE6663DE">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L".")/2 &gt; KDot
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L".")/2 &gt;
       </td>
       <td>
        KDot
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-BC0AA3F3-F41C-30F1-8A88-438A21A3C183">
     <a name="GUID-BC0AA3F3-F41C-30F1-8A88-438A21A3C183">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof(".")&gt; KDot8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof(".")&gt;
       </td>
       <td>
        KDot8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-7FC14C38-02BC-3A25-91AA-C71840D02AA8">
     <a name="GUID-7FC14C38-02BC-3A25-91AA-C71840D02AA8">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L".")/2 &gt; KPathSeparator
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L".")/2 &gt;
       </td>
       <td>
        KPathSeparator
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-8B03D0B3-8706-307A-A36D-433CB0212AA0">
     <a name="GUID-8B03D0B3-8706-307A-A36D-433CB0212AA0">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof(".")&gt; KPathSeparator8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof(".")&gt;
       </td>
       <td>
        KPathSeparator8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-5CBB6C21-2220-3527-9F14-469C3B8B42A3">
     <a name="GUID-5CBB6C21-2220-3527-9F14-469C3B8B42A3">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"'")/2 &gt; KQuot
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"'")/2 &gt;
       </td>
       <td>
        KQuot
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-EA6A23F2-564F-3389-8E24-9059F7B203D5">
     <a name="GUID-EA6A23F2-564F-3389-8E24-9059F7B203D5">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"_")/2 &gt; KUndersc
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"_")/2 &gt;
       </td>
       <td>
        KUndersc
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-6FFEC3D9-3888-3D82-ACE2-53C32C784589">
     <a name="GUID-6FFEC3D9-3888-3D82-ACE2-53C32C784589">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"true")/2 &gt; KTrueString
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"true")/2 &gt;
       </td>
       <td>
        KTrueString
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-40A9CCEA-AFCA-3441-99E6-78C82BFDAB5F">
     <a name="GUID-40A9CCEA-AFCA-3441-99E6-78C82BFDAB5F">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("true")&gt; KTrueString8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("true")&gt;
       </td>
       <td>
        KTrueString8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-77B66823-7E1F-3C0E-98B7-4395167514ED">
     <a name="GUID-77B66823-7E1F-3C0E-98B7-4395167514ED">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"1")/2 &gt; KTrueValue
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"1")/2 &gt;
       </td>
       <td>
        KTrueValue
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-AA63BE0B-43F4-39DA-9CF3-7AAC8B366B4C">
     <a name="GUID-AA63BE0B-43F4-39DA-9CF3-7AAC8B366B4C">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("1")&gt; KTrueValue8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("1")&gt;
       </td>
       <td>
        KTrueValue8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-0A8E9337-F669-3B31-AFCC-8265B0E25AE0">
     <a name="GUID-0A8E9337-F669-3B31-AFCC-8265B0E25AE0">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"")/2 &gt; KNullString
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"")/2 &gt;
       </td>
       <td>
        KNullString
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-CF044A5C-0A09-39F1-9467-9073FC3B2E04">
     <a name="GUID-CF044A5C-0A09-39F1-9467-9073FC3B2E04">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L" ")/2 &gt; KSpc
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L" ")/2 &gt;
       </td>
       <td>
        KSpc
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-477829D3-F779-3559-8158-6E747D2B592D">
     <a name="GUID-477829D3-F779-3559-8158-6E747D2B592D">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("\r\n")&gt; KNewLine
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("\r\n")&gt;
       </td>
       <td>
        KNewLine
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-2FA1DCF8-649E-32AD-BE41-CE0E386A8933">
     <a name="GUID-2FA1DCF8-649E-32AD-BE41-CE0E386A8933">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("\n")&gt; KLF8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("\n")&gt;
       </td>
       <td>
        KLF8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-81AD2A51-3BD7-3972-8245-33087ABFD30C">
     <a name="GUID-81AD2A51-3BD7-3972-8245-33087ABFD30C">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof(" ")&gt; KTwoSpaces
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof(" ")&gt;
       </td>
       <td>
        KTwoSpaces
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-7853807A-D005-3BC7-AFA9-46F74D2606A9">
     <a name="GUID-7853807A-D005-3BC7-AFA9-46F74D2606A9">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("")&gt; KNullString8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("")&gt;
       </td>
       <td>
        KNullString8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-A5D10201-F000-3C1E-8420-6C1FBAA6773A">
     <a name="GUID-A5D10201-F000-3C1E-8420-6C1FBAA6773A">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("DLNA.ORG_AnyContainer")&gt; KAnyContainerIndicator8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("DLNA.ORG_AnyContainer")&gt;
       </td>
       <td>
        KAnyContainerIndicator8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-1D646DF5-289E-32D4-BCD6-5269997D8212">
     <a name="GUID-1D646DF5-289E-32D4-BCD6-5269997D8212">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"DLNA.ORG_AnyContainer")/2 &gt; KAnyContainerIndicator
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"DLNA.ORG_AnyContainer")/2 &gt;
       </td>
       <td>
        KAnyContainerIndicator
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-63E2BD85-0F65-3CEC-A127-98D9F034D306">
     <a name="GUID-63E2BD85-0F65-3CEC-A127-98D9F034D306">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TInt KAnyContainerId
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
       </td>
       <td>
        KAnyContainerId
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-C79A1EB8-2D3C-36C6-BB5C-8773D9C21F9F">
     <a name="GUID-C79A1EB8-2D3C-36C6-BB5C-8773D9C21F9F">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("z")&gt; KForbiddenDrivez
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("z")&gt;
       </td>
       <td>
        KForbiddenDrivez
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-768D0134-35EF-3ED0-A401-90C32FCC0536">
     <a name="GUID-768D0134-35EF-3ED0-A401-90C32FCC0536">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("Z")&gt; KForbiddenDriveZ
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("Z")&gt;
       </td>
       <td>
        KForbiddenDriveZ
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-90607E12-6B64-38D9-A578-1467A10B9460">
     <a name="GUID-90607E12-6B64-38D9-A578-1467A10B9460">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("/?/private*") KForbiddenPrivatePattern
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("/?/private*")
       </td>
       <td>
        KForbiddenPrivatePattern
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-4681E48F-AC40-3912-A896-10666656E609">
     <a name="GUID-4681E48F-AC40-3912-A896-10666656E609">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"object")/2 &gt; KObjectTableName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"object")/2 &gt;
       </td>
       <td>
        KObjectTableName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-DE9F985F-0A51-3DAF-92B9-427BBF58264D">
     <a name="GUID-DE9F985F-0A51-3DAF-92B9-427BBF58264D">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("object")&gt; KObjectTableName8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("object")&gt;
       </td>
       <td>
        KObjectTableName8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-EC94A3ED-C3BC-34C8-9563-345621DBA9AB">
     <a name="GUID-EC94A3ED-C3BC-34C8-9563-345621DBA9AB">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"id")/2 &gt; KObjIdColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"id")/2 &gt;
       </td>
       <td>
        KObjIdColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-8A3BDFDC-56A2-323A-AFFC-431AAA551E56">
     <a name="GUID-8A3BDFDC-56A2-323A-AFFC-431AAA551E56">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"parentID")/2 &gt; KObjParentIdColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"parentID")/2 &gt;
       </td>
       <td>
        KObjParentIdColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-D0177141-D02B-3CF2-900D-8FD760D8F80B">
     <a name="GUID-D0177141-D02B-3CF2-900D-8FD760D8F80B">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"title")/2 &gt; KObjTiltleColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"title")/2 &gt;
       </td>
       <td>
        KObjTiltleColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-42B28115-0B21-38C9-815C-54521D9B41A8">
     <a name="GUID-42B28115-0B21-38C9-815C-54521D9B41A8">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("title")&gt; KObjTiltleColName8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("title")&gt;
       </td>
       <td>
        KObjTiltleColName8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-5DCD08E3-59CF-3CFE-AD71-609085980241">
     <a name="GUID-5DCD08E3-59CF-3CFE-AD71-609085980241">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"class")/2 &gt; KObjClassColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"class")/2 &gt;
       </td>
       <td>
        KObjClassColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-306269C3-8DD3-3B6F-A0A6-B72EF99D7E59">
     <a name="GUID-306269C3-8DD3-3B6F-A0A6-B72EF99D7E59">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("class")&gt; KObjClassColName8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("class")&gt;
       </td>
       <td>
        KObjClassColName8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-BF216625-4853-3F13-9839-3009B47E2DE6">
     <a name="GUID-BF216625-4853-3F13-9839-3009B47E2DE6">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"restricted")/2 &gt; KObjRestrictedColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"restricted")/2 &gt;
       </td>
       <td>
        KObjRestrictedColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-9BAEFE06-3101-316B-BD22-9C496DDAF006">
     <a name="GUID-9BAEFE06-3101-316B-BD22-9C496DDAF006">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"searchable")/2 &gt; KObjSearchableColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"searchable")/2 &gt;
       </td>
       <td>
        KObjSearchableColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-719EB1C6-8901-3D06-912D-F3329218D1B7">
     <a name="GUID-719EB1C6-8901-3D06-912D-F3329218D1B7">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"refID")/2 &gt; KObjRefIdColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"refID")/2 &gt;
       </td>
       <td>
        KObjRefIdColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-5A43D5EC-A86A-3245-B833-B4353C4FC352">
     <a name="GUID-5A43D5EC-A86A-3245-B833-B4353C4FC352">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"path")/2 &gt; KObjPathColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"path")/2 &gt;
       </td>
       <td>
        KObjPathColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-45869B5A-645C-3F86-A57E-DBA6941EF42C">
     <a name="GUID-45869B5A-645C-3F86-A57E-DBA6941EF42C">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"obj_id_index")/2 &gt; KObjIdIndexName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"obj_id_index")/2 &gt;
       </td>
       <td>
        KObjIdIndexName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-8F8FD6C5-3B18-3861-9A3C-4523836EF551">
     <a name="GUID-8F8FD6C5-3B18-3861-9A3C-4523836EF551">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"ref_id_index")/2 &gt; KRefIdIndexName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"ref_id_index")/2 &gt;
       </td>
       <td>
        KRefIdIndexName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-00E56BD2-F21F-322F-B814-E69C79407753">
     <a name="GUID-00E56BD2-F21F-322F-B814-E69C79407753">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"element")/2 &gt; KElementTableName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"element")/2 &gt;
       </td>
       <td>
        KElementTableName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-8E5B0617-0DE8-3797-8114-A73B74AC5AF8">
     <a name="GUID-8E5B0617-0DE8-3797-8114-A73B74AC5AF8">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("element")&gt; KElementTableName8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("element")&gt;
       </td>
       <td>
        KElementTableName8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-134CB835-16A8-3EB7-A020-E0AEC4CDF81F">
     <a name="GUID-134CB835-16A8-3EB7-A020-E0AEC4CDF81F">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"elm_id")/2 &gt; KElmIdColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"elm_id")/2 &gt;
       </td>
       <td>
        KElmIdColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-EE19D8DB-A0B8-3147-9B6A-691393636C2C">
     <a name="GUID-EE19D8DB-A0B8-3147-9B6A-691393636C2C">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"elm_name")/2 &gt; KElmNameColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"elm_name")/2 &gt;
       </td>
       <td>
        KElmNameColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-232DFCEE-4EBE-342F-800E-B0AB1B0BF49D">
     <a name="GUID-232DFCEE-4EBE-342F-800E-B0AB1B0BF49D">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"elm_has_attribute")/2 &gt; KElmHasAttrColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"elm_has_attribute")/2 &gt;
       </td>
       <td>
        KElmHasAttrColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-858CA6EE-BF6E-3424-9609-5815AC102DE5">
     <a name="GUID-858CA6EE-BF6E-3424-9609-5815AC102DE5">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"elm_obj_id")/2 &gt; KElmObjIdColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"elm_obj_id")/2 &gt;
       </td>
       <td>
        KElmObjIdColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-4A38393C-D9FD-3FB0-A6BB-10638631E92F">
     <a name="GUID-4A38393C-D9FD-3FB0-A6BB-10638631E92F">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"elm_value")/2 &gt; KElmValueColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"elm_value")/2 &gt;
       </td>
       <td>
        KElmValueColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-29A7FB46-6EC5-338F-BFA4-7833C91C4513">
     <a name="GUID-29A7FB46-6EC5-338F-BFA4-7833C91C4513">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"elm_is_required")/2 &gt; KElmIsRequiredColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"elm_is_required")/2 &gt;
       </td>
       <td>
        KElmIsRequiredColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-6EFAF9A8-8093-3AFB-AA99-CD22F9A2BD10">
     <a name="GUID-6EFAF9A8-8093-3AFB-AA99-CD22F9A2BD10">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"elm_id_index")/2 &gt; KElmIdIndexName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"elm_id_index")/2 &gt;
       </td>
       <td>
        KElmIdIndexName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-7EB32B50-A5A5-30B1-9F89-A890B45BCEF0">
     <a name="GUID-7EB32B50-A5A5-30B1-9F89-A890B45BCEF0">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"elm_obj_id_index")/2 &gt; KElmObjIdIndexName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"elm_obj_id_index")/2 &gt;
       </td>
       <td>
        KElmObjIdIndexName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-AA4B9E59-4A33-34DC-BDEE-31ACD4DC4579">
     <a name="GUID-AA4B9E59-4A33-34DC-BDEE-31ACD4DC4579">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"attribute")/2 &gt; KAttributeTableName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"attribute")/2 &gt;
       </td>
       <td>
        KAttributeTableName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-0625E08B-8D50-3E67-850A-F31A0233B55E">
     <a name="GUID-0625E08B-8D50-3E67-850A-F31A0233B55E">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("attribute")&gt; KAttributeTableName8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("attribute")&gt;
       </td>
       <td>
        KAttributeTableName8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-001F23EC-8893-3C4C-8997-483AA20F855A">
     <a name="GUID-001F23EC-8893-3C4C-8997-483AA20F855A">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"atr_id")/2 &gt; KAtrIdColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"atr_id")/2 &gt;
       </td>
       <td>
        KAtrIdColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-55BDC690-5B93-3E4E-AEFF-45AB58832BAF">
     <a name="GUID-55BDC690-5B93-3E4E-AEFF-45AB58832BAF">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"atr_name")/2 &gt; KAtrNameColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"atr_name")/2 &gt;
       </td>
       <td>
        KAtrNameColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-7FDF8A18-2C58-3B73-B0F4-8EDFC7391F65">
     <a name="GUID-7FDF8A18-2C58-3B73-B0F4-8EDFC7391F65">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"atr_elm_id")/2 &gt; KAtrElmIdColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"atr_elm_id")/2 &gt;
       </td>
       <td>
        KAtrElmIdColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-1E1534E0-B5A5-3DF7-B1EE-95B0E612CA9D">
     <a name="GUID-1E1534E0-B5A5-3DF7-B1EE-95B0E612CA9D">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"atr_elm_id")/2 &gt; KAtrObjIdColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"atr_elm_id")/2 &gt;
       </td>
       <td>
        KAtrObjIdColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-EE9FB0C1-8361-37E5-834D-B1E1BDAD5264">
     <a name="GUID-EE9FB0C1-8361-37E5-834D-B1E1BDAD5264">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"atr_value")/2 &gt; KAtrValueColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"atr_value")/2 &gt;
       </td>
       <td>
        KAtrValueColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-2A0E26B5-7F9B-359A-837A-D17886B23F41">
     <a name="GUID-2A0E26B5-7F9B-359A-837A-D17886B23F41">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"atr_is_required")/2 &gt; KAtrIsRequiredColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"atr_is_required")/2 &gt;
       </td>
       <td>
        KAtrIsRequiredColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-FD88D460-5528-3314-9246-9EEB482A3EEC">
     <a name="GUID-FD88D460-5528-3314-9246-9EEB482A3EEC">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"atr_id_index")/2 &gt; KAtrIdIndexName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"atr_id_index")/2 &gt;
       </td>
       <td>
        KAtrIdIndexName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-3D00C946-5014-3D9D-B323-D9A1D18B5CB2">
     <a name="GUID-3D00C946-5014-3D9D-B323-D9A1D18B5CB2">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"atr_elm_id_index")/2 &gt; KAtrElmIdIndexName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"atr_elm_id_index")/2 &gt;
       </td>
       <td>
        KAtrElmIdIndexName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-84F9509E-33A1-37EE-806C-E32DE154A86E">
     <a name="GUID-84F9509E-33A1-37EE-806C-E32DE154A86E">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"atr_id_obj")/2 &gt; KAtrIdObjColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"atr_id_obj")/2 &gt;
       </td>
       <td>
        KAtrIdObjColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-0A459A8A-1174-362E-8BF5-D2693694137A">
     <a name="GUID-0A459A8A-1174-362E-8BF5-D2693694137A">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"resources")/2 &gt; KResourcesTableName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"resources")/2 &gt;
       </td>
       <td>
        KResourcesTableName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-FED288E4-8007-334E-ADF2-EA11D735201B">
     <a name="GUID-FED288E4-8007-334E-ADF2-EA11D735201B">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"rsc_id")/2 &gt; KRscIdColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"rsc_id")/2 &gt;
       </td>
       <td>
        KRscIdColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-AEB59EC1-579C-36F9-907C-618455DE95DD">
     <a name="GUID-AEB59EC1-579C-36F9-907C-618455DE95DD">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"rsc_path")/2 &gt; KRscPathColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"rsc_path")/2 &gt;
       </td>
       <td>
        KRscPathColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-F9008118-E1B2-3170-8F00-AB47B467D39C">
     <a name="GUID-F9008118-E1B2-3170-8F00-AB47B467D39C">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"rsc_readonly")/2 &gt; KRscReadonlyColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"rsc_readonly")/2 &gt;
       </td>
       <td>
        KRscReadonlyColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-CE303830-D65D-3CF5-B0E0-CFE2347DF91D">
     <a name="GUID-CE303830-D65D-3CF5-B0E0-CFE2347DF91D">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"rsc_thumbnail")/2 &gt; KRscThumbnailColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"rsc_thumbnail")/2 &gt;
       </td>
       <td>
        KRscThumbnailColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-C879F8A1-63B1-34D2-9A11-0DDA0A1DFE1F">
     <a name="GUID-C879F8A1-63B1-34D2-9A11-0DDA0A1DFE1F">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"rsc_id_obj_index")/2 &gt; KRscIdObjIndexName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"rsc_id_obj_index")/2 &gt;
       </td>
       <td>
        KRscIdObjIndexName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-D7310B47-84E3-3F31-A116-5B7837BB23EA">
     <a name="GUID-D7310B47-84E3-3F31-A116-5B7837BB23EA">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"rsc_id_index")/2 &gt; KRscIdIndexName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"rsc_id_index")/2 &gt;
       </td>
       <td>
        KRscIdIndexName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-548693C7-AB35-321B-B87B-EFFD09E12A66">
     <a name="GUID-548693C7-AB35-321B-B87B-EFFD09E12A66">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"rsc_id_obj")/2 &gt; KRscIdObjColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"rsc_id_obj")/2 &gt;
       </td>
       <td>
        KRscIdObjColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-007CDDBA-03A7-3F36-BF20-A54BF6F502CE">
     <a name="GUID-007CDDBA-03A7-3F36-BF20-A54BF6F502CE">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"sequences")/2 &gt; KSequencesTableName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"sequences")/2 &gt;
       </td>
       <td>
        KSequencesTableName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-530C2E30-4488-3FD9-A28D-22518020608F">
     <a name="GUID-530C2E30-4488-3FD9-A28D-22518020608F">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"seq_col_name")/2 &gt; KSeqColNameColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"seq_col_name")/2 &gt;
       </td>
       <td>
        KSeqColNameColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-550541C2-E65C-3549-BFBA-83ABCB0F8547">
     <a name="GUID-550541C2-E65C-3549-BFBA-83ABCB0F8547">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"seq_next_key")/2 &gt; KSeqNextKeyColName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"seq_next_key")/2 &gt;
       </td>
       <td>
        KSeqNextKeyColName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-4E3E34FD-9001-3680-9A03-C519E62EAFD7">
     <a name="GUID-4E3E34FD-9001-3680-9A03-C519E62EAFD7">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"seq_col_name_index")/2 &gt; KSeqColNameIndexName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"seq_col_name_index")/2 &gt;
       </td>
       <td>
        KSeqColNameIndexName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-89B9DAE9-E0EE-3D45-86DD-5CEE90C8253D">
     <a name="GUID-89B9DAE9-E0EE-3D45-86DD-5CEE90C8253D">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"uriId")/2 &gt; KImportUriId
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"uriId")/2 &gt;
       </td>
       <td>
        KImportUriId
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-F15F475D-3337-3C38-ABA7-F41BB1D9971D">
     <a name="GUID-F15F475D-3337-3C38-ABA7-F41BB1D9971D">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("uriId")&gt; KImportUriId8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("uriId")&gt;
       </td>
       <td>
        KImportUriId8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-B8911FAE-C06F-3EE9-A5C6-702533BD0FF4">
     <a name="GUID-B8911FAE-C06F-3EE9-A5C6-702533BD0FF4">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"c:AVMediaServerStore")/2 &gt; KDatabaseFileName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"c:AVMediaServerStore")/2 &gt;
       </td>
       <td>
        KDatabaseFileName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-45FF5BC6-87BA-3303-A62B-A64C7DC1E212">
     <a name="GUID-45FF5BC6-87BA-3303-A62B-A64C7DC1E212">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("object.container")&gt; KContainerClass8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("object.container")&gt;
       </td>
       <td>
        KContainerClass8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-701C8A89-B244-3F47-A394-2520D711A107">
     <a name="GUID-701C8A89-B244-3F47-A394-2520D711A107">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"object.item")/2 &gt; KItemClass
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"object.item")/2 &gt;
       </td>
       <td>
        KItemClass
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-175AD61F-2774-3E66-A7F9-FEABAA9AA2AD">
     <a name="GUID-175AD61F-2774-3E66-A7F9-FEABAA9AA2AD">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("class")&gt; KClassTagName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("class")&gt;
       </td>
       <td>
        KClassTagName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-79697D94-3B69-3586-AAFD-EE6E1C9D5D90">
     <a name="GUID-79697D94-3B69-3586-AAFD-EE6E1C9D5D90">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("title")&gt; KTitleTagName
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("title")&gt;
       </td>
       <td>
        KTitleTagName
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-0B5E09B7-F3BE-3CF8-808A-78BC063EEEA1">
     <a name="GUID-0B5E09B7-F3BE-3CF8-808A-78BC063EEEA1">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"upnp:class")/2 &gt; KClassTagNameWithNs
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"upnp:class")/2 &gt;
       </td>
       <td>
        KClassTagNameWithNs
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-2506B42F-338E-3CB6-8181-9E8115E50E9D">
     <a name="GUID-2506B42F-338E-3CB6-8181-9E8115E50E9D">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("upnp:class")&gt; KClassTagNameWithNs8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("upnp:class")&gt;
       </td>
       <td>
        KClassTagNameWithNs8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-6453D183-0FBC-34D5-9776-A7BCA6BE40AF">
     <a name="GUID-6453D183-0FBC-34D5-9776-A7BCA6BE40AF">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"dc:title")/2 &gt; KTitleTagNameWithNs
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"dc:title")/2 &gt;
       </td>
       <td>
        KTitleTagNameWithNs
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-5833F2F1-C990-3B1A-957E-1D20009796B7">
     <a name="GUID-5833F2F1-C990-3B1A-957E-1D20009796B7">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("dc:title")&gt; KTitleTagNameWithNs8
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("dc:title")&gt;
       </td>
       <td>
        KTitleTagNameWithNs8
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-C0FEAAB6-51A0-33F7-BC1E-1F5C80D514F4">
     <a name="GUID-C0FEAAB6-51A0-33F7-BC1E-1F5C80D514F4">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC&lt; sizeof(L"res")/2 &gt; KResStr
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-02059516-298A-3DB3-937C-9D9B2C1DBE07.html">
         TLitC
        </a>
        &lt; sizeof(L"res")/2 &gt;
       </td>
       <td>
        KResStr
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-8FCDAB40-14D1-399A-850F-BE9D94543287">
     <a name="GUID-8FCDAB40-14D1-399A-850F-BE9D94543287">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("&amp;quot;http-get:*:") KMimeBegin
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("&amp;quot;http-get:*:")
       </td>
       <td>
        KMimeBegin
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-BBA3676B-CCBF-3E09-82A4-EC73BB5C45A8">
     <a name="GUID-BBA3676B-CCBF-3E09-82A4-EC73BB5C45A8">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof(":*&amp;quot;") KMimeEnd
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof(":*&amp;quot;")
       </td>
       <td>
        KMimeEnd
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-35BBF13F-38A9-3ECF-AD53-8F5C4644B68B">
     <a name="GUID-35BBF13F-38A9-3ECF-AD53-8F5C4644B68B">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("imageItem")&gt; KItemTypeImage
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("imageItem")&gt;
       </td>
       <td>
        KItemTypeImage
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-9511F1B2-9AF3-3C3D-AAF7-711FB311162D">
     <a name="GUID-9511F1B2-9AF3-3C3D-AAF7-711FB311162D">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("audioItem")&gt; KItemTypeAudio
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("audioItem")&gt;
       </td>
       <td>
        KItemTypeAudio
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-30ED1D05-1261-3173-838E-0E1BF8A47A53">
     <a name="GUID-30ED1D05-1261-3173-838E-0E1BF8A47A53">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("videoItem")&gt; KItemTypeVideo
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("videoItem")&gt;
       </td>
       <td>
        KItemTypeVideo
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-1417CC38-670D-385B-957A-E833D9E2EB99">
     <a name="GUID-1417CC38-670D-385B-957A-E833D9E2EB99">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      const TLitC8&lt; sizeof("http:const static TLitC8&lt;sizeof( "&lt; xmrcc:** &gt; *" )-1, "&lt; xmrcc:*class MUpnpThumbnailCreatorObserver{public:virtual void NotifyThumbnailResultL(CUpnpThumbnailCreator *aThCreator, TInt aResult)=0;};class CUpnpThumbnailCreator:public CActive{public:enum TPhase{EDecode, EEncode, EScaling, ESleep, EDecodeObject};static CUpnpThumbnailCreator *NewLC(MUpnpThumbnailCreatorObserver *aObserver);~CUpnpThumbnailCreator();void CreateL(const TDesC &amp;aSourceFile, const TDesC &amp;aThumbName);TFileName GetFileName();TPtrC GetFileExt();TFileName GetPath();TSize GetSize(const TDesC &amp;aSourceFile);private:void ConstructL();CUpnpThumbnailCreator(MUpnpThumbnailCreatorObserver *aObserver);void EncodeAndConvertL();void RunL();TInt RunError(TInt aErr);void DoCancel();void CalculateSize(TSize &amp;aLoadSize);TInt DivisionCeil(const TInt aVal, const TInt aDiv);private:MUpnpThumbnailCreatorObserver *iObserver;RFs iFs;CImageDecoder *iDecoder;CImageEncoder *iEncoder;CBitmapScaler *iScaler;CFbsBitmap *iBitmap;TSize iSize;TParse iParse;TBuf&lt; KExtensionLength &gt; iExtension;TPhase iPhase;TFileName iFileName;TPath iPath;TUid iImageType;TSize iOldSize;TFrameInfo iInfo;};#32"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectory.h"2#1"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcdsettings.h"1#define C_CUPNPCDSETTINGS_Hclass CUpnpDevice;class MUpnpThumbnailCreatorObserver;class MUpnpContentDirectoryEventObserver;class MUpnpTransferInterface;struct TUpnpCdSettings{CUpnpDevice *iDevice;const TDesC &amp;iDownloadDir;const TDesC &amp;iThumbnailDir;const TDesC &amp;iDescriptionPath;MUpnpThumbnailCreatorObserver *iThmbObs;TBool iCreateThumbnail;TInt iMaxRequestCount;MUpnpContentDirectoryEventObserver *iEventObserver;const TDesC &amp;iObjectsXmlPath;MUpnpTransferInterface *iTransfer;};#33"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectory.h"2#1"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptransferobserver.h"1#define C_CUPNPTRANSFEROBSERVER_Hclass MUpnpTransferObserver{public:virtual void TransferCompletedL(TInt akey, TInt aResultCode)=0;virtual void TransferProgress(TInt akey, TInt aBytes, TInt aTotalBytes)=0;};#34"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectory.h"2#1"X:/epoc32/include/platform/mw/upnphttpservertransactioncreator.h"1#define UPNPHTTPSERVERTRANSACTIONCREATOR_H_class CUpnpHttpServerTransaction;class TDesC8;class TInetAddr;class MUpnpHttpServerTransactionCreator{public:virtual void NewTransactionL(const TDesC8 &amp;aMethod, const TDesC8 &amp;aUri, const TInetAddr &amp;aSender, CUpnpHttpServerTransaction *&amp;aTrans)=0;};#35"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectory.h"2#1"X:/epoc32/include/platform/mw/upnphttpserverobserver.h"1#define C_MUPNPHTTPSERVEROBSERVER_Hclass CUpnpHttpMessage;class MUpnpHttpServerObserver{public:virtual void HttpEventLD(CUpnpHttpMessage *aMessage)=0;};#36"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectory.h"2class CUpnpElementFactory;class TUpnpContainerUpdateId;class CUpnpFileTransferTimerObserver;class CUpnpObject;class CUpnpItem;class CUpnpContentDirectoryDb;class CProtocolInfo;class CUpnpMetadataStorage;class CUpnpAutoDestroyObjectList;class MUpnpContentDirectoryEventObserver;class CUpnpFileTransferEvent;class MUpnpCdsSender;class CUpnpStateHandler;class CUpnpTransferUploader;class CUpnpMimeMapper;class CUpnpTransferController;class MUpnpTransferInterface;class CUpnpDlnaFilter;class CUpnpHttpServerSession;class CUpnpSecurityManager;static const TInt KMaxImportExportTransfers=3;const static TLitC8&lt; sizeof("ContentDirectory:1")&gt; KContentDirectoryType={sizeof("ContentDirectory:1")-1,"ContentDirectory:1"};class CUpnpContentDirectory:public CUpnpServiceImplementation, public MUpnpContentDirectoryDataFinder, public MUpnpThumbnailCreatorObserver, public MUpnpTransferObserver, public MUpnpHttpServerTransactionCreator, public MUpnpHttpServerObserver{public:static CUpnpContentDirectory *NewL(TUpnpCdSettings aSettings, CUpnpMetadataStorage *aMetadataStorage, MUpnpTransferInterface *aTransfer);virtual ~CUpnpContentDirectory();IMPORT_C void SetSender(MUpnpCdsSender *aSender);public:CUpnpStateHandler *CUpnpContentDirectory::StateHandler();void AutoDestroyEventL(TInt aObjId, TBool aDeleteObj);void ActionReceivedLD(CUpnpAction *aAction);IMPORT_C void UnknownHttpEventReceivedL(CUpnpHttpMessage &amp;aHttpMsg);void AddressChangeL();void StateVariableEvented(const TDesC8 &amp;aVariableName);TInt CheckImportUriL(const TDesC8 &amp;aImportUri);void InsertRealIpAndPortL(TDes8 &amp;aString);HBufC8 *InsertIpAndPortPlaceholderL(const TDesC8 &amp;aString);CUpnpDlnaProtocolInfo *GetProtocolInfoByImportUriL(const TDesC8 &amp;aImportUri);TInt GetProtocolInfoL(const TDesC8 &amp;aContentUri, CUpnpDlnaProtocolInfo *&amp;aProtocolInfo);void GetTitleForUriL(TInt aObjectId, TPtr &amp;aValue);TInt FindSharedFolderL(const TDesC &amp;aUrlPath, const TDesC &amp;aFileName, HBufC *&amp;aSystemPath);const TPtrC MediaRealDir();void SetDownloadDirectoryL(const TDesC &amp;aDownloadDir);void SetThumbnailDirectoryL(const TDesC &amp;aDownloadDir);TInetAddr GetAddress();IMPORT_C void SendActionL(CUpnpAction *aAction, TUpnpErrorCode aError);IMPORT_C void SendMessageL(CUpnpHttpMessage *aMessage);CUpnpAutoDestroyObjectList *GetAutoDestroyObjectList();IMPORT_C void HttpTransferEventReceivedL(CUpnpHttpMessage &amp;aHttpMsg);void NotifyTransferFailL(TInt aSessionId, TInt aStatusCode);void NotifyTransferStoppedL(TInt aSessionId, CUpnpFileTransfer::TTransferType aType);void HttpGetStartedSoapNotifyL(TInt aSessionId);void HttpPostStartedL(TInt aSessionId);TCurrentAction ExecutedAction();void SetExecutedAction(TCurrentAction aAction);void HttpResponseReceivedL(TInt aSessionId, TInt aStatusCode);MUpnpContentDirectoryEventObserver *EventObserver();public:void TransferCompleteL(TInt aResId, TInt aObjId);void TransferProgress(TInt aId, TInt aBytes, TInt aTotalBytes);void TransferStartL(const TDesC8 &amp;aImpUri);void RemoveFileTransferFromTransferIDsStateVariableL(TInt aTransferID);void AddFileTransferToTransferIDsStateVariableL(TInt aTransferID);TBool IsDrmFileL(const TDesC &amp;aFileName);TBool IsDrmFileL(const TDesC8 &amp;aFileName);TInt CreateResTagL(TInt aSessionId, TDesC8 &amp;aFilePath, TInt aImportNumber, TBool aOnlyThumbnail=EFalse);void NotifyOutgoingTransferL(TInt aSessionId);CUpnpContentDirectoryDb *ContentDirectoryDb();MUpnpTransferInterface *TransferHandler();public:virtual void TransferCompletedL(TInt akey, TInt aResultCode);public:IMPORT_C virtual void NewTransactionL(const TDesC8 &amp;aMethod, const TDesC8 &amp;aUri, const TInetAddr &amp;aSender, CUpnpHttpServerTransaction *&amp;aResultTrans);private:virtual void HttpEventLD(CUpnpHttpMessage *aMessage);private:void PrepareAutoDestroyObjectL(TXmlEngElement aObject, TInt aObjId);HBufC8 *GetIpAndPortDes8L();void SetResSizeL(TXmlEngAttr aSize, const TDesC &amp;aFilePath);void AddImportUriToElL(TXmlEngElement aElement);HBufC8 *BuildImportUriLC();HBufC8 *BuildImportUriShorterLC();TBool IsThumbnailAvailableL(const TDesC &amp;aFile);TBool IsThumbnailAvailableL(const TDesC8 &amp;aFile);void CreateThumbnailL(const TDesC &amp;aSrcFile, TInt aObjId);void AddNewResTagL(TXmlEngElement aObjEl);HBufC *CreateNameForThumbnailL(const TDesC &amp;aFileName);void HandleLocalResourcesL(TXmlEngElement aRes, TInt aObjectId);HBufC8 *BuildContentUriL(const TDesC &amp;aFileExt, TInt aObjectId);TInt DoActionReceivedL(CUpnpAction *aAction);HBufC8 *SerializeObjectsListL(const RArray&lt; RXmlEngDocument &gt; &amp;aObjs);void DeleteOldResourcesL(RXmlEngDocument &amp;aObj, const TDesC8 &amp;aImportUri, const TDesC &amp;aNewFile);HBufC8 *GetImportUriLC(CUpnpHttpMessage *aMessage);HBufC *BuildThumbnailUrlPathL(const TDesC &amp;aFilename, const TDesC &amp;aNextKey);HBufC8 *GetMimeTypeLC(const TDesC8 &amp;aFilename);void RemoveThCreatorAndObjectIdLD(CUpnpThumbnailCreator *aThCreator);TInt GetObjectIdFromThCreator(CUpnpThumbnailCreator *aThCreator);HBufC8 *CreateAddressValueLC();CUpnpDlnaProtocolInfo *CreateProtocolInfoFromMimeL(const TDesC8 &amp;aMimeType, TInt aAddInfo);HBufC *GetFileNameL(TInt aObjId);HBufC *GetFileNameWithoutPathL(TInt aObjId);HBufC *CreateFileNameL(const TDesC16 &amp;aFileName);HBufC8 *GetItemTypeFromMimeTypeLC(const TDesC8 &amp;aMimeType);void CheckItemTypeForObjectL(RXmlEngDocument &amp;obj, const TDesC8 &amp;aMimeType);RXmlEngDocument XmlFragmentL(const TDesC8 &amp;aBuffer);void BrowseElementL(HBufC8 *&amp;aResp, TXmlEngElement &amp;aSen);TInt ContainerUpdateId(const TDesC8 &amp;aContainerID);TUpnpErrorCode AddToMetaDbL(RXmlEngDocument &amp;aFragment, TInt aContainer, TInt *aId, TBool aIsLocal);TUpnpErrorCode PrepareCreateOperationL(RXmlEngDocument &amp;aFragment, RArray&lt; TXmlEngAttr &gt; &amp;aImportUris, RArray&lt; TXmlEngElement &gt; &amp;aRess, TBool &amp;aLocal, TBool &amp;aCreateThumbnailRes, TInt &amp;aNextKey);void ConstructCreateResultsetL(CUpnpAction *&amp;aAction, RXmlEngDocument aElement, TInt aId);TUpnpErrorCode CreateObjectL(CUpnpAction *&amp;aAction);TUpnpErrorCode BrowseL(CUpnpAction *&amp;aAction);TUpnpErrorCode DestroyObjectL(CUpnpAction *&amp;aAction);TUpnpErrorCode CreateReferenceL(CUpnpAction *&amp;aAction);TUpnpErrorCode GetSearchCapabilitiesL(CUpnpAction *&amp;aAction);TUpnpErrorCode GetSortCapabilitiesL(CUpnpAction *&amp;aAction);TUpnpErrorCode GetSystemUpdateIdL(CUpnpAction *&amp;aAction);TUpnpErrorCode ImportResourceL(CUpnpAction *&amp;aAction);TUpnpErrorCode ExportResourceL(CUpnpAction *&amp;aAction);TUpnpErrorCode StopTransferResourceL(CUpnpAction *&amp;aAction);TUpnpErrorCode GetTransferProgressL(CUpnpAction *&amp;aAction);TUpnpErrorCode DeleteResourceL(CUpnpAction *&amp;aAction);HBufC8 *ChangeFileNameWithExtensionL(TDesC8 &amp;aFilePath, const TDesC8 &amp;aMimeType);TInt CreateResTagInternalL(TInt aSessionId, TDesC8 &amp;aFilePath, HBufC8 *aImportUri, TBool aOnlyThumbnail);TInt CreateResTagInternalWithDBRecoveryL(TInt aSessionId, TDesC8 &amp;aFilePath, HBufC8 *aImportUri, TBool aOnlyThumbnail=EFalse);private:void DoSendActionL(CUpnpAction *aAction, TUpnpErrorCode aError);void DoSendMessageL(CUpnpHttpMessage *aMessage);TBool IsValidUrlPath(const TDesC &amp;aUrlPath);HBufC8 *ProtocolInfoFromMimeL(const TDesC8 &amp;aMimeType, TInt aAddInfo, TBool aOpRangeParam, TBool aCiParam=EFalse);HBufC8 *ProtocolInfoFromMimeL(const TDesC8 &amp;aMimeType, TXmlEngElement &amp;aResEl);void NotifyThumbnailResultL(CUpnpThumbnailCreator *aThCreator, TInt aResult);CUpnpThumbnailCreator *CreateThumbnailCreatorL(TInt aObjectId);TBool IsObjectExistL(TInt aObjectId);TBool ValidateObjectL(TInt aObjectId);TInt HandleDbError(TInt aError);TBool IsDbOrDiskProblemL(CUpnpAction *aAction);TBool DataBaseHasBeenRecoveredL(TInt aError);TBool IsDbCreated();TPtrC8 UpdateImportUriL(const TDesC8 &amp;aImportUri);private:CUpnpContentDirectory(CUpnpDevice &amp;aDevice, MUpnpThumbnailCreatorObserver *aThmbObs, MUpnpTransferInterface *aTransfer);void ConstructL(TUpnpCdSettings aSettings, CUpnpMetadataStorage *aMetadataStorage);void ConstructHttpL();private:RArray&lt; TInt &gt; iThObjectIds;RPointerArray&lt; CUpnpThumbnailCreator &gt; iThumbnailCreators;TInt iNextFreeID;CUpnpElementFactory *iElementdb;CUpnpContentDirectoryDb *iContentDirectoryDb;RFs iFs;HBufC *iDownloadDir;HBufC *iThumbDir;TInt iBitmapServerConnection;TBool iEcomUsed;MUpnpThumbnailCreatorObserver *iThmbObs;CUpnpAutoDestroyObjectList *iAutoDestroyObjects;MUpnpContentDirectoryEventObserver *iEventObserver;TBool iCreateThumbnails;TInt iMaxRequestCount;TCurrentAction iCurrentAction;RXmlEngDOMImplementation iDOMImpl;MUpnpCdsSender *iSender;CUpnpMimeMapper *iMimeToExtMap;HBufC *iObjectsXmlPath;CUpnpStateHandler *iStateHandler;CUpnpTransferController *iTransferController;MUpnpTransferInterface *iTransferHandler;CUpnpDlnaFilter *iDlnaFilter;CUpnpHttpServerSession *iHttpServerSession;CUpnpSecurityManager *iSecurityManager;};#32"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp"2#1"X:/epoc32/include/platform/mw/upnpstring.h"1#define C_UPNPSTRING_Hconst static TLitC8&lt; sizeof("&amp;")&gt; KEt={sizeof("&amp;")-1,"&amp;"};const static TLitC8&lt; sizeof("&amp;amp;")&gt; KEtAmp={sizeof("&amp;amp;")-1,"&amp;amp;"};const static TLitC8&lt; sizeof("&amp;lt;")&gt; KEtlt={sizeof("&amp;lt;")-1,"&amp;lt;"};const static TLitC8&lt; sizeof("&amp;gt;")&gt; KEtgt={sizeof("&amp;gt;")-1,"&amp;gt;"};const static TLitC8&lt; sizeof("'")&gt; KApostrophe={sizeof("'")-1,"'"};const static TLitC8&lt; sizeof("&amp;apos;")&gt; KEtApos={sizeof("&amp;apos;")-1,"&amp;apos;"};const static TLitC8&lt; sizeof("&amp;quot;")&gt; KEtQuot={sizeof("&amp;quot;")-1,"&amp;quot;"};const static TLitC8&lt; sizeof("%20")&gt; KCSpace={sizeof("%20")-1,"%20"};const TInt KUrlCharNoLen=3;const TInt KOneCharLen=1;namespace UpnpString{IMPORT_C TBool IsColon(const TUint8 &amp;aChar);IMPORT_C HBufC8 *FromUnicodeL(const TDesC &amp;aBuffer);IMPORT_C HBufC16 *ToUnicodeL(const TDesC8 &amp;aBuffer);IMPORT_C HBufC8 *CurrentDateLC();HBufC8 *GetDateLC(const TTime &amp;aTime);const TDesC8 &amp;GetWeekday(const TTime &amp;aDate);const TDesC8 &amp;GetMonth(const TDateTime &amp;aDate);IMPORT_C void CutToPiecesL(TPtrC8 aPtr, TChar aDelim, RPointerArray&lt; TPtrC8 &gt; &amp;aArray);IMPORT_C TPtrC8 Trim(TPtrC8 aPtr, TBool aQuotations=EFalse);IMPORT_C HBufC8 *TrimLC(const TDesC8 &amp;aBuf, TBool aQuotations);IMPORT_C HBufC8 *ValueFromCsvL(const TDesC8 &amp;aCSV, TInt aPlace);IMPORT_C HBufC8 *AddValueToCsvL(const TDesC8 &amp;aCSV, const TDesC8 &amp;aValue);IMPORT_C HBufC8 *RemoveFromCsvLC(const TDesC8 &amp;aCSV, const TDesC8 &amp;aValue);IMPORT_C void CsvToRPointerArrayL(const TDesC8 &amp;aCSV, RPointerArray&lt; TPtrC8 &gt; &amp;aArray);IMPORT_C HBufC8 *RPointerArrayToCsvLC(RPointerArray&lt; TPtrC8 &gt; &amp;aArray);IMPORT_C void AppendStringL(CBufFlat &amp;aString, const TDesC8 &amp;aString2);IMPORT_C void AppendStringL(HBufC8 *&amp;aString, const TDesC8 &amp;aString2);IMPORT_C TInt StringToInt(const TDesC8 &amp;aStr, TInt *aInt);IMPORT_C void StringReplaceL(const TDesC8 &amp;aOrginal, HBufC8 *&amp;aResult, const TDesC8 &amp;aTrg, const TDesC8 &amp;aReplacement);IMPORT_C HBufC8 *StringReplaceL(const TDesC8 &amp;aStr, const TDesC8 &amp;aTrg, const TDesC8 &amp;aReplacement);IMPORT_C void StringReplaceInPlaceL(TDes8 &amp;aString, const TDesC8 &amp;aTrg, const TDesC8 &amp;aReplacement);IMPORT_C HBufC8 *EncodeXmlStringL(HBufC8 *&amp;aBuf);IMPORT_C HBufC8 *EncodeXmlStringL(const TDesC8 &amp;aBuf);IMPORT_C HBufC8 *DecodeXmlStringL(HBufC8 *&amp;aBuf);IMPORT_C HBufC8 *DecodeXmlStringL(const TDesC8 &amp;aBuf);IMPORT_C HBufC8 *InetToStringL(const TInetAddr &amp;aAddress);IMPORT_C void ReplaceHttpCharactersL(TDes &amp;aString);IMPORT_C void ReplaceHttpCharacters(TDes8 &amp;aString);}#35"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp"2#1"X:/epoc32/include/platform/mw/upnpargument.h"1#define C_CUPNPARGUMENT_Henum{EIn, EOut};class CUpnpSoapMessage;class CUpnpService;class CUpnpArgument:public CBase{public:static CUpnpArgument *NewL(CUpnpService &amp;aParentService);static CUpnpArgument *NewL(CUpnpArgument &amp;aArgument, CUpnpService &amp;aParentService);virtual ~CUpnpArgument();public:IMPORT_C TArgumentType Type();IMPORT_C TInt Direction() const ;IMPORT_C TDesC8 &amp;RelatedStateVariable();IMPORT_C TDesC8 &amp;Name();IMPORT_C TDesC8 &amp;Value();IMPORT_C void SetValueL(const TDesC8 &amp;aValue);void SetDirectionL(TInt aDirection);void SetNameL(const TDesC8 &amp;aDirection);void SetRelatedStateVarL(const TDesC8 &amp;aRelatedStateVar);void ConstructL();void SetType(TInt aType);private:CUpnpArgument(CUpnpService &amp;aParentService);void ConstructL(CUpnpArgument &amp;aArgument);void DeleteAndNullValue();void CheckErrorL(TInt aError, const TDesC8 &amp;aValue);private:HBufC8 *iName;HBufC8 *iRelatedStateVariable;TInt iDirection;HBufC8 *iValue;TInt iType;CUpnpService &amp;iParentService;};#36"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp"2#1"X:/epoc32/include/platform/mw/upnphttpmessagefactory.h"1#define C_RUPNPHTTPMESSAGEFACTORY_Hclass RUpnpHttpMessageFactory{public:IMPORT_C static CUpnpHttpMessage *HttpGetL(TInetAddr &amp;aDestination, const TDesC8 &amp;aPath);IMPORT_C static CUpnpHttpMessage *HttpGetL(TInetAddr &amp;aDestination, const TDesC8 &amp;aHeadPath, const TDesC8 &amp;aTailPath);IMPORT_C static CUpnpHttpMessage *HttpGetL(const TDesC8 &amp;aUrl);IMPORT_C static CUpnpHttpMessage *HttpGetL(const TDesC8 &amp;aDestination, const TDesC8 &amp;aPath);IMPORT_C static CUpnpHttpMessage *HttpHeadL(const TDesC8 &amp;aUrl);IMPORT_C static CUpnpHttpMessage *HttpHeadL(const TDesC8 &amp;aDestination, const TDesC8 &amp;aPath);IMPORT_C static CUpnpHttpMessage *HttpHeadL(TInetAddr &amp;aDestination, const TDesC8 &amp;aPath);IMPORT_C static CUpnpHttpMessage *HttpPostL(const TDesC8 &amp;aUrl);IMPORT_C static CUpnpHttpMessage *HttpPostL(const TDesC8 &amp;aDestination, const TDesC8 &amp;aPath);IMPORT_C static CUpnpHttpMessage *HttpPostL(const TInetAddr &amp;aDestination, const TDesC8 &amp;aPath);IMPORT_C static CUpnpHttpMessage *HttpResponseOkL(CUpnpHttpMessage *aMessage);IMPORT_C static CUpnpHttpMessage *HttpResponseOkL(const TInetAddr &amp;aDestination);IMPORT_C static CUpnpHttpMessage *Http11ResponseL(CUpnpHttpMessage *aMessage, TInt aStatus);IMPORT_C static CUpnpHttpMessage *Http11ResponseL(const TInetAddr &amp;aDestination, TInt aStatus);IMPORT_C static CUpnpHttpMessage *HttpResponseErrorL(CUpnpHttpMessage *aMessage, TInt aError);IMPORT_C static CUpnpHttpMessage *HttpResponseErrorL(const TInetAddr &amp;aAddr, TInt aError);IMPORT_C static CUpnpHttpMessage *UpnpResponseErrorL(CUpnpHttpMessage *aMessage, TUpnpErrorCode aError);IMPORT_C static CUpnpHttpMessage *UpnpResponseErrorL(const TInetAddr &amp;aDestination, TUpnpErrorCode aError);private:static void SetHostHeaderL(CUpnpHttpMessage *aMessage, const TInetAddr &amp;aDestination);};#37"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp"2#1"X:/epoc32/include/platform/mw/upnpdevice.h"1#define C_CUPNPDEVICE_H#1"X:/epoc32/include/platform/mw/upnpdescriptionproperty.h"1#define C_CUPNPDESCRIPTIONPROPERTY_H class TUpnpDevice;class TUpnpService;class CUpnpIcon;class CUpnpDescriptionProperty:public CBase{public:static CUpnpDescriptionProperty *NewL(const TDesC8 &amp;aName, const TDesC8 &amp;aValue);static CUpnpDescriptionProperty *NewL();CUpnpDescriptionProperty();~CUpnpDescriptionProperty();void ConstructL(const TDesC8 &amp;aName, const TDesC8 &amp;aValue);void SetNameL(const TDesC8 &amp;aName);void SetValueL(const TDesC8 &amp;aValue);const TDesC8 &amp;Name();const TDesC8 &amp;Value();private:HBufC8 *iName;HBufC8 *iValue;};#27"X:/epoc32/include/platform/mw/upnpdevice.h"2class TUpnpDevice;class TUpnpService;class CUpnpIcon;class CUpnpDescriptionProperty;const TInt KDefaultDescriptionUrlPort=80;class CUpnpDevice:public CBase{public:enum TUpnpDeviceNetwork{EUnknown=0, ELocalDevice, EHomeNetwork, ERemoteDevice};public:IMPORT_C static CUpnpDevice *NewL(const TUpnpDevice *aDevice, const RPointerArray&lt; TUpnpService &gt; &amp;aServices);virtual ~CUpnpDevice();public:IMPORT_C const TPtrC8 DeviceType();IMPORT_C const TPtrC8 DescriptionProperty(const TDesC8 &amp;aPropertyName);IMPORT_C CDesC8Array &amp;ServiceTypesL();IMPORT_C const TPtrC8 ServiceId(const TDesC8 &amp;aServiceType);IMPORT_C const TPtrC8 ServiceDescriptionUrl(const TDesC8 &amp;aServiceType);IMPORT_C RPointerArray&lt; CUpnpService &gt; &amp;ServiceList();IMPORT_C RPointerArray&lt; CUpnpDevice &gt; &amp;DeviceList();IMPORT_C void GetAllDevices(RPointerArray&lt; CUpnpDevice &gt; &amp;aDevices);IMPORT_C RPointerArray&lt; CUpnpIcon &gt; &amp;Icons();IMPORT_C TBool Alive() const ;IMPORT_C void SetAlive(TBool aAlive);IMPORT_C TBool Expired() const ;IMPORT_C void SetExpired(TBool aAlive);IMPORT_C TBool Local() const ;IMPORT_C void SetLocal(TBool aLocal);IMPORT_C TBool Remote() const ;IMPORT_C TUpnpDeviceNetwork DeviceNetwork() const ;IMPORT_C void SetDeviceNetwork(TUpnpDeviceNetwork aNetworkType);IMPORT_C const TPtrC8 Uuid();void SetUuidL(const TDesC8 &amp;aUUID);void AddDeviceL(CUpnpDevice *device);IMPORT_C const TDesC8 &amp;DescriptionUrl() const ;void SetDescriptionUrlL(const TDesC8 &amp;aDescriptionUrl);IMPORT_C const TPtrC8 DescriptionUrlPath() const ;IMPORT_C TInetAddr DescriptionUrlAddressL() const ;IMPORT_C TInt DescriptionUrlPort() const ;void AttachServiceL(CUpnpService *aService);IMPORT_C void SetAddress(const TInetAddr &amp;aAddr);IMPORT_C virtual TInetAddr Address();IMPORT_C void WaitServiceDescriptionL(TInt aSessionId);IMPORT_C TInt WaitServiceDescriptionCount();IMPORT_C TInt WaitServiceDescriptionSessionId(TInt aIndex);IMPORT_C void WaitServiceDescriptionRemoveSessionId(TInt aIndex);enum TServiceAdd{ENotServiceAdded, EServiceAdded, EAllServicesAdded};TServiceAdd ServiceDescriptionReceiveState() const {return iServiceDescriptionReceiveState;}IMPORT_C void WaitIconL(TInt aSessionId);IMPORT_C TServiceAdd AddServiceL(TInt aSessionId, CUpnpService *aService);enum TIconAdd{ENotIconAdded, EIconAdded, EAllIconsAdded};TIconAdd IconReceiveState() const {return iIconReceiveState;}IMPORT_C TIconAdd AddIcon(TInt aSessionId);IMPORT_C HBufC8 *ConcatWithUrlBaseL(const TDesC8 &amp;aUrl);IMPORT_C TPtrC8 GetProperty(const TDesC8 &amp;aProperty);void SetTypeL(const TDesC8 &amp;aType);void AddDevicePropertyL(CUpnpDescriptionProperty *aDeviceProperty);IMPORT_C void AddIconL(CUpnpIcon *aIcon);IMPORT_C CDesC8Array &amp;ServiceIdL();IMPORT_C CUpnpDevice *CloneL();void DetachService(CUpnpService *aService);public:static TPtrC8 RemoveIpAddress(const TDesC8 &amp;aAddress);void SetRootDevice(TBool aIsRoot);CUpnpDevice();private:void ConstructL(const TUpnpDevice *aDevice, const RPointerArray&lt; TUpnpService &gt; &amp;aServices);static CUpnpDevice *NewL(const TDesC8 &amp;aDescription);TInt ChangeIconSessionIdL(const TInt aOldSessionId, const TInt aNewSessionId);TInt CheckIconSessionIdExist(const TInt aSessionId);public:IMPORT_C const TPtrC8 UrlBase();IMPORT_C const TPtrC8 PresentationUrl();IMPORT_C void SetUrlBaseL(const TDesC8 &amp;aUrlBase);IMPORT_C TBool IsEmbeddDevice();void Init();void CleanupServiceArray();protected:TInt64 iTimeValue;RArray&lt; TInt &gt; iIconSessionIds;RArray&lt; TInt &gt; iServiceDescriptionSessionIds;RPointerArray&lt; CUpnpIcon &gt; iIcons;RPointerArray&lt; CUpnpDevice &gt; iDeviceList;RPointerArray&lt; CUpnpService &gt; iServiceList;TServiceAdd iServiceDescriptionReceiveState;TIconAdd iIconReceiveState;CDesC8ArrayFlat *iServiceTypes;TBool iAlive;TBool iExpired;TBool iIsAllIconsArrived;TUpnpDeviceNetwork iNetworkType;HBufC8 *iDescriptionURL;HBufC8 *iDeviceType;HBufC8 *iDomain;HBufC8 *iUUID;HBufC8 *iClockSeq;TInetAddr iAddress;TInt iHandle;TBool iIsRootDevice;HBufC *iDeviceDescription;RPointerArray&lt; CUpnpDescriptionProperty &gt; iProperties;HBufC8 *iUrlBase;CDesC8ArrayFlat *iServicesId;};#39"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp"2#1"X:/epoc32/include/platform/mw/upnpfileutils.h"1#define C_UPNPFILEUTILS_Hconst static TLitC8&lt; sizeof("text/html")&gt; KHtml={sizeof("text/html")-1,"text/html"};const static TLitC8&lt; sizeof("text/xml")&gt; KXml={sizeof("text/xml")-1,"text/xml"};const static TLitC8&lt; sizeof("text/plain")&gt; KTxt={sizeof("text/plain")-1,"text/plain"};const static TLitC8&lt; sizeof("image/jpeg")&gt; KJpg={sizeof("image/jpeg")-1,"image/jpeg"};const static TLitC8&lt; sizeof("image/gif")&gt; KGif={sizeof("image/gif")-1,"image/gif"};const static TLitC8&lt; sizeof("image/png")&gt; KPng={sizeof("image/png")-1,"image/png"};const static TLitC8&lt; sizeof("video/mpeg")&gt; KMpeg={sizeof("video/mpeg")-1,"video/mpeg"};const static TLitC8&lt; sizeof("video/x-msvideo")&gt; KAvi={sizeof("video/x-msvideo")-1,"video/x-msvideo"};const static TLitC8&lt; sizeof("audio/mpeg")&gt; KMp3={sizeof("audio/mpeg")-1,"audio/mpeg"};const static TLitC16&lt; sizeof(L".HTML")/2 &gt; KHtml16={sizeof(L".HTML")/2-1, L".HTML"};const static TLitC16&lt; sizeof(L".XML")/2 &gt; KXml16={sizeof(L".XML")/2-1, L".XML"};const static TLitC16&lt; sizeof(L".TXT")/2 &gt; KTxt16={sizeof(L".TXT")/2-1, L".TXT"};const static TLitC16&lt; sizeof(L".JPEG")/2 &gt; KJpeg16={sizeof(L".JPEG")/2-1, L".JPEG"};const static TLitC16&lt; sizeof(L".JPG")/2 &gt; KJpg16={sizeof(L".JPG")/2-1, L".JPG"};const static TLitC16&lt; sizeof(L".GIF")/2 &gt; KGif16={sizeof(L".GIF")/2-1, L".GIF"};const static TLitC16&lt; sizeof(L".PNG")/2 &gt; KPng16={sizeof(L".PNG")/2-1, L".PNG"};const static TLitC16&lt; sizeof(L".MPEG")/2 &gt; KMpeg16={sizeof(L".MPEG")/2-1, L".MPEG"};const static TLitC16&lt; sizeof(L".MPG")/2 &gt; KMpg16={sizeof(L".MPG")/2-1, L".MPG"};const static TLitC16&lt; sizeof(L".AVI")/2 &gt; KAvi16={sizeof(L".AVI")/2-1, L".AVI"};const static TLitC16&lt; sizeof(L".MP3")/2 &gt; KMp316={sizeof(L".MP3")/2-1, L".MP3"};const TInt KIPNumMax=255;const TInt KIPNumMin=1;namespace UpnpFileUtil{IMPORT_C HBufC8 *ReadFileL(const TDesC16 &amp;aFilename);IMPORT_C HBufC8 *GetMimeTypeForFileL(const TDesC16 &amp;aFilename);HBufC8 *GetMimeTypeByExtensionL(const TDesC16 &amp;aFilename);IMPORT_C TPtrC8 ExtractUrlPath(const TDesC8 &amp;aUrl, TPtrC8 &amp;aFilename, TPtrC8 &amp;aScheme, TInt &amp;aParseError);TBool ExtractUrlPathHost(const TDesC8 &amp;aUrl, TInt &amp;aParseError);TInt ExtractNumFromIP(TPtrC8 ippart);TInt DriveNumberFromPath(const TDesC16 &amp;aPath, RFs &amp;aFs);IMPORT_C TPtrC8 ExtractUrlPath(const TDesC8 &amp;aUrl, TPtrC8 &amp;aFilename, TInt &amp;aParseError);IMPORT_C TPtrC8 ExtractUrlPath(const TDesC8 &amp;aUrl, TInt &amp;aParseError);IMPORT_C HBufC8 *SwitchToBackSlashL(const TDesC8 &amp;aUrl);IMPORT_C HBufC *SwitchToBackSlashL(const TDesC &amp;aUrl);IMPORT_C TBool CheckDiskSpaceShortL(const TDesC16 &amp;aPath, TInt aSize, RFs &amp;aFs);IMPORT_C TBool CheckDiskSpaceShortL(TDriveNumber aDriveNumber, TInt aSize);IMPORT_C TInt ParseUri(const TDesC8 &amp;aUrl);}#40"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp"2#1"X:/epoc32/include/platform/mw/upnpcommonupnplits.h"1#define C_UPNPCOMMONUPNPLITS_H const TInt KLongInfoSize=1000;const TInt KMaxInfoSize=20;const static TLitC8&lt; sizeof("=\"")&gt; Keq={sizeof("=\"")-1,"=\""};const static TLitC8&lt; sizeof("false")&gt; Kfalse={sizeof("false")-1,"false"};const static TLitC8&lt; sizeof("true")&gt; Ktrue={sizeof("true")-1,"true"};const static TLitC8&lt; sizeof(")")&gt; KClosingBracket={sizeof(")")-1,")"};const static TLitC8&lt; sizeof("\")")&gt; KClosingBracketWithQuotation={sizeof("\")")-1,"\")"};const static TLitC8&lt; sizeof(":")&gt; KColon={sizeof(":")-1,":"};const static TLitC8&lt; sizeof(",")&gt; KComma={sizeof(",")-1,","};const static TLitC8&lt; sizeof("")&gt; KEmptyString={sizeof("")-1,""};const static TLitC8&lt; sizeof("&lt;")&gt; KKorp={sizeof("&lt;")-1,"&lt;"};const static TLitC8&lt; sizeof("&lt;/")&gt; KKorpSlash={sizeof("&lt;/")-1,"&lt;/"};const static TLitC8&lt; sizeof("ObjectID")&gt; KObjectID={sizeof("ObjectID")-1,"ObjectID"};const static TLitC8&lt; sizeof("1")&gt; KOne={sizeof("1")-1,"1"};const static TLitC8&lt; sizeof("%i")&gt; KOneNumber={sizeof("%i")-1,"%i"};const static TLitC8&lt; sizeof("%i")&gt; KOneNumber8={sizeof("%i")-1,"%i"};const static TLitC8&lt; sizeof("\r\n")&gt; KPlainLineFeed={sizeof("\r\n")-1,"\r\n"};const static TLitC8&lt; sizeof("&gt;")&gt; KProk={sizeof("&gt;")-1,"&gt;"};const static TLitC8&lt; sizeof(":const static TLitC8&lt;sizeof( "" )&gt; KSpace ={sizeof( "" )-1, "" };const static TLitC8&lt;sizeof( "" )&gt; KSpace8 ={sizeof( "" )-1, "" };const static TLitC8&lt;sizeof( "\"")&gt; KQuotation={sizeof("\"")-1,"\""};const static TLitC8&lt; sizeof("\" ")&gt; KQuotationWithSpace={sizeof("\" ")-1,"\" "};const static TLitC8&lt; sizeof("0")&gt; KZero={sizeof("0")-1,"0"};const static TLitC16&lt; sizeof(L"\\")/2 &gt; KBackSlash={sizeof(L"\\")/2-1, L"\\"};const static TLitC16&lt; sizeof(L" ")/2 &gt; KSpace16={sizeof(L" ")/2-1, L" "};const static TLitC16&lt; sizeof(L"\\")/2 &gt; KDoubleBackSlash={sizeof(L"\\")/2-1, L"\\"};const static TLitC&lt; sizeof(L"UPnP messagehandler Panic")/2 &gt; KMessagehandlerPanic={sizeof(L"UPnP messagehandler Panic")/2-1, L"UPnP messagehandler Panic"};const static TLitC8&lt; sizeof(" ")&gt; KEmptyMessage={sizeof(" ")-1," "};const static TLitC8&lt; sizeof(" ")&gt; KMulticastPacket={sizeof(" ")-1," "};const static TLitC16&lt; sizeof(L"LANBearer")/2 &gt; KLanBearer={sizeof(L"LANBearer")/2-1, L"LANBearer"};const static TLitC&lt; sizeof(L"MessageHandler")/2 &gt; KMessageHandlerFilename={sizeof(L"MessageHandler")/2-1, L"MessageHandler"};const static TLitC8&lt; sizeof("Here is an ERROR!")&gt; KErrorHere={sizeof("Here is an ERROR!")-1,"Here is an ERROR!"};const static TLitC8&lt; sizeof("Sent %d/%d")&gt; Servedbytes={sizeof("Sent %d/%d")-1,"Sent %d/%d"};const static TLitC8&lt; sizeof("Served %d bytes")&gt; NBytesServed={sizeof("Served %d bytes")-1,"Served %d bytes"};const static TLitC8&lt; sizeof("RunL(), error %d")&gt; KRunL={sizeof("RunL(), error %d")-1,"RunL(), error %d"};const static TLitC8&lt; sizeof("DISPATCHERENGINE *** Sending of http message fails!")&gt; KSendFail={sizeof("DISPATCHERENGINE *** Sending of http message fails!")-1,"DISPATCHERENGINE *** Sending of http message fails!"};const static TLitC8&lt; sizeof("SERVICE *** Leave during service description parsing: ")&gt; KPanic={sizeof("SERVICE *** Leave during service description parsing: ")-1,"SERVICE *** Leave during service description parsing: "};const static TLitC8&lt; sizeof("index.html")&gt; KIndexHtml={sizeof("index.html")-1,"index.html"};const static TLitC16&lt; sizeof(L"index.html")/2 &gt; KIndexHtml16={sizeof(L"index.html")/2-1, L"index.html"};const static TLitC8&lt; sizeof("index.xml")&gt; KIndexXml={sizeof("index.xml")-1,"index.xml"};const static TLitC16&lt; sizeof(L"index.xml")/2 &gt; KIndexXml16={sizeof(L"index.xml")/2-1, L"index.xml"};const static TLitC8&lt; sizeof("A_ARG_TYPE_ProtocolInfo")&gt; KArgTypeProtocolInfo={sizeof("A_ARG_TYPE_ProtocolInfo")-1,"A_ARG_TYPE_ProtocolInfo"};const static TLitC8&lt; sizeof("A_ARG_TYPE_AVTransportID")&gt; KAvtransId={sizeof("A_ARG_TYPE_AVTransportID")-1,"A_ARG_TYPE_AVTransportID"};const static TLitC8&lt; sizeof("A_ARG_TYPE_ConnectionManager")&gt; KConMan={sizeof("A_ARG_TYPE_ConnectionManager")-1,"A_ARG_TYPE_ConnectionManager"};const static TLitC8&lt; sizeof("A_ARG_TYPE_ConnectionID")&gt; KConId={sizeof("A_ARG_TYPE_ConnectionID")-1,"A_ARG_TYPE_ConnectionID"};const static TLitC8&lt; sizeof("A_ARG_TYPE_ConnectionStatus")&gt; KConStat={sizeof("A_ARG_TYPE_ConnectionStatus")-1,"A_ARG_TYPE_ConnectionStatus"};const static TLitC8&lt; sizeof("A_ARG_TYPE_Direction")&gt; KDirection={sizeof("A_ARG_TYPE_Direction")-1,"A_ARG_TYPE_Direction"};const static TLitC8&lt; sizeof("A_ARG_TYPE_ProtocolInfo")&gt; KProtInf={sizeof("A_ARG_TYPE_ProtocolInfo")-1,"A_ARG_TYPE_ProtocolInfo"};const static TLitC8&lt; sizeof("A_ARG_TYPE_RcsID")&gt; KRcsId={sizeof("A_ARG_TYPE_RcsID")-1,"A_ARG_TYPE_RcsID"};const static TLitC8&lt; sizeof("ConnectionIDs")&gt; KConnectionIDs={sizeof("ConnectionIDs")-1,"ConnectionIDs"};const static TLitC8&lt; sizeof("CurrentConnectionIDs")&gt; KCurConId={sizeof("CurrentConnectionIDs")-1,"CurrentConnectionIDs"};const static TLitC8&lt; sizeof("GetProtocolInfo")&gt; KGetProtInfo={sizeof("GetProtocolInfo")-1,"GetProtocolInfo"};const static TLitC8&lt; sizeof("GetCurrentConnectionIDs")&gt; KGetCurConIds={sizeof("GetCurrentConnectionIDs")-1,"GetCurrentConnectionIDs"};const static TLitC8&lt; sizeof("GetCurrentConnectionInfo")&gt; KGetCurConInfo={sizeof("GetCurrentConnectionInfo")-1,"GetCurrentConnectionInfo"};const static TLitC8&lt; sizeof("Sink")&gt; KSink={sizeof("Sink")-1,"Sink"};const static TLitC8&lt; sizeof("SinkProtocolInfo")&gt; KSinkInf={sizeof("SinkProtocolInfo")-1,"SinkProtocolInfo"};const static TLitC8&lt; sizeof("Source")&gt; KSource={sizeof("Source")-1,"Source"};const static TLitC8&lt; sizeof("SourceProtocolInfo")&gt; KSourceInf={sizeof("SourceProtocolInfo")-1,"SourceProtocolInfo"};const static TLitC8&lt; sizeof("http-get:*:*:*")&gt; KSupportedProtocols={sizeof("http-get:*:*:*")-1,"http-get:*:*:*"};const static TLitC8&lt; sizeof("NULL")&gt; KNull={sizeof("NULL")-1,"NULL"};const static TLitC8&lt; sizeof("output")&gt; KOutput={sizeof("output")-1,"output"};const static TLitC8&lt; sizeof("OK")&gt; KOk={sizeof("OK")-1,"OK"};const static TLitC8&lt; sizeof("RcsID")&gt; KTypeRcsID={sizeof("RcsID")-1,"RcsID"};const static TLitC8&lt; sizeof("AVTransportID")&gt; KTypeAVTransportID={sizeof("AVTransportID")-1,"AVTransportID"};const static TLitC8&lt; sizeof("ProtocolInfo")&gt; KTypeProtocolInfo={sizeof("ProtocolInfo")-1,"ProtocolInfo"};const static TLitC8&lt; sizeof("PeerConnectionManager")&gt; KTypePeerConnectionManager={sizeof("PeerConnectionManager")-1,"PeerConnectionManager"};const static TLitC8&lt; sizeof("PeerConnectionID")&gt; KTypePeerConnectionID={sizeof("PeerConnectionID")-1,"PeerConnectionID"};const static TLitC8&lt; sizeof("Direction")&gt; KTypeDirection={sizeof("Direction")-1,"Direction"};const static TLitC8&lt; sizeof("Status")&gt; KTypeStatus={sizeof("Status")-1,"Status"};const static TLitC8&lt; sizeof("ConnectionID")&gt; KArgument={sizeof("ConnectionID")-1,"ConnectionID"};const static TLitC8&lt; sizeof("PrepareForConnection")&gt; KPrepareForConnection={sizeof("PrepareForConnection")-1,"PrepareForConnection"};const static TLitC8&lt; sizeof("ConnectionComplete")&gt; KConnectionComplete={sizeof("ConnectionComplete")-1,"ConnectionComplete"};const static TLitC8&lt; sizeof("controlURL")&gt; KControlUrl={sizeof("controlURL")-1,"controlURL"};const static TLitC8&lt; sizeof("device")&gt; KDevice={sizeof("device")-1,"device"};const static TLitC8&lt; sizeof("deviceType")&gt; KDeviceType={sizeof("deviceType")-1,"deviceType"};const static TLitC8&lt; sizeof("deviceList")&gt; KDeviceList={sizeof("deviceList")-1,"deviceList"};const static TLitC8&lt; sizeof(".xml")&gt; KDotXml={sizeof(".xml")-1,".xml"};const static TLitC8&lt; sizeof("friendlyName")&gt; KFriendlyName={sizeof("friendlyName")-1,"friendlyName"};const static TLitC8&lt; sizeof("http:const static TLitC8&lt;sizeof( "icon" )&gt; KIcon ={sizeof( "icon" )-1, "icon" };const static TLitC8&lt;sizeof( "iconList" )&gt; KIconList ={sizeof( "iconList" )-1, "iconList" };const static TLitC8&lt;sizeof( "-" )&gt; KLine ={sizeof( "-" )-1, "-" };const static TLitC8&lt;sizeof( "%08x" )&gt; KMask8 ={sizeof( "%08x" )-1, "%08x" };const static TLitC8&lt;sizeof( "manufacturer" )&gt; KManufacturer ={sizeof( "manufacturer" )-1, "manufacturer" };const static TLitC8&lt;sizeof( "manufacturerURL" )&gt; KManufacturerUrl ={sizeof( "manufacturerURL" )-1, "manufacturerURL" };const static TLitC8&lt;sizeof( "modelDescription" )&gt; KModelDescription ={sizeof( "modelDescription" )-1, "modelDescription" };const static TLitC8&lt;sizeof( "modelName" )&gt; KModelName ={sizeof( "modelName" )-1, "modelName" };const static TLitC8&lt;sizeof( "modelNumber" )&gt; KModelNumber ={sizeof( "modelNumber" )-1, "modelNumber" };const static TLitC8&lt;sizeof( "modelURL" )&gt; KModelUrl ={sizeof( "modelURL" )-1, "modelURL" };const static TLitC8&lt;sizeof( ":" )&gt; KSepar ={sizeof( ":" )-1, ":" };const static TLitC8&lt;sizeof( "serialNumber" )&gt; KSerialNumber ={sizeof( "serialNumber" )-1, "serialNumber" };const static TLitC8&lt;sizeof( "service" )&gt; KService ={sizeof( "service" )-1, "service" };const static TLitC8&lt;sizeof( "serviceList" )&gt; KServiceList ={sizeof( "serviceList" )-1, "serviceList" };const static TLitC8&lt;sizeof( "serviceId" )&gt; KServiceId ={sizeof( "serviceId" )-1, "serviceId" };const static TLitC8&lt;sizeof( "serviceType" )&gt; KServiceType ={sizeof( "serviceType" )-1, "serviceType" };const static TLitC8&lt;sizeof( "service:" )&gt; KServiceUrn ={sizeof( "service:" )-1, "service:" };const static TLitC8&lt;sizeof( "SCPDURL" )&gt; KServiceDescriptionUrl ={sizeof( "SCPDURL" )-1, "SCPDURL" };const static TLitC8&lt;sizeof( "eventSubURL" )&gt; KSubscriptionUrl ={sizeof( "eventSubURL" )-1, "eventSubURL" };const static TLitC8&lt;sizeof( ":device:" )&gt; KDeviceSearch ={sizeof( ":device:" )-1, ":device:" };const static TLitC8&lt;sizeof( "\r" )&gt; KR ={sizeof( "\r" )-1, "\r" };const static TLitC8&lt;sizeof( "/" )&gt; KSlash8 ={sizeof( "/" )-1, "/" };const static TLitC8&lt;sizeof( "UDN" )&gt; KUdn ={sizeof( "UDN" )-1, "UDN" };const static TLitC8&lt;sizeof( "uuid:" )&gt; KUuid ={sizeof( "uuid:" )-1, "uuid:" };const static TLitC8&lt;sizeof( "presentationURL" )&gt; KPresentationUrl ={sizeof( "presentationURL" )-1, "presentationURL" };const static TLitC8&lt;sizeof( "URLBase" )&gt; KUrlBase ={sizeof( "URLBase" )-1, "URLBase" };const static TLitC8&lt;sizeof( "NoHeader" )&gt; KNoHeader ={sizeof( "NoHeader" )-1, "NoHeader" };const static TLitC8&lt;sizeof( "80" )&gt; KDefaultHostPort ={sizeof( "80" )-1, "80" };const static TLitC8&lt;sizeof( "uuid:" )&gt; KSidPrefix ={sizeof( "uuid:" )-1, "uuid:" };const static TLitC8&lt;sizeof( "Second-" )&gt; KTimeoutPrefix ={sizeof( "Second-" )-1, "Second-" };const static TLitC8&lt;sizeof( "path" )&gt; KPath ={sizeof( "path" )-1, "path" }; const static TLitC8&lt;sizeof( "GET" )&gt; KGet ={sizeof( "GET" )-1, "GET" };const static TLitC8&lt;sizeof( "Second-" )&gt; KSeconds ={sizeof( "Second-" )-1, "Second-" };const static TLitC8&lt;sizeof( "image/png" )&gt; KMimePng ={sizeof( "image/png" )-1, "image/png" };const static TLitC8&lt;sizeof( "image/jpeg" )&gt; KMimeJpeg ={sizeof( "image/jpeg" )-1, "image/jpeg" };const static TLitC8&lt;sizeof( "C:\\System\\Data\\UPnP\\" )&gt; KUpnpPath ={sizeof( "C:\\System\\Data\\UPnP\\" )-1, "C:\\System\\Data\\UPnP\\" };const static TLitC8&lt;sizeof( "&lt;" )&gt; KLessThan8 ={sizeof( "&lt;" )-1, "&lt;" }; const static TLitC8&lt;sizeof( "&gt;" )&gt; KGreaterThan8 ={sizeof( "&gt;" )-1, "&gt;" }; const static TLitC&lt;sizeof(L"c:" )/2&gt; KMediaDriveLetter ={sizeof(L"c:" )/2-1,L"c:" }; # 41 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontainerupdateid.h" 1#define C_CUPNPCONTAINERUPDATEID_Hclass TUpnpContainerUpdateId{public: TUpnpContainerUpdateId();public: HBufC8* iContainerId; TInt iUpdateId;}; # 42 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectorydb.h" 1#define C_CUPNPCONTENTDIRECTORYDB_H# 1 "X:/epoc32/include/d32dbms.h" 1#define __D32DBMS_H__class RFs;class CDbObject;class CDbRowConstraint;class CDbCursor;class CDbDatabase;class CDbIncremental;class CDbNotifier;class TDbColumn;class TDbColumnC;class TDbCol;class CDbColSet;class TDbColSetIter;class TDbKeyCol;class CDbKey;class TDbBookmark;class TDbQuery;class RDbHandleBase;template&lt;class T&gt; class RDbHandle;class RDbRowConstraint;class RDbRowSet;class RDbColReadStream;class RDbColWriteStream;class TDbWindow;class RDbView;template&lt;class T&gt; class TUnion;class TDbLookupKey;class TDbSeekKey;template&lt;TInt S&gt; class TDbSeekMultiKey;class RDbTable;class CDbNames;class RDbDatabase;class RDbIncremental;class RDbUpdate;class RDbNotifier;class RDbs;class RDbNamedDatabase;class RDbStoreDatabase;const TInt KDbMaxName=0x40;const TInt KDbMaxColName=KDbMaxName;typedef TBuf&lt;KDbMaxName&gt; TDbName;typedef TBufC&lt;KDbMaxName&gt; TDbNameC;typedef TBuf&lt;KDbMaxColName&gt; TDbColName;typedef TBufC&lt;KDbMaxColName&gt; TDbColNameC;typedef TInt TDbColNo;const TDbColNo KDbNullColNo=0;const TInt KDbUndefinedCount=-1;const TInt KDbUndefinedLength=-1;const TInt KDbDefaultTextColLength=50;enum TDbColType { EDbColBit, EDbColInt8, EDbColUint8, EDbColInt16, EDbColUint16, EDbColInt32, EDbColUint32, EDbColInt64, EDbColReal32, EDbColReal64, EDbColDateTime, EDbColText8, EDbColText16, EDbColBinary, EDbColLongText8, EDbColLongText16, EDbColLongBinary, EDbColText=EDbColText16, EDbColLongText=EDbColLongText16 };enum TDbTextComparison { EDbCompareNormal, EDbCompareFolded, EDbCompareCollated };class TDbCol { friend class CDbColSet;public: enum {ENotNull=0x01,EAutoIncrement=0x02};public: inline TDbCol() {} inline TDbCol(const TDbCol&amp;); inline TDbCol&amp; operator=(const TDbCol&amp;); IMPORT_C TDbCol(const TDesC&amp; aName,TDbColType aType); IMPORT_C TDbCol(const TDesC&amp; aName,TDbColType aType,TInt aMaxLength); static inline TBool IsLong(TDbColType aType);private: inline TDbCol(const TDesC&amp; aName);public: TDbColType iType; TInt iMaxLength; TUint iAttributes; TDbColNameC iName; };class CDbColSet : public CBase { friend class TDbColSetIter;public: IMPORT_C CDbColSet(); IMPORT_C static CDbColSet* NewL(); IMPORT_C static CDbColSet* NewLC(); IMPORT_C ~CDbColSet(); inline const TDbCol&amp; operator[](TDbColNo aCol) const; IMPORT_C const TDbCol* Col(const TDesC&amp; aColName) const; IMPORT_C TDbColNo ColNo(const TDesC&amp; aColName) const; inline TInt Count() const; inline void Clear(); IMPORT_C CDbColSet&amp; AddL(const TDbCol&amp; aCol); IMPORT_C void Remove(const TDesC&amp; aColName);private: CArrayPakFlat&lt;TDbCol&gt; iColumns; };class TDbColSetIter {public: IMPORT_C TDbColSetIter(const CDbColSet&amp; aColSet); inline operator TAny* () const; inline const TDbCol&amp; operator*() const; inline const TDbCol* operator-&gt;) const; IMPORT_C TDbColSetIter&amp; operator++(); inline TDbColSetIter operator++(TInt); inline TDbColNo Col() const;private: const TDbCol* iColumn; TInt iIndex; const CArrayPakFlat&lt;TDbCol&gt;* iArray; };class TDbKeyCol {public: enum TOrder { EAsc, EDesc };public: inline TDbKeyCol() {} inline TDbKeyCol(const TDbKeyCol&amp;); inline TDbKeyCol&amp; operator=(const TDbKeyCol&amp;); IMPORT_C TDbKeyCol(const TDesC&amp; aName,TOrder anOrder=EAsc); IMPORT_C TDbKeyCol(const TDesC&amp; aName,TInt aLength,TOrder anOrder=EAsc);public: TOrder iOrder; TInt iLength; TDbColNameC iName; };class CDbKey : public CBase {public: enum {EUnique=0x01,EPrimary=0x02};public: IMPORT_C CDbKey(); IMPORT_C static CDbKey* NewL(); IMPORT_C static CDbKey* NewLC(); IMPORT_C ~CDbKey(); IMPORT_C CDbKey&amp; AddL(const TDbKeyCol&amp; aKeyCol); IMPORT_C void Remove(const TDesC&amp; aColName); IMPORT_C void Clear(); inline TInt Count() const; inline const TDbKeyCol&amp; operator[](TInt aCol) const; inline void MakeUnique(); inline TBool IsUnique() const; inline void SetComparison(TDbTextComparison aComparison); inline TDbTextComparison Comparison() const; inline void MakePrimary(); inline TBool IsPrimary() const;private: CArrayPakFlat&lt;TDbKeyCol&gt; iKeys; TDbTextComparison iComparison; TInt iAttributes; };class TDbBookmark { friend class RDbRowSet;public: struct TMark { enum {ESize=8}; TUint32 iMark[ESize]; };private: TMark iMark; };class TDbQuery {public: inline TDbQuery(const TDesC&amp; aQuery,TDbTextComparison aComparison=EDbCompareNormal); inline const TDesC&amp; Query() const; inline TDbTextComparison Comparison() const;private: const TDesC&amp; iQuery; TDbTextComparison iComparison; };class RDbHandleBase {public: inline RDbHandleBase(); void Close();protected: inline void Set(CDbObject* aObject); CDbObject&amp; Object() const;protected: CDbObject* iObject; };template &lt;class T&gt;class RDbHandle : public RDbHandleBase {public: inline T* operator=(T* aT); inline T* operator-&gt;) const; inline T&amp; operator*() const; inline T* operator()() const; };class RDbRowConstraint { friend class RDbRowSet;public: IMPORT_C TInt Open(const RDbRowSet&amp; aView,TDbQuery aCriteria); IMPORT_C void Close();private: RDbHandle&lt;CDbRowConstraint&gt; iConstraint; };class RDbRowSet { friend class RDbRowConstraint; friend class RDbColReadStream; friend class RDbColWriteStream;public: enum TPosition { EFirst, ENext, EPrevious, ELast, EBeginning, EEnd }; enum TAccess { EUpdatable, EReadOnly, EInsertOnly }; enum TDirection { EForwards, EBackwards }; enum TAccuracy { EEnsure, EQuick };public: IMPORT_C void Close(); IMPORT_C void Reset(); IMPORT_C CDbColSet* ColSetL() const; IMPORT_C TInt ColCount() const; IMPORT_C TDbColType ColType(TDbColNo aCol) const; IMPORT_C TDbCol ColDef(TDbColNo aCol) const; IMPORT_C TBool AtRow() const; IMPORT_C TBool AtBeginning() const; IMPORT_C TBool AtEnd() const; IMPORT_C TInt CountL(TAccuracy anAccuracy=EEnsure) const; IMPORT_C TBool IsEmptyL() const; IMPORT_C TBool GotoL(TPosition aPosition); inline void BeginningL(); inline void EndL(); inline TBool FirstL(); inline TBool LastL(); inline TBool NextL(); inline TBool PreviousL(); IMPORT_C TDbBookmark Bookmark() const; IMPORT_C void GotoL(const TDbBookmark&amp; aMark); IMPORT_C TBool MatchL(const RDbRowConstraint&amp; aConstraint); IMPORT_C TInt FindL(TDirection aDirection,TDbQuery aCriteria); IMPORT_C void GetL(); IMPORT_C void InsertL(); IMPORT_C void InsertCopyL(); IMPORT_C void UpdateL(); IMPORT_C void PutL(); IMPORT_C void Cancel(); IMPORT_C void DeleteL(); inline TBool IsColNull(TDbColNo aCol) const; IMPORT_C TInt ColSize(TDbColNo aCol) const; IMPORT_C TInt ColLength(TDbColNo aCol) const; IMPORT_C TInt8 ColInt8(TDbColNo aCol) const; IMPORT_C TInt16 ColInt16(TDbColNo aCol) const; IMPORT_C TInt32 ColInt32(TDbColNo aCol) const; IMPORT_C TInt64 ColInt64(TDbColNo aCol) const; inline TInt ColInt(TDbColNo aCol) const; IMPORT_C TUint8 ColUint8(TDbColNo aCol) const; IMPORT_C TUint16 ColUint16(TDbColNo aCol) const; IMPORT_C TUint32 ColUint32(TDbColNo aCol) const; inline TUint ColUint(TDbColNo aCol) const; IMPORT_C TReal32 ColReal32(TDbColNo aCol) const __SOFTFP; IMPORT_C TReal64 ColReal64(TDbColNo aCol) const __SOFTFP; inline TReal ColReal(TDbColNo aCol) const; IMPORT_C TTime ColTime(TDbColNo aCol) const; IMPORT_C TPtrC8 ColDes8(TDbColNo aCol) const; IMPORT_C TPtrC16 ColDes16(TDbColNo aCol) const; IMPORT_C TPtrC ColDes(TDbColNo aCol) const; IMPORT_C void SetColNullL(TDbColNo aCol); inline void SetColL(TDbColNo aCol,TInt aValue); IMPORT_C void SetColL(TDbColNo aCol,TInt32 aValue); IMPORT_C void SetColL(TDbColNo aCol,TInt64 aValue); inline void SetColL(TDbColNo aCol,TUint aValue); IMPORT_C void SetColL(TDbColNo aCol,TUint32 aValue); IMPORT_C void SetColL(TDbColNo aCol,TReal32 aValue) __SOFTFP; IMPORT_C void SetColL(TDbColNo aCol,TReal64 aValue) __SOFTFP; IMPORT_C void SetColL(TDbColNo aCol,TTime aValue); IMPORT_C void SetColL(TDbColNo aCol,const TDesC8&amp; aValue); IMPORT_C void SetColL(TDbColNo aCol,const TDesC16&amp; aValue);private: inline MStreamBuf* ColSourceL(TDbColNo aCol) const; inline MStreamBuf* ColSinkL(TDbColNo aCol); CDbCursor&amp; CheckCol(TDbColNo aCol) const; TDbColumnC ColumnC(TDbColNo aCol,TDbColType aType) const; TDbColumn Column(TDbColNo aCol,TDbColType aType);protected: RDbHandle&lt;CDbCursor&gt; iCursor; };class RDbColReadStream : public RReadStream {public: IMPORT_C void OpenL(const RDbRowSet&amp; aView,TDbColNo aCol); IMPORT_C void OpenLC(const RDbRowSet&amp; aView,TDbColNo aCol); };class RDbColWriteStream : public RWriteStream {public: inline RDbColWriteStream() {} inline RDbColWriteStream(const MExternalizer&lt;TStreamRef&gt; &amp;anExternalizer); IMPORT_C void OpenL(RDbRowSet&amp; aView,TDbColNo aCol); IMPORT_C void OpenLC(RDbRowSet&amp; aView,TDbColNo aCol); };class TDbWindow {public: enum TUnlimited { EUnlimited=KMaxTInt }; enum {ENone=0};public: inline TDbWindow(); inline TDbWindow(TUnlimited); IMPORT_C TDbWindow(TInt aForeSlots,TInt aRearSlots); inline TInt Size() const; inline TInt PreferredPos() const;private: TInt iSize; TInt iPreferredPos; };#define KDbUnlimitedWindowclass RDbView : public RDbRowSet {public: IMPORT_C TInt Prepare(RDbDatabase&amp; aDatabase,const TDbQuery&amp; aQuery,TAccess anAccess=EUpdatable); IMPORT_C TInt Prepare(RDbDatabase&amp; aDatabase,const TDbQuery&amp; aQuery,const TDbWindow&amp; aWindow); IMPORT_C TInt Prepare(RDbDatabase&amp; aDatabase,const TDbQuery&amp; aQuery,const TDbWindow&amp; aWindow,TAccess anAccess); IMPORT_C TInt EvaluateAll(); IMPORT_C TInt Evaluate(); IMPORT_C void Evaluate(TRequestStatus&amp; aStatus); IMPORT_C TBool Unevaluated() const; };template &lt;class T&gt;class TUnion {public: inline operator const T&amp;() const; inline const T&amp; operator()() const; inline T&amp; operator()(); inline void Set(const T&amp; aT);private: TUint8 iRep[sizeof(T)]; };class TDbLookupKey {public: struct SColumn { union { TInt32 iInt32; TUint32 iUint32; TUnion&lt;TInt64&gt; iInt64; TReal32 iReal32; TReal64 iReal64; TUnion&lt;TTime&gt; iTime; struct {const TText8* iPtr;TInt iLength;} iDes8; struct {const TText16* iPtr;TInt iLength;} iDes16; }; TDbColType iType; };public: inline TDbLookupKey(); inline TInt Count() const; inline const SColumn* First() const; void Add(TInt aKey); void Add(TUint aKey); void Add(TInt64 aKey); void Add(TReal32 aKey) __SOFTFP; void Add(TReal64 aKey) __SOFTFP; void Add(TTime aKey); void Add(const TDesC8&amp; aKey); void Add(const TDesC16&amp; aKey);private: SColumn&amp; NextKey();private: TInt iCount; SColumn iKey[1]; };class TDbSeekKey { friend class RDbTable;public: inline TDbSeekKey(); inline TDbSeekKey(TInt aKey); inline TDbSeekKey(TUint aKey); inline TDbSeekKey(TInt64 aKey); inline TDbSeekKey(TReal32 aKey); inline TDbSeekKey(TReal64 aKey); inline TDbSeekKey(TTime aKey); inline TDbSeekKey(const TDesC8&amp; aKey); inline TDbSeekKey(const TDesC16&amp; aKey); IMPORT_C TDbSeekKey&amp; Add(TInt aKey); IMPORT_C TDbSeekKey&amp; Add(TUint aKey); IMPORT_C TDbSeekKey&amp; Add(TInt64 aKey); IMPORT_C TDbSeekKey&amp; Add(TReal32 aKey) __SOFTFP; IMPORT_C TDbSeekKey&amp; Add(TReal64 aKey) __SOFTFP; IMPORT_C TDbSeekKey&amp; Add(TTime aKey); IMPORT_C TDbSeekKey&amp; Add(const TDesC8&amp; aKey); IMPORT_C TDbSeekKey&amp; Add(const TDesC16&amp; aKey);private: TDbLookupKey&amp; Check();protected: inline TDbSeekKey(TInt aKeys,TInt);private: TInt iMaxKeys; TDbLookupKey iKey; };template&lt;TInt S&gt;class TDbSeekMultiKey : public TDbSeekKey {public: inline TDbSeekMultiKey();private: TDbLookupKey::SColumn iExtraKeys[S-1]; };class RDbTable : public RDbRowSet {public: enum TComparison { ELessThan, ELessEqual, EEqualTo, EGreaterEqual, EGreaterThan };public: IMPORT_C TInt Open(RDbDatabase&amp; aDatabase,const TDesC&amp; aName,TAccess anAccess=EUpdatable); inline TInt SetIndex(const TDesC&amp; anIndex); inline TInt SetNoIndex(); IMPORT_C TBool SeekL(const TDbSeekKey&amp; aKey,TComparison aComparison=EEqualTo);private: IMPORT_C TInt SetIndex(const TDesC* anIndex); };class CDbNames : public CBase {private: inline CDbNames();public: static CDbNames* NewLC(); ~CDbNames(); inline TInt Count() const; inline const TDesC&amp; operator[](TInt anIndex) const; IMPORT_C void AddL(const TDesC&amp; aName);private: CArrayPakFlat&lt;TDbNameC&gt; iList; };typedef CDbNames CDbTableNames,CDbIndexNames,CDbDatabaseNames;const TInt KDbMaxStrLen = 256;typedef TBufC&lt;KDbMaxStrLen&gt; TDbStringC;class CDbStrings : public CBase {private: inline CDbStrings();public: static CDbStrings* NewLC(); virtual ~CDbStrings(); inline TInt Count() const; inline const TDesC&amp; operator[](TInt aIndex) const; void AddL(const TDesC&amp; aStr);private: CArrayPakFlat&lt;TDbStringC&gt; iList; };class RDbDatabase { friend class RDbView; friend class RDbTable; friend class RDbIncremental; friend class RDbUpdate; friend class RDbNotifier;public: struct TSize {TInt iSize;TInt iUsage;};public: IMPORT_C void Close(); IMPORT_C TInt Destroy(); IMPORT_C TBool IsDamaged() const; IMPORT_C TInt Recover(); IMPORT_C TInt UpdateStats(); IMPORT_C TSize Size() const; IMPORT_C TInt Compact(); IMPORT_C TInt Begin(); IMPORT_C TInt Commit(); IMPORT_C void Rollback(); IMPORT_C TBool InTransaction() const; inline TInt CreateTable(const TDesC&amp; aName,const CDbColSet&amp; aDef); inline TInt CreateTable(const TDesC&amp; aName,const CDbColSet&amp; aDef,const CDbKey&amp; aPrimaryKey); IMPORT_C TInt DropTable(const TDesC&amp; aName); IMPORT_C TInt AlterTable(const TDesC&amp; aName,const CDbColSet&amp; aNewDef); IMPORT_C TInt CreateIndex(const TDesC&amp; aName,const TDesC&amp; aTable,const CDbKey&amp; aKey); IMPORT_C TInt DropIndex(const TDesC&amp; aName,const TDesC&amp; aTable); IMPORT_C TInt Execute(const TDesC&amp; aSql,TDbTextComparison aComparison=EDbCompareNormal); IMPORT_C CDbTableNames* TableNamesL() const; IMPORT_C CDbColSet* ColSetL(const TDesC&amp; aName) const; IMPORT_C CDbIndexNames* IndexNamesL(const TDesC&amp; aTable) const; IMPORT_C CDbKey* KeyL(const TDesC&amp; aName,const TDesC&amp; aTable) const;private: IMPORT_C TInt CreateTable(const TDesC&amp; aName,const CDbColSet&amp; aColSet,const CDbKey* aPrimaryKey);protected: RDbHandle&lt;CDbDatabase&gt; iDatabase; };class RDbIncremental {public: IMPORT_C void Close(); IMPORT_C TInt Next(TInt&amp; aStep); IMPORT_C void Next(TPckgBuf&lt;TInt&gt;&amp; aStep,TRequestStatus&amp; aStatus); IMPORT_C TInt Recover(RDbDatabase&amp; aDatabase,TInt&amp; aStep); IMPORT_C TInt Compact(RDbDatabase&amp; aDatabase,TInt&amp; aStep); IMPORT_C TInt DropTable(RDbDatabase&amp; aDatabase,const TDesC&amp; aTable,TInt&amp; aStep); IMPORT_C TInt AlterTable(RDbDatabase&amp; aDatabase,const TDesC&amp; aTable,const CDbColSet&amp; aNewDef,TInt&amp; aStep); IMPORT_C TInt CreateIndex(RDbDatabase&amp; aDatabase,const TDesC&amp; aName,const TDesC&amp; aTable,const CDbKey&amp; aKey,TInt&amp; aStep); IMPORT_C TInt DropIndex(RDbDatabase&amp; aDatabase,const TDesC&amp; aName,const TDesC&amp; aTable,TInt&amp; aStep); inline TInt Execute(RDbDatabase&amp; aDatabase,const TDesC&amp; aSql,TInt&amp; aStep); IMPORT_C TInt Execute(RDbDatabase&amp; aDatabase,const TDesC&amp; aSql,TDbTextComparison aComparison,TInt&amp; aStep); IMPORT_C TInt UpdateStats(RDbDatabase&amp; aDatabase,TInt&amp; aStep);private: RDbHandle&lt;CDbIncremental&gt; iState; };class RDbUpdate {public: IMPORT_C TInt Execute(RDbDatabase&amp; aDatabase,const TDesC&amp; aSql,TDbTextComparison aComparison=EDbCompareNormal); IMPORT_C void Close(); IMPORT_C TInt Next(); IMPORT_C void Next(TRequestStatus&amp; aStatus); IMPORT_C TInt RowCount() const;private: RDbHandle&lt;CDbIncremental&gt; iUpdate; TPckgBuf&lt;TInt&gt; iRows; };class RDbNotifier {public: enum TEvent { EClose, EUnlock, ECommit, ERollback, ERecover };public: IMPORT_C TInt Open(RDbDatabase&amp; aDatabase); IMPORT_C void Close(); IMPORT_C void NotifyUnlock(TRequestStatus&amp; aStatus); IMPORT_C void NotifyChange(TRequestStatus&amp; aStatus); IMPORT_C void Cancel();private: RDbHandle&lt;CDbNotifier&gt; iNotifier; };class RDbs : public RSessionBase {public: typedef enum {EReadPolicy, EWritePolicy, ESchemaPolicy} TPolicyType;public: IMPORT_C static TVersion Version(); IMPORT_C TInt Connect(); IMPORT_C CDbDatabaseNames* DatabaseNamesL(TDriveNumber aDrive, TUid aPolicyUid); IMPORT_C TInt CopyDatabase(const TDesC&amp; aSrcDbName, const TDesC&amp; aDestDbName, TUid aPolicyUid); IMPORT_C TInt DeleteDatabase(const TDesC&amp; aDbName, TUid aPolicyUid); IMPORT_C TInt GetDatabasePolicy(TUid aPolicyUid, TPolicyType aPolicyType, TSecurityPolicy&amp; aDbPolicy); IMPORT_C TInt GetTablePolicy(TUid aPolicyUid, const TDesC&amp; aTableName, TPolicyType aPolicyType, TSecurityPolicy&amp; aTablePolicy); IMPORT_C TInt GetTablePolicies(TUid aPolicyUid, const TDesC&amp; aTableName, TPolicyType aPolicyType, TSecurityPolicy&amp; aDbPolicy, TSecurityPolicy&amp; aTablePolicy); IMPORT_C void ResourceMark(); IMPORT_C void ResourceCheck(); IMPORT_C TInt ResourceCount(); IMPORT_C void SetHeapFailure(TInt aTAllocFail,TInt aRate); IMPORT_C TInt ReserveDriveSpace(TInt aDriveNo, TInt aSpace); IMPORT_C void FreeReservedSpace(TInt aDriveNo); IMPORT_C TInt GetReserveAccess(TInt aDriveNo); IMPORT_C TInt ReleaseReserveAccess(TInt aDriveNo); IMPORT_C TInt GetBackupPath(TSecureId aRequesterSid, const TDesC&amp; aDbName, TUid aDbPolicyUid, TDes&amp; aBackupPath); IMPORT_C CDbStrings* BackupPathsL(TSecureId aRequesterSid, TUid aDbPolicyUid);private: TInt DoConnect(); TInt SessionMessage(TInt aFunction); TInt GetPolicy(TUid aPolicyUid, const TDesC&amp; aTableName, TUint aMask, TSecurityPolicy&amp; aPolicy); };class RDbNamedDatabase : public RDbDatabase {public: enum TAccess { EReadWrite, EReadOnly };public: IMPORT_C TInt Create(RDbs&amp; aDbs, const TDesC&amp; aDatabase, const TDesC&amp; aFormat); IMPORT_C TInt Create(RFs&amp; aFs,const TDesC&amp; aDatabase,const TDesC&amp; aFormat=TPtrC()); IMPORT_C TInt Replace(RFs&amp; aFs,const TDesC&amp; aDatabase,const TDesC&amp; aFormat=TPtrC()); IMPORT_C TInt Open(RFs&amp; aFs,const TDesC&amp; aDatabase,const TDesC&amp; aFormat=TPtrC(),TAccess aMode=EReadWrite); IMPORT_C TInt Open(RDbs&amp; aDbs,const TDesC&amp; aDatabase,const TDesC&amp; aFormat=TPtrC()); };class RDbStoreDatabase : public RDbDatabase {public: IMPORT_C TStreamId CreateL(CStreamStore* aStore); IMPORT_C void OpenL(CStreamStore* aStore,TStreamId anId); IMPORT_C static void CompressL(CStreamStore&amp; aStore,TStreamId aId); IMPORT_C static void DecompressL(CStreamStore&amp; aStore,TStreamId aId); };# 1 "X:/epoc32/include/d32dbms.inl" 1inline TDbCol::TDbCol(const TDesC &amp;aName) : iName(aName) { }inline TDbCol::TDbCol(const TDbCol&amp; aSrcCol) : iType(aSrcCol.iType), iMaxLength(aSrcCol.iMaxLength), iAttributes(aSrcCol.iAttributes), iName(static_cast &lt;const TDesC&amp;&gt;aSrcCol.iName)) { } inline TDbCol&amp; TDbCol::operator=(const TDbCol&amp; aSrcCol) { iType = aSrcCol.iType; iMaxLength = aSrcCol.iMaxLength; iAttributes = aSrcCol.iAttributes; iName = static_cast &lt;const TDesC&amp;&gt;aSrcCol.iName); return *this; }inline TBool TDbCol::IsLong(TDbColType aType) { return aType&gt;=EDbColLongText8; }inline TInt CDbColSet::Count() const { return iColumns.Count(); }inline void CDbColSet::Clear() { iColumns.Reset(); }inline const TDbCol&amp; CDbColSet::operator[](TDbColNo aCol) const { return iColumns[aCol-1]; }inline TDbColSetIter::operator TAny* () const { return (const_cast&lt; TDbCol* &gt; iColumn )); }inline const TDbCol&amp; TDbColSetIter::operator*() const { ; return *iColumn; }inline const TDbCol* TDbColSetIter::operator-&gt;) const { ; return iColumn; }inline TDbColNo TDbColSetIter::Col() const { ; return iIndex+1; }inline TDbColSetIter TDbColSetIter::operator++(TInt) { TDbColSetIter tmp(*this); ++(*this); return tmp; }inline TDbKeyCol::TDbKeyCol(const TDbKeyCol&amp; aSrcKeyCol) : iOrder(aSrcKeyCol.iOrder), iLength(aSrcKeyCol.iLength), iName(static_cast &lt;const TDesC&amp;&gt;aSrcKeyCol.iName)) { } inline TDbKeyCol&amp; TDbKeyCol::operator=(const TDbKeyCol&amp; aSrcKeyCol) { iOrder = aSrcKeyCol.iOrder; iLength = aSrcKeyCol.iLength; iName = static_cast &lt;const TDesC&amp;&gt;aSrcKeyCol.iName); return *this; }inline TInt CDbKey::Count() const { return iKeys.Count(); }inline const TDbKeyCol&amp; CDbKey::operator[](TInt aCol) const { return iKeys[aCol]; }inline void CDbKey::MakeUnique() { iAttributes|=EUnique; }inline TBool CDbKey::IsUnique() const { return iAttributes&amp;EUnique; }inline TBool CDbKey::IsPrimary() const { return iAttributes&amp;EPrimary; }inline void CDbKey::SetComparison(TDbTextComparison aComparison) { iComparison=aComparison; }inline TDbTextComparison CDbKey::Comparison() const { return iComparison; }inline void CDbKey::MakePrimary() { iAttributes|=EPrimary; }inline TDbQuery::TDbQuery(const TDesC&amp; aQuery,TDbTextComparison aComparison): iQuery(aQuery), iComparison(aComparison) { }inline const TDesC&amp; TDbQuery::Query() const { return iQuery; }inline TDbTextComparison TDbQuery::Comparison() const { return iComparison; }inline RDbHandleBase::RDbHandleBase(): iObject(0) { }inline void RDbRowSet::BeginningL() { GotoL(EBeginning); }inline void RDbRowSet::EndL() { GotoL(EEnd); }inline TBool RDbRowSet::FirstL() { return GotoL(EFirst); }inline TBool RDbRowSet::LastL() { return GotoL(ELast); }inline TBool RDbRowSet::NextL() { return GotoL(ENext); }inline TBool RDbRowSet::PreviousL() { return GotoL(EPrevious); }inline TBool RDbRowSet::IsColNull(TDbColNo aCol) const { return ColSize(aCol)==0; }inline TInt RDbRowSet::ColInt(TDbColNo aCol) const { return ColInt32(aCol); }inline TUint RDbRowSet::ColUint(TDbColNo aCol) const { return ColUint32(aCol); }inline TReal RDbRowSet::ColReal(TDbColNo aCol) const { return ColReal64(aCol); }inline void RDbRowSet::SetColL(TDbColNo aCol,TInt aValue) { SetColL(aCol, TInt32(aValue)); }inline void RDbRowSet::SetColL(TDbColNo aCol,TUint aValue) { SetColL(aCol,TUint32(aValue)); }inline TDbWindow::TDbWindow(): iSize(ENone) { }inline TDbWindow::TDbWindow(TUnlimited): iSize(EUnlimited) { }inline TInt TDbWindow::Size() const { return iSize; }inline TInt TDbWindow::PreferredPos() const { return iPreferredPos; }template &lt;class T&gt;inline TUnion&lt;T&gt;::operator const T&amp;() const { return *(const T*)&amp;iRep[0]; }template &lt;class T&gt;inline const T&amp; TUnion&lt;T&gt;::operator()() const { return *(const T*)&amp;iRep[0]; }template &lt;class T&gt;inline T&amp; TUnion&lt;T&gt;::operator()() { return *(T*)&amp;iRep[0]; }template &lt;class T&gt;inline void TUnion&lt;T&gt;::Set(const T&amp; aT) { new(&amp;iRep[0]) T(aT); }inline TDbLookupKey::TDbLookupKey(): iCount(0) { }inline TInt TDbLookupKey::Count() const { return iCount; }inline const TDbLookupKey::SColumn* TDbLookupKey::First() const { return &amp;iKey[0]; }inline TDbSeekKey::TDbSeekKey(): iMaxKeys(1) { }inline TDbSeekKey::TDbSeekKey(TInt aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(TUint aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(TInt64 aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(TReal32 aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(TReal64 aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(TTime aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(const TDesC8&amp; aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(const TDesC16&amp; aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(TInt aKeys,TInt): iMaxKeys(aKeys) { }template &lt;TInt S&gt;inline TDbSeekMultiKey&lt;S&gt;::TDbSeekMultiKey(): TDbSeekKey(S,0) { }inline TInt RDbTable::SetIndex(const TDesC&amp; anIndex) { return SetIndex(&amp;anIndex); }inline TInt RDbTable::SetNoIndex() { return SetIndex(0); }inline RDbColWriteStream::RDbColWriteStream(const MExternalizer&lt;TStreamRef&gt; &amp;anExternalizer): RWriteStream(anExternalizer) { }inline TInt CDbNames::Count() const { return iList.Count(); }inline const TDesC&amp; CDbNames::operator[](TInt anIndex) const { return iList[anIndex]; }inline TInt RDbDatabase::CreateTable(const TDesC&amp; aName,const CDbColSet&amp; aColSet) { return CreateTable(aName,aColSet,NULL); }inline TInt RDbDatabase::CreateTable(const TDesC&amp; aName,const CDbColSet&amp; aColSet,const CDbKey&amp; aPrimaryKey) { return CreateTable(aName,aColSet,&amp;aPrimaryKey); }inline TInt RDbIncremental::Execute(RDbDatabase&amp; aDatabase,const TDesC&amp; aSql,TInt&amp; aStep) { return Execute(aDatabase,aSql,EDbCompareNormal,aStep); }inline TInt CDbStrings::Count() const { return iList.Count(); }inline const TDesC&amp; CDbStrings::operator[](TInt aIndex) const { return iList[aIndex]; }# 1485 "X:/epoc32/include/d32dbms.h" 2# 25 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectorydb.h" 2# 1 "X:/epoc32/include/flogger.h" 1#define __FLOGGER_H__const TInt KLogBufferSize=150;class FLogger {public: class TSignal { friend class FLogger; public: inline TSignal() {} inline TInt Set(const TDesC&amp; aCommand); inline TSignal(TRequestStatus&amp; aStatus); inline TPtrC Command() const; private: TRequestStatus* iStatus; TThreadId iId; };public: static TInt Start(); IMPORT_C static TInt Run(TSignal&amp; aSignal);private: static TInt Init(); };enum TFileLoggingMode { EFileLoggingModeUnknown =0, EFileLoggingModeAppend, EFileLoggingModeOverwrite, EFileLoggingModeAppendRaw, EFileLoggingModeOverwriteRaw };class TLogFormatter16Overflow :public TDes16Overflow {public: virtual void Overflow(TDes16&amp; aDes); };class TLogFormatter8Overflow :public TDes8Overflow {public: virtual void Overflow(TDes8&amp; aDes); };class TLogFormatter {public: TLogFormatter(); void SetDateAndTime(TBool aUseDate,TBool aUseTime); TInt FormatTextToWritableBuffer(TDes8&amp; aBuf, const TDesC16&amp; aText) const; TInt FormatTextToWritableBuffer(TDes8&amp; aBuf, const TDesC8&amp; aText) const; TInt ConvertToWritableBuffer(TDes8&amp; aBuf, TRefByValue&lt;const TDesC16&gt; aFmt, VA_LIST&amp; aList); TInt ConvertToWritableBuffer(TDes8&amp; aBuf, TRefByValue&lt;const TDesC8&gt; aFmt, VA_LIST&amp; aList);private: void GetDateAndTimeL(TDes&amp; aDate, TDes&amp; aTime) const; void WriteL(TDes8&amp; aTrg, const TDesC16&amp; aSrc) const; void WriteL(TDes8&amp; aTrg, const TDesC8&amp; aSrc) const;private: TBool iUseDate; TBool iUseTime; TLogFormatter16Overflow iOverflow16; TLogFormatter8Overflow iOverflow8; };class TLogFile {public: TLogFile(); TLogFile(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode); TBool operator==(const TLogFile&amp; aLogFile) const; void Set(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode); inline TBool Valid() const; inline TFileName Directory() const; inline TFileName Name() const; inline TFileLoggingMode Mode() const; inline void SetValid(TBool aValid);private: TBool iValid; TFileName iDirectory; TFileName iName; TFileLoggingMode iMode; };# 1 "X:/epoc32/include/flogger.inl" 1#define __FLOGGER_INL__inline FLogger::TSignal::TSignal(TRequestStatus&amp; aStatus) :iStatus(&amp;aStatus),iId(RThread().Id()) { aStatus=KRequestPending; }inline TPtrC FLogger::TSignal::Command() const { return TPtrC((const TText*)this,sizeof(*this)/sizeof(TText)); }inline TInt FLogger::TSignal::Set(const TDesC&amp; aCommand) { if (aCommand.Size()!=sizeof(*this)) return KErrGeneral; return (Mem::Copy(this,aCommand.Ptr(),sizeof(*this)),KErrNone); }inline TBool TLogFile::Valid() const { return iValid; }inline TFileName TLogFile::Directory() const { return iDirectory; } inline TFileName TLogFile::Name() const { return iName; }inline TFileLoggingMode TLogFile::Mode() const { return iMode; } inline void TLogFile::SetValid(TBool aValid) { iValid=aValid; }# 156 "X:/epoc32/include/flogger.h" 2class RFileLogger : public RSessionBase {public: IMPORT_C RFileLogger(); IMPORT_C ~RFileLogger(); IMPORT_C TVersion Version() const; IMPORT_C TInt Connect(); IMPORT_C void SetDateAndTime(TBool aUseDate,TBool aUseTime); IMPORT_C void CreateLog(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode); IMPORT_C void CloseLog(); IMPORT_C void Write(const TDesC16&amp; aText); IMPORT_C void WriteFormat(TRefByValue&lt;const TDesC16&gt; aFmt,...); IMPORT_C void WriteFormat(TRefByValue&lt;const TDesC16&gt; aFmt, VA_LIST&amp; aList); IMPORT_C void Write(const TDesC8&amp; aText); IMPORT_C void WriteFormat(TRefByValue&lt;const TDesC8&gt; aFmt,...); IMPORT_C void WriteFormat(TRefByValue&lt;const TDesC8&gt; aFmt, VA_LIST&amp; aList); IMPORT_C void HexDump(const TText* aHeader, const TText* aMargin, const TUint8* aPtr, TInt aLen); IMPORT_C static void Write(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, const TDesC16&amp; aText); IMPORT_C static void WriteFormat(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, TRefByValue&lt;const TDesC16&gt; aFmt,...); IMPORT_C static void WriteFormat(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, TRefByValue&lt;const TDesC16&gt; aFmt, VA_LIST&amp; aList); IMPORT_C static void Write(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, const TDesC8&amp; aText); IMPORT_C static void WriteFormat(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, TRefByValue&lt;const TDesC8&gt; aFmt,...); IMPORT_C static void WriteFormat(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, TRefByValue&lt;const TDesC8&gt; aFmt, VA_LIST&amp; aList); IMPORT_C static void HexDump(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, const TText* aHeader, const TText* aMargin, const TUint8* aPtr, TInt aLen); IMPORT_C TInt LastError() const; IMPORT_C TBool LogValid() const; IMPORT_C TBool LogSTI() const;private: TInt DoConnect(); void DoWrite(const TDesC8&amp; aBuf); void DoStaticWrite(const TDesC8&amp; aBuf); void DoWriteFormat(TRefByValue&lt;const TDesC16&gt; aFmt, VA_LIST&amp; aList); void DoWriteFormat(TRefByValue&lt;const TDesC8&gt; aFmt, VA_LIST&amp; aList); static void DoStaticWriteFormat(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, TRefByValue&lt;const TDesC16&gt; aFmt, VA_LIST&amp; aList); static void DoStaticWriteFormat(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, TRefByValue&lt;const TDesC8&gt; aFmt, VA_LIST&amp; aList); void DoHexDump(const TText* aHeader, const TText* aMargin, const TUint8* aPtr, TInt aLen);private: TLogFormatter iFormatter; TLogFile iLogFile; TInt iLastError; TBool iLogSTI; };# 27 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectorydb.h" 2class CUpnpElementBean;class CUpnpFilterElement;class CUpnpAttributeBean;class CUpnpObjectBean;class CUpnpDlnaProtocolInfo;class CUpnpShareMapBean;class CUpnpResourcesBean;class CUpnpMetadataStorage;class CUpnpContentDirectoryDb : public CBase{ public: static CUpnpContentDirectoryDb* NewLC(CUpnpMetadataStorage* aMetadataStorage); static CUpnpContentDirectoryDb* NewL(CUpnpMetadataStorage* aMetadataStorage); ~CUpnpContentDirectoryDb(); public: TUpnpErrorCode CheckObjectRestrictionL(TInt aObjId); TUpnpErrorCode InsertObjectL( RXmlEngDocument&amp; aFragment, TInt aContainer, TInt* aId); TUpnpErrorCode GetObjectL( TInt aObjectID, RXmlEngDocument&amp; aDoc, const TDesC8&amp; aFilterString); TInt ReferedObjectIdL( TInt aObjectId ); TUpnpErrorCode GetObjectListL(TInt aParentId, RArray&lt;TInt&gt;&amp; aList); TUpnpErrorCode DeleteObjectL(TInt aObjId,RArray&lt;TInt&gt;&amp; aRefList, TBool aDeleteResource=ETrue); TUpnpErrorCode UpdateObjectL(TInt aObjId, RXmlEngDocument&amp; aFragment); void DeleteResourceL(const TDesC8&amp; aResVal, RArray&lt;TInt&gt;&amp; aContIds); TUpnpErrorCode GetObjectByAttrL(RXmlEngDocument&amp; aDoc, TInt* aObjId, const TDesC8&amp; aAttrName, const TDesC8&amp; aAttrVal); TUpnpErrorCode CheckParentRestrictionL(TInt aObjId); TInt GetObjIdByAttrL(const TDesC8&amp; aAttrName, const TDesC8&amp; aAttrVal); TInt GetObjIdByAttrLikeL(const TDesC8&amp; aAttrName, const TDesC8&amp; aAttrVal); RXmlEngDocument PrepareDidlDocumentL(); TInt GetProtocolInfoL(const TDesC8&amp; aContentUri, CUpnpDlnaProtocolInfo*&amp; aProtocolInfo); void GetObjectListL(const RArray&lt;TInt&gt;&amp; aIds, const TDesC8&amp; aFilter, RArray&lt;RXmlEngDocument&gt;&amp; aObjs); TBool CanBeNestedL(TInt aObjId); void AddResourceL(CUpnpResourcesBean* aResBean, TInt aObjId); void DeleteResourceByResIdL(TInt64 aResId, TBool aDeleteFile = ETrue); void DeleteResourceByObjIdL(TInt aObjId, TBool aDeleteFile = ETrue); void NewMediaDirectoryL(const TDesC&amp; aOldDir); CUpnpResourcesBean* GetResourceL(TInt64 aResId); CUpnpAttributeBean* GetAttrByNameL(TInt aElmId, const TDesC8&amp; aAttrName, HBufC8*&amp; aAttrVal); CUpnpAttributeBean* GetAttrByValueL(const TDesC8&amp; aAttrName, const TDesC8&amp; aAttrVal); HBufC8* GetProtocolInfoByImportUriL(const TDesC8&amp; aImportUri); TInt GetKeyForUriL(); TInt GetObjectIdByElementValueLikeL(const TDesC8&amp; aElmName, const TDesC8&amp; aElmValue); TInt GetParentIdL(TInt aObjectId); TInt GetObjectIdL(); HBufC8* GetObjectTitleL(TInt aId); void CheckDatabaseL(); TInt HandleDbError( TInt aError ); TInt RecreateDatabaseFile(); TBool IsDbCreated(); private: CUpnpObjectBean* GetObjBeanLC(TInt aObjId); void GetObjectsByResourceL(RArray&lt;TInt&gt;&amp; aIds, const TDesC&amp; aResVal); TInt GetElmIdByNameAndValL(const TDesC&amp; aElmName, const TDesC&amp; aElmValue); void GetAttrValueByNameL(TInt aElmId, const TDesC8&amp; aAttrName, HBufC8*&amp; aAttrVal); void DeleteResourcesL(TInt aObjId); void DoDeleteResourceL(const TDesC8&amp; aResVal, RArray&lt;TInt&gt;&amp; aContIds); void SetChildCountL(TXmlEngElement aElement, TInt aId); void AddAllPropertiesL(TXmlEngElement aElement, CUpnpObjectBean* aObjBean); void AddAttributeL( TXmlEngElement aElement, const TDesC8&amp; aAttrName, TInt aElementId, TInt aObjectId ); TUpnpErrorCode AddRequestedPropertiesL(TInt aObjectID,TXmlEngElement aElement, const RPointerArray&lt;CUpnpFilterElement&gt;&amp; aFilterElements); void AddElementL(TXmlEngElement aElement, TInt aObjectID, const CUpnpFilterElement* aReqElement); TUpnpErrorCode AddRequiredPropertyL(TXmlEngElement aElement, TInt aObjId, CUpnpFilterElement* aFilterElement); void ParseFilterStringL(const TDesC8&amp; aFilter, RPointerArray&lt;CUpnpFilterElement&gt;&amp; aList); TUpnpErrorCode DoGetObjectL(TInt aObjectID, RXmlEngDocument&amp; aDoc, TBool aAll); TUpnpErrorCode InsertElementL(const TXmlEngElement&amp; aElementel, TInt aObjId); TUpnpErrorCode DoUpdateObjectL(TInt aObjId, TXmlEngElement aFragment); TUpnpErrorCode InsertUpdatedL(TInt aObjId, TXmlEngElement&amp; aElement); TInt SetObjectIdL(TXmlEngElement&amp; aElement); TUpnpErrorCode DoInsertObjectL( TXmlEngElement&amp; aElement, TInt aContainerId, TInt* aId); TUpnpErrorCode InsertAttributesL(const TXmlEngElement aElement, TInt aElmId,TInt aObjId); TBool IsAttrRequiredL(const TXmlEngAttr&amp; aAttr, RArray&lt;TXmlEngAttr&gt;&amp; aMarkers); CUpnpContentDirectoryDb(CUpnpMetadataStorage* aMetadataStorage); void ConstructL(); void ConstructDbL(const TFileName&amp; aDatabaseFileName); void OpenDbL( const TFileName&amp; aDatabaseFileName ); void AddElementsL( TInt aObjectID, TXmlEngElement aObjectElement, TBool aAll ); void AddAttributesL( TInt aElementID, TInt aObjectID, TXmlEngElement&amp; aElement, TBool aAll ); private: CUpnpMetadataStorage* iMetadataStorage; RXmlEngDOMImplementation iDOMImpl; };# 43 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpfiletransfertimerobserver.h" 1#define C_CUPNPFILETRANSFERTIMEROBSERVER_Hclass CUpnpContentDirectory;class MUpnpContentDirectoryEventObserver;class CUpnpFileTransferTimerObserver;const TInt KFileTransferStorageTime = 30000000;class MUpnpFileTransferTimerObserver {public: virtual void TransferEvent( CUpnpFileTransferTimerObserver* aTimer ) = 0; };class CUpnpFileTransferTimerObserver : public CBase, public MUpnpNotifyTimerObserver{public: static CUpnpFileTransferTimerObserver* NewLC( MUpnpFileTransferTimerObserver* aCd, TInt aTransferId); virtual ~CUpnpFileTransferTimerObserver();private: CUpnpFileTransferTimerObserver( MUpnpFileTransferTimerObserver* aCd, TInt aTransferId ); void ConstructL();public: void TimerEventL( CUpnpNotifyTimer* aTimer ); TInt TransferId(); private: MUpnpFileTransferTimerObserver* iCd; CUpnpNotifyTimer* iEventTimer; TInt iTransferId; }; # 44 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnperror.h" 1#define C_TUPNPERROR_Hclass TUpnpError{public: TUpnpError(TInt aErrCode); operator TUpnpErrorCode(); private: TUpnpErrorCode iUpnpErrCode;}; # 45 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/inc/upnpcustomlog.h" 1#define C_UPNPCUSTOMLOG_H #define UPNP_LOGconst static TLitC&lt;sizeof(L"upnp" )/2&gt; KLogFolder ={sizeof(L"upnp" )/2-1,L"upnp" };const TInt KMaxLogLen = 256; #define LOGT(A)#define LOGS(A)#define LOGS1(A,B)#define LOGS2(A,B,C)#define LOGM#define ACTIONSEND(A)#define ACTIONRECV(A,B)#define LOGTH(H,A)#define LOGSH(H,A)#define LOGS1H(H,A,B)#define LOGS2H(H,A,B,C)#define LOGCD(A,B,C,D)#define LOGSQL(A,B,C,D)#define LOGTIME#define LOG(x)#define LOG8(x)#define LOG16(x)#define LOG_FUNC_NAME# 46 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpresourcesbean.h" 1#define UPNPRESOURCESBEAN_H# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptablebean.h" 1#define C_CUPNPTABLEBEAN_Hclass CUpnpTableBean : public CBase{ public: static const TInt KUndef = -1; protected: virtual ~CUpnpTableBean(); CUpnpTableBean(); HBufC8* ReadLongTextColL(const RDbRowSet&amp; aRowSet, const TInt aColNo);}; # 23 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpresourcesbean.h" 2class CUpnpElement;class CUpnpResourcesBean: public CUpnpTableBean { public: static CUpnpResourcesBean* NewLC(); static CUpnpResourcesBean* NewL(const RDbRowSet&amp; aRowSet); static CUpnpResourcesBean* NewLC(const RDbRowSet&amp; aRowSet); virtual ~CUpnpResourcesBean(); public: void SetL(const RDbRowSet&amp; aRowSet); void SetId(TInt64 aId); void SetObjectId(TInt aObjectId); void SetPathL(const TDesC&amp; aPath); void SetPathL(const TDesC8&amp; aPath); void SetIsReadonly(TBool aIsReadonly); void SetIsThumbnail(TBool aIsThumbnail); TInt64 Id() const; TInt ObjectId() const; TDesC&amp; Path() const; TInt IsReadonly() const; TInt IsThumbnail() const; private: CUpnpResourcesBean(); void ConstructL(); private: TInt64 iId; TInt iObjectId; HBufC* iPath; TInt iIsReadonly; TInt iIsThumbnail;};# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpresourcesbean.inl" 1inline void CUpnpResourcesBean::SetId(TInt64 aId){ iId = aId;}inline void CUpnpResourcesBean::SetObjectId(TInt aObjectId){ iObjectId = aObjectId;}inline void CUpnpResourcesBean::SetIsReadonly(TBool aIsReadonly){ iIsReadonly = aIsReadonly;}inline void CUpnpResourcesBean::SetIsThumbnail(TBool aIsThumbnail){ iIsThumbnail = aIsThumbnail;}inline TInt64 CUpnpResourcesBean::Id() const{ return iId;}inline TInt CUpnpResourcesBean::ObjectId() const{ return iObjectId;}inline TDesC&amp; CUpnpResourcesBean::Path() const{ return *iPath;}inline TInt CUpnpResourcesBean::IsReadonly() const{ return iIsReadonly;}inline TInt CUpnpResourcesBean::IsThumbnail() const{ return iIsThumbnail;}# 158 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpresourcesbean.h" 2# 49 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcdutils.h" 1#define CDUTILS_Hclass UpnpCdUtils{ public: static void ValidateFilePath(TDes8&amp; aPath); static void ValidateFilePath(TDes&amp; aPath); static void ValidateSrcUriL(TDesC8&amp; aPath,TDesC8&amp; aIp); static void RemoveWhiteSpacesL(TDes8&amp; aString); static TBool IsWhiteString(const TDesC8&amp; aString); static TXmlEngElement GetObjectElementL(RXmlEngDocument&amp; aFragment); static TBool HasRefIdL( RXmlEngDocument&amp; aFragment ); static HBufC8* EncodeXmlStringL(const TDesC8&amp; aString); static HBufC* Des8ToDesL(const TDesC8&amp; aString); static HBufC* Des8ToDesLC(const TDesC8&amp; aString); static HBufC8* DesToDes8LC(const TDesC&amp; aString); static TInt64 ResIdFromUriL(const TDesC8&amp; aUri); static TPtrC8 ResIdFromUriDesL(const TDesC8&amp; aUri); static void SetObjectIdL(TXmlEngElement aElement, TInt aId); static void SetObjectRefIdL(TXmlEngElement aElement, TInt aRefId); static void SetObjectParentIdL(TXmlEngElement aElement, TInt aParentId); static void SetRestrictedFieldL( TXmlEngElement aElement, TBool aRestrictedFlag ); static void SetContainerIdL(TXmlEngElement aElement, TInt aParentId); static HBufC8* BuildImportUriLC(TInt aResId); static HBufC8* BuildImportUriShorterLC(TInt64 aResId); static HBufC8* BuildContentUriL(TInt aResId, const TDesC&amp; aFileExten, TDesC8&amp; aObjectId); static HBufC8* UpnpCdUtils::RandomizeL(TInt aRange); static TBool IsElementRequiredL(TXmlEngElement aElement); static void ReplaceTrueFalse(HBufC8* aBuf); static HBufC8* GetElmNameWithNsL(TXmlEngElement aElement); static HBufC* EscapeAposL(const TDesC&amp; aValue); static TBool ValidateDateL( TPtrC8 aValue ); static TInt StringToTUint(const TDesC8&amp; aStr, TUint* aInt); static TBool AreDigitsInSpecificRange(const TDesC8&amp; aInput, TInt aNumber, TBool aExactDigitsNumber, TUint32 aRange); static TBool ValidateDurationValue(const TDesC8&amp; aInput); static void SplitStringByDelimeter(TLex8&amp; aLexeme, TChar aDelimeter); static void Skip(TLex8&amp; aLexer, TInt aValue); static TInt StringToInteger(const TDesC8&amp; aStr, TInt* aInt); private: enum TPlaces { EYear = 4, EMonth = 7, EDay = 10, EHour = 13, EMinute = 16, ESecond = 19, EZone1 = 20, EHourOffset1 = 22, EMiliSecond = 23, EZone2 = 24, ETimeOffset1 = 25, EHourOffset2 = 26, ETimeOffset2 = 29 }; UpnpCdUtils();}; # 50 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmetadatastorage.h" 1#define UPNPMETADATASTORAGE_Hclass CUpnpObjectBean;class CUpnpElementBean;class CUpnpAttributeBean;class CUpnpResourcesBean;class CUpnpMetadataStorage : public CBase{public: static CUpnpMetadataStorage* NewL(const TDesC&amp; aDatabaseFileName); static CUpnpMetadataStorage* NewLC(const TDesC&amp; aDatabaseFileName); virtual ~CUpnpMetadataStorage();public: TBool IsContainerL(TInt aObjId); void DeleteResourcesL(RArray&lt;TInt&gt;&amp; aObjList); void AddResourceL(CUpnpResourcesBean* aResBean, TInt aObjId); TUpnpErrorCode DoDeleteObjectL(TInt aObjId, TBool aDeleteResource, TBool aDeleteRef=ETrue ); void InsertIntoAttributeTableL(TInt aElmId, CUpnpAttributeBean* aAtrBn, TInt aObjId, TInt aAtrId); TInt InsertIntoElementTableL(TInt aObjId, CUpnpElementBean* aElmBn, TInt aElmId); TInt InsertIntoObjectTableL(TInt aContainer, CUpnpObjectBean* aObjBn); RDbView GetObjViewL(TInt aObjId); void BeginTransactionL(); void CommitTransactionL(); void RollbackTransactionL(); RDbView GetElementsViewL(TInt aObjectID, TBool aAll); RDbView GetAttributesViewL(TInt aElementID, TBool aAll); RDbView GetAttributesViewByObjectIdL( TInt aObjectID, TBool aAll ); TInt GetElmIdForAttrL(const TDesC8&amp; aAttrName, const TDesC8&amp; aAttrVal); TInt GetElmIdForAttrLikeL(const TDesC8&amp; aAttrName, const TDesC8&amp; aAttrVal); void DeleteResElL(const TDesC&amp; aResVal, TInt ObjId); RDbView GetViewOfObjectListForResL(const TDesC&amp; aResVal); RDbView GetViewOfElmIdByNameAndValL(const TDesC&amp; aElmName, const TDesC&amp; aElmValue); RDbView GetAttrViewL(const TDesC8&amp; aAttrName, const TDesC8&amp; aAttrVal); RDbView GetAttrViewL(TInt aElmId, const TDesC8&amp; aAttrName); RDbView GetAttrViewByObjectIdL(TInt aBjectId, const TDesC8&amp; aAttrName); RDbView PrepareViewL(const TDesC&amp; aSqlQuery); RDbView GetEvaluatedViewL(const TDesC&amp; aSqlQuery); HBufC8* GetObjectPathL(TInt aObjId); HBufC8* GetObjectTitleL(TInt aObjId); void ExecuteL(const TDesC&amp; aSqlCommand); CUpnpResourcesBean* GetResourceL(TInt64 aResId); void DeleteResourceByObjIdL(TInt aObjId, TBool aDeleteFile=ETrue); void DeleteResourceByResIdL(TInt64 aResId, TBool aDeleteFile=ETrue); void DeleteObjectsL(TInt aObjId); void DeleteElementsL(TInt aObjId); void DeleteAttributesL(TInt aObjId); void DeleteReferencesL(TInt aObjId,RArray&lt;TInt&gt;&amp; aRefList); TInt DoDeleteObjectL(TInt aObjId,RArray&lt;TInt&gt;&amp; aRefList, RArray&lt;TInt&gt;&amp; aResList, TBool aDeleteResource, TBool aLocal, TBool aDeleteRef = ETrue ); TUpnpErrorCode CheckParentRestrictionL(TInt aObjId); TUpnpErrorCode DeleteObjectL(TInt aObjId,RArray&lt;TInt&gt;&amp; aRefList, TBool aDeleteResource, TBool aLocal = EFalse, TBool aDeleteRef = ETrue ); HBufC8* GetColDesValFromRowSetL(RDbRowSet aRowset, TDbColNo aColNo); TInt GetChildCountL(TInt aObjId); TInt GetParentIdL(TInt aObjId); TInt GetObjIdForElmIdL(TInt aId); TInt ReferedObjectIdL( TInt aObjectId ); TInt GetNextKeyL(const TDesC8&amp; aName); TInt GetNextKeyL(const TDesC8&amp; aName, TInt aAmount); TInt NextKeyL(const TDesC8&amp; aName); void InsertObjectIntoObjectTableL(const TXmlEngElement&amp; aElement); void InsertAttributeL(const TXmlEngAttr aAttr, TInt aElmId, TBool aIsRequired, TInt aObjId); TInt InsertElementL(const TXmlEngElement&amp; aElementel, TInt aObjId); RDbView GetElementViewL(TInt aObjId, const TDesC8&amp; aElName); TUpnpErrorCode AddMainTagAttrL(TXmlEngElement aElement, TInt aId, const TDesC8&amp; aName); TUpnpErrorCode GetObjectListL(TInt aParentId, RArray&lt;TInt&gt;&amp; aList); TUpnpErrorCode GetItemListL(TInt aParentId, RArray&lt;TInt&gt;&amp; aList); TUpnpErrorCode GetContainerListL(TInt aParentId, RArray&lt;TInt&gt;&amp; aList); TUpnpErrorCode CheckObjectRestrictionL(TInt aObjId); TInt RecoverDatabase(); void RecreateDatabaseFileL(); void CheckDatabaseL(); TInt HandleDbError( TInt aError ); TBool IsDbCreated(); private: CUpnpMetadataStorage(); void ConstructL(const TDesC&amp; aDatabaseFileName);private: void CompactDbL(); TInt AddSubObjectsL(TInt aObjId, RArray&lt;TInt&gt;&amp; aObjList, RArray&lt;TInt&gt;&amp; aResList, TBool aLocal); void CompareDbColSetsL( CDbColSet *aColSet1, CDbColSet *aColSet2 ); void DeleteFileL(const TDesC&amp; aPath); HBufC8* CreatePathValL(const TXmlEngElement&amp; aElement); HBufC8* CreatePathValL(TInt aParentId); void OpenDbL( const TFileName&amp; aDatabaseFileName ); void DbChangedL(TInt aWeight);private: RFs iFsSession; RDbStoreDatabase iDatabase; TBool iIsOpen; CFileStore* iFileStore; TInt iCompactCounter;}; # 51 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpautodestroyobjectlist.h" 1#define C_CUPNPAUTODESTROYOBJECTLIST_Hclass CUpnpAutoDestroyObject;class CUpnpAutoDestroyObjectList: public CBase{public: static CUpnpAutoDestroyObjectList* NewL(); static CUpnpAutoDestroyObjectList* NewLC(); virtual ~CUpnpAutoDestroyObjectList();public: void AppendL(const CUpnpAutoDestroyObject* aObj); void RemoveAndDestroyL(TInt aIndex); TInt FindObjIndexByObjId(TInt aObjId); TInt FindObjIndexByResId(TInt aResId); CUpnpAutoDestroyObject* operator[](TInt aIndex); void TransferFailL(TInt aResId); TInt Count();private: CUpnpAutoDestroyObjectList(); void ConstructL();private:private: RPointerArray&lt;CUpnpAutoDestroyObject&gt; iArray;}; # 52 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpautodestroyobject.h" 1#define C_CUPNPAUTODESTROYOBJECT_Hclass CUpnpContentDirectory;class CUpnpNotifyTimer;class CUpnpAutoDestroyObject: public CBase, public MUpnpNotifyTimerObserver{public: static CUpnpAutoDestroyObject* NewL(CUpnpContentDirectory* aCd, TInt aObjId, TInt aResId ); static CUpnpAutoDestroyObject* NewLC(CUpnpContentDirectory* aCd, TInt aObjId, TInt aResId ); virtual ~CUpnpAutoDestroyObject();public: virtual void TimerEventL(CUpnpNotifyTimer* aTimer); TInt GetResId(); TInt GetObjId(); void SetTransferStartedL(TBool aVal); void RenewTimerL(); private: CUpnpAutoDestroyObject(CUpnpContentDirectory* aCd, TInt aObjId, TInt aResId); void ConstructL();private: CUpnpContentDirectory* iCd; CUpnpNotifyTimer* iEventTimer; TInt iResId; TInt iObjectId; TBool iTransferStarted; TBool iTimeElapsed;}; # 53 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectoryeventobserver.h" 1#define C_CUPNPCONTENTDIRECTORYEVENTOBSERVER_Hclass CUpnpFileTransferEvent;class MUpnpContentDirectoryEventObserver {public: virtual void FileTransferEvent(CUpnpFileTransferEvent *aMessage) = 0; };# 54 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/epoc32/include/platform/mw/upnpfiletransferevent.h" 1#define C_CUPNPFILETRANSFEREVENT_H# 1 "X:/epoc32/include/s32mem.h" 1#define __S32MEM_H__class TMemBuf : public TStreamBuf {public: IMPORT_C TMemBuf(); IMPORT_C void Set(TUint8* aPtr,TUint8* anEnd,TInt aMode=ERead|EWrite);protected: IMPORT_C TInt UnderflowL(TInt aMaxLength); IMPORT_C void OverflowL(); IMPORT_C TStreamPos DoSeekL(TMark aMark,TStreamLocation aLocation,TInt anOffset);private: inline TUint8* Base() const; inline TUint8* End() const;private: TUint8* iBase; };class TDesBuf : public TStreamBuf {public: IMPORT_C TDesBuf(); IMPORT_C void Set(TDes8&amp; aDes,TInt aMode=ERead|EWrite);protected: IMPORT_C TInt UnderflowL(TInt aMaxLength); IMPORT_C void OverflowL(); IMPORT_C void DoSynchL(); IMPORT_C TStreamPos DoSeekL(TMark aMark,TStreamLocation aLocation,TInt anOffset);private: inline TDes8&amp; Des() const; inline TUint8* Base() const; void Consolidate();private: TDes8* iDes; };class TBufBuf : public TStreamBuf {public: enum {ETruncate=0x10,EInsert=0x20};public: IMPORT_C TBufBuf(); IMPORT_C void Set(CBufBase&amp; aBuf,TInt aPos,TInt aMode=ERead|EWrite);protected: IMPORT_C TInt UnderflowL(TInt aMaxLength); IMPORT_C void OverflowL(); IMPORT_C void DoSynchL(); IMPORT_C void DoWriteL(const TAny* aPtr,TInt aLength); IMPORT_C TStreamPos DoSeekL(TMark aMark,TStreamLocation aLocation,TInt anOffset);private: inline CBufBase&amp; Buf() const; void Consolidate(); void SetPos(TMark aMark,TInt aPos); inline void SetPos(TRead,TInt aPos); inline void SetPos(TWrite,TInt aPos); TInt Pos(TMark aMark) const; inline TInt Pos(TRead) const; inline TInt Pos(TWrite) const; inline TInt MovePos(TRead,TInt anOffset); inline TInt MovePos(TWrite,TInt anOffset); inline TInt Mark(TRead) const; inline TInt Mark(TWrite) const;private: CBufBase* iBuf; TInt iRPos; TInt iWPos; TInt iMode; };class RMemReadStream : public RReadStream {public: RMemReadStream() {} IMPORT_C RMemReadStream(const TAny* aPtr,TInt aLength); IMPORT_C void Open(const TAny* aPtr,TInt aLength);private: TMemBuf iSource; };class RMemWriteStream : public RWriteStream {public: RMemWriteStream() {} inline RMemWriteStream(const MExternalizer&lt;TStreamRef&gt;&amp; anExter); IMPORT_C RMemWriteStream(TAny* aPtr,TInt aMaxLength); IMPORT_C void Open(TAny* aPtr,TInt aMaxLength);private: TMemBuf iSink; };class RDesReadStream : public RReadStream {public: RDesReadStream() {} IMPORT_C RDesReadStream(const TDesC8&amp; aDes); IMPORT_C void Open(const TDesC8&amp; aDes);private: TMemBuf iSource; };class RDesWriteStream : public RWriteStream {public: RDesWriteStream() {} inline RDesWriteStream(const MExternalizer&lt;TStreamRef&gt;&amp; anExter); IMPORT_C RDesWriteStream(TDes8&amp; aDes); IMPORT_C void Open(TDes8&amp; aDes);private: TDesBuf iSink; };class RBufReadStream : public RReadStream {public: RBufReadStream() {} IMPORT_C RBufReadStream(const CBufBase&amp; aBuf,TInt aPos=0); IMPORT_C void Open(const CBufBase&amp; aBuf,TInt aPos=0);private: TBufBuf iSource; };class RBufWriteStream : public RWriteStream {public: RBufWriteStream() {} inline RBufWriteStream(const MExternalizer&lt;TStreamRef&gt;&amp; anExter); IMPORT_C RBufWriteStream(CBufBase&amp; aBuf,TInt aPos=0); IMPORT_C void Open(CBufBase&amp; aBuf,TInt aPos=0); IMPORT_C void Truncate(CBufBase&amp; aBuf,TInt aPos=0); IMPORT_C void Insert(CBufBase&amp; aBuf,TInt aPos); inline void Append(CBufBase&amp; aBuf);private: TBufBuf iSink; };class CBufStore : public CStreamStore {public: IMPORT_C static CBufStore* NewL(TInt anExpandSize); IMPORT_C static CBufStore* NewLC(TInt anExpandSize); IMPORT_C CBufStore(TInt anExpandSize); IMPORT_C ~CBufStore();protected: IMPORT_C TStreamId DoExtendL(); IMPORT_C void DoDeleteL(TStreamId anId); IMPORT_C MStreamBuf* DoReadL(TStreamId anId) const; IMPORT_C MStreamBuf* DoCreateL(TStreamId&amp; anId); IMPORT_C MStreamBuf* DoWriteL(TStreamId anId); IMPORT_C MStreamBuf* DoReplaceL(TStreamId anId);private: CBufSeg&amp; BufL(TStreamId anId) const;private: CArrayFixFlat&lt;CBufSeg*&gt; iBufArray; TInt iExpandSize; };# 1 "X:/epoc32/include/s32mem.inl" 1inline RMemWriteStream::RMemWriteStream(const MExternalizer&lt;TStreamRef&gt;&amp; anExter) : RWriteStream(anExter) {}inline RDesWriteStream::RDesWriteStream(const MExternalizer&lt;TStreamRef&gt;&amp; anExter) : RWriteStream(anExter) {}inline RBufWriteStream::RBufWriteStream(const MExternalizer&lt;TStreamRef&gt;&amp; anExter) : RWriteStream(anExter) {}inline void RBufWriteStream::Append(CBufBase&amp; aBuf) {Insert(aBuf,aBuf.Size());}# 351 "X:/epoc32/include/s32mem.h" 2# 24 "X:/epoc32/include/platform/mw/upnpfiletransferevent.h" 2# 1 "X:/epoc32/include/platform/mw/upnpmediaserverevent.h" 1#define C_CUPNPMEDIASERVEREVENT_Hclass CUpnpMediaServerEvent : public CBase{public: CUpnpMediaServerEvent(TInt aType); virtual ~CUpnpMediaServerEvent(); TInt GetEventType(); virtual void InternalizeL( RReadStream&amp; aStream ) = 0; virtual void ExternalizeL( RWriteStream&amp; aStream ) const = 0;protected: TInt iEventType;};# 25 "X:/epoc32/include/platform/mw/upnpfiletransferevent.h" 2class CUpnpMediaServerEvent;class CUpnpFileTransferEvent : public CUpnpMediaServerEvent{public: enum TProgressState { EStarted, ECompleted, EFailed, EStopped }; enum TDirection { EIncoming, EOutgoing, }; public: IMPORT_C static CUpnpFileTransferEvent* NewL(); IMPORT_C static CUpnpFileTransferEvent* NewLC(); virtual ~CUpnpFileTransferEvent(); IMPORT_C TProgressState ProgressState(); IMPORT_C void SetProgressState( TProgressState aState ); IMPORT_C TDirection Direction(); IMPORT_C void SetDirection( TDirection aState ); IMPORT_C TInt TransferId(); IMPORT_C void SetTransferId( TInt aTransferId ); IMPORT_C TInt ContentDirectoryObjectId(); IMPORT_C void SetContentDirectoryObjectId( TInt aObjectId ); IMPORT_C TDesC&amp; FilePath(); IMPORT_C void SetFilePathL(const TDesC&amp; aFile); IMPORT_C TInt ErrorCode(); IMPORT_C void SetErrorCode( TInt aError ); IMPORT_C CUpnpFileTransferEvent* CloneL(); IMPORT_C void ExternalizeL( RWriteStream&amp; aStream ) const; IMPORT_C void InternalizeL( RReadStream&amp; aStream ); private: void ConstructL(); CUpnpFileTransferEvent(); private: TInt iProgress; TInt iDirection; TInt iContentDirectoryObjectId; HBufC* iFilePath; TInt iTransferId; TInt iErrorCode;};# 55 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/inc/upnpprotocolinfolocal.h" 1#define C_CUPNPPROTOCOLINFOLOCAL_H const static TLitC8&lt;sizeof( "1" )&gt; KOneChar ={sizeof( "1" )-1, "1" }; const static TLitC8&lt;sizeof( "0" )&gt; KZeroChar ={sizeof( "0" )-1, "0" }; const static TLitC8&lt;sizeof( "http-get" )&gt; KDEFAULT_1ST_PARAM ={sizeof( "http-get" )-1, "http-get" }; const static TLitC8&lt;sizeof( "*" )&gt; KDEFAULT_STAR_PARAM ={sizeof( "*" )-1, "*" }; const char KDlnaDelimeter = ';'; const char KDlnaTokenizer = '='; const char KDlnaAllStar = '*'; const TInt KMAX_INT_LENGTH_STRING = 8 ; const TInt KDLNA_FLAGS_NUMBER = 4; const TInt K32BIT = 32; const TInt KDLNA_FLAGS_QUANTITY = KDLNA_FLAGS_NUMBER * K32BIT; const static TLitC8&lt;sizeof( "*" )&gt; KAllValues ={sizeof( "*" )-1, "*" }; const static TLitC8&lt;sizeof( "DLNA.ORG_PN" )&gt; KDLNA_PN ={sizeof( "DLNA.ORG_PN" )-1, "DLNA.ORG_PN" }; const static TLitC8&lt;sizeof( "DLNA.ORG_OP" )&gt; KDLNA_OP ={sizeof( "DLNA.ORG_OP" )-1, "DLNA.ORG_OP" }; const static TLitC8&lt;sizeof( "DLNA.ORG_PS" )&gt; KDLNA_PS ={sizeof( "DLNA.ORG_PS" )-1, "DLNA.ORG_PS" }; const static TLitC8&lt;sizeof( "DLNA.ORG_CI" )&gt; KDLNA_CI ={sizeof( "DLNA.ORG_CI" )-1, "DLNA.ORG_CI" }; const static TLitC8&lt;sizeof( "DLNA.ORG_FLAGS" )&gt; KDLNA_FLAGS ={sizeof( "DLNA.ORG_FLAGS" )-1, "DLNA.ORG_FLAGS" }; const char KDLNA_BOOLEAN_FALSE = '0'; const char KDLNA_BOOLEAN_TRUE = '1'; enum ADDITIONAL_INFO { NO_DLNA_DATA = -1, NO_ADDITIONAL_INFO = 0, JPEG_SM = 1, JPEG_MED, JPEG_LRG, JPEG_TN, JPEG_SM_ICO, JPEG_LRG_ICO, PNG_TN, PNG_SM_ICO, PNG_LRG_ICO, PNG_LRG, MP3, }; const static TLitC8&lt;sizeof( "image/jpeg" )&gt; KMT_IMAGE_JPEG ={sizeof( "image/jpeg" )-1, "image/jpeg" }; const static TLitC8&lt;sizeof( "image/png" )&gt; KMT_IMAGE_PNG ={sizeof( "image/png" )-1, "image/png" }; const static TLitC8&lt;sizeof( "image/gif" )&gt; KMT_IMAGE_GIF ={sizeof( "image/gif" )-1, "image/gif" }; const static TLitC8&lt;sizeof( "image/bmp" )&gt; KMT_IMAGE_BMP ={sizeof( "image/bmp" )-1, "image/bmp" }; const static TLitC8&lt;sizeof( "audio/mpeg" )&gt; KMT_AUDIO_MP3 ={sizeof( "audio/mpeg" )-1, "audio/mpeg" }; const static TLitC8&lt;sizeof( "text/plain" )&gt; KMT_TEXT_PLAIN ={sizeof( "text/plain" )-1, "text/plain" }; const static TLitC8&lt;sizeof( "image" )&gt; KMimeImage ={sizeof( "image" )-1, "image" }; const static TLitC8&lt;sizeof( "audio" )&gt; KMimeAudio ={sizeof( "audio" )-1, "audio" }; const static TLitC8&lt;sizeof( "video" )&gt; KMimeVideo ={sizeof( "video" )-1, "video" }; const static TLitC8&lt;sizeof( "*DLNA.ORG_OP=??*" )&gt; KDEFAULT_FOURTH_FIELD_OP_PATTERN ={sizeof( "*DLNA.ORG_OP=??*" )-1, "*DLNA.ORG_OP=??*" }; const static TLitC8&lt;sizeof( "*DLNA.ORG_FLAGS=????????????????????????????????*" )&gt; KDEFAULT_FOURTH_FIELD_AVIMAGE_PATTERN ={sizeof( "*DLNA.ORG_FLAGS=????????????????????????????????*" )-1, "*DLNA.ORG_FLAGS=????????????????????????????????*" }; class CUpnpProtocolInfoLocal: public CUpnpDlnaProtocolInfo{ private: CUpnpProtocolInfoLocal(); public: virtual ~CUpnpProtocolInfoLocal(); IMPORT_C static CUpnpProtocolInfoLocal* NewL(const TDesC8&amp; aInputString); IMPORT_C static CUpnpProtocolInfoLocal* NewL(const TDesC8&amp; aMimeType, TInt aAdditionalInfo); IMPORT_C static CUpnpProtocolInfoLocal* NewL(const TDesC8&amp; aMimeType, const TDesC8&amp; aDlnaPn); private: void ConstructL(const TDesC8&amp; aInputString); void ConstructFromDlnaPnL(const TDesC8&amp; aMimeType, const TDesC8&amp; aDlnaPn); void ConstructL(const TDesC8&amp; aMimeType, TInt aAdditionalInfo); private: void ChooseDlnaL(const TDesC8&amp; aMimeType, TInt aAdditionalInfo); void DefaultValuesL(); void FillAccordingToAddInfoL(TInt aAdditionalInfo); void FillAccordingToMimeL(const TDesC8&amp; aMimeType); void ZeroParameters(); void SetDefaultFourthField(); virtual void GetFourthParameterInternalL(TDes8&amp; aBuffer); };# 57 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpxmlcontentfilter.h" 1# 1 "X:/epoc32/include/xmlengnodefilter.h" 1# 23 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpxmlcontentfilter.h" 2class CUpnpXmlContentFilter : public CBase, MXmlEngNodeFilter {public: virtual TXmlEngNodeFilterResult AcceptNode(TXmlEngNode aNode); public: static HBufC8* SerializeLC(RXmlEngDocument&amp; aDoc, TXmlEngElement&amp; aElement ); };# 58 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpstatehandler.h" 1#define C_CUPNPSTATEHANDLER_Hclass TUpnpContainerUpdateId;class CUpnpContentDirectory;class CUpnpStateHandler : public CBase { public: CUpnpStateHandler ( ); ~CUpnpStateHandler (); public: static CUpnpStateHandler* NewL(CUpnpContentDirectory* aCd); void ConstructL(CUpnpContentDirectory* aCd); TInt IncreaseSystemUpdateIdL(); void IncreaseContainerUpdateIdL( const TDesC8&amp; aContainerID ); RArray&lt;TUpnpContainerUpdateId&gt;&amp; ContainerUpdateIds( ); TInt ContainerUpdateId( const TDesC8&amp; aContainerID ); void StateVariableEvented(const TDesC8&amp; aVariableName); TBool IsEnable(); private: RArray&lt;TUpnpContainerUpdateId&gt; iContainerUpdateIds; TUint iSystemUpdateId; RArray&lt;TUpnpContainerUpdateId&gt; iCurrentContainerUpdateIds; TBool iContainerUpdateIdsEvented; CUpnpContentDirectory* iCd; }; # 59 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptransferuploader.h" 1#define C_CUPNPTRANSFERUPLOADER_H# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptransferbase.h" 1#define C_CUPNPTRANSFERBASE_H# 1 "X:/epoc32/include/platform/mw/httptransferobserver.h" 1#define C_MHTTPTRANSFEROBSERVER_Hclass MHttpTransferObserver {public: virtual void TransferProgress( TAny* aKey, TInt aBytes, TInt aTotalBytes )=0; virtual void ReadyForTransferL( TAny* aKey )=0; virtual void TransferCompleted( TAny* aKey, TInt aStatus )=0; };# 25 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptransferbase.h" 2class CUpnpContentDirectory;class CHttpTransferBase;class MUpnpTransferObserver;const TInt KDefaultAccessPoint = 11;const TInt KDefaultBuffer = 64000;const TInt KNumOfConcurrentTransactions = 2;class CUpnpTransferBase: public CBase , public MHttpTransferObserver{public: virtual ~CUpnpTransferBase(); virtual void ReadyForTransferL( TAny* aKey); virtual void TransferProgress( TAny* aKey, TInt aBytes, TInt aTotalBytes ); virtual void TransferCompleted( TAny* aKey, TInt aStatus ); public: void CreateAndQueueHttpFileL( const TDesC8&amp; aUri, const TDesC&amp; aTargetPath, TInt aKey ); void SetHeaderL( TInt aKey, const TDesC8&amp; aFieldName, const TDesC8&amp; aFieldValue ); void TrackProgess(TInt aKey, TBool aSwitchOn); virtual void CancelTransfer( TInt aKey); protected: CUpnpTransferBase( MUpnpTransferObserver* aCd ); TInt MapStatus( TInt aErrorCode ); protected: MUpnpTransferObserver* iObserver; CHttpTransferBase* iHttpTransferBase; };# 23 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptransferuploader.h" 2class CHttpUploader;class CUpnpTransferUploader: public CUpnpTransferBase{public: static CUpnpTransferUploader* NewLC( MUpnpTransferObserver* aCd ); static CUpnpTransferUploader* NewL( MUpnpTransferObserver* aCd ); virtual ~CUpnpTransferUploader(); public: void UploadFileL(TInt aKey); void DownloadFileL(const TDesC8&amp; aUri, const TDesC&amp; aTargetPath, TInt aKey); void UploadFileL( const TDesC8&amp; aUri,const TDesC&amp; aTargetPath, const TDesC8&amp; aContentType, TInt aKey); private: CUpnpTransferUploader( MUpnpTransferObserver* aCd ); void ConstructL(); private: };# 60 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmimemapper.h" 1#define UPNPMIMEMAPPER_H# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmap.h" 1#define UPNPMAP_H# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmapelement.h" 1#define UPNPMAPELEMENT_Hclass CUpnpElement;class CUpnpObject;class CUri8;class CUpnpMapElement: public CBase {public: static CUpnpMapElement* NewLC(const TDesC8&amp; aKey, TAny* aValue); static CUpnpMapElement* NewL(const TDesC8&amp; aKey, TAny* aValue); virtual ~CUpnpMapElement();public: const TDesC8&amp; Key(); TAny* Value(); CUpnpMapElement* Next(); void SetNext(CUpnpMapElement* aNext);private: CUpnpMapElement(TAny* iItem); void ConstructL(const TDesC8&amp; aKey); private: HBufC8* iKey; TAny* iValue; CUpnpMapElement* iNext;}; # 25 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmap.h" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmapbase.h" 1#define UPNPMAPBASE_Hclass CUpnpMapBase: public CBase{public: void PutL(const TDesC8&amp; aKey, TAny* aValue); TAny* Get(const TDesC8&amp; aKey); TAny* Remove(const TDesC8&amp; aKey); virtual void Clear() = 0;protected: CUpnpMapBase(); void ConstructL();protected: CUpnpMapElement* iFirst; };# 26 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmap.h" 2template&lt;class T&gt;class CUpnpMap : public CUpnpMapBase{public: virtual ~CUpnpMap(); void PutL(const TDesC8&amp; aKey, T* aValue); const T* Get(const TDesC8&amp; aKey); T* Remove(const TDesC8&amp; aKey); void Clear();public: CUpnpMap();};template&lt;class T&gt;CUpnpMap&lt;T&gt;::CUpnpMap(){}template&lt;class T&gt;const T* CUpnpMap&lt;T&gt;::Get(const TDesC8&amp; aKey){ return static_cast&lt;T*&gt; CUpnpMapBase::Get(aKey) );}template&lt;class T&gt;void CUpnpMap&lt;T&gt;::PutL(const TDesC8&amp; aKey, T* aValue){ CUpnpMapBase::PutL(aKey, aValue);}template&lt;class T&gt;CUpnpMap&lt;T&gt;::~CUpnpMap(){ Clear();}template&lt;class T&gt;void CUpnpMap&lt;T&gt;::Clear(){ while(iFirst) { CUpnpMapElement* next = iFirst-&gt;Next(); delete static_cast&lt;T*&gt; iFirst-&gt;Value() ); delete iFirst; iFirst = next; }}# 25 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmimemapper.h" 2const static TLitC8&lt;sizeof( "jpg" )&gt; KExtensionJpg ={sizeof( "jpg" )-1, "jpg" };const static TLitC8&lt;sizeof( "png" )&gt; KExtensionPng ={sizeof( "png" )-1, "png" };const static TLitC8&lt;sizeof( "txt" )&gt; KExtensionTxt ={sizeof( "txt" )-1, "txt" };const static TLitC8&lt;sizeof( "mp3" )&gt; KExtensionMp3 ={sizeof( "mp3" )-1, "mp3" };const static TLitC8&lt;sizeof( "gif" )&gt; KExtensionGif ={sizeof( "gif" )-1, "gif" };const static TLitC8&lt;sizeof( "bmp" )&gt; KExtensionBmp ={sizeof( "bmp" )-1, "bmp" };const static TLitC&lt;sizeof(L".wav" )/2&gt; KExtensionWav ={sizeof(L".wav" )/2-1,L".wav" };const static TLitC&lt;sizeof(L".aac" )/2&gt; KExtensionAac ={sizeof(L".aac" )/2-1,L".aac" };const static TLitC8&lt;sizeof( "application/xhtml+xml" )&gt; KXHtmlMime ={sizeof( "application/xhtml+xml" )-1, "application/xhtml+xml" }; const static TLitC&lt;sizeof(L".xhtml" )/2&gt; KXHtmlExt ={sizeof(L".xhtml" )/2-1,L".xhtml" }; const static TLitC8&lt;sizeof( "text/html" )&gt; KHtmlMime ={sizeof( "text/html" )-1, "text/html" }; const static TLitC&lt;sizeof(L".html" )/2&gt; KHtmlExt ={sizeof(L".html" )/2-1,L".html" };const static TLitC8&lt;sizeof( "text/xml" )&gt; KXmlMime1 ={sizeof( "text/xml" )-1, "text/xml" }; const static TLitC8&lt;sizeof( "application/xml" )&gt; KXmlMime2 ={sizeof( "application/xml" )-1, "application/xml" };const static TLitC8&lt;sizeof( "application/x-xml" )&gt; KXmlMime3 ={sizeof( "application/x-xml" )-1, "application/x-xml" }; const static TLitC&lt;sizeof(L".xml" )/2&gt; KXmlExt ={sizeof(L".xml" )/2-1,L".xml" };const static TLitC8&lt;sizeof( "text/plain" )&gt; KTxtMime ={sizeof( "text/plain" )-1, "text/plain" };const static TLitC8&lt;sizeof( "application/txt" )&gt; KTxtMime2 ={sizeof( "application/txt" )-1, "application/txt" };const static TLitC8&lt;sizeof( "browser/internal" )&gt; KTxtMime3 ={sizeof( "browser/internal" )-1, "browser/internal" };const static TLitC8&lt;sizeof( "text/anytext" )&gt; KTxtMime4 ={sizeof( "text/anytext" )-1, "text/anytext" };const static TLitC8&lt;sizeof( "widetext/plain" )&gt; KTxtMime5 ={sizeof( "widetext/plain" )-1, "widetext/plain" };const static TLitC8&lt;sizeof( "widetext/paragraph" )&gt; KTxtMime6 ={sizeof( "widetext/paragraph" )-1, "widetext/paragraph" }; const static TLitC&lt;sizeof(L".txt" )/2&gt; KTxtExt ={sizeof(L".txt" )/2-1,L".txt" };const static TLitC8&lt;sizeof( "image/jpeg" )&gt; KJpegMime ={sizeof( "image/jpeg" )-1, "image/jpeg" }; const static TLitC&lt;sizeof(L".jpeg" )/2&gt; KJpegExt ={sizeof(L".jpeg" )/2-1,L".jpeg" };const static TLitC8&lt;sizeof( "image/jpg" )&gt; KJpegMime2 ={sizeof( "image/jpg" )-1, "image/jpg" };const static TLitC8&lt;sizeof( "image/jpe_" )&gt; KJpegMime3 ={sizeof( "image/jpe_" )-1, "image/jpe_" };const static TLitC8&lt;sizeof( "image/pjpeg" )&gt; KJpegMime4 ={sizeof( "image/pjpeg" )-1, "image/pjpeg" }; const static TLitC8&lt;sizeof( "image/vnd.swiftview-jpeg" )&gt; KJpegMime5 ={sizeof( "image/vnd.swiftview-jpeg" )-1, "image/vnd.swiftview-jpeg" }; const static TLitC8&lt;sizeof( "image/jpeg" )&gt; KJpgMime ={sizeof( "image/jpeg" )-1, "image/jpeg" }; const static TLitC&lt;sizeof(L".jpg" )/2&gt; KJpgExt ={sizeof(L".jpg" )/2-1,L".jpg" };const static TLitC8&lt;sizeof( "image/jpg" )&gt; KJpgMime2 ={sizeof( "image/jpg" )-1, "image/jpg" }; const static TLitC8&lt;sizeof( "image/jpe_" )&gt; KJpgMime3 ={sizeof( "image/jpe_" )-1, "image/jpe_" }; const static TLitC8&lt;sizeof( "image/pjpeg" )&gt; KJpgMime4 ={sizeof( "image/pjpeg" )-1, "image/pjpeg" }; const static TLitC8&lt;sizeof( "image/vnd.swiftview-jpeg" )&gt; KJpgMime5 ={sizeof( "image/vnd.swiftview-jpeg" )-1, "image/vnd.swiftview-jpeg" }; const static TLitC8&lt;sizeof( "image/gif" )&gt; KGifMime ={sizeof( "image/gif" )-1, "image/gif" }; const static TLitC&lt;sizeof(L".gif" )/2&gt; KGifExt ={sizeof(L".gif" )/2-1,L".gif" };const static TLitC8&lt;sizeof( "image/x-xbitmap" )&gt; KGifMime2 ={sizeof( "image/x-xbitmap" )-1, "image/x-xbitmap" }; const static TLitC8&lt;sizeof( "image/gi_" )&gt; KGifMime3 ={sizeof( "image/gi_" )-1, "image/gi_" }; const static TLitC8&lt;sizeof( "image/png" )&gt; KPngMime ={sizeof( "image/png" )-1, "image/png" }; const static TLitC&lt;sizeof(L".png" )/2&gt; KPngExt ={sizeof(L".png" )/2-1,L".png" };const static TLitC8&lt;sizeof( "application/png" )&gt; KPngMime2 ={sizeof( "application/png" )-1, "application/png" }; const static TLitC8&lt;sizeof( "application/x-png" )&gt; KPngMime3 ={sizeof( "application/x-png" )-1, "application/x-png" }; const static TLitC8&lt;sizeof( "video/mpeg" )&gt; KMpgMime1 ={sizeof( "video/mpeg" )-1, "video/mpeg" }; const static TLitC&lt;sizeof(L".mpg" )/2&gt; KMpgExt1 ={sizeof(L".mpg" )/2-1,L".mpg" };const static TLitC8&lt;sizeof( "video/mpg" )&gt; KMpgMime2 ={sizeof( "video/mpg" )-1, "video/mpg" }; const static TLitC8&lt;sizeof( "video/x-mpg" )&gt; KMpgMime3 ={sizeof( "video/x-mpg" )-1, "video/x-mpg" }; const static TLitC8&lt;sizeof( "video/mpeg2" )&gt; KMpgMime4 ={sizeof( "video/mpeg2" )-1, "video/mpeg2" }; const static TLitC8&lt;sizeof( "application/x-pn-mpg" )&gt; KMpgMime5 ={sizeof( "application/x-pn-mpg" )-1, "application/x-pn-mpg" }; const static TLitC8&lt;sizeof( "video/x-mpeg" )&gt; KMpgMime6 ={sizeof( "video/x-mpeg" )-1, "video/x-mpeg" }; const static TLitC8&lt;sizeof( "video/x-mpeg2a" )&gt; KMpgMime7 ={sizeof( "video/x-mpeg2a" )-1, "video/x-mpeg2a" }; const static TLitC8&lt;sizeof( "audio/mpeg" )&gt; KMpgMime8 ={sizeof( "audio/mpeg" )-1, "audio/mpeg" }; const static TLitC8&lt;sizeof( "audio/x-mpeg" )&gt; KMpgMime9 ={sizeof( "audio/x-mpeg" )-1, "audio/x-mpeg" }; const static TLitC8&lt;sizeof( "image/mpg" )&gt; KMpgMime10 ={sizeof( "image/mpg" )-1, "image/mpg" }; const static TLitC8&lt;sizeof( "video/mpeg4" )&gt; KMpeg4Mime ={sizeof( "video/mpeg4" )-1, "video/mpeg4" }; const static TLitC&lt;sizeof(L".mpeg4" )/2&gt; KMpeg4Ext ={sizeof(L".mpeg4" )/2-1,L".mpeg4" };const static TLitC8&lt;sizeof( "video/mp4" )&gt; KMp4Mime ={sizeof( "video/mp4" )-1, "video/mp4" }; const static TLitC&lt;sizeof(L".mp4" )/2&gt; KMp4Ext ={sizeof(L".mp4" )/2-1,L".mp4" };const static TLitC8&lt;sizeof( "video/mp4v-es" )&gt; KMp4Mime2 ={sizeof( "video/mp4v-es" )-1, "video/mp4v-es" }; const static TLitC8&lt;sizeof( "audio/mp4" )&gt; KMp4Mime3 ={sizeof( "audio/mp4" )-1, "audio/mp4" }; const static TLitC8&lt;sizeof( "video/avi" )&gt; KAviMime1 ={sizeof( "video/avi" )-1, "video/avi" };const static TLitC8&lt;sizeof( "video/msvideo" )&gt; KAviMime2 ={sizeof( "video/msvideo" )-1, "video/msvideo" };const static TLitC8&lt;sizeof( "video/x-msvideo" )&gt; KAviMime3 ={sizeof( "video/x-msvideo" )-1, "video/x-msvideo" }; const static TLitC&lt;sizeof(L".avi" )/2&gt; KAviExt ={sizeof(L".avi" )/2-1,L".avi" };const static TLitC8&lt;sizeof( "image/avi" )&gt; KAviMime4 ={sizeof( "image/avi" )-1, "image/avi" }; const static TLitC8&lt;sizeof( "video/xmpg2" )&gt; KAviMime5 ={sizeof( "video/xmpg2" )-1, "video/xmpg2" }; const static TLitC8&lt;sizeof( "application/x-troff-msvideo" )&gt; KAviMime6 ={sizeof( "application/x-troff-msvideo" )-1, "application/x-troff-msvideo" }; const static TLitC8&lt;sizeof( "audio/aiff" )&gt; KAviMime7 ={sizeof( "audio/aiff" )-1, "audio/aiff" }; const static TLitC8&lt;sizeof( "audio/avi" )&gt; KAviMime8 ={sizeof( "audio/avi" )-1, "audio/avi" }; const static TLitC8&lt;sizeof( "audio/x-mpeg-3" )&gt; KMp3Mime1 ={sizeof( "audio/x-mpeg-3" )-1, "audio/x-mpeg-3" };const static TLitC8&lt;sizeof( "audio/mpeg3" )&gt; KMp3Mime2 ={sizeof( "audio/mpeg3" )-1, "audio/mpeg3" }; const static TLitC&lt;sizeof(L".mp3" )/2&gt; KMp3Ext ={sizeof(L".mp3" )/2-1,L".mp3" };const static TLitC8&lt;sizeof( "audio/mpeg" )&gt; KMp3Mime3 ={sizeof( "audio/mpeg" )-1, "audio/mpeg" }; const static TLitC8&lt;sizeof( "audio/x-mpeg" )&gt; KMp3Mime4 ={sizeof( "audio/x-mpeg" )-1, "audio/x-mpeg" }; const static TLitC8&lt;sizeof( "audio/mp3" )&gt; KMp3Mime5 ={sizeof( "audio/mp3" )-1, "audio/mp3" }; const static TLitC8&lt;sizeof( "audio/x-mp3" )&gt; KMp3Mime6 ={sizeof( "audio/x-mp3" )-1, "audio/x-mp3" }; const static TLitC8&lt;sizeof( "audio/x-mpeg3" )&gt; KMp3Mime7 ={sizeof( "audio/x-mpeg3" )-1, "audio/x-mpeg3" }; const static TLitC8&lt;sizeof( "audio/mpg" )&gt; KMp3Mime8 ={sizeof( "audio/mpg" )-1, "audio/mpg" }; const static TLitC8&lt;sizeof( "audio/x-mpg" )&gt; KMp3Mime9 ={sizeof( "audio/x-mpg" )-1, "audio/x-mpg" }; const static TLitC8&lt;sizeof( "audio/x-mpegaudio" )&gt; KMp3Mime10 ={sizeof( "audio/x-mpegaudio" )-1, "audio/x-mpegaudio" }; const static TLitC8&lt;sizeof( "audio/aac" )&gt; KAacMime ={sizeof( "audio/aac" )-1, "audio/aac" }; const static TLitC&lt;sizeof(L".aac" )/2&gt; KAacExt ={sizeof(L".aac" )/2-1,L".aac" };const static TLitC8&lt;sizeof( "audio/x-ms-wma" )&gt; KWmaMime ={sizeof( "audio/x-ms-wma" )-1, "audio/x-ms-wma" }; const static TLitC&lt;sizeof(L".wma" )/2&gt; KWmaExt ={sizeof(L".wma" )/2-1,L".wma" };const static TLitC8&lt;sizeof( "video/x-ms-asf" )&gt; KWmaMime2 ={sizeof( "video/x-ms-asf" )-1, "video/x-ms-asf" }; const static TLitC8&lt;sizeof( "image/bmp" )&gt; KBmpMime ={sizeof( "image/bmp" )-1, "image/bmp" }; const static TLitC&lt;sizeof(L".bmp" )/2&gt; KBmpExt ={sizeof(L".bmp" )/2-1,L".bmp" };const static TLitC8&lt;sizeof( "image/x-bmp" )&gt; KBmpMime2 ={sizeof( "image/x-bmp" )-1, "image/x-bmp" }; const static TLitC8&lt;sizeof( "image/x-bitmap" )&gt; KBmpMime3 ={sizeof( "image/x-bitmap" )-1, "image/x-bitmap" }; const static TLitC8&lt;sizeof( "image/x-xbitmap" )&gt; KBmpMime4 ={sizeof( "image/x-xbitmap" )-1, "image/x-xbitmap" }; const static TLitC8&lt;sizeof( "image/x-ms-bmp" )&gt; KBmpMime5 ={sizeof( "image/x-ms-bmp" )-1, "image/x-ms-bmp" }; const static TLitC8&lt;sizeof( "application/bmp" )&gt; KBmpMime6 ={sizeof( "application/bmp" )-1, "application/bmp" }; const static TLitC8&lt;sizeof( "application/x-bmp" )&gt; KBmpMime7 ={sizeof( "application/x-bmp" )-1, "application/x-bmp" }; const static TLitC8&lt;sizeof( "application/x-win-bitmap" )&gt; KBmpMime8 ={sizeof( "application/x-win-bitmap" )-1, "application/x-win-bitmap" }; const static TLitC8&lt;sizeof( "application/preview" )&gt; KBmpMime9 ={sizeof( "application/preview" )-1, "application/preview" }; const static TLitC8&lt;sizeof( "audio/L16" )&gt; KAudioL16 ={sizeof( "audio/L16" )-1, "audio/L16" };const static TLitC8&lt;sizeof( "audio/vnd.dlna.adts" )&gt; KAudioVnd ={sizeof( "audio/vnd.dlna.adts" )-1, "audio/vnd.dlna.adts" };const static TLitC8&lt;sizeof( "audio/3gpp" )&gt; KAudio3gpp ={sizeof( "audio/3gpp" )-1, "audio/3gpp" }; const static TLitC8&lt;sizeof( "video/3gpp" )&gt; KVideo3gpp ={sizeof( "video/3gpp" )-1, "video/3gpp" }; const static TLitC&lt;sizeof(L".3gp" )/2&gt; K3gpExt ={sizeof(L".3gp" )/2-1,L".3gp" };const static TLitC8&lt;sizeof( "audio/AMR" )&gt; KAudioAMR ={sizeof( "audio/AMR" )-1, "audio/AMR" }; const static TLitC&lt;sizeof(L".amr" )/2&gt; KAmrExt ={sizeof(L".amr" )/2-1,L".amr" };const static TLitC8&lt;sizeof( "audio/wav" )&gt; KAudioWav ={sizeof( "audio/wav" )-1, "audio/wav" };const static TLitC8&lt;sizeof( "video/x-ms-wmv" )&gt; KVideoWmv ={sizeof( "video/x-ms-wmv" )-1, "video/x-ms-wmv" }; const static TLitC&lt;sizeof(L".wmv" )/2&gt; KWmvExt ={sizeof(L".wmv" )/2-1,L".wmv" };const static TLitC8&lt;sizeof( "video/x-ms-avi" )&gt; KVideoAvi ={sizeof( "video/x-ms-avi" )-1, "video/x-ms-avi" };const static TLitC8&lt;sizeof( "application/vnd.rn-realmedia" )&gt; KRealMedia ={sizeof( "application/vnd.rn-realmedia" )-1, "application/vnd.rn-realmedia" }; const static TLitC&lt;sizeof(L".rm" )/2&gt; KRmExt ={sizeof(L".rm" )/2-1,L".rm" };const static TLitC8&lt;sizeof( "audio/vnd.rn-realaudio" )&gt; KRealAudio ={sizeof( "audio/vnd.rn-realaudio" )-1, "audio/vnd.rn-realaudio" }; const static TLitC&lt;sizeof(L".ra" )/2&gt; KRealAudioExt ={sizeof(L".ra" )/2-1,L".ra" };const static TLitC8&lt;sizeof( "audio/x-pn-realaudio-plugin" )&gt; KPmRealAudioPlugin ={sizeof( "audio/x-pn-realaudio-plugin" )-1, "audio/x-pn-realaudio-plugin" }; const static TLitC&lt;sizeof(L".rpm" )/2&gt; KPmRealAudioPluginExt ={sizeof(L".rpm" )/2-1,L".rpm" };const static TLitC8&lt;sizeof( "audio/x-pn-realaudio" )&gt; KPmRealAudio ={sizeof( "audio/x-pn-realaudio" )-1, "audio/x-pn-realaudio" }; const static TLitC&lt;sizeof(L".ra" )/2&gt; KPmRealAudioExt ={sizeof(L".ra" )/2-1,L".ra" };const static TLitC8&lt;sizeof( "video/vnd.rn-realvideo" )&gt; KRealVideo ={sizeof( "video/vnd.rn-realvideo" )-1, "video/vnd.rn-realvideo" }; const static TLitC&lt;sizeof(L".rv" )/2&gt; KRealVideoExt ={sizeof(L".rv" )/2-1,L".rv" };class CUpnpMimeMapper: public CBase {public: static CUpnpMimeMapper* NewL(); virtual ~CUpnpMimeMapper();public: void AddMimeMapElL( const TDesC8&amp; aKey, const TDesC&amp; aVal ); void InitMimeToExtensionMapL(); HBufC8* GetExtensionL( const TDesC8&amp; aMimeType ); const HBufC* Get( const TDesC8&amp; aKey );private: CUpnpMimeMapper(); void ConstructL(); private: CUpnpMap&lt;HBufC&gt;* iMimeToExtMap; }; # 61 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptransfercontroller.h" 1#define C_CUPNPTRANSFERCONTROLLER_Hclass CUpnpContentDirectory;class CUpnpFileTransferEvent;class CUpnpHttpMessage;class CUpnpTransferController: public CBase, public MUpnpFileTransferTimerObserver{public: static CUpnpTransferController* NewL( CUpnpContentDirectory* aCd ); virtual ~CUpnpTransferController(); void HttpResponseReceivedL( TInt aSessionId, TInt aStatusCode); TUpnpErrorCode StopTransferResourceL( TInt aId ); TInt Transfer( TInt aTransferId ); TBool IsMaxImportExportTransfers(); CUpnpFileTransferEvent* RemoveTransferLC( TInt aTransferId ); CUpnpFileTransferEvent* TransferL( TInt aTransferId ); void TransferEvent( CUpnpFileTransferTimerObserver* aTimer ); void AddIncomingTransferInternalL(CUpnpHttpMessage* aHttpMsg); void TransferFailL(CUpnpHttpMessage* aHttpMsg); void NotifyTransferFailL(CUpnpHttpMessage* aHttpMsg); private: CUpnpTransferController( CUpnpContentDirectory* aCd ); void ConstructL(); public: RPointerArray&lt;CUpnpFileTransfer&gt; iFileTransfers; RPointerArray&lt;CUpnpFileTransferTimerObserver&gt; iStatusTimers; private: CUpnpContentDirectory* iContentDirectory; }; # 62 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptransferinterface.h" 1#define C_CUPNPTRANSERINTERFACE_Hclass MUpnpTransferInterface { public: virtual void UploadFileL( TInt aKey, const TDesC8&amp; aUri, const TDesC&amp; aTargetPath, const TDesC8&amp; aContentType ) = 0; virtual void DownloadFileL( TInt aKey, const TDesC8&amp; aUri, const TDesC&amp; aTargetPath ) = 0; virtual void TrackUploadProgress( TInt aKey, TBool aSwitchOn )=0; virtual void TrackDownloadProgress( TInt aKey, TBool aSwitchOn )=0; virtual void CancelUpload( TInt aKey ) = 0; virtual void CancelDownload( TInt aKey ) = 0; }; # 63 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/dlna/upnpdlnafilter.h" 1#define UPNPDLNAFILTER_H class MUpnpContentDirectoryDataFinder;class CUpnpHttpMessage;class CUpnpDlnaProtocolInfo;class CUpnpSecurityManager;class CUpnpHttpFileServeTransaction;class CUpnpHttpFileReceiveTransaction;class CUpnpDlnaFilterHeaders;class TUpnpDlnaCorelation;class CUpnpDlnaFilter : public CBase, public MUpnpHttpServerTransactionCreator {public: ~CUpnpDlnaFilter(); static CUpnpDlnaFilter* NewL( MUpnpContentDirectoryDataFinder* aFinder, CUpnpSecurityManager* aSecurityManager ); static CUpnpDlnaFilter* NewLC( MUpnpContentDirectoryDataFinder* aFinder, CUpnpSecurityManager* aSecurityManager ); virtual void NewTransactionL( const TDesC8&amp; aMethod, const TDesC8&amp; aUri, const TInetAddr&amp; aSender, CUpnpHttpServerTransaction*&amp; aResultTrans ); void FormatPathL( CUpnpHttpFileServeTransaction *aTransaction, TDes &amp;aPath ); TInt PrepareHeaderL( CUpnpHttpFileServeTransaction &amp;aTransaction ); TInt CheckDLNAPostCorrelationsL(CUpnpHttpFileReceiveTransaction&amp; aTransaction); HBufC* DetermineDownloadPathL(CUpnpHttpFileReceiveTransaction&amp; aTransaction); CUpnpSecurityManager* SecurityManager(); RFs&amp; FileSession(); TInt AuthorizeRequestL( const TDesC&amp; aFileName, const TInetAddr&amp; aSender );public: CUpnpDlnaFilter( MUpnpContentDirectoryDataFinder* aFinder, CUpnpSecurityManager* aSecurityManager ); void ConstructL();private: HBufC8* CUpnpDlnaFilter::ThirdFieldFromCdL( const TDesC8&amp; aContentUri ); void GetMediaFileNameL( TInt aObjectId, TPtr&amp; aFileName ); TInt FindSharedFolderDBL(const TDesC8&amp; aUrlPath, const TDesC8&amp; aFileName, HBufC8*&amp; aSystemPath); TInt CheckImportUriL( TDesC8&amp; aImportUri ); TInt CheckDLNACorrelationsL( CUpnpHttpFileServeTransaction&amp; aTransaction ); TInt GetContentTypeL( CUpnpHttpFileServeTransaction &amp;aTransaction, HBufC8*&amp; aMime, const TDesC16&amp; aFilename ); CUpnpDlnaProtocolInfo* ProtocolInfoL( const TDesC8&amp; aContentUri ); void AddHeaderIfNotEmptyL( const TDesC8&amp; aHeaderName, CUpnpHttpFileServeTransaction&amp; aTransaction ); HBufC* MakeFileNameUniqueL( const TDesC&amp; aFilename, RFs&amp; aFs ); HBufC* PreparePostfixToMakeFileUniqueL( const TDesC&amp; aFilename, RFs&amp; aFs ); HBufC* PrepareBaseFileNameL( const TDesC&amp; aFilename, RFs&amp; aFs ); TInt CheckCorelationL( CUpnpHttpFileServeTransaction&amp; aTransaction, TUpnpDlnaCorelation&amp; aDlnaCorelation ); TInt CheckTransferModeL( CUpnpHttpFileServeTransaction&amp; aTransaction, TUpnpDlnaCorelation&amp; aDlnaCorelation ); TInt AppendCorelationHeadersL( CUpnpHttpFileServeTransaction&amp; aTransaction, TUpnpDlnaCorelation&amp; aDlnaCorelation, TDesC8&amp; aTransferMode ); protected: MUpnpContentDirectoryDataFinder* iCdDataFinder; CUpnpSecurityManager* iSecurityManager; CUpnpDlnaProtocolInfo* iProtocolInfo; RFs iFs; };# 64 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/epoc32/include/platform/mw/upnphttpserversession.h" 1#define UPNPHTTPSERVERSESSION_Hclass CUpnpHttpServerRuntime;class MUpnpHttpServerObserver;class CUpnpHttpMessage;const TInt KUpnpHttpServerRandomPort = 0;class CUpnpHttpServerSession : public CBase {public: IMPORT_C static CUpnpHttpServerSession* NewL( TUint aUnusedIapId, MUpnpHttpServerObserver&amp; aObserver ); ~CUpnpHttpServerSession(); IMPORT_C void StartL( const TInt aPort = KUpnpHttpServerRandomPort ); IMPORT_C void Stop(); IMPORT_C void GetAddress( TInetAddr&amp; aAddr ); IMPORT_C CUpnpHttpServerRuntime&amp; DefaultRuntime(); static CUpnpHttpServerSession* NewLC( TUint aUnusedIapId, MUpnpHttpServerObserver&amp; aObserver ); IMPORT_C TSockAddr* HWAddressL(); IMPORT_C TInt SendMessageL( CUpnpHttpMessage* aMessage ); private: CUpnpHttpServerSession(); void ConstructL( TUint aUnusedIapId, MUpnpHttpServerObserver&amp; aObserver );private: CUpnpHttpServerRuntime* iServerRuntime; };# 65 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/epoc32/include/platform/mw/upnphttpserverruntime.h" 1#define UPNPHTTPSERVERRUNTIME_Hclass MUpnpHttpServerTransactionCreator;class CUpnpHttpServer;class MUpnpHttpServerObserver;class CUpnpHttpServerRuntime : public CBase {public: IMPORT_C void SetCreator( MUpnpHttpServerTransactionCreator&amp; aCreator ); static CUpnpHttpServerRuntime* NewL( TUint aUnusedIapId, MUpnpHttpServerObserver&amp; aObserver ); static CUpnpHttpServerRuntime* NewLC( TUint aUnusedIapId, MUpnpHttpServerObserver&amp; aObserver ); ~CUpnpHttpServerRuntime(); CUpnpHttpServer&amp; HttpServer(); void DeleteServer(); void StartServerL( const TInt aPort ); private: CUpnpHttpServerRuntime( TUint aUnusedIapId, MUpnpHttpServerObserver&amp; aObserver ); void ConstructL(); void GetIapAndStartServerL(); void OpenSocketServerL(); void CloseSocketServer(); private: RSocketServ iSocketServ; CUpnpHttpServer* iHttpServer; MUpnpHttpServerObserver&amp; iObserver; MUpnpHttpServerTransactionCreator* iTransactionCreator; TBool iIsSocketOpened; };# 66 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/epoc32/include/platform/mw/upnpsettings.h" 1#define C_CUPNPSETTING_Hconst TUid KHnCRUidUPnPStack = { 0x2000F881 }; const TUid KCRUidUPnPStack = { 0x101F9784 };class CRepository;class CUpnpSettings: public CBase {public: static const TUint KUPnPStackIapId = 1; static const TUint KUPnPStackCustomizedUserAgent = 2; static const TUint KUPnPStackFileBufferSize = 3; static const TUint KUPnPStackCustomizedServerHeader = 4; static const TUint KUPnPStackMSearchConfig = 5; public: IMPORT_C static CUpnpSettings* NewL(TUid aRepositoryUid); virtual ~CUpnpSettings();public: IMPORT_C TInt Set(TUint aId, TInt&amp; aValue); IMPORT_C TInt Get(TUint aId, TInt&amp; aValue); IMPORT_C static TInt GetIapL(); IMPORT_C TInt Set(TUint aId, const TDesC&amp; aValue); IMPORT_C TInt SetL(TUint aId, const TDesC8&amp; aValue); IMPORT_C TInt Get(TUint aId, TDes&amp; aValue); IMPORT_C HBufC8* GetL(TUint aId); IMPORT_C static HBufC8* GetUserAgentL(); IMPORT_C static TInt GetFileBufferSizeL(); IMPORT_C static HBufC8* GetServerHeaderL(); static HBufC8* GetMSearchConfigurationL();private: void ConstructL(TUid aRepositoryId);private: CRepository* iRepository; };# 67 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/epoc32/include/platform/mw/upnpdeviceimplementationbase.h" 1#define C_CUPNPDEVICEIMPLEMENTATIONBASE_H# 1 "X:/epoc32/include/platform/mw/upnpdiscoveryobserver.h" 1#define C_MUpnpDiscoveryObserver_Hclass CUpnpDevice;class MUpnpDiscoveryObserver{public: virtual const TDesC8 &amp; Path() = 0; virtual void DeviceFoundL( CUpnpDevice&amp; aDevice ) = 0; virtual void DeviceLostL( CUpnpDevice&amp; aDevice ) = 0;};# 26 "X:/epoc32/include/platform/mw/upnpdeviceimplementationbase.h" 2class TUpnpDevice;class TUpnpService;class CUpnpIcon;class CUpnpDesciptionProperty;class CUpnpDeviceDescriptionStore;class CUpnpHttpServerTransactionHandler;class MUpnpDeviceDescriptionProvider;class CUpnpDeviceImplementationBase : public CUpnpDevice { public: IMPORT_C virtual ~CUpnpDeviceImplementationBase(); virtual void StartL( const TInt aPort = KRandomPort ) = 0; virtual void StopL() = 0; IMPORT_C void SetDescriptionPropertyL( const TDesC8&amp; aPropertyName, const TDesC8&amp; aPropertyValue ); IMPORT_C void RemoveDescriptionPropertyL( const TDesC8&amp; aPropertyName ); IMPORT_C void RemoveIconL( const TDesC8&amp; aUrl); IMPORT_C void RemoveIconsL(); IMPORT_C void AddIconL( const CUpnpIcon&amp; aIcon ); void UpdateIconL( const CUpnpIcon&amp; aIcon ); HBufC8* GenerateUuidL(); void CreateDispatcherL(); CUpnpDeviceImplementationBase(); IMPORT_C virtual TInetAddr Address(); void AttachServiceL( CUpnpService *aService ); void SetDispatcher( CUpnpDispatcher* aDispatcher ); IMPORT_C void StartIPFilteringL(); IMPORT_C void StopIPFiltering(); MUpnpDeviceDescriptionProvider&amp; DescritptionProvider(); protected: void StartHttpServerL( const TInt aPort ); void StopHttpServer(); void CheckUuidGenL( const TDesC16&amp; aFileName ); CUpnpDispatcher* Dispatcher(); void BaseConstructL( const TDesC8&amp; aDeviceDescriptioUri, CUpnpDeviceDescriptionStore&amp; aDescriptionStore, MUpnpDeviceDescriptionProvider&amp; aProvider ); void GenerateUdnsL( CUpnpDeviceImplementationBase* aDevice ); void RegisterEmbeddedDevices(); void UnregisterEmbeddedDevicesL(); void SaveDescriptionStoreL();protected: CUpnpDispatcher* iDispatcher; HBufC8* iPath; CUpnpHttpServerTransactionHandler* iServerTransactionHandler; CUpnpDeviceDescriptionStore* iDescriptionStore; MUpnpDeviceDescriptionProvider* iDescriptionProvider; };# 68 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/epoc32/include/platform/mw/upnpsecuritymanager.h" 1#define C_CUPNPSECURITYMANAGER_Hconst TUid KCUpnpSecurityManagerUid = {0x101F977E}; const TUid KCUpnpSecurityManagerUidRemote = {0x2001137B}; class CUpnpAction;class CUpnpHttpMessage;class CUpnpSecurityManager : public CBase{public: IMPORT_C static CUpnpSecurityManager* NewL(const TDesC8&amp; aType); IMPORT_C static CUpnpSecurityManager* NewInstanceFromUpnpSettingsL(); IMPORT_C virtual ~CUpnpSecurityManager(); virtual TInt AuthorizeMessage(CUpnpHttpMessage* aMessage, TFileName&amp; aRequestedFile) = 0; virtual TInt AuthorizeAction(CUpnpAction* aAction) = 0; private: TUid iDtor_ID_Key; };# 69 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/epoc32/include/platform/mw/upnpmediaserversettings.h" 1#define C_CUPNPMEDIASERVERSETTINGS_Hconst TUid KHnCRUidMediaServer = { 0x2000f87f }; const TUid KCRUidMediaServer = { 0x101F978F };class CRepository;namespace UpnpMediaServerSettings { const static TLitC8&lt;sizeof( "friendlyName" )&gt; KFriendlyName ={sizeof( "friendlyName" )-1, "friendlyName" };const static TLitC8&lt;sizeof( "modelURL" )&gt; KModelUrl ={sizeof( "modelURL" )-1, "modelURL" };const static TLitC8&lt;sizeof( "modelDescription" )&gt; KModelDescription ={sizeof( "modelDescription" )-1, "modelDescription" };const static TLitC8&lt;sizeof( "modelNumber" )&gt; KModelNumber ={sizeof( "modelNumber" )-1, "modelNumber" };const static TLitC8&lt;sizeof( "serialNumber" )&gt; KSerialNumber ={sizeof( "serialNumber" )-1, "serialNumber" };const static TLitC8&lt;sizeof( "presentationURL" )&gt; KPresentationUrl ={sizeof( "presentationURL" )-1, "presentationURL" };const static TLitC8&lt;sizeof( "modelName" )&gt; KModelName ={sizeof( "modelName" )-1, "modelName" };const static TLitC8&lt;sizeof( "manufacturer" )&gt; KManufacturer ={sizeof( "manufacturer" )-1, "manufacturer" };const static TLitC8&lt;sizeof( "manufacturerURL" )&gt; KManufacturerUrl ={sizeof( "manufacturerURL" )-1, "manufacturerURL" };enum TMediaServerKeys { EFriendlyName = 1, EUploadDirectory = 2, ESupportedMedia = 3, ESecurityManager = 4, EModelUrl = 5, EModelDescription = 6, EModelNumber = 7, ESerialNumber = 8, EPresentationUrl = 9, EModelName = 10, EManufacturer = 11, EManufacturerUrl = 12, EUpnpMediaServerThumbnails = 13, KUpnpMediaServerBrowseLimit = 14 };}class MUpnpSettingObserver {public: virtual void SettingChangedL() = 0; }; class CUpnpMediaServerSettings : public CActive {public: IMPORT_C static CUpnpMediaServerSettings* NewL(); virtual ~CUpnpMediaServerSettings();public: IMPORT_C TInt Set(TUint aId, const TInt&amp; aValue); IMPORT_C TInt Set(TUint aId, const TDesC&amp; aValue); IMPORT_C TInt SetL(TUint aId, const TDesC8&amp; aValue); IMPORT_C TInt Get(TUint aId, TInt&amp; aValue); IMPORT_C TInt Get(TUint aId, TDes&amp; aValue); IMPORT_C HBufC8* GetL(TUint aId); IMPORT_C TInt Subscribe(TUint aId, MUpnpSettingObserver* aObserver); private: CUpnpMediaServerSettings(); void ConstructL(TUid aRepositoryId); void RunL(); TInt RunError( TInt aErr ); void DoCancel(); private: CRepository* iRepository; MUpnpSettingObserver* iObserver; };# 70 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2using namespace UpnpPaths;using namespace UpnpDlnaProtocolInfo;void DestroyRArray( TAny* aArray );void RPointerArrayTPtrC8( TAny* aArray ) { RPointerArray&lt;TPtrC8&gt;* array = reinterpret_cast&lt;RPointerArray&lt;TPtrC8&gt;*&gt;aArray); array-&gt;ResetAndDestroy( ); }CUpnpContentDirectory::CUpnpContentDirectory( CUpnpDevice&amp; aDevice, MUpnpThumbnailCreatorObserver* aThmbObs, MUpnpTransferInterface* aTransfer ) : CUpnpServiceImplementation(aDevice), iThmbObs(aThmbObs), iTransferHandler(aTransfer) { SetExecutedAction( EUndefinedAction ); }CUpnpContentDirectory::~CUpnpContentDirectory() { delete iDownloadDir; delete iThumbDir; delete iElementdb; delete iTransferController; delete iMimeToExtMap; delete iContentDirectoryDb; iThObjectIds.Close( ); iThumbnailCreators.ResetAndDestroy( ); iDOMImpl.Close( ); if ( iBitmapServerConnection == KErrNone ) RFbsSession::Disconnect( ); iFs.Close( ); if ( iEcomUsed ) { REComSession::FinalClose( ); } delete iAutoDestroyObjects; delete iStateHandler; if ( iHttpServerSession ) { iHttpServerSession-&gt; Stop
     </h2>
     <table class="signature">
      <tr>
       <td>
        const
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt; sizeof("http:const static
        <a href="GUID-A188447C-9DAA-3963-B6F2-893910450FC7.html">
         TLitC8
        </a>
        &lt;sizeof( "&lt; xmrcc:** &gt; *" )-1, "&lt; xmrcc:*class MUpnpThumbnailCreatorObserver{public:virtual void NotifyThumbnailResultL(CUpnpThumbnailCreator *aThCreator,
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
        aResult)=0;};class CUpnpThumbnailCreator:public
        <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">
         CActive
        </a>
        {public:enum TPhase{EDecode, EEncode, EScaling, ESleep, EDecodeObject};static CUpnpThumbnailCreator *NewLC(MUpnpThumbnailCreatorObserver *aObserver);~CUpnpThumbnailCreator();void CreateL(const
        <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">
         TDesC
        </a>
        &amp;aSourceFile, const
        <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">
         TDesC
        </a>
        &amp;aThumbName);
        <a href="GUID-0B9C8884-6BFF-35E2-AA6F-E4057B85AFCF.html">
         TFileName
        </a>
        GetFileName();
        <a href="GUID-8FE95467-D48B-3E61-9028-29C0F15F567E.html">
         TPtrC
        </a>
        GetFileExt();
        <a href="GUID-0B9C8884-6BFF-35E2-AA6F-E4057B85AFCF.html">
         TFileName
        </a>
        GetPath();
        <a href="GUID-938244B2-5E1A-39F7-8ACA-E6DE4C44A313.html">
         TSize
        </a>
        GetSize(const
        <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">
         TDesC
        </a>
        &amp;aSourceFile);private:void ConstructL();CUpnpThumbnailCreator(MUpnpThumbnailCreatorObserver *aObserver);void EncodeAndConvertL();void RunL();
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
        RunError(
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
        aErr);void DoCancel();void CalculateSize(
        <a href="GUID-938244B2-5E1A-39F7-8ACA-E6DE4C44A313.html">
         TSize
        </a>
        &amp;aLoadSize);
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
        DivisionCeil(const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
        aVal, const
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
        aDiv);private:MUpnpThumbnailCreatorObserver *iObserver;
        <a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">
         RFs
        </a>
        iFs;
        <a href="GUID-8F2953B2-E64E-3D8B-B30B-B35B373368D4.html">
         CImageDecoder
        </a>
        *iDecoder;
        <a href="GUID-737DA130-9A66-39E2-9E68-2E65F37E02C8.html">
         CImageEncoder
        </a>
        *iEncoder;
        <a href="GUID-2008D827-A84A-3170-A8BD-86002BA37979.html">
         CBitmapScaler
        </a>
        *iScaler;
        <a href="GUID-683A1D42-2764-3EB7-BD19-9E12559199AB.html">
         CFbsBitmap
        </a>
        *iBitmap;
        <a href="GUID-938244B2-5E1A-39F7-8ACA-E6DE4C44A313.html">
         TSize
        </a>
        iSize;
        <a href="GUID-E79A3B03-F8CB-37DB-A2A8-1C6C4E4D739A.html">
         TParse
        </a>
        iParse;
        <a href="GUID-0B9C8884-6BFF-35E2-AA6F-E4057B85AFCF.html">
         TBuf
        </a>
        &lt;
        <a href="GUID-489D8AC7-57EF-3533-BBA4-F4F6C501F69B.html">
         KExtensionLength
        </a>
        &gt; iExtension;TPhase iPhase;
        <a href="GUID-0B9C8884-6BFF-35E2-AA6F-E4057B85AFCF.html">
         TFileName
        </a>
        iFileName;
        <a href="GUID-0B9C8884-6BFF-35E2-AA6F-E4057B85AFCF.html">
         TPath
        </a>
        iPath;
        <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">
         TUid
        </a>
        iImageType;
        <a href="GUID-938244B2-5E1A-39F7-8ACA-E6DE4C44A313.html">
         TSize
        </a>
        iOldSize;
        <a href="GUID-7A6A6EFD-F0DB-3747-9418-A423A613250A.html">
         TFrameInfo
        </a>
        iInfo;};#32"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectory.h"2#1"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcdsettings.h"1#define C_CUPNPCDSETTINGS_Hclass CUpnpDevice;class MUpnpThumbnailCreatorObserver;class MUpnpContentDirectoryEventObserver;class MUpnpTransferInterface;struct TUpnpCdSettings{CUpnpDevice *iDevice;const
        <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">
         TDesC
        </a>
        &amp;iDownloadDir;const
        <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">
         TDesC
        </a>
        &amp;iThumbnailDir;const
        <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">
         TDesC
        </a>
        &amp;iDescriptionPath;MUpnpThumbnailCreatorObserver *iThmbObs;
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TBool
        </a>
        iCreateThumbnail;
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
        iMaxRequestCount;MUpnpContentDirectoryEventObserver *iEventObserver;const
        <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">
         TDesC
        </a>
        &amp;iObjectsXmlPath;MUpnpTransferInterface *iTransfer;};#33"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectory.h"2#1"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptransferobserver.h"1#define C_CUPNPTRANSFEROBSERVER_Hclass MUpnpTransferObserver{public:virtual void TransferCompletedL(
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
        akey,
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
        aResultCode)=0;virtual void TransferProgress(
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
        akey,
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
        aBytes,
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TInt
        </a>
        aTotalBytes)=0;};#34"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectory.h"2#1"X:/epoc32/include/platform/mw/upnphttpservertransactioncreator.h"1#define UPNPHTTPSERVERTRANSACTIONCREATOR_H_class
        <a href="GUID-DF90891D-CE3A-35E1-B2A9-D332985FC40D.html">
         CUpnpHttpServerTransaction
        </a>
        ;class
        <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">
         TDesC8
        </a>
        ;class
        TInetAddr
        ;class MUpnpHttpServerTransactionCreator{public:virtual void NewTransactionL(const
        <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">
         TDesC8
        </a>
        &amp;aMethod, const
        <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">
         TDesC8
        </a>
        &amp;aUri, const
        TInetAddr
        &amp;aSender,
        <a href="GUID-DF90891D-CE3A-35E1-B2A9-D332985FC40D.html">
         CUpnpHttpServerTransaction
        </a>
        *&amp;aTrans)=0;};#35"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectory.h"2#1"X:/epoc32/include/platform/mw/upnphttpserverobserver.h"1#define C_MUPNPHTTPSERVEROBSERVER_Hclass CUpnpHttpMessage;class MUpnpHttpServerObserver{public:virtual void HttpEventLD(CUpnpHttpMessage *aMessage)=0;};#36"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectory.h"2class CUpnpElementFactory;class TUpnpContainerUpdateId;class CUpnpFileTransferTimerObserver;class CUpnpObject;class CUpnpItem;class CUpnpContentDirectoryDb;class CProtocolInfo;class CUpnpMetadataStorage;class CUpnpAutoDestroyObjectList;class MUpnpContentDirectoryEventObserver;class CUpnpFileTransferEvent;class MUpnpCdsSender;class CUpnpStateHandler;class CUpnpTransferUploader;class CUpnpMimeMapper;class CUpnpTransferController;class MUpnpTransferInterface;class CUpnpDlnaFilter;class CUpnpHttpServerSession;class CUpnpSecurityManager;static const TInt KMaxImportExportTransfers=3;const static TLitC8&lt; sizeof("ContentDirectory:1")&gt; KContentDirectoryType={sizeof("ContentDirectory:1")-1,"ContentDirectory:1"};class CUpnpContentDirectory:public CUpnpServiceImplementation, public MUpnpContentDirectoryDataFinder, public MUpnpThumbnailCreatorObserver, public MUpnpTransferObserver, public MUpnpHttpServerTransactionCreator, public MUpnpHttpServerObserver{public:static CUpnpContentDirectory *NewL(TUpnpCdSettings aSettings, CUpnpMetadataStorage *aMetadataStorage, MUpnpTransferInterface *aTransfer);virtual ~CUpnpContentDirectory();IMPORT_C void SetSender(MUpnpCdsSender *aSender);public:CUpnpStateHandler *CUpnpContentDirectory::StateHandler();void AutoDestroyEventL(TInt aObjId, TBool aDeleteObj);void ActionReceivedLD(CUpnpAction *aAction);IMPORT_C void UnknownHttpEventReceivedL(CUpnpHttpMessage &amp;aHttpMsg);void AddressChangeL();void StateVariableEvented(const TDesC8 &amp;aVariableName);TInt CheckImportUriL(const TDesC8 &amp;aImportUri);void InsertRealIpAndPortL(TDes8 &amp;aString);HBufC8 *InsertIpAndPortPlaceholderL(const TDesC8 &amp;aString);CUpnpDlnaProtocolInfo *GetProtocolInfoByImportUriL(const TDesC8 &amp;aImportUri);TInt GetProtocolInfoL(const TDesC8 &amp;aContentUri, CUpnpDlnaProtocolInfo *&amp;aProtocolInfo);void GetTitleForUriL(TInt aObjectId, TPtr &amp;aValue);TInt FindSharedFolderL(const TDesC &amp;aUrlPath, const TDesC &amp;aFileName, HBufC *&amp;aSystemPath);const TPtrC MediaRealDir();void SetDownloadDirectoryL(const TDesC &amp;aDownloadDir);void SetThumbnailDirectoryL(const TDesC &amp;aDownloadDir);TInetAddr GetAddress();IMPORT_C void SendActionL(CUpnpAction *aAction, TUpnpErrorCode aError);IMPORT_C void SendMessageL(CUpnpHttpMessage *aMessage);CUpnpAutoDestroyObjectList *GetAutoDestroyObjectList();IMPORT_C void HttpTransferEventReceivedL(CUpnpHttpMessage &amp;aHttpMsg);void NotifyTransferFailL(TInt aSessionId, TInt aStatusCode);void NotifyTransferStoppedL(TInt aSessionId, CUpnpFileTransfer::TTransferType aType);void HttpGetStartedSoapNotifyL(TInt aSessionId);void HttpPostStartedL(TInt aSessionId);TCurrentAction ExecutedAction();void SetExecutedAction(TCurrentAction aAction);void HttpResponseReceivedL(TInt aSessionId, TInt aStatusCode);MUpnpContentDirectoryEventObserver *EventObserver();public:void TransferCompleteL(TInt aResId, TInt aObjId);void TransferProgress(TInt aId, TInt aBytes, TInt aTotalBytes);void TransferStartL(const TDesC8 &amp;aImpUri);void RemoveFileTransferFromTransferIDsStateVariableL(TInt aTransferID);void AddFileTransferToTransferIDsStateVariableL(TInt aTransferID);TBool IsDrmFileL(const TDesC &amp;aFileName);TBool IsDrmFileL(const TDesC8 &amp;aFileName);TInt CreateResTagL(TInt aSessionId, TDesC8 &amp;aFilePath, TInt aImportNumber, TBool aOnlyThumbnail=EFalse);void NotifyOutgoingTransferL(TInt aSessionId);CUpnpContentDirectoryDb *ContentDirectoryDb();MUpnpTransferInterface *TransferHandler();public:virtual void TransferCompletedL(TInt akey, TInt aResultCode);public:IMPORT_C virtual void NewTransactionL(const TDesC8 &amp;aMethod, const TDesC8 &amp;aUri, const TInetAddr &amp;aSender, CUpnpHttpServerTransaction *&amp;aResultTrans);private:virtual void HttpEventLD(CUpnpHttpMessage *aMessage);private:void PrepareAutoDestroyObjectL(TXmlEngElement aObject, TInt aObjId);HBufC8 *GetIpAndPortDes8L();void SetResSizeL(TXmlEngAttr aSize, const TDesC &amp;aFilePath);void AddImportUriToElL(TXmlEngElement aElement);HBufC8 *BuildImportUriLC();HBufC8 *BuildImportUriShorterLC();TBool IsThumbnailAvailableL(const TDesC &amp;aFile);TBool IsThumbnailAvailableL(const TDesC8 &amp;aFile);void CreateThumbnailL(const TDesC &amp;aSrcFile, TInt aObjId);void AddNewResTagL(TXmlEngElement aObjEl);HBufC *CreateNameForThumbnailL(const TDesC &amp;aFileName);void HandleLocalResourcesL(TXmlEngElement aRes, TInt aObjectId);HBufC8 *BuildContentUriL(const TDesC &amp;aFileExt, TInt aObjectId);TInt DoActionReceivedL(CUpnpAction *aAction);HBufC8 *SerializeObjectsListL(const RArray&lt; RXmlEngDocument &gt; &amp;aObjs);void DeleteOldResourcesL(RXmlEngDocument &amp;aObj, const TDesC8 &amp;aImportUri, const TDesC &amp;aNewFile);HBufC8 *GetImportUriLC(CUpnpHttpMessage *aMessage);HBufC *BuildThumbnailUrlPathL(const TDesC &amp;aFilename, const TDesC &amp;aNextKey);HBufC8 *GetMimeTypeLC(const TDesC8 &amp;aFilename);void RemoveThCreatorAndObjectIdLD(CUpnpThumbnailCreator *aThCreator);TInt GetObjectIdFromThCreator(CUpnpThumbnailCreator *aThCreator);HBufC8 *CreateAddressValueLC();CUpnpDlnaProtocolInfo *CreateProtocolInfoFromMimeL(const TDesC8 &amp;aMimeType, TInt aAddInfo);HBufC *GetFileNameL(TInt aObjId);HBufC *GetFileNameWithoutPathL(TInt aObjId);HBufC *CreateFileNameL(const TDesC16 &amp;aFileName);HBufC8 *GetItemTypeFromMimeTypeLC(const TDesC8 &amp;aMimeType);void CheckItemTypeForObjectL(RXmlEngDocument &amp;obj, const TDesC8 &amp;aMimeType);RXmlEngDocument XmlFragmentL(const TDesC8 &amp;aBuffer);void BrowseElementL(HBufC8 *&amp;aResp, TXmlEngElement &amp;aSen);TInt ContainerUpdateId(const TDesC8 &amp;aContainerID);TUpnpErrorCode AddToMetaDbL(RXmlEngDocument &amp;aFragment, TInt aContainer, TInt *aId, TBool aIsLocal);TUpnpErrorCode PrepareCreateOperationL(RXmlEngDocument &amp;aFragment, RArray&lt; TXmlEngAttr &gt; &amp;aImportUris, RArray&lt; TXmlEngElement &gt; &amp;aRess, TBool &amp;aLocal, TBool &amp;aCreateThumbnailRes, TInt &amp;aNextKey);void ConstructCreateResultsetL(CUpnpAction *&amp;aAction, RXmlEngDocument aElement, TInt aId);TUpnpErrorCode CreateObjectL(CUpnpAction *&amp;aAction);TUpnpErrorCode BrowseL(CUpnpAction *&amp;aAction);TUpnpErrorCode DestroyObjectL(CUpnpAction *&amp;aAction);TUpnpErrorCode CreateReferenceL(CUpnpAction *&amp;aAction);TUpnpErrorCode GetSearchCapabilitiesL(CUpnpAction *&amp;aAction);TUpnpErrorCode GetSortCapabilitiesL(CUpnpAction *&amp;aAction);TUpnpErrorCode GetSystemUpdateIdL(CUpnpAction *&amp;aAction);TUpnpErrorCode ImportResourceL(CUpnpAction *&amp;aAction);TUpnpErrorCode ExportResourceL(CUpnpAction *&amp;aAction);TUpnpErrorCode StopTransferResourceL(CUpnpAction *&amp;aAction);TUpnpErrorCode GetTransferProgressL(CUpnpAction *&amp;aAction);TUpnpErrorCode DeleteResourceL(CUpnpAction *&amp;aAction);HBufC8 *ChangeFileNameWithExtensionL(TDesC8 &amp;aFilePath, const TDesC8 &amp;aMimeType);TInt CreateResTagInternalL(TInt aSessionId, TDesC8 &amp;aFilePath, HBufC8 *aImportUri, TBool aOnlyThumbnail);TInt CreateResTagInternalWithDBRecoveryL(TInt aSessionId, TDesC8 &amp;aFilePath, HBufC8 *aImportUri, TBool aOnlyThumbnail=EFalse);private:void DoSendActionL(CUpnpAction *aAction, TUpnpErrorCode aError);void DoSendMessageL(CUpnpHttpMessage *aMessage);TBool IsValidUrlPath(const TDesC &amp;aUrlPath);HBufC8 *ProtocolInfoFromMimeL(const TDesC8 &amp;aMimeType, TInt aAddInfo, TBool aOpRangeParam, TBool aCiParam=EFalse);HBufC8 *ProtocolInfoFromMimeL(const TDesC8 &amp;aMimeType, TXmlEngElement &amp;aResEl);void NotifyThumbnailResultL(CUpnpThumbnailCreator *aThCreator, TInt aResult);CUpnpThumbnailCreator *CreateThumbnailCreatorL(TInt aObjectId);TBool IsObjectExistL(TInt aObjectId);TBool ValidateObjectL(TInt aObjectId);TInt HandleDbError(TInt aError);TBool IsDbOrDiskProblemL(CUpnpAction *aAction);TBool DataBaseHasBeenRecoveredL(TInt aError);TBool IsDbCreated();TPtrC8 UpdateImportUriL(const TDesC8 &amp;aImportUri);private:CUpnpContentDirectory(CUpnpDevice &amp;aDevice, MUpnpThumbnailCreatorObserver *aThmbObs, MUpnpTransferInterface *aTransfer);void ConstructL(TUpnpCdSettings aSettings, CUpnpMetadataStorage *aMetadataStorage);void ConstructHttpL();private:RArray&lt; TInt &gt; iThObjectIds;RPointerArray&lt; CUpnpThumbnailCreator &gt; iThumbnailCreators;TInt iNextFreeID;CUpnpElementFactory *iElementdb;CUpnpContentDirectoryDb *iContentDirectoryDb;RFs iFs;HBufC *iDownloadDir;HBufC *iThumbDir;TInt iBitmapServerConnection;TBool iEcomUsed;MUpnpThumbnailCreatorObserver *iThmbObs;CUpnpAutoDestroyObjectList *iAutoDestroyObjects;MUpnpContentDirectoryEventObserver *iEventObserver;TBool iCreateThumbnails;TInt iMaxRequestCount;TCurrentAction iCurrentAction;RXmlEngDOMImplementation iDOMImpl;MUpnpCdsSender *iSender;CUpnpMimeMapper *iMimeToExtMap;HBufC *iObjectsXmlPath;CUpnpStateHandler *iStateHandler;CUpnpTransferController *iTransferController;MUpnpTransferInterface *iTransferHandler;CUpnpDlnaFilter *iDlnaFilter;CUpnpHttpServerSession *iHttpServerSession;CUpnpSecurityManager *iSecurityManager;};#32"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp"2#1"X:/epoc32/include/platform/mw/upnpstring.h"1#define C_UPNPSTRING_Hconst static TLitC8&lt; sizeof("&amp;")&gt; KEt={sizeof("&amp;")-1,"&amp;"};const static TLitC8&lt; sizeof("&amp;amp;")&gt; KEtAmp={sizeof("&amp;amp;")-1,"&amp;amp;"};const static TLitC8&lt; sizeof("&amp;lt;")&gt; KEtlt={sizeof("&amp;lt;")-1,"&amp;lt;"};const static TLitC8&lt; sizeof("&amp;gt;")&gt; KEtgt={sizeof("&amp;gt;")-1,"&amp;gt;"};const static TLitC8&lt; sizeof("'")&gt; KApostrophe={sizeof("'")-1,"'"};const static TLitC8&lt; sizeof("&amp;apos;")&gt; KEtApos={sizeof("&amp;apos;")-1,"&amp;apos;"};const static TLitC8&lt; sizeof("&amp;quot;")&gt; KEtQuot={sizeof("&amp;quot;")-1,"&amp;quot;"};const static TLitC8&lt; sizeof("%20")&gt; KCSpace={sizeof("%20")-1,"%20"};const TInt KUrlCharNoLen=3;const TInt KOneCharLen=1;namespace UpnpString{IMPORT_C TBool IsColon(const TUint8 &amp;aChar);IMPORT_C HBufC8 *FromUnicodeL(const TDesC &amp;aBuffer);IMPORT_C HBufC16 *ToUnicodeL(const TDesC8 &amp;aBuffer);IMPORT_C HBufC8 *CurrentDateLC();HBufC8 *GetDateLC(const TTime &amp;aTime);const TDesC8 &amp;GetWeekday(const TTime &amp;aDate);const TDesC8 &amp;GetMonth(const TDateTime &amp;aDate);IMPORT_C void CutToPiecesL(TPtrC8 aPtr, TChar aDelim, RPointerArray&lt; TPtrC8 &gt; &amp;aArray);IMPORT_C TPtrC8 Trim(TPtrC8 aPtr, TBool aQuotations=EFalse);IMPORT_C HBufC8 *TrimLC(const TDesC8 &amp;aBuf, TBool aQuotations);IMPORT_C HBufC8 *ValueFromCsvL(const TDesC8 &amp;aCSV, TInt aPlace);IMPORT_C HBufC8 *AddValueToCsvL(const TDesC8 &amp;aCSV, const TDesC8 &amp;aValue);IMPORT_C HBufC8 *RemoveFromCsvLC(const TDesC8 &amp;aCSV, const TDesC8 &amp;aValue);IMPORT_C void CsvToRPointerArrayL(const TDesC8 &amp;aCSV, RPointerArray&lt; TPtrC8 &gt; &amp;aArray);IMPORT_C HBufC8 *RPointerArrayToCsvLC(RPointerArray&lt; TPtrC8 &gt; &amp;aArray);IMPORT_C void AppendStringL(CBufFlat &amp;aString, const TDesC8 &amp;aString2);IMPORT_C void AppendStringL(HBufC8 *&amp;aString, const TDesC8 &amp;aString2);IMPORT_C TInt StringToInt(const TDesC8 &amp;aStr, TInt *aInt);IMPORT_C void StringReplaceL(const TDesC8 &amp;aOrginal, HBufC8 *&amp;aResult, const TDesC8 &amp;aTrg, const TDesC8 &amp;aReplacement);IMPORT_C HBufC8 *StringReplaceL(const TDesC8 &amp;aStr, const TDesC8 &amp;aTrg, const TDesC8 &amp;aReplacement);IMPORT_C void StringReplaceInPlaceL(TDes8 &amp;aString, const TDesC8 &amp;aTrg, const TDesC8 &amp;aReplacement);IMPORT_C HBufC8 *EncodeXmlStringL(HBufC8 *&amp;aBuf);IMPORT_C HBufC8 *EncodeXmlStringL(const TDesC8 &amp;aBuf);IMPORT_C HBufC8 *DecodeXmlStringL(HBufC8 *&amp;aBuf);IMPORT_C HBufC8 *DecodeXmlStringL(const TDesC8 &amp;aBuf);IMPORT_C HBufC8 *InetToStringL(const TInetAddr &amp;aAddress);IMPORT_C void ReplaceHttpCharactersL(TDes &amp;aString);IMPORT_C void ReplaceHttpCharacters(TDes8 &amp;aString);}#35"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp"2#1"X:/epoc32/include/platform/mw/upnpargument.h"1#define C_CUPNPARGUMENT_Henum{EIn, EOut};class CUpnpSoapMessage;class CUpnpService;class CUpnpArgument:public CBase{public:static CUpnpArgument *NewL(CUpnpService &amp;aParentService);static CUpnpArgument *NewL(CUpnpArgument &amp;aArgument, CUpnpService &amp;aParentService);virtual ~CUpnpArgument();public:IMPORT_C TArgumentType Type();IMPORT_C TInt Direction() const ;IMPORT_C TDesC8 &amp;RelatedStateVariable();IMPORT_C TDesC8 &amp;Name();IMPORT_C TDesC8 &amp;Value();IMPORT_C void SetValueL(const TDesC8 &amp;aValue);void SetDirectionL(TInt aDirection);void SetNameL(const TDesC8 &amp;aDirection);void SetRelatedStateVarL(const TDesC8 &amp;aRelatedStateVar);void ConstructL();void SetType(TInt aType);private:CUpnpArgument(CUpnpService &amp;aParentService);void ConstructL(CUpnpArgument &amp;aArgument);void DeleteAndNullValue();void CheckErrorL(TInt aError, const TDesC8 &amp;aValue);private:HBufC8 *iName;HBufC8 *iRelatedStateVariable;TInt iDirection;HBufC8 *iValue;TInt iType;CUpnpService &amp;iParentService;};#36"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp"2#1"X:/epoc32/include/platform/mw/upnphttpmessagefactory.h"1#define C_RUPNPHTTPMESSAGEFACTORY_Hclass RUpnpHttpMessageFactory{public:IMPORT_C static CUpnpHttpMessage *HttpGetL(TInetAddr &amp;aDestination, const TDesC8 &amp;aPath);IMPORT_C static CUpnpHttpMessage *HttpGetL(TInetAddr &amp;aDestination, const TDesC8 &amp;aHeadPath, const TDesC8 &amp;aTailPath);IMPORT_C static CUpnpHttpMessage *HttpGetL(const TDesC8 &amp;aUrl);IMPORT_C static CUpnpHttpMessage *HttpGetL(const TDesC8 &amp;aDestination, const TDesC8 &amp;aPath);IMPORT_C static CUpnpHttpMessage *HttpHeadL(const TDesC8 &amp;aUrl);IMPORT_C static CUpnpHttpMessage *HttpHeadL(const TDesC8 &amp;aDestination, const TDesC8 &amp;aPath);IMPORT_C static CUpnpHttpMessage *HttpHeadL(TInetAddr &amp;aDestination, const TDesC8 &amp;aPath);IMPORT_C static CUpnpHttpMessage *HttpPostL(const TDesC8 &amp;aUrl);IMPORT_C static CUpnpHttpMessage *HttpPostL(const TDesC8 &amp;aDestination, const TDesC8 &amp;aPath);IMPORT_C static CUpnpHttpMessage *HttpPostL(const TInetAddr &amp;aDestination, const TDesC8 &amp;aPath);IMPORT_C static CUpnpHttpMessage *HttpResponseOkL(CUpnpHttpMessage *aMessage);IMPORT_C static CUpnpHttpMessage *HttpResponseOkL(const TInetAddr &amp;aDestination);IMPORT_C static CUpnpHttpMessage *Http11ResponseL(CUpnpHttpMessage *aMessage, TInt aStatus);IMPORT_C static CUpnpHttpMessage *Http11ResponseL(const TInetAddr &amp;aDestination, TInt aStatus);IMPORT_C static CUpnpHttpMessage *HttpResponseErrorL(CUpnpHttpMessage *aMessage, TInt aError);IMPORT_C static CUpnpHttpMessage *HttpResponseErrorL(const TInetAddr &amp;aAddr, TInt aError);IMPORT_C static CUpnpHttpMessage *UpnpResponseErrorL(CUpnpHttpMessage *aMessage, TUpnpErrorCode aError);IMPORT_C static CUpnpHttpMessage *UpnpResponseErrorL(const TInetAddr &amp;aDestination, TUpnpErrorCode aError);private:static void SetHostHeaderL(CUpnpHttpMessage *aMessage, const TInetAddr &amp;aDestination);};#37"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp"2#1"X:/epoc32/include/platform/mw/upnpdevice.h"1#define C_CUPNPDEVICE_H#1"X:/epoc32/include/platform/mw/upnpdescriptionproperty.h"1#define C_CUPNPDESCRIPTIONPROPERTY_H class TUpnpDevice;class TUpnpService;class CUpnpIcon;class CUpnpDescriptionProperty:public CBase{public:static CUpnpDescriptionProperty *NewL(const TDesC8 &amp;aName, const TDesC8 &amp;aValue);static CUpnpDescriptionProperty *NewL();CUpnpDescriptionProperty();~CUpnpDescriptionProperty();void ConstructL(const TDesC8 &amp;aName, const TDesC8 &amp;aValue);void SetNameL(const TDesC8 &amp;aName);void SetValueL(const TDesC8 &amp;aValue);const TDesC8 &amp;Name();const TDesC8 &amp;Value();private:HBufC8 *iName;HBufC8 *iValue;};#27"X:/epoc32/include/platform/mw/upnpdevice.h"2class TUpnpDevice;class TUpnpService;class CUpnpIcon;class CUpnpDescriptionProperty;const TInt KDefaultDescriptionUrlPort=80;class CUpnpDevice:public CBase{public:enum TUpnpDeviceNetwork{EUnknown=0, ELocalDevice, EHomeNetwork, ERemoteDevice};public:IMPORT_C static CUpnpDevice *NewL(const TUpnpDevice *aDevice, const RPointerArray&lt; TUpnpService &gt; &amp;aServices);virtual ~CUpnpDevice();public:IMPORT_C const TPtrC8 DeviceType();IMPORT_C const TPtrC8 DescriptionProperty(const TDesC8 &amp;aPropertyName);IMPORT_C CDesC8Array &amp;ServiceTypesL();IMPORT_C const TPtrC8 ServiceId(const TDesC8 &amp;aServiceType);IMPORT_C const TPtrC8 ServiceDescriptionUrl(const TDesC8 &amp;aServiceType);IMPORT_C RPointerArray&lt; CUpnpService &gt; &amp;ServiceList();IMPORT_C RPointerArray&lt; CUpnpDevice &gt; &amp;DeviceList();IMPORT_C void GetAllDevices(RPointerArray&lt; CUpnpDevice &gt; &amp;aDevices);IMPORT_C RPointerArray&lt; CUpnpIcon &gt; &amp;Icons();IMPORT_C TBool Alive() const ;IMPORT_C void SetAlive(TBool aAlive);IMPORT_C TBool Expired() const ;IMPORT_C void SetExpired(TBool aAlive);IMPORT_C TBool Local() const ;IMPORT_C void SetLocal(TBool aLocal);IMPORT_C TBool Remote() const ;IMPORT_C TUpnpDeviceNetwork DeviceNetwork() const ;IMPORT_C void SetDeviceNetwork(TUpnpDeviceNetwork aNetworkType);IMPORT_C const TPtrC8 Uuid();void SetUuidL(const TDesC8 &amp;aUUID);void AddDeviceL(CUpnpDevice *device);IMPORT_C const TDesC8 &amp;DescriptionUrl() const ;void SetDescriptionUrlL(const TDesC8 &amp;aDescriptionUrl);IMPORT_C const TPtrC8 DescriptionUrlPath() const ;IMPORT_C TInetAddr DescriptionUrlAddressL() const ;IMPORT_C TInt DescriptionUrlPort() const ;void AttachServiceL(CUpnpService *aService);IMPORT_C void SetAddress(const TInetAddr &amp;aAddr);IMPORT_C virtual TInetAddr Address();IMPORT_C void WaitServiceDescriptionL(TInt aSessionId);IMPORT_C TInt WaitServiceDescriptionCount();IMPORT_C TInt WaitServiceDescriptionSessionId(TInt aIndex);IMPORT_C void WaitServiceDescriptionRemoveSessionId(TInt aIndex);enum TServiceAdd{ENotServiceAdded, EServiceAdded, EAllServicesAdded};TServiceAdd ServiceDescriptionReceiveState() const {return iServiceDescriptionReceiveState;}IMPORT_C void WaitIconL(TInt aSessionId);IMPORT_C TServiceAdd AddServiceL(TInt aSessionId, CUpnpService *aService);enum TIconAdd{ENotIconAdded, EIconAdded, EAllIconsAdded};TIconAdd IconReceiveState() const {return iIconReceiveState;}IMPORT_C TIconAdd AddIcon(TInt aSessionId);IMPORT_C HBufC8 *ConcatWithUrlBaseL(const TDesC8 &amp;aUrl);IMPORT_C TPtrC8 GetProperty(const TDesC8 &amp;aProperty);void SetTypeL(const TDesC8 &amp;aType);void AddDevicePropertyL(CUpnpDescriptionProperty *aDeviceProperty);IMPORT_C void AddIconL(CUpnpIcon *aIcon);IMPORT_C CDesC8Array &amp;ServiceIdL();IMPORT_C CUpnpDevice *CloneL();void DetachService(CUpnpService *aService);public:static TPtrC8 RemoveIpAddress(const TDesC8 &amp;aAddress);void SetRootDevice(TBool aIsRoot);CUpnpDevice();private:void ConstructL(const TUpnpDevice *aDevice, const RPointerArray&lt; TUpnpService &gt; &amp;aServices);static CUpnpDevice *NewL(const TDesC8 &amp;aDescription);TInt ChangeIconSessionIdL(const TInt aOldSessionId, const TInt aNewSessionId);TInt CheckIconSessionIdExist(const TInt aSessionId);public:IMPORT_C const TPtrC8 UrlBase();IMPORT_C const TPtrC8 PresentationUrl();IMPORT_C void SetUrlBaseL(const TDesC8 &amp;aUrlBase);IMPORT_C TBool IsEmbeddDevice();void Init();void CleanupServiceArray();protected:TInt64 iTimeValue;RArray&lt; TInt &gt; iIconSessionIds;RArray&lt; TInt &gt; iServiceDescriptionSessionIds;RPointerArray&lt; CUpnpIcon &gt; iIcons;RPointerArray&lt; CUpnpDevice &gt; iDeviceList;RPointerArray&lt; CUpnpService &gt; iServiceList;TServiceAdd iServiceDescriptionReceiveState;TIconAdd iIconReceiveState;CDesC8ArrayFlat *iServiceTypes;TBool iAlive;TBool iExpired;TBool iIsAllIconsArrived;TUpnpDeviceNetwork iNetworkType;HBufC8 *iDescriptionURL;HBufC8 *iDeviceType;HBufC8 *iDomain;HBufC8 *iUUID;HBufC8 *iClockSeq;TInetAddr iAddress;TInt iHandle;TBool iIsRootDevice;HBufC *iDeviceDescription;RPointerArray&lt; CUpnpDescriptionProperty &gt; iProperties;HBufC8 *iUrlBase;CDesC8ArrayFlat *iServicesId;};#39"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp"2#1"X:/epoc32/include/platform/mw/upnpfileutils.h"1#define C_UPNPFILEUTILS_Hconst static TLitC8&lt; sizeof("text/html")&gt; KHtml={sizeof("text/html")-1,"text/html"};const static TLitC8&lt; sizeof("text/xml")&gt; KXml={sizeof("text/xml")-1,"text/xml"};const static TLitC8&lt; sizeof("text/plain")&gt; KTxt={sizeof("text/plain")-1,"text/plain"};const static TLitC8&lt; sizeof("image/jpeg")&gt; KJpg={sizeof("image/jpeg")-1,"image/jpeg"};const static TLitC8&lt; sizeof("image/gif")&gt; KGif={sizeof("image/gif")-1,"image/gif"};const static TLitC8&lt; sizeof("image/png")&gt; KPng={sizeof("image/png")-1,"image/png"};const static TLitC8&lt; sizeof("video/mpeg")&gt; KMpeg={sizeof("video/mpeg")-1,"video/mpeg"};const static TLitC8&lt; sizeof("video/x-msvideo")&gt; KAvi={sizeof("video/x-msvideo")-1,"video/x-msvideo"};const static TLitC8&lt; sizeof("audio/mpeg")&gt; KMp3={sizeof("audio/mpeg")-1,"audio/mpeg"};const static TLitC16&lt; sizeof(L".HTML")/2 &gt; KHtml16={sizeof(L".HTML")/2-1, L".HTML"};const static TLitC16&lt; sizeof(L".XML")/2 &gt; KXml16={sizeof(L".XML")/2-1, L".XML"};const static TLitC16&lt; sizeof(L".TXT")/2 &gt; KTxt16={sizeof(L".TXT")/2-1, L".TXT"};const static TLitC16&lt; sizeof(L".JPEG")/2 &gt; KJpeg16={sizeof(L".JPEG")/2-1, L".JPEG"};const static TLitC16&lt; sizeof(L".JPG")/2 &gt; KJpg16={sizeof(L".JPG")/2-1, L".JPG"};const static TLitC16&lt; sizeof(L".GIF")/2 &gt; KGif16={sizeof(L".GIF")/2-1, L".GIF"};const static TLitC16&lt; sizeof(L".PNG")/2 &gt; KPng16={sizeof(L".PNG")/2-1, L".PNG"};const static TLitC16&lt; sizeof(L".MPEG")/2 &gt; KMpeg16={sizeof(L".MPEG")/2-1, L".MPEG"};const static TLitC16&lt; sizeof(L".MPG")/2 &gt; KMpg16={sizeof(L".MPG")/2-1, L".MPG"};const static TLitC16&lt; sizeof(L".AVI")/2 &gt; KAvi16={sizeof(L".AVI")/2-1, L".AVI"};const static TLitC16&lt; sizeof(L".MP3")/2 &gt; KMp316={sizeof(L".MP3")/2-1, L".MP3"};const TInt KIPNumMax=255;const TInt KIPNumMin=1;namespace UpnpFileUtil{IMPORT_C HBufC8 *ReadFileL(const TDesC16 &amp;aFilename);IMPORT_C HBufC8 *GetMimeTypeForFileL(const TDesC16 &amp;aFilename);HBufC8 *GetMimeTypeByExtensionL(const TDesC16 &amp;aFilename);IMPORT_C TPtrC8 ExtractUrlPath(const TDesC8 &amp;aUrl, TPtrC8 &amp;aFilename, TPtrC8 &amp;aScheme, TInt &amp;aParseError);TBool ExtractUrlPathHost(const TDesC8 &amp;aUrl, TInt &amp;aParseError);TInt ExtractNumFromIP(TPtrC8 ippart);TInt DriveNumberFromPath(const TDesC16 &amp;aPath, RFs &amp;aFs);IMPORT_C TPtrC8 ExtractUrlPath(const TDesC8 &amp;aUrl, TPtrC8 &amp;aFilename, TInt &amp;aParseError);IMPORT_C TPtrC8 ExtractUrlPath(const TDesC8 &amp;aUrl, TInt &amp;aParseError);IMPORT_C HBufC8 *SwitchToBackSlashL(const TDesC8 &amp;aUrl);IMPORT_C HBufC *SwitchToBackSlashL(const TDesC &amp;aUrl);IMPORT_C TBool CheckDiskSpaceShortL(const TDesC16 &amp;aPath, TInt aSize, RFs &amp;aFs);IMPORT_C TBool CheckDiskSpaceShortL(TDriveNumber aDriveNumber, TInt aSize);IMPORT_C TInt ParseUri(const TDesC8 &amp;aUrl);}#40"X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp"2#1"X:/epoc32/include/platform/mw/upnpcommonupnplits.h"1#define C_UPNPCOMMONUPNPLITS_H const TInt KLongInfoSize=1000;const TInt KMaxInfoSize=20;const static TLitC8&lt; sizeof("=\"")&gt; Keq={sizeof("=\"")-1,"=\""};const static TLitC8&lt; sizeof("false")&gt; Kfalse={sizeof("false")-1,"false"};const static TLitC8&lt; sizeof("true")&gt; Ktrue={sizeof("true")-1,"true"};const static TLitC8&lt; sizeof(")")&gt; KClosingBracket={sizeof(")")-1,")"};const static TLitC8&lt; sizeof("\")")&gt; KClosingBracketWithQuotation={sizeof("\")")-1,"\")"};const static TLitC8&lt; sizeof(":")&gt; KColon={sizeof(":")-1,":"};const static TLitC8&lt; sizeof(",")&gt; KComma={sizeof(",")-1,","};const static TLitC8&lt; sizeof("")&gt; KEmptyString={sizeof("")-1,""};const static TLitC8&lt; sizeof("&lt;")&gt; KKorp={sizeof("&lt;")-1,"&lt;"};const static TLitC8&lt; sizeof("&lt;/")&gt; KKorpSlash={sizeof("&lt;/")-1,"&lt;/"};const static TLitC8&lt; sizeof("ObjectID")&gt; KObjectID={sizeof("ObjectID")-1,"ObjectID"};const static TLitC8&lt; sizeof("1")&gt; KOne={sizeof("1")-1,"1"};const static TLitC8&lt; sizeof("%i")&gt; KOneNumber={sizeof("%i")-1,"%i"};const static TLitC8&lt; sizeof("%i")&gt; KOneNumber8={sizeof("%i")-1,"%i"};const static TLitC8&lt; sizeof("\r\n")&gt; KPlainLineFeed={sizeof("\r\n")-1,"\r\n"};const static TLitC8&lt; sizeof("&gt;")&gt; KProk={sizeof("&gt;")-1,"&gt;"};const static TLitC8&lt; sizeof(":const static TLitC8&lt;sizeof( "" )&gt; KSpace ={sizeof( "" )-1, "" };const static TLitC8&lt;sizeof( "" )&gt; KSpace8 ={sizeof( "" )-1, "" };const static TLitC8&lt;sizeof( "\"")&gt; KQuotation={sizeof("\"")-1,"\""};const static TLitC8&lt; sizeof("\" ")&gt; KQuotationWithSpace={sizeof("\" ")-1,"\" "};const static TLitC8&lt; sizeof("0")&gt; KZero={sizeof("0")-1,"0"};const static TLitC16&lt; sizeof(L"\\")/2 &gt; KBackSlash={sizeof(L"\\")/2-1, L"\\"};const static TLitC16&lt; sizeof(L" ")/2 &gt; KSpace16={sizeof(L" ")/2-1, L" "};const static TLitC16&lt; sizeof(L"\\")/2 &gt; KDoubleBackSlash={sizeof(L"\\")/2-1, L"\\"};const static TLitC&lt; sizeof(L"UPnP messagehandler Panic")/2 &gt; KMessagehandlerPanic={sizeof(L"UPnP messagehandler Panic")/2-1, L"UPnP messagehandler Panic"};const static TLitC8&lt; sizeof(" ")&gt; KEmptyMessage={sizeof(" ")-1," "};const static TLitC8&lt; sizeof(" ")&gt; KMulticastPacket={sizeof(" ")-1," "};const static TLitC16&lt; sizeof(L"LANBearer")/2 &gt; KLanBearer={sizeof(L"LANBearer")/2-1, L"LANBearer"};const static TLitC&lt; sizeof(L"MessageHandler")/2 &gt; KMessageHandlerFilename={sizeof(L"MessageHandler")/2-1, L"MessageHandler"};const static TLitC8&lt; sizeof("Here is an ERROR!")&gt; KErrorHere={sizeof("Here is an ERROR!")-1,"Here is an ERROR!"};const static TLitC8&lt; sizeof("Sent %d/%d")&gt; Servedbytes={sizeof("Sent %d/%d")-1,"Sent %d/%d"};const static TLitC8&lt; sizeof("Served %d bytes")&gt; NBytesServed={sizeof("Served %d bytes")-1,"Served %d bytes"};const static TLitC8&lt; sizeof("RunL(), error %d")&gt; KRunL={sizeof("RunL(), error %d")-1,"RunL(), error %d"};const static TLitC8&lt; sizeof("DISPATCHERENGINE *** Sending of http message fails!")&gt; KSendFail={sizeof("DISPATCHERENGINE *** Sending of http message fails!")-1,"DISPATCHERENGINE *** Sending of http message fails!"};const static TLitC8&lt; sizeof("SERVICE *** Leave during service description parsing: ")&gt; KPanic={sizeof("SERVICE *** Leave during service description parsing: ")-1,"SERVICE *** Leave during service description parsing: "};const static TLitC8&lt; sizeof("index.html")&gt; KIndexHtml={sizeof("index.html")-1,"index.html"};const static TLitC16&lt; sizeof(L"index.html")/2 &gt; KIndexHtml16={sizeof(L"index.html")/2-1, L"index.html"};const static TLitC8&lt; sizeof("index.xml")&gt; KIndexXml={sizeof("index.xml")-1,"index.xml"};const static TLitC16&lt; sizeof(L"index.xml")/2 &gt; KIndexXml16={sizeof(L"index.xml")/2-1, L"index.xml"};const static TLitC8&lt; sizeof("A_ARG_TYPE_ProtocolInfo")&gt; KArgTypeProtocolInfo={sizeof("A_ARG_TYPE_ProtocolInfo")-1,"A_ARG_TYPE_ProtocolInfo"};const static TLitC8&lt; sizeof("A_ARG_TYPE_AVTransportID")&gt; KAvtransId={sizeof("A_ARG_TYPE_AVTransportID")-1,"A_ARG_TYPE_AVTransportID"};const static TLitC8&lt; sizeof("A_ARG_TYPE_ConnectionManager")&gt; KConMan={sizeof("A_ARG_TYPE_ConnectionManager")-1,"A_ARG_TYPE_ConnectionManager"};const static TLitC8&lt; sizeof("A_ARG_TYPE_ConnectionID")&gt; KConId={sizeof("A_ARG_TYPE_ConnectionID")-1,"A_ARG_TYPE_ConnectionID"};const static TLitC8&lt; sizeof("A_ARG_TYPE_ConnectionStatus")&gt; KConStat={sizeof("A_ARG_TYPE_ConnectionStatus")-1,"A_ARG_TYPE_ConnectionStatus"};const static TLitC8&lt; sizeof("A_ARG_TYPE_Direction")&gt; KDirection={sizeof("A_ARG_TYPE_Direction")-1,"A_ARG_TYPE_Direction"};const static TLitC8&lt; sizeof("A_ARG_TYPE_ProtocolInfo")&gt; KProtInf={sizeof("A_ARG_TYPE_ProtocolInfo")-1,"A_ARG_TYPE_ProtocolInfo"};const static TLitC8&lt; sizeof("A_ARG_TYPE_RcsID")&gt; KRcsId={sizeof("A_ARG_TYPE_RcsID")-1,"A_ARG_TYPE_RcsID"};const static TLitC8&lt; sizeof("ConnectionIDs")&gt; KConnectionIDs={sizeof("ConnectionIDs")-1,"ConnectionIDs"};const static TLitC8&lt; sizeof("CurrentConnectionIDs")&gt; KCurConId={sizeof("CurrentConnectionIDs")-1,"CurrentConnectionIDs"};const static TLitC8&lt; sizeof("GetProtocolInfo")&gt; KGetProtInfo={sizeof("GetProtocolInfo")-1,"GetProtocolInfo"};const static TLitC8&lt; sizeof("GetCurrentConnectionIDs")&gt; KGetCurConIds={sizeof("GetCurrentConnectionIDs")-1,"GetCurrentConnectionIDs"};const static TLitC8&lt; sizeof("GetCurrentConnectionInfo")&gt; KGetCurConInfo={sizeof("GetCurrentConnectionInfo")-1,"GetCurrentConnectionInfo"};const static TLitC8&lt; sizeof("Sink")&gt; KSink={sizeof("Sink")-1,"Sink"};const static TLitC8&lt; sizeof("SinkProtocolInfo")&gt; KSinkInf={sizeof("SinkProtocolInfo")-1,"SinkProtocolInfo"};const static TLitC8&lt; sizeof("Source")&gt; KSource={sizeof("Source")-1,"Source"};const static TLitC8&lt; sizeof("SourceProtocolInfo")&gt; KSourceInf={sizeof("SourceProtocolInfo")-1,"SourceProtocolInfo"};const static TLitC8&lt; sizeof("http-get:*:*:*")&gt; KSupportedProtocols={sizeof("http-get:*:*:*")-1,"http-get:*:*:*"};const static TLitC8&lt; sizeof("NULL")&gt; KNull={sizeof("NULL")-1,"NULL"};const static TLitC8&lt; sizeof("output")&gt; KOutput={sizeof("output")-1,"output"};const static TLitC8&lt; sizeof("OK")&gt; KOk={sizeof("OK")-1,"OK"};const static TLitC8&lt; sizeof("RcsID")&gt; KTypeRcsID={sizeof("RcsID")-1,"RcsID"};const static TLitC8&lt; sizeof("AVTransportID")&gt; KTypeAVTransportID={sizeof("AVTransportID")-1,"AVTransportID"};const static TLitC8&lt; sizeof("ProtocolInfo")&gt; KTypeProtocolInfo={sizeof("ProtocolInfo")-1,"ProtocolInfo"};const static TLitC8&lt; sizeof("PeerConnectionManager")&gt; KTypePeerConnectionManager={sizeof("PeerConnectionManager")-1,"PeerConnectionManager"};const static TLitC8&lt; sizeof("PeerConnectionID")&gt; KTypePeerConnectionID={sizeof("PeerConnectionID")-1,"PeerConnectionID"};const static TLitC8&lt; sizeof("Direction")&gt; KTypeDirection={sizeof("Direction")-1,"Direction"};const static TLitC8&lt; sizeof("Status")&gt; KTypeStatus={sizeof("Status")-1,"Status"};const static TLitC8&lt; sizeof("ConnectionID")&gt; KArgument={sizeof("ConnectionID")-1,"ConnectionID"};const static TLitC8&lt; sizeof("PrepareForConnection")&gt; KPrepareForConnection={sizeof("PrepareForConnection")-1,"PrepareForConnection"};const static TLitC8&lt; sizeof("ConnectionComplete")&gt; KConnectionComplete={sizeof("ConnectionComplete")-1,"ConnectionComplete"};const static TLitC8&lt; sizeof("controlURL")&gt; KControlUrl={sizeof("controlURL")-1,"controlURL"};const static TLitC8&lt; sizeof("device")&gt; KDevice={sizeof("device")-1,"device"};const static TLitC8&lt; sizeof("deviceType")&gt; KDeviceType={sizeof("deviceType")-1,"deviceType"};const static TLitC8&lt; sizeof("deviceList")&gt; KDeviceList={sizeof("deviceList")-1,"deviceList"};const static TLitC8&lt; sizeof(".xml")&gt; KDotXml={sizeof(".xml")-1,".xml"};const static TLitC8&lt; sizeof("friendlyName")&gt; KFriendlyName={sizeof("friendlyName")-1,"friendlyName"};const static TLitC8&lt; sizeof("http:const static TLitC8&lt;sizeof( "icon" )&gt; KIcon ={sizeof( "icon" )-1, "icon" };const static TLitC8&lt;sizeof( "iconList" )&gt; KIconList ={sizeof( "iconList" )-1, "iconList" };const static TLitC8&lt;sizeof( "-" )&gt; KLine ={sizeof( "-" )-1, "-" };const static TLitC8&lt;sizeof( "%08x" )&gt; KMask8 ={sizeof( "%08x" )-1, "%08x" };const static TLitC8&lt;sizeof( "manufacturer" )&gt; KManufacturer ={sizeof( "manufacturer" )-1, "manufacturer" };const static TLitC8&lt;sizeof( "manufacturerURL" )&gt; KManufacturerUrl ={sizeof( "manufacturerURL" )-1, "manufacturerURL" };const static TLitC8&lt;sizeof( "modelDescription" )&gt; KModelDescription ={sizeof( "modelDescription" )-1, "modelDescription" };const static TLitC8&lt;sizeof( "modelName" )&gt; KModelName ={sizeof( "modelName" )-1, "modelName" };const static TLitC8&lt;sizeof( "modelNumber" )&gt; KModelNumber ={sizeof( "modelNumber" )-1, "modelNumber" };const static TLitC8&lt;sizeof( "modelURL" )&gt; KModelUrl ={sizeof( "modelURL" )-1, "modelURL" };const static TLitC8&lt;sizeof( ":" )&gt; KSepar ={sizeof( ":" )-1, ":" };const static TLitC8&lt;sizeof( "serialNumber" )&gt; KSerialNumber ={sizeof( "serialNumber" )-1, "serialNumber" };const static TLitC8&lt;sizeof( "service" )&gt; KService ={sizeof( "service" )-1, "service" };const static TLitC8&lt;sizeof( "serviceList" )&gt; KServiceList ={sizeof( "serviceList" )-1, "serviceList" };const static TLitC8&lt;sizeof( "serviceId" )&gt; KServiceId ={sizeof( "serviceId" )-1, "serviceId" };const static TLitC8&lt;sizeof( "serviceType" )&gt; KServiceType ={sizeof( "serviceType" )-1, "serviceType" };const static TLitC8&lt;sizeof( "service:" )&gt; KServiceUrn ={sizeof( "service:" )-1, "service:" };const static TLitC8&lt;sizeof( "SCPDURL" )&gt; KServiceDescriptionUrl ={sizeof( "SCPDURL" )-1, "SCPDURL" };const static TLitC8&lt;sizeof( "eventSubURL" )&gt; KSubscriptionUrl ={sizeof( "eventSubURL" )-1, "eventSubURL" };const static TLitC8&lt;sizeof( ":device:" )&gt; KDeviceSearch ={sizeof( ":device:" )-1, ":device:" };const static TLitC8&lt;sizeof( "\r" )&gt; KR ={sizeof( "\r" )-1, "\r" };const static TLitC8&lt;sizeof( "/" )&gt; KSlash8 ={sizeof( "/" )-1, "/" };const static TLitC8&lt;sizeof( "UDN" )&gt; KUdn ={sizeof( "UDN" )-1, "UDN" };const static TLitC8&lt;sizeof( "uuid:" )&gt; KUuid ={sizeof( "uuid:" )-1, "uuid:" };const static TLitC8&lt;sizeof( "presentationURL" )&gt; KPresentationUrl ={sizeof( "presentationURL" )-1, "presentationURL" };const static TLitC8&lt;sizeof( "URLBase" )&gt; KUrlBase ={sizeof( "URLBase" )-1, "URLBase" };const static TLitC8&lt;sizeof( "NoHeader" )&gt; KNoHeader ={sizeof( "NoHeader" )-1, "NoHeader" };const static TLitC8&lt;sizeof( "80" )&gt; KDefaultHostPort ={sizeof( "80" )-1, "80" };const static TLitC8&lt;sizeof( "uuid:" )&gt; KSidPrefix ={sizeof( "uuid:" )-1, "uuid:" };const static TLitC8&lt;sizeof( "Second-" )&gt; KTimeoutPrefix ={sizeof( "Second-" )-1, "Second-" };const static TLitC8&lt;sizeof( "path" )&gt; KPath ={sizeof( "path" )-1, "path" }; const static TLitC8&lt;sizeof( "GET" )&gt; KGet ={sizeof( "GET" )-1, "GET" };const static TLitC8&lt;sizeof( "Second-" )&gt; KSeconds ={sizeof( "Second-" )-1, "Second-" };const static TLitC8&lt;sizeof( "image/png" )&gt; KMimePng ={sizeof( "image/png" )-1, "image/png" };const static TLitC8&lt;sizeof( "image/jpeg" )&gt; KMimeJpeg ={sizeof( "image/jpeg" )-1, "image/jpeg" };const static TLitC8&lt;sizeof( "C:\\System\\Data\\UPnP\\" )&gt; KUpnpPath ={sizeof( "C:\\System\\Data\\UPnP\\" )-1, "C:\\System\\Data\\UPnP\\" };const static TLitC8&lt;sizeof( "&lt;" )&gt; KLessThan8 ={sizeof( "&lt;" )-1, "&lt;" }; const static TLitC8&lt;sizeof( "&gt;" )&gt; KGreaterThan8 ={sizeof( "&gt;" )-1, "&gt;" }; const static TLitC&lt;sizeof(L"c:" )/2&gt; KMediaDriveLetter ={sizeof(L"c:" )/2-1,L"c:" }; # 41 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontainerupdateid.h" 1#define C_CUPNPCONTAINERUPDATEID_Hclass TUpnpContainerUpdateId{public: TUpnpContainerUpdateId();public: HBufC8* iContainerId; TInt iUpdateId;}; # 42 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectorydb.h" 1#define C_CUPNPCONTENTDIRECTORYDB_H# 1 "X:/epoc32/include/d32dbms.h" 1#define __D32DBMS_H__class RFs;class CDbObject;class CDbRowConstraint;class CDbCursor;class CDbDatabase;class CDbIncremental;class CDbNotifier;class TDbColumn;class TDbColumnC;class TDbCol;class CDbColSet;class TDbColSetIter;class TDbKeyCol;class CDbKey;class TDbBookmark;class TDbQuery;class RDbHandleBase;template&lt;class T&gt; class RDbHandle;class RDbRowConstraint;class RDbRowSet;class RDbColReadStream;class RDbColWriteStream;class TDbWindow;class RDbView;template&lt;class T&gt; class TUnion;class TDbLookupKey;class TDbSeekKey;template&lt;TInt S&gt; class TDbSeekMultiKey;class RDbTable;class CDbNames;class RDbDatabase;class RDbIncremental;class RDbUpdate;class RDbNotifier;class RDbs;class RDbNamedDatabase;class RDbStoreDatabase;const TInt KDbMaxName=0x40;const TInt KDbMaxColName=KDbMaxName;typedef TBuf&lt;KDbMaxName&gt; TDbName;typedef TBufC&lt;KDbMaxName&gt; TDbNameC;typedef TBuf&lt;KDbMaxColName&gt; TDbColName;typedef TBufC&lt;KDbMaxColName&gt; TDbColNameC;typedef TInt TDbColNo;const TDbColNo KDbNullColNo=0;const TInt KDbUndefinedCount=-1;const TInt KDbUndefinedLength=-1;const TInt KDbDefaultTextColLength=50;enum TDbColType { EDbColBit, EDbColInt8, EDbColUint8, EDbColInt16, EDbColUint16, EDbColInt32, EDbColUint32, EDbColInt64, EDbColReal32, EDbColReal64, EDbColDateTime, EDbColText8, EDbColText16, EDbColBinary, EDbColLongText8, EDbColLongText16, EDbColLongBinary, EDbColText=EDbColText16, EDbColLongText=EDbColLongText16 };enum TDbTextComparison { EDbCompareNormal, EDbCompareFolded, EDbCompareCollated };class TDbCol { friend class CDbColSet;public: enum {ENotNull=0x01,EAutoIncrement=0x02};public: inline TDbCol() {} inline TDbCol(const TDbCol&amp;); inline TDbCol&amp; operator=(const TDbCol&amp;); IMPORT_C TDbCol(const TDesC&amp; aName,TDbColType aType); IMPORT_C TDbCol(const TDesC&amp; aName,TDbColType aType,TInt aMaxLength); static inline TBool IsLong(TDbColType aType);private: inline TDbCol(const TDesC&amp; aName);public: TDbColType iType; TInt iMaxLength; TUint iAttributes; TDbColNameC iName; };class CDbColSet : public CBase { friend class TDbColSetIter;public: IMPORT_C CDbColSet(); IMPORT_C static CDbColSet* NewL(); IMPORT_C static CDbColSet* NewLC(); IMPORT_C ~CDbColSet(); inline const TDbCol&amp; operator[](TDbColNo aCol) const; IMPORT_C const TDbCol* Col(const TDesC&amp; aColName) const; IMPORT_C TDbColNo ColNo(const TDesC&amp; aColName) const; inline TInt Count() const; inline void Clear(); IMPORT_C CDbColSet&amp; AddL(const TDbCol&amp; aCol); IMPORT_C void Remove(const TDesC&amp; aColName);private: CArrayPakFlat&lt;TDbCol&gt; iColumns; };class TDbColSetIter {public: IMPORT_C TDbColSetIter(const CDbColSet&amp; aColSet); inline operator TAny* () const; inline const TDbCol&amp; operator*() const; inline const TDbCol* operator-&gt;) const; IMPORT_C TDbColSetIter&amp; operator++(); inline TDbColSetIter operator++(TInt); inline TDbColNo Col() const;private: const TDbCol* iColumn; TInt iIndex; const CArrayPakFlat&lt;TDbCol&gt;* iArray; };class TDbKeyCol {public: enum TOrder { EAsc, EDesc };public: inline TDbKeyCol() {} inline TDbKeyCol(const TDbKeyCol&amp;); inline TDbKeyCol&amp; operator=(const TDbKeyCol&amp;); IMPORT_C TDbKeyCol(const TDesC&amp; aName,TOrder anOrder=EAsc); IMPORT_C TDbKeyCol(const TDesC&amp; aName,TInt aLength,TOrder anOrder=EAsc);public: TOrder iOrder; TInt iLength; TDbColNameC iName; };class CDbKey : public CBase {public: enum {EUnique=0x01,EPrimary=0x02};public: IMPORT_C CDbKey(); IMPORT_C static CDbKey* NewL(); IMPORT_C static CDbKey* NewLC(); IMPORT_C ~CDbKey(); IMPORT_C CDbKey&amp; AddL(const TDbKeyCol&amp; aKeyCol); IMPORT_C void Remove(const TDesC&amp; aColName); IMPORT_C void Clear(); inline TInt Count() const; inline const TDbKeyCol&amp; operator[](TInt aCol) const; inline void MakeUnique(); inline TBool IsUnique() const; inline void SetComparison(TDbTextComparison aComparison); inline TDbTextComparison Comparison() const; inline void MakePrimary(); inline TBool IsPrimary() const;private: CArrayPakFlat&lt;TDbKeyCol&gt; iKeys; TDbTextComparison iComparison; TInt iAttributes; };class TDbBookmark { friend class RDbRowSet;public: struct TMark { enum {ESize=8}; TUint32 iMark[ESize]; };private: TMark iMark; };class TDbQuery {public: inline TDbQuery(const TDesC&amp; aQuery,TDbTextComparison aComparison=EDbCompareNormal); inline const TDesC&amp; Query() const; inline TDbTextComparison Comparison() const;private: const TDesC&amp; iQuery; TDbTextComparison iComparison; };class RDbHandleBase {public: inline RDbHandleBase(); void Close();protected: inline void Set(CDbObject* aObject); CDbObject&amp; Object() const;protected: CDbObject* iObject; };template &lt;class T&gt;class RDbHandle : public RDbHandleBase {public: inline T* operator=(T* aT); inline T* operator-&gt;) const; inline T&amp; operator*() const; inline T* operator()() const; };class RDbRowConstraint { friend class RDbRowSet;public: IMPORT_C TInt Open(const RDbRowSet&amp; aView,TDbQuery aCriteria); IMPORT_C void Close();private: RDbHandle&lt;CDbRowConstraint&gt; iConstraint; };class RDbRowSet { friend class RDbRowConstraint; friend class RDbColReadStream; friend class RDbColWriteStream;public: enum TPosition { EFirst, ENext, EPrevious, ELast, EBeginning, EEnd }; enum TAccess { EUpdatable, EReadOnly, EInsertOnly }; enum TDirection { EForwards, EBackwards }; enum TAccuracy { EEnsure, EQuick };public: IMPORT_C void Close(); IMPORT_C void Reset(); IMPORT_C CDbColSet* ColSetL() const; IMPORT_C TInt ColCount() const; IMPORT_C TDbColType ColType(TDbColNo aCol) const; IMPORT_C TDbCol ColDef(TDbColNo aCol) const; IMPORT_C TBool AtRow() const; IMPORT_C TBool AtBeginning() const; IMPORT_C TBool AtEnd() const; IMPORT_C TInt CountL(TAccuracy anAccuracy=EEnsure) const; IMPORT_C TBool IsEmptyL() const; IMPORT_C TBool GotoL(TPosition aPosition); inline void BeginningL(); inline void EndL(); inline TBool FirstL(); inline TBool LastL(); inline TBool NextL(); inline TBool PreviousL(); IMPORT_C TDbBookmark Bookmark() const; IMPORT_C void GotoL(const TDbBookmark&amp; aMark); IMPORT_C TBool MatchL(const RDbRowConstraint&amp; aConstraint); IMPORT_C TInt FindL(TDirection aDirection,TDbQuery aCriteria); IMPORT_C void GetL(); IMPORT_C void InsertL(); IMPORT_C void InsertCopyL(); IMPORT_C void UpdateL(); IMPORT_C void PutL(); IMPORT_C void Cancel(); IMPORT_C void DeleteL(); inline TBool IsColNull(TDbColNo aCol) const; IMPORT_C TInt ColSize(TDbColNo aCol) const; IMPORT_C TInt ColLength(TDbColNo aCol) const; IMPORT_C TInt8 ColInt8(TDbColNo aCol) const; IMPORT_C TInt16 ColInt16(TDbColNo aCol) const; IMPORT_C TInt32 ColInt32(TDbColNo aCol) const; IMPORT_C TInt64 ColInt64(TDbColNo aCol) const; inline TInt ColInt(TDbColNo aCol) const; IMPORT_C TUint8 ColUint8(TDbColNo aCol) const; IMPORT_C TUint16 ColUint16(TDbColNo aCol) const; IMPORT_C TUint32 ColUint32(TDbColNo aCol) const; inline TUint ColUint(TDbColNo aCol) const; IMPORT_C TReal32 ColReal32(TDbColNo aCol) const __SOFTFP; IMPORT_C TReal64 ColReal64(TDbColNo aCol) const __SOFTFP; inline TReal ColReal(TDbColNo aCol) const; IMPORT_C TTime ColTime(TDbColNo aCol) const; IMPORT_C TPtrC8 ColDes8(TDbColNo aCol) const; IMPORT_C TPtrC16 ColDes16(TDbColNo aCol) const; IMPORT_C TPtrC ColDes(TDbColNo aCol) const; IMPORT_C void SetColNullL(TDbColNo aCol); inline void SetColL(TDbColNo aCol,TInt aValue); IMPORT_C void SetColL(TDbColNo aCol,TInt32 aValue); IMPORT_C void SetColL(TDbColNo aCol,TInt64 aValue); inline void SetColL(TDbColNo aCol,TUint aValue); IMPORT_C void SetColL(TDbColNo aCol,TUint32 aValue); IMPORT_C void SetColL(TDbColNo aCol,TReal32 aValue) __SOFTFP; IMPORT_C void SetColL(TDbColNo aCol,TReal64 aValue) __SOFTFP; IMPORT_C void SetColL(TDbColNo aCol,TTime aValue); IMPORT_C void SetColL(TDbColNo aCol,const TDesC8&amp; aValue); IMPORT_C void SetColL(TDbColNo aCol,const TDesC16&amp; aValue);private: inline MStreamBuf* ColSourceL(TDbColNo aCol) const; inline MStreamBuf* ColSinkL(TDbColNo aCol); CDbCursor&amp; CheckCol(TDbColNo aCol) const; TDbColumnC ColumnC(TDbColNo aCol,TDbColType aType) const; TDbColumn Column(TDbColNo aCol,TDbColType aType);protected: RDbHandle&lt;CDbCursor&gt; iCursor; };class RDbColReadStream : public RReadStream {public: IMPORT_C void OpenL(const RDbRowSet&amp; aView,TDbColNo aCol); IMPORT_C void OpenLC(const RDbRowSet&amp; aView,TDbColNo aCol); };class RDbColWriteStream : public RWriteStream {public: inline RDbColWriteStream() {} inline RDbColWriteStream(const MExternalizer&lt;TStreamRef&gt; &amp;anExternalizer); IMPORT_C void OpenL(RDbRowSet&amp; aView,TDbColNo aCol); IMPORT_C void OpenLC(RDbRowSet&amp; aView,TDbColNo aCol); };class TDbWindow {public: enum TUnlimited { EUnlimited=KMaxTInt }; enum {ENone=0};public: inline TDbWindow(); inline TDbWindow(TUnlimited); IMPORT_C TDbWindow(TInt aForeSlots,TInt aRearSlots); inline TInt Size() const; inline TInt PreferredPos() const;private: TInt iSize; TInt iPreferredPos; };#define KDbUnlimitedWindowclass RDbView : public RDbRowSet {public: IMPORT_C TInt Prepare(RDbDatabase&amp; aDatabase,const TDbQuery&amp; aQuery,TAccess anAccess=EUpdatable); IMPORT_C TInt Prepare(RDbDatabase&amp; aDatabase,const TDbQuery&amp; aQuery,const TDbWindow&amp; aWindow); IMPORT_C TInt Prepare(RDbDatabase&amp; aDatabase,const TDbQuery&amp; aQuery,const TDbWindow&amp; aWindow,TAccess anAccess); IMPORT_C TInt EvaluateAll(); IMPORT_C TInt Evaluate(); IMPORT_C void Evaluate(TRequestStatus&amp; aStatus); IMPORT_C TBool Unevaluated() const; };template &lt;class T&gt;class TUnion {public: inline operator const T&amp;() const; inline const T&amp; operator()() const; inline T&amp; operator()(); inline void Set(const T&amp; aT);private: TUint8 iRep[sizeof(T)]; };class TDbLookupKey {public: struct SColumn { union { TInt32 iInt32; TUint32 iUint32; TUnion&lt;TInt64&gt; iInt64; TReal32 iReal32; TReal64 iReal64; TUnion&lt;TTime&gt; iTime; struct {const TText8* iPtr;TInt iLength;} iDes8; struct {const TText16* iPtr;TInt iLength;} iDes16; }; TDbColType iType; };public: inline TDbLookupKey(); inline TInt Count() const; inline const SColumn* First() const; void Add(TInt aKey); void Add(TUint aKey); void Add(TInt64 aKey); void Add(TReal32 aKey) __SOFTFP; void Add(TReal64 aKey) __SOFTFP; void Add(TTime aKey); void Add(const TDesC8&amp; aKey); void Add(const TDesC16&amp; aKey);private: SColumn&amp; NextKey();private: TInt iCount; SColumn iKey[1]; };class TDbSeekKey { friend class RDbTable;public: inline TDbSeekKey(); inline TDbSeekKey(TInt aKey); inline TDbSeekKey(TUint aKey); inline TDbSeekKey(TInt64 aKey); inline TDbSeekKey(TReal32 aKey); inline TDbSeekKey(TReal64 aKey); inline TDbSeekKey(TTime aKey); inline TDbSeekKey(const TDesC8&amp; aKey); inline TDbSeekKey(const TDesC16&amp; aKey); IMPORT_C TDbSeekKey&amp; Add(TInt aKey); IMPORT_C TDbSeekKey&amp; Add(TUint aKey); IMPORT_C TDbSeekKey&amp; Add(TInt64 aKey); IMPORT_C TDbSeekKey&amp; Add(TReal32 aKey) __SOFTFP; IMPORT_C TDbSeekKey&amp; Add(TReal64 aKey) __SOFTFP; IMPORT_C TDbSeekKey&amp; Add(TTime aKey); IMPORT_C TDbSeekKey&amp; Add(const TDesC8&amp; aKey); IMPORT_C TDbSeekKey&amp; Add(const TDesC16&amp; aKey);private: TDbLookupKey&amp; Check();protected: inline TDbSeekKey(TInt aKeys,TInt);private: TInt iMaxKeys; TDbLookupKey iKey; };template&lt;TInt S&gt;class TDbSeekMultiKey : public TDbSeekKey {public: inline TDbSeekMultiKey();private: TDbLookupKey::SColumn iExtraKeys[S-1]; };class RDbTable : public RDbRowSet {public: enum TComparison { ELessThan, ELessEqual, EEqualTo, EGreaterEqual, EGreaterThan };public: IMPORT_C TInt Open(RDbDatabase&amp; aDatabase,const TDesC&amp; aName,TAccess anAccess=EUpdatable); inline TInt SetIndex(const TDesC&amp; anIndex); inline TInt SetNoIndex(); IMPORT_C TBool SeekL(const TDbSeekKey&amp; aKey,TComparison aComparison=EEqualTo);private: IMPORT_C TInt SetIndex(const TDesC* anIndex); };class CDbNames : public CBase {private: inline CDbNames();public: static CDbNames* NewLC(); ~CDbNames(); inline TInt Count() const; inline const TDesC&amp; operator[](TInt anIndex) const; IMPORT_C void AddL(const TDesC&amp; aName);private: CArrayPakFlat&lt;TDbNameC&gt; iList; };typedef CDbNames CDbTableNames,CDbIndexNames,CDbDatabaseNames;const TInt KDbMaxStrLen = 256;typedef TBufC&lt;KDbMaxStrLen&gt; TDbStringC;class CDbStrings : public CBase {private: inline CDbStrings();public: static CDbStrings* NewLC(); virtual ~CDbStrings(); inline TInt Count() const; inline const TDesC&amp; operator[](TInt aIndex) const; void AddL(const TDesC&amp; aStr);private: CArrayPakFlat&lt;TDbStringC&gt; iList; };class RDbDatabase { friend class RDbView; friend class RDbTable; friend class RDbIncremental; friend class RDbUpdate; friend class RDbNotifier;public: struct TSize {TInt iSize;TInt iUsage;};public: IMPORT_C void Close(); IMPORT_C TInt Destroy(); IMPORT_C TBool IsDamaged() const; IMPORT_C TInt Recover(); IMPORT_C TInt UpdateStats(); IMPORT_C TSize Size() const; IMPORT_C TInt Compact(); IMPORT_C TInt Begin(); IMPORT_C TInt Commit(); IMPORT_C void Rollback(); IMPORT_C TBool InTransaction() const; inline TInt CreateTable(const TDesC&amp; aName,const CDbColSet&amp; aDef); inline TInt CreateTable(const TDesC&amp; aName,const CDbColSet&amp; aDef,const CDbKey&amp; aPrimaryKey); IMPORT_C TInt DropTable(const TDesC&amp; aName); IMPORT_C TInt AlterTable(const TDesC&amp; aName,const CDbColSet&amp; aNewDef); IMPORT_C TInt CreateIndex(const TDesC&amp; aName,const TDesC&amp; aTable,const CDbKey&amp; aKey); IMPORT_C TInt DropIndex(const TDesC&amp; aName,const TDesC&amp; aTable); IMPORT_C TInt Execute(const TDesC&amp; aSql,TDbTextComparison aComparison=EDbCompareNormal); IMPORT_C CDbTableNames* TableNamesL() const; IMPORT_C CDbColSet* ColSetL(const TDesC&amp; aName) const; IMPORT_C CDbIndexNames* IndexNamesL(const TDesC&amp; aTable) const; IMPORT_C CDbKey* KeyL(const TDesC&amp; aName,const TDesC&amp; aTable) const;private: IMPORT_C TInt CreateTable(const TDesC&amp; aName,const CDbColSet&amp; aColSet,const CDbKey* aPrimaryKey);protected: RDbHandle&lt;CDbDatabase&gt; iDatabase; };class RDbIncremental {public: IMPORT_C void Close(); IMPORT_C TInt Next(TInt&amp; aStep); IMPORT_C void Next(TPckgBuf&lt;TInt&gt;&amp; aStep,TRequestStatus&amp; aStatus); IMPORT_C TInt Recover(RDbDatabase&amp; aDatabase,TInt&amp; aStep); IMPORT_C TInt Compact(RDbDatabase&amp; aDatabase,TInt&amp; aStep); IMPORT_C TInt DropTable(RDbDatabase&amp; aDatabase,const TDesC&amp; aTable,TInt&amp; aStep); IMPORT_C TInt AlterTable(RDbDatabase&amp; aDatabase,const TDesC&amp; aTable,const CDbColSet&amp; aNewDef,TInt&amp; aStep); IMPORT_C TInt CreateIndex(RDbDatabase&amp; aDatabase,const TDesC&amp; aName,const TDesC&amp; aTable,const CDbKey&amp; aKey,TInt&amp; aStep); IMPORT_C TInt DropIndex(RDbDatabase&amp; aDatabase,const TDesC&amp; aName,const TDesC&amp; aTable,TInt&amp; aStep); inline TInt Execute(RDbDatabase&amp; aDatabase,const TDesC&amp; aSql,TInt&amp; aStep); IMPORT_C TInt Execute(RDbDatabase&amp; aDatabase,const TDesC&amp; aSql,TDbTextComparison aComparison,TInt&amp; aStep); IMPORT_C TInt UpdateStats(RDbDatabase&amp; aDatabase,TInt&amp; aStep);private: RDbHandle&lt;CDbIncremental&gt; iState; };class RDbUpdate {public: IMPORT_C TInt Execute(RDbDatabase&amp; aDatabase,const TDesC&amp; aSql,TDbTextComparison aComparison=EDbCompareNormal); IMPORT_C void Close(); IMPORT_C TInt Next(); IMPORT_C void Next(TRequestStatus&amp; aStatus); IMPORT_C TInt RowCount() const;private: RDbHandle&lt;CDbIncremental&gt; iUpdate; TPckgBuf&lt;TInt&gt; iRows; };class RDbNotifier {public: enum TEvent { EClose, EUnlock, ECommit, ERollback, ERecover };public: IMPORT_C TInt Open(RDbDatabase&amp; aDatabase); IMPORT_C void Close(); IMPORT_C void NotifyUnlock(TRequestStatus&amp; aStatus); IMPORT_C void NotifyChange(TRequestStatus&amp; aStatus); IMPORT_C void Cancel();private: RDbHandle&lt;CDbNotifier&gt; iNotifier; };class RDbs : public RSessionBase {public: typedef enum {EReadPolicy, EWritePolicy, ESchemaPolicy} TPolicyType;public: IMPORT_C static TVersion Version(); IMPORT_C TInt Connect(); IMPORT_C CDbDatabaseNames* DatabaseNamesL(TDriveNumber aDrive, TUid aPolicyUid); IMPORT_C TInt CopyDatabase(const TDesC&amp; aSrcDbName, const TDesC&amp; aDestDbName, TUid aPolicyUid); IMPORT_C TInt DeleteDatabase(const TDesC&amp; aDbName, TUid aPolicyUid); IMPORT_C TInt GetDatabasePolicy(TUid aPolicyUid, TPolicyType aPolicyType, TSecurityPolicy&amp; aDbPolicy); IMPORT_C TInt GetTablePolicy(TUid aPolicyUid, const TDesC&amp; aTableName, TPolicyType aPolicyType, TSecurityPolicy&amp; aTablePolicy); IMPORT_C TInt GetTablePolicies(TUid aPolicyUid, const TDesC&amp; aTableName, TPolicyType aPolicyType, TSecurityPolicy&amp; aDbPolicy, TSecurityPolicy&amp; aTablePolicy); IMPORT_C void ResourceMark(); IMPORT_C void ResourceCheck(); IMPORT_C TInt ResourceCount(); IMPORT_C void SetHeapFailure(TInt aTAllocFail,TInt aRate); IMPORT_C TInt ReserveDriveSpace(TInt aDriveNo, TInt aSpace); IMPORT_C void FreeReservedSpace(TInt aDriveNo); IMPORT_C TInt GetReserveAccess(TInt aDriveNo); IMPORT_C TInt ReleaseReserveAccess(TInt aDriveNo); IMPORT_C TInt GetBackupPath(TSecureId aRequesterSid, const TDesC&amp; aDbName, TUid aDbPolicyUid, TDes&amp; aBackupPath); IMPORT_C CDbStrings* BackupPathsL(TSecureId aRequesterSid, TUid aDbPolicyUid);private: TInt DoConnect(); TInt SessionMessage(TInt aFunction); TInt GetPolicy(TUid aPolicyUid, const TDesC&amp; aTableName, TUint aMask, TSecurityPolicy&amp; aPolicy); };class RDbNamedDatabase : public RDbDatabase {public: enum TAccess { EReadWrite, EReadOnly };public: IMPORT_C TInt Create(RDbs&amp; aDbs, const TDesC&amp; aDatabase, const TDesC&amp; aFormat); IMPORT_C TInt Create(RFs&amp; aFs,const TDesC&amp; aDatabase,const TDesC&amp; aFormat=TPtrC()); IMPORT_C TInt Replace(RFs&amp; aFs,const TDesC&amp; aDatabase,const TDesC&amp; aFormat=TPtrC()); IMPORT_C TInt Open(RFs&amp; aFs,const TDesC&amp; aDatabase,const TDesC&amp; aFormat=TPtrC(),TAccess aMode=EReadWrite); IMPORT_C TInt Open(RDbs&amp; aDbs,const TDesC&amp; aDatabase,const TDesC&amp; aFormat=TPtrC()); };class RDbStoreDatabase : public RDbDatabase {public: IMPORT_C TStreamId CreateL(CStreamStore* aStore); IMPORT_C void OpenL(CStreamStore* aStore,TStreamId anId); IMPORT_C static void CompressL(CStreamStore&amp; aStore,TStreamId aId); IMPORT_C static void DecompressL(CStreamStore&amp; aStore,TStreamId aId); };# 1 "X:/epoc32/include/d32dbms.inl" 1inline TDbCol::TDbCol(const TDesC &amp;aName) : iName(aName) { }inline TDbCol::TDbCol(const TDbCol&amp; aSrcCol) : iType(aSrcCol.iType), iMaxLength(aSrcCol.iMaxLength), iAttributes(aSrcCol.iAttributes), iName(static_cast &lt;const TDesC&amp;&gt;aSrcCol.iName)) { } inline TDbCol&amp; TDbCol::operator=(const TDbCol&amp; aSrcCol) { iType = aSrcCol.iType; iMaxLength = aSrcCol.iMaxLength; iAttributes = aSrcCol.iAttributes; iName = static_cast &lt;const TDesC&amp;&gt;aSrcCol.iName); return *this; }inline TBool TDbCol::IsLong(TDbColType aType) { return aType&gt;=EDbColLongText8; }inline TInt CDbColSet::Count() const { return iColumns.Count(); }inline void CDbColSet::Clear() { iColumns.Reset(); }inline const TDbCol&amp; CDbColSet::operator[](TDbColNo aCol) const { return iColumns[aCol-1]; }inline TDbColSetIter::operator TAny* () const { return (const_cast&lt; TDbCol* &gt; iColumn )); }inline const TDbCol&amp; TDbColSetIter::operator*() const { ; return *iColumn; }inline const TDbCol* TDbColSetIter::operator-&gt;) const { ; return iColumn; }inline TDbColNo TDbColSetIter::Col() const { ; return iIndex+1; }inline TDbColSetIter TDbColSetIter::operator++(TInt) { TDbColSetIter tmp(*this); ++(*this); return tmp; }inline TDbKeyCol::TDbKeyCol(const TDbKeyCol&amp; aSrcKeyCol) : iOrder(aSrcKeyCol.iOrder), iLength(aSrcKeyCol.iLength), iName(static_cast &lt;const TDesC&amp;&gt;aSrcKeyCol.iName)) { } inline TDbKeyCol&amp; TDbKeyCol::operator=(const TDbKeyCol&amp; aSrcKeyCol) { iOrder = aSrcKeyCol.iOrder; iLength = aSrcKeyCol.iLength; iName = static_cast &lt;const TDesC&amp;&gt;aSrcKeyCol.iName); return *this; }inline TInt CDbKey::Count() const { return iKeys.Count(); }inline const TDbKeyCol&amp; CDbKey::operator[](TInt aCol) const { return iKeys[aCol]; }inline void CDbKey::MakeUnique() { iAttributes|=EUnique; }inline TBool CDbKey::IsUnique() const { return iAttributes&amp;EUnique; }inline TBool CDbKey::IsPrimary() const { return iAttributes&amp;EPrimary; }inline void CDbKey::SetComparison(TDbTextComparison aComparison) { iComparison=aComparison; }inline TDbTextComparison CDbKey::Comparison() const { return iComparison; }inline void CDbKey::MakePrimary() { iAttributes|=EPrimary; }inline TDbQuery::TDbQuery(const TDesC&amp; aQuery,TDbTextComparison aComparison): iQuery(aQuery), iComparison(aComparison) { }inline const TDesC&amp; TDbQuery::Query() const { return iQuery; }inline TDbTextComparison TDbQuery::Comparison() const { return iComparison; }inline RDbHandleBase::RDbHandleBase(): iObject(0) { }inline void RDbRowSet::BeginningL() { GotoL(EBeginning); }inline void RDbRowSet::EndL() { GotoL(EEnd); }inline TBool RDbRowSet::FirstL() { return GotoL(EFirst); }inline TBool RDbRowSet::LastL() { return GotoL(ELast); }inline TBool RDbRowSet::NextL() { return GotoL(ENext); }inline TBool RDbRowSet::PreviousL() { return GotoL(EPrevious); }inline TBool RDbRowSet::IsColNull(TDbColNo aCol) const { return ColSize(aCol)==0; }inline TInt RDbRowSet::ColInt(TDbColNo aCol) const { return ColInt32(aCol); }inline TUint RDbRowSet::ColUint(TDbColNo aCol) const { return ColUint32(aCol); }inline TReal RDbRowSet::ColReal(TDbColNo aCol) const { return ColReal64(aCol); }inline void RDbRowSet::SetColL(TDbColNo aCol,TInt aValue) { SetColL(aCol, TInt32(aValue)); }inline void RDbRowSet::SetColL(TDbColNo aCol,TUint aValue) { SetColL(aCol,TUint32(aValue)); }inline TDbWindow::TDbWindow(): iSize(ENone) { }inline TDbWindow::TDbWindow(TUnlimited): iSize(EUnlimited) { }inline TInt TDbWindow::Size() const { return iSize; }inline TInt TDbWindow::PreferredPos() const { return iPreferredPos; }template &lt;class T&gt;inline TUnion&lt;T&gt;::operator const T&amp;() const { return *(const T*)&amp;iRep[0]; }template &lt;class T&gt;inline const T&amp; TUnion&lt;T&gt;::operator()() const { return *(const T*)&amp;iRep[0]; }template &lt;class T&gt;inline T&amp; TUnion&lt;T&gt;::operator()() { return *(T*)&amp;iRep[0]; }template &lt;class T&gt;inline void TUnion&lt;T&gt;::Set(const T&amp; aT) { new(&amp;iRep[0]) T(aT); }inline TDbLookupKey::TDbLookupKey(): iCount(0) { }inline TInt TDbLookupKey::Count() const { return iCount; }inline const TDbLookupKey::SColumn* TDbLookupKey::First() const { return &amp;iKey[0]; }inline TDbSeekKey::TDbSeekKey(): iMaxKeys(1) { }inline TDbSeekKey::TDbSeekKey(TInt aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(TUint aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(TInt64 aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(TReal32 aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(TReal64 aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(TTime aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(const TDesC8&amp; aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(const TDesC16&amp; aKey): iMaxKeys(1) { Add(aKey); }inline TDbSeekKey::TDbSeekKey(TInt aKeys,TInt): iMaxKeys(aKeys) { }template &lt;TInt S&gt;inline TDbSeekMultiKey&lt;S&gt;::TDbSeekMultiKey(): TDbSeekKey(S,0) { }inline TInt RDbTable::SetIndex(const TDesC&amp; anIndex) { return SetIndex(&amp;anIndex); }inline TInt RDbTable::SetNoIndex() { return SetIndex(0); }inline RDbColWriteStream::RDbColWriteStream(const MExternalizer&lt;TStreamRef&gt; &amp;anExternalizer): RWriteStream(anExternalizer) { }inline TInt CDbNames::Count() const { return iList.Count(); }inline const TDesC&amp; CDbNames::operator[](TInt anIndex) const { return iList[anIndex]; }inline TInt RDbDatabase::CreateTable(const TDesC&amp; aName,const CDbColSet&amp; aColSet) { return CreateTable(aName,aColSet,NULL); }inline TInt RDbDatabase::CreateTable(const TDesC&amp; aName,const CDbColSet&amp; aColSet,const CDbKey&amp; aPrimaryKey) { return CreateTable(aName,aColSet,&amp;aPrimaryKey); }inline TInt RDbIncremental::Execute(RDbDatabase&amp; aDatabase,const TDesC&amp; aSql,TInt&amp; aStep) { return Execute(aDatabase,aSql,EDbCompareNormal,aStep); }inline TInt CDbStrings::Count() const { return iList.Count(); }inline const TDesC&amp; CDbStrings::operator[](TInt aIndex) const { return iList[aIndex]; }# 1485 "X:/epoc32/include/d32dbms.h" 2# 25 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectorydb.h" 2# 1 "X:/epoc32/include/flogger.h" 1#define __FLOGGER_H__const TInt KLogBufferSize=150;class FLogger {public: class TSignal { friend class FLogger; public: inline TSignal() {} inline TInt Set(const TDesC&amp; aCommand); inline TSignal(TRequestStatus&amp; aStatus); inline TPtrC Command() const; private: TRequestStatus* iStatus; TThreadId iId; };public: static TInt Start(); IMPORT_C static TInt Run(TSignal&amp; aSignal);private: static TInt Init(); };enum TFileLoggingMode { EFileLoggingModeUnknown =0, EFileLoggingModeAppend, EFileLoggingModeOverwrite, EFileLoggingModeAppendRaw, EFileLoggingModeOverwriteRaw };class TLogFormatter16Overflow :public TDes16Overflow {public: virtual void Overflow(TDes16&amp; aDes); };class TLogFormatter8Overflow :public TDes8Overflow {public: virtual void Overflow(TDes8&amp; aDes); };class TLogFormatter {public: TLogFormatter(); void SetDateAndTime(TBool aUseDate,TBool aUseTime); TInt FormatTextToWritableBuffer(TDes8&amp; aBuf, const TDesC16&amp; aText) const; TInt FormatTextToWritableBuffer(TDes8&amp; aBuf, const TDesC8&amp; aText) const; TInt ConvertToWritableBuffer(TDes8&amp; aBuf, TRefByValue&lt;const TDesC16&gt; aFmt, VA_LIST&amp; aList); TInt ConvertToWritableBuffer(TDes8&amp; aBuf, TRefByValue&lt;const TDesC8&gt; aFmt, VA_LIST&amp; aList);private: void GetDateAndTimeL(TDes&amp; aDate, TDes&amp; aTime) const; void WriteL(TDes8&amp; aTrg, const TDesC16&amp; aSrc) const; void WriteL(TDes8&amp; aTrg, const TDesC8&amp; aSrc) const;private: TBool iUseDate; TBool iUseTime; TLogFormatter16Overflow iOverflow16; TLogFormatter8Overflow iOverflow8; };class TLogFile {public: TLogFile(); TLogFile(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode); TBool operator==(const TLogFile&amp; aLogFile) const; void Set(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode); inline TBool Valid() const; inline TFileName Directory() const; inline TFileName Name() const; inline TFileLoggingMode Mode() const; inline void SetValid(TBool aValid);private: TBool iValid; TFileName iDirectory; TFileName iName; TFileLoggingMode iMode; };# 1 "X:/epoc32/include/flogger.inl" 1#define __FLOGGER_INL__inline FLogger::TSignal::TSignal(TRequestStatus&amp; aStatus) :iStatus(&amp;aStatus),iId(RThread().Id()) { aStatus=KRequestPending; }inline TPtrC FLogger::TSignal::Command() const { return TPtrC((const TText*)this,sizeof(*this)/sizeof(TText)); }inline TInt FLogger::TSignal::Set(const TDesC&amp; aCommand) { if (aCommand.Size()!=sizeof(*this)) return KErrGeneral; return (Mem::Copy(this,aCommand.Ptr(),sizeof(*this)),KErrNone); }inline TBool TLogFile::Valid() const { return iValid; }inline TFileName TLogFile::Directory() const { return iDirectory; } inline TFileName TLogFile::Name() const { return iName; }inline TFileLoggingMode TLogFile::Mode() const { return iMode; } inline void TLogFile::SetValid(TBool aValid) { iValid=aValid; }# 156 "X:/epoc32/include/flogger.h" 2class RFileLogger : public RSessionBase {public: IMPORT_C RFileLogger(); IMPORT_C ~RFileLogger(); IMPORT_C TVersion Version() const; IMPORT_C TInt Connect(); IMPORT_C void SetDateAndTime(TBool aUseDate,TBool aUseTime); IMPORT_C void CreateLog(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode); IMPORT_C void CloseLog(); IMPORT_C void Write(const TDesC16&amp; aText); IMPORT_C void WriteFormat(TRefByValue&lt;const TDesC16&gt; aFmt,...); IMPORT_C void WriteFormat(TRefByValue&lt;const TDesC16&gt; aFmt, VA_LIST&amp; aList); IMPORT_C void Write(const TDesC8&amp; aText); IMPORT_C void WriteFormat(TRefByValue&lt;const TDesC8&gt; aFmt,...); IMPORT_C void WriteFormat(TRefByValue&lt;const TDesC8&gt; aFmt, VA_LIST&amp; aList); IMPORT_C void HexDump(const TText* aHeader, const TText* aMargin, const TUint8* aPtr, TInt aLen); IMPORT_C static void Write(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, const TDesC16&amp; aText); IMPORT_C static void WriteFormat(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, TRefByValue&lt;const TDesC16&gt; aFmt,...); IMPORT_C static void WriteFormat(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, TRefByValue&lt;const TDesC16&gt; aFmt, VA_LIST&amp; aList); IMPORT_C static void Write(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, const TDesC8&amp; aText); IMPORT_C static void WriteFormat(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, TRefByValue&lt;const TDesC8&gt; aFmt,...); IMPORT_C static void WriteFormat(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, TRefByValue&lt;const TDesC8&gt; aFmt, VA_LIST&amp; aList); IMPORT_C static void HexDump(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, const TText* aHeader, const TText* aMargin, const TUint8* aPtr, TInt aLen); IMPORT_C TInt LastError() const; IMPORT_C TBool LogValid() const; IMPORT_C TBool LogSTI() const;private: TInt DoConnect(); void DoWrite(const TDesC8&amp; aBuf); void DoStaticWrite(const TDesC8&amp; aBuf); void DoWriteFormat(TRefByValue&lt;const TDesC16&gt; aFmt, VA_LIST&amp; aList); void DoWriteFormat(TRefByValue&lt;const TDesC8&gt; aFmt, VA_LIST&amp; aList); static void DoStaticWriteFormat(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, TRefByValue&lt;const TDesC16&gt; aFmt, VA_LIST&amp; aList); static void DoStaticWriteFormat(const TDesC&amp; aDir, const TDesC&amp; aName, TFileLoggingMode aMode, TRefByValue&lt;const TDesC8&gt; aFmt, VA_LIST&amp; aList); void DoHexDump(const TText* aHeader, const TText* aMargin, const TUint8* aPtr, TInt aLen);private: TLogFormatter iFormatter; TLogFile iLogFile; TInt iLastError; TBool iLogSTI; };# 27 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectorydb.h" 2class CUpnpElementBean;class CUpnpFilterElement;class CUpnpAttributeBean;class CUpnpObjectBean;class CUpnpDlnaProtocolInfo;class CUpnpShareMapBean;class CUpnpResourcesBean;class CUpnpMetadataStorage;class CUpnpContentDirectoryDb : public CBase{ public: static CUpnpContentDirectoryDb* NewLC(CUpnpMetadataStorage* aMetadataStorage); static CUpnpContentDirectoryDb* NewL(CUpnpMetadataStorage* aMetadataStorage); ~CUpnpContentDirectoryDb(); public: TUpnpErrorCode CheckObjectRestrictionL(TInt aObjId); TUpnpErrorCode InsertObjectL( RXmlEngDocument&amp; aFragment, TInt aContainer, TInt* aId); TUpnpErrorCode GetObjectL( TInt aObjectID, RXmlEngDocument&amp; aDoc, const TDesC8&amp; aFilterString); TInt ReferedObjectIdL( TInt aObjectId ); TUpnpErrorCode GetObjectListL(TInt aParentId, RArray&lt;TInt&gt;&amp; aList); TUpnpErrorCode DeleteObjectL(TInt aObjId,RArray&lt;TInt&gt;&amp; aRefList, TBool aDeleteResource=ETrue); TUpnpErrorCode UpdateObjectL(TInt aObjId, RXmlEngDocument&amp; aFragment); void DeleteResourceL(const TDesC8&amp; aResVal, RArray&lt;TInt&gt;&amp; aContIds); TUpnpErrorCode GetObjectByAttrL(RXmlEngDocument&amp; aDoc, TInt* aObjId, const TDesC8&amp; aAttrName, const TDesC8&amp; aAttrVal); TUpnpErrorCode CheckParentRestrictionL(TInt aObjId); TInt GetObjIdByAttrL(const TDesC8&amp; aAttrName, const TDesC8&amp; aAttrVal); TInt GetObjIdByAttrLikeL(const TDesC8&amp; aAttrName, const TDesC8&amp; aAttrVal); RXmlEngDocument PrepareDidlDocumentL(); TInt GetProtocolInfoL(const TDesC8&amp; aContentUri, CUpnpDlnaProtocolInfo*&amp; aProtocolInfo); void GetObjectListL(const RArray&lt;TInt&gt;&amp; aIds, const TDesC8&amp; aFilter, RArray&lt;RXmlEngDocument&gt;&amp; aObjs); TBool CanBeNestedL(TInt aObjId); void AddResourceL(CUpnpResourcesBean* aResBean, TInt aObjId); void DeleteResourceByResIdL(TInt64 aResId, TBool aDeleteFile = ETrue); void DeleteResourceByObjIdL(TInt aObjId, TBool aDeleteFile = ETrue); void NewMediaDirectoryL(const TDesC&amp; aOldDir); CUpnpResourcesBean* GetResourceL(TInt64 aResId); CUpnpAttributeBean* GetAttrByNameL(TInt aElmId, const TDesC8&amp; aAttrName, HBufC8*&amp; aAttrVal); CUpnpAttributeBean* GetAttrByValueL(const TDesC8&amp; aAttrName, const TDesC8&amp; aAttrVal); HBufC8* GetProtocolInfoByImportUriL(const TDesC8&amp; aImportUri); TInt GetKeyForUriL(); TInt GetObjectIdByElementValueLikeL(const TDesC8&amp; aElmName, const TDesC8&amp; aElmValue); TInt GetParentIdL(TInt aObjectId); TInt GetObjectIdL(); HBufC8* GetObjectTitleL(TInt aId); void CheckDatabaseL(); TInt HandleDbError( TInt aError ); TInt RecreateDatabaseFile(); TBool IsDbCreated(); private: CUpnpObjectBean* GetObjBeanLC(TInt aObjId); void GetObjectsByResourceL(RArray&lt;TInt&gt;&amp; aIds, const TDesC&amp; aResVal); TInt GetElmIdByNameAndValL(const TDesC&amp; aElmName, const TDesC&amp; aElmValue); void GetAttrValueByNameL(TInt aElmId, const TDesC8&amp; aAttrName, HBufC8*&amp; aAttrVal); void DeleteResourcesL(TInt aObjId); void DoDeleteResourceL(const TDesC8&amp; aResVal, RArray&lt;TInt&gt;&amp; aContIds); void SetChildCountL(TXmlEngElement aElement, TInt aId); void AddAllPropertiesL(TXmlEngElement aElement, CUpnpObjectBean* aObjBean); void AddAttributeL( TXmlEngElement aElement, const TDesC8&amp; aAttrName, TInt aElementId, TInt aObjectId ); TUpnpErrorCode AddRequestedPropertiesL(TInt aObjectID,TXmlEngElement aElement, const RPointerArray&lt;CUpnpFilterElement&gt;&amp; aFilterElements); void AddElementL(TXmlEngElement aElement, TInt aObjectID, const CUpnpFilterElement* aReqElement); TUpnpErrorCode AddRequiredPropertyL(TXmlEngElement aElement, TInt aObjId, CUpnpFilterElement* aFilterElement); void ParseFilterStringL(const TDesC8&amp; aFilter, RPointerArray&lt;CUpnpFilterElement&gt;&amp; aList); TUpnpErrorCode DoGetObjectL(TInt aObjectID, RXmlEngDocument&amp; aDoc, TBool aAll); TUpnpErrorCode InsertElementL(const TXmlEngElement&amp; aElementel, TInt aObjId); TUpnpErrorCode DoUpdateObjectL(TInt aObjId, TXmlEngElement aFragment); TUpnpErrorCode InsertUpdatedL(TInt aObjId, TXmlEngElement&amp; aElement); TInt SetObjectIdL(TXmlEngElement&amp; aElement); TUpnpErrorCode DoInsertObjectL( TXmlEngElement&amp; aElement, TInt aContainerId, TInt* aId); TUpnpErrorCode InsertAttributesL(const TXmlEngElement aElement, TInt aElmId,TInt aObjId); TBool IsAttrRequiredL(const TXmlEngAttr&amp; aAttr, RArray&lt;TXmlEngAttr&gt;&amp; aMarkers); CUpnpContentDirectoryDb(CUpnpMetadataStorage* aMetadataStorage); void ConstructL(); void ConstructDbL(const TFileName&amp; aDatabaseFileName); void OpenDbL( const TFileName&amp; aDatabaseFileName ); void AddElementsL( TInt aObjectID, TXmlEngElement aObjectElement, TBool aAll ); void AddAttributesL( TInt aElementID, TInt aObjectID, TXmlEngElement&amp; aElement, TBool aAll ); private: CUpnpMetadataStorage* iMetadataStorage; RXmlEngDOMImplementation iDOMImpl; };# 43 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpfiletransfertimerobserver.h" 1#define C_CUPNPFILETRANSFERTIMEROBSERVER_Hclass CUpnpContentDirectory;class MUpnpContentDirectoryEventObserver;class CUpnpFileTransferTimerObserver;const TInt KFileTransferStorageTime = 30000000;class MUpnpFileTransferTimerObserver {public: virtual void TransferEvent( CUpnpFileTransferTimerObserver* aTimer ) = 0; };class CUpnpFileTransferTimerObserver : public CBase, public MUpnpNotifyTimerObserver{public: static CUpnpFileTransferTimerObserver* NewLC( MUpnpFileTransferTimerObserver* aCd, TInt aTransferId); virtual ~CUpnpFileTransferTimerObserver();private: CUpnpFileTransferTimerObserver( MUpnpFileTransferTimerObserver* aCd, TInt aTransferId ); void ConstructL();public: void TimerEventL( CUpnpNotifyTimer* aTimer ); TInt TransferId(); private: MUpnpFileTransferTimerObserver* iCd; CUpnpNotifyTimer* iEventTimer; TInt iTransferId; }; # 44 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnperror.h" 1#define C_TUPNPERROR_Hclass TUpnpError{public: TUpnpError(TInt aErrCode); operator TUpnpErrorCode(); private: TUpnpErrorCode iUpnpErrCode;}; # 45 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/inc/upnpcustomlog.h" 1#define C_UPNPCUSTOMLOG_H #define UPNP_LOGconst static TLitC&lt;sizeof(L"upnp" )/2&gt; KLogFolder ={sizeof(L"upnp" )/2-1,L"upnp" };const TInt KMaxLogLen = 256; #define LOGT(A)#define LOGS(A)#define LOGS1(A,B)#define LOGS2(A,B,C)#define LOGM#define ACTIONSEND(A)#define ACTIONRECV(A,B)#define LOGTH(H,A)#define LOGSH(H,A)#define LOGS1H(H,A,B)#define LOGS2H(H,A,B,C)#define LOGCD(A,B,C,D)#define LOGSQL(A,B,C,D)#define LOGTIME#define LOG(x)#define LOG8(x)#define LOG16(x)#define LOG_FUNC_NAME# 46 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpresourcesbean.h" 1#define UPNPRESOURCESBEAN_H# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptablebean.h" 1#define C_CUPNPTABLEBEAN_Hclass CUpnpTableBean : public CBase{ public: static const TInt KUndef = -1; protected: virtual ~CUpnpTableBean(); CUpnpTableBean(); HBufC8* ReadLongTextColL(const RDbRowSet&amp; aRowSet, const TInt aColNo);}; # 23 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpresourcesbean.h" 2class CUpnpElement;class CUpnpResourcesBean: public CUpnpTableBean { public: static CUpnpResourcesBean* NewLC(); static CUpnpResourcesBean* NewL(const RDbRowSet&amp; aRowSet); static CUpnpResourcesBean* NewLC(const RDbRowSet&amp; aRowSet); virtual ~CUpnpResourcesBean(); public: void SetL(const RDbRowSet&amp; aRowSet); void SetId(TInt64 aId); void SetObjectId(TInt aObjectId); void SetPathL(const TDesC&amp; aPath); void SetPathL(const TDesC8&amp; aPath); void SetIsReadonly(TBool aIsReadonly); void SetIsThumbnail(TBool aIsThumbnail); TInt64 Id() const; TInt ObjectId() const; TDesC&amp; Path() const; TInt IsReadonly() const; TInt IsThumbnail() const; private: CUpnpResourcesBean(); void ConstructL(); private: TInt64 iId; TInt iObjectId; HBufC* iPath; TInt iIsReadonly; TInt iIsThumbnail;};# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpresourcesbean.inl" 1inline void CUpnpResourcesBean::SetId(TInt64 aId){ iId = aId;}inline void CUpnpResourcesBean::SetObjectId(TInt aObjectId){ iObjectId = aObjectId;}inline void CUpnpResourcesBean::SetIsReadonly(TBool aIsReadonly){ iIsReadonly = aIsReadonly;}inline void CUpnpResourcesBean::SetIsThumbnail(TBool aIsThumbnail){ iIsThumbnail = aIsThumbnail;}inline TInt64 CUpnpResourcesBean::Id() const{ return iId;}inline TInt CUpnpResourcesBean::ObjectId() const{ return iObjectId;}inline TDesC&amp; CUpnpResourcesBean::Path() const{ return *iPath;}inline TInt CUpnpResourcesBean::IsReadonly() const{ return iIsReadonly;}inline TInt CUpnpResourcesBean::IsThumbnail() const{ return iIsThumbnail;}# 158 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpresourcesbean.h" 2# 49 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcdutils.h" 1#define CDUTILS_Hclass UpnpCdUtils{ public: static void ValidateFilePath(TDes8&amp; aPath); static void ValidateFilePath(TDes&amp; aPath); static void ValidateSrcUriL(TDesC8&amp; aPath,TDesC8&amp; aIp); static void RemoveWhiteSpacesL(TDes8&amp; aString); static TBool IsWhiteString(const TDesC8&amp; aString); static TXmlEngElement GetObjectElementL(RXmlEngDocument&amp; aFragment); static TBool HasRefIdL( RXmlEngDocument&amp; aFragment ); static HBufC8* EncodeXmlStringL(const TDesC8&amp; aString); static HBufC* Des8ToDesL(const TDesC8&amp; aString); static HBufC* Des8ToDesLC(const TDesC8&amp; aString); static HBufC8* DesToDes8LC(const TDesC&amp; aString); static TInt64 ResIdFromUriL(const TDesC8&amp; aUri); static TPtrC8 ResIdFromUriDesL(const TDesC8&amp; aUri); static void SetObjectIdL(TXmlEngElement aElement, TInt aId); static void SetObjectRefIdL(TXmlEngElement aElement, TInt aRefId); static void SetObjectParentIdL(TXmlEngElement aElement, TInt aParentId); static void SetRestrictedFieldL( TXmlEngElement aElement, TBool aRestrictedFlag ); static void SetContainerIdL(TXmlEngElement aElement, TInt aParentId); static HBufC8* BuildImportUriLC(TInt aResId); static HBufC8* BuildImportUriShorterLC(TInt64 aResId); static HBufC8* BuildContentUriL(TInt aResId, const TDesC&amp; aFileExten, TDesC8&amp; aObjectId); static HBufC8* UpnpCdUtils::RandomizeL(TInt aRange); static TBool IsElementRequiredL(TXmlEngElement aElement); static void ReplaceTrueFalse(HBufC8* aBuf); static HBufC8* GetElmNameWithNsL(TXmlEngElement aElement); static HBufC* EscapeAposL(const TDesC&amp; aValue); static TBool ValidateDateL( TPtrC8 aValue ); static TInt StringToTUint(const TDesC8&amp; aStr, TUint* aInt); static TBool AreDigitsInSpecificRange(const TDesC8&amp; aInput, TInt aNumber, TBool aExactDigitsNumber, TUint32 aRange); static TBool ValidateDurationValue(const TDesC8&amp; aInput); static void SplitStringByDelimeter(TLex8&amp; aLexeme, TChar aDelimeter); static void Skip(TLex8&amp; aLexer, TInt aValue); static TInt StringToInteger(const TDesC8&amp; aStr, TInt* aInt); private: enum TPlaces { EYear = 4, EMonth = 7, EDay = 10, EHour = 13, EMinute = 16, ESecond = 19, EZone1 = 20, EHourOffset1 = 22, EMiliSecond = 23, EZone2 = 24, ETimeOffset1 = 25, EHourOffset2 = 26, ETimeOffset2 = 29 }; UpnpCdUtils();}; # 50 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmetadatastorage.h" 1#define UPNPMETADATASTORAGE_Hclass CUpnpObjectBean;class CUpnpElementBean;class CUpnpAttributeBean;class CUpnpResourcesBean;class CUpnpMetadataStorage : public CBase{public: static CUpnpMetadataStorage* NewL(const TDesC&amp; aDatabaseFileName); static CUpnpMetadataStorage* NewLC(const TDesC&amp; aDatabaseFileName); virtual ~CUpnpMetadataStorage();public: TBool IsContainerL(TInt aObjId); void DeleteResourcesL(RArray&lt;TInt&gt;&amp; aObjList); void AddResourceL(CUpnpResourcesBean* aResBean, TInt aObjId); TUpnpErrorCode DoDeleteObjectL(TInt aObjId, TBool aDeleteResource, TBool aDeleteRef=ETrue ); void InsertIntoAttributeTableL(TInt aElmId, CUpnpAttributeBean* aAtrBn, TInt aObjId, TInt aAtrId); TInt InsertIntoElementTableL(TInt aObjId, CUpnpElementBean* aElmBn, TInt aElmId); TInt InsertIntoObjectTableL(TInt aContainer, CUpnpObjectBean* aObjBn); RDbView GetObjViewL(TInt aObjId); void BeginTransactionL(); void CommitTransactionL(); void RollbackTransactionL(); RDbView GetElementsViewL(TInt aObjectID, TBool aAll); RDbView GetAttributesViewL(TInt aElementID, TBool aAll); RDbView GetAttributesViewByObjectIdL( TInt aObjectID, TBool aAll ); TInt GetElmIdForAttrL(const TDesC8&amp; aAttrName, const TDesC8&amp; aAttrVal); TInt GetElmIdForAttrLikeL(const TDesC8&amp; aAttrName, const TDesC8&amp; aAttrVal); void DeleteResElL(const TDesC&amp; aResVal, TInt ObjId); RDbView GetViewOfObjectListForResL(const TDesC&amp; aResVal); RDbView GetViewOfElmIdByNameAndValL(const TDesC&amp; aElmName, const TDesC&amp; aElmValue); RDbView GetAttrViewL(const TDesC8&amp; aAttrName, const TDesC8&amp; aAttrVal); RDbView GetAttrViewL(TInt aElmId, const TDesC8&amp; aAttrName); RDbView GetAttrViewByObjectIdL(TInt aBjectId, const TDesC8&amp; aAttrName); RDbView PrepareViewL(const TDesC&amp; aSqlQuery); RDbView GetEvaluatedViewL(const TDesC&amp; aSqlQuery); HBufC8* GetObjectPathL(TInt aObjId); HBufC8* GetObjectTitleL(TInt aObjId); void ExecuteL(const TDesC&amp; aSqlCommand); CUpnpResourcesBean* GetResourceL(TInt64 aResId); void DeleteResourceByObjIdL(TInt aObjId, TBool aDeleteFile=ETrue); void DeleteResourceByResIdL(TInt64 aResId, TBool aDeleteFile=ETrue); void DeleteObjectsL(TInt aObjId); void DeleteElementsL(TInt aObjId); void DeleteAttributesL(TInt aObjId); void DeleteReferencesL(TInt aObjId,RArray&lt;TInt&gt;&amp; aRefList); TInt DoDeleteObjectL(TInt aObjId,RArray&lt;TInt&gt;&amp; aRefList, RArray&lt;TInt&gt;&amp; aResList, TBool aDeleteResource, TBool aLocal, TBool aDeleteRef = ETrue ); TUpnpErrorCode CheckParentRestrictionL(TInt aObjId); TUpnpErrorCode DeleteObjectL(TInt aObjId,RArray&lt;TInt&gt;&amp; aRefList, TBool aDeleteResource, TBool aLocal = EFalse, TBool aDeleteRef = ETrue ); HBufC8* GetColDesValFromRowSetL(RDbRowSet aRowset, TDbColNo aColNo); TInt GetChildCountL(TInt aObjId); TInt GetParentIdL(TInt aObjId); TInt GetObjIdForElmIdL(TInt aId); TInt ReferedObjectIdL( TInt aObjectId ); TInt GetNextKeyL(const TDesC8&amp; aName); TInt GetNextKeyL(const TDesC8&amp; aName, TInt aAmount); TInt NextKeyL(const TDesC8&amp; aName); void InsertObjectIntoObjectTableL(const TXmlEngElement&amp; aElement); void InsertAttributeL(const TXmlEngAttr aAttr, TInt aElmId, TBool aIsRequired, TInt aObjId); TInt InsertElementL(const TXmlEngElement&amp; aElementel, TInt aObjId); RDbView GetElementViewL(TInt aObjId, const TDesC8&amp; aElName); TUpnpErrorCode AddMainTagAttrL(TXmlEngElement aElement, TInt aId, const TDesC8&amp; aName); TUpnpErrorCode GetObjectListL(TInt aParentId, RArray&lt;TInt&gt;&amp; aList); TUpnpErrorCode GetItemListL(TInt aParentId, RArray&lt;TInt&gt;&amp; aList); TUpnpErrorCode GetContainerListL(TInt aParentId, RArray&lt;TInt&gt;&amp; aList); TUpnpErrorCode CheckObjectRestrictionL(TInt aObjId); TInt RecoverDatabase(); void RecreateDatabaseFileL(); void CheckDatabaseL(); TInt HandleDbError( TInt aError ); TBool IsDbCreated(); private: CUpnpMetadataStorage(); void ConstructL(const TDesC&amp; aDatabaseFileName);private: void CompactDbL(); TInt AddSubObjectsL(TInt aObjId, RArray&lt;TInt&gt;&amp; aObjList, RArray&lt;TInt&gt;&amp; aResList, TBool aLocal); void CompareDbColSetsL( CDbColSet *aColSet1, CDbColSet *aColSet2 ); void DeleteFileL(const TDesC&amp; aPath); HBufC8* CreatePathValL(const TXmlEngElement&amp; aElement); HBufC8* CreatePathValL(TInt aParentId); void OpenDbL( const TFileName&amp; aDatabaseFileName ); void DbChangedL(TInt aWeight);private: RFs iFsSession; RDbStoreDatabase iDatabase; TBool iIsOpen; CFileStore* iFileStore; TInt iCompactCounter;}; # 51 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpautodestroyobjectlist.h" 1#define C_CUPNPAUTODESTROYOBJECTLIST_Hclass CUpnpAutoDestroyObject;class CUpnpAutoDestroyObjectList: public CBase{public: static CUpnpAutoDestroyObjectList* NewL(); static CUpnpAutoDestroyObjectList* NewLC(); virtual ~CUpnpAutoDestroyObjectList();public: void AppendL(const CUpnpAutoDestroyObject* aObj); void RemoveAndDestroyL(TInt aIndex); TInt FindObjIndexByObjId(TInt aObjId); TInt FindObjIndexByResId(TInt aResId); CUpnpAutoDestroyObject* operator[](TInt aIndex); void TransferFailL(TInt aResId); TInt Count();private: CUpnpAutoDestroyObjectList(); void ConstructL();private:private: RPointerArray&lt;CUpnpAutoDestroyObject&gt; iArray;}; # 52 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpautodestroyobject.h" 1#define C_CUPNPAUTODESTROYOBJECT_Hclass CUpnpContentDirectory;class CUpnpNotifyTimer;class CUpnpAutoDestroyObject: public CBase, public MUpnpNotifyTimerObserver{public: static CUpnpAutoDestroyObject* NewL(CUpnpContentDirectory* aCd, TInt aObjId, TInt aResId ); static CUpnpAutoDestroyObject* NewLC(CUpnpContentDirectory* aCd, TInt aObjId, TInt aResId ); virtual ~CUpnpAutoDestroyObject();public: virtual void TimerEventL(CUpnpNotifyTimer* aTimer); TInt GetResId(); TInt GetObjId(); void SetTransferStartedL(TBool aVal); void RenewTimerL(); private: CUpnpAutoDestroyObject(CUpnpContentDirectory* aCd, TInt aObjId, TInt aResId); void ConstructL();private: CUpnpContentDirectory* iCd; CUpnpNotifyTimer* iEventTimer; TInt iResId; TInt iObjectId; TBool iTransferStarted; TBool iTimeElapsed;}; # 53 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpcontentdirectoryeventobserver.h" 1#define C_CUPNPCONTENTDIRECTORYEVENTOBSERVER_Hclass CUpnpFileTransferEvent;class MUpnpContentDirectoryEventObserver {public: virtual void FileTransferEvent(CUpnpFileTransferEvent *aMessage) = 0; };# 54 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/epoc32/include/platform/mw/upnpfiletransferevent.h" 1#define C_CUPNPFILETRANSFEREVENT_H# 1 "X:/epoc32/include/s32mem.h" 1#define __S32MEM_H__class TMemBuf : public TStreamBuf {public: IMPORT_C TMemBuf(); IMPORT_C void Set(TUint8* aPtr,TUint8* anEnd,TInt aMode=ERead|EWrite);protected: IMPORT_C TInt UnderflowL(TInt aMaxLength); IMPORT_C void OverflowL(); IMPORT_C TStreamPos DoSeekL(TMark aMark,TStreamLocation aLocation,TInt anOffset);private: inline TUint8* Base() const; inline TUint8* End() const;private: TUint8* iBase; };class TDesBuf : public TStreamBuf {public: IMPORT_C TDesBuf(); IMPORT_C void Set(TDes8&amp; aDes,TInt aMode=ERead|EWrite);protected: IMPORT_C TInt UnderflowL(TInt aMaxLength); IMPORT_C void OverflowL(); IMPORT_C void DoSynchL(); IMPORT_C TStreamPos DoSeekL(TMark aMark,TStreamLocation aLocation,TInt anOffset);private: inline TDes8&amp; Des() const; inline TUint8* Base() const; void Consolidate();private: TDes8* iDes; };class TBufBuf : public TStreamBuf {public: enum {ETruncate=0x10,EInsert=0x20};public: IMPORT_C TBufBuf(); IMPORT_C void Set(CBufBase&amp; aBuf,TInt aPos,TInt aMode=ERead|EWrite);protected: IMPORT_C TInt UnderflowL(TInt aMaxLength); IMPORT_C void OverflowL(); IMPORT_C void DoSynchL(); IMPORT_C void DoWriteL(const TAny* aPtr,TInt aLength); IMPORT_C TStreamPos DoSeekL(TMark aMark,TStreamLocation aLocation,TInt anOffset);private: inline CBufBase&amp; Buf() const; void Consolidate(); void SetPos(TMark aMark,TInt aPos); inline void SetPos(TRead,TInt aPos); inline void SetPos(TWrite,TInt aPos); TInt Pos(TMark aMark) const; inline TInt Pos(TRead) const; inline TInt Pos(TWrite) const; inline TInt MovePos(TRead,TInt anOffset); inline TInt MovePos(TWrite,TInt anOffset); inline TInt Mark(TRead) const; inline TInt Mark(TWrite) const;private: CBufBase* iBuf; TInt iRPos; TInt iWPos; TInt iMode; };class RMemReadStream : public RReadStream {public: RMemReadStream() {} IMPORT_C RMemReadStream(const TAny* aPtr,TInt aLength); IMPORT_C void Open(const TAny* aPtr,TInt aLength);private: TMemBuf iSource; };class RMemWriteStream : public RWriteStream {public: RMemWriteStream() {} inline RMemWriteStream(const MExternalizer&lt;TStreamRef&gt;&amp; anExter); IMPORT_C RMemWriteStream(TAny* aPtr,TInt aMaxLength); IMPORT_C void Open(TAny* aPtr,TInt aMaxLength);private: TMemBuf iSink; };class RDesReadStream : public RReadStream {public: RDesReadStream() {} IMPORT_C RDesReadStream(const TDesC8&amp; aDes); IMPORT_C void Open(const TDesC8&amp; aDes);private: TMemBuf iSource; };class RDesWriteStream : public RWriteStream {public: RDesWriteStream() {} inline RDesWriteStream(const MExternalizer&lt;TStreamRef&gt;&amp; anExter); IMPORT_C RDesWriteStream(TDes8&amp; aDes); IMPORT_C void Open(TDes8&amp; aDes);private: TDesBuf iSink; };class RBufReadStream : public RReadStream {public: RBufReadStream() {} IMPORT_C RBufReadStream(const CBufBase&amp; aBuf,TInt aPos=0); IMPORT_C void Open(const CBufBase&amp; aBuf,TInt aPos=0);private: TBufBuf iSource; };class RBufWriteStream : public RWriteStream {public: RBufWriteStream() {} inline RBufWriteStream(const MExternalizer&lt;TStreamRef&gt;&amp; anExter); IMPORT_C RBufWriteStream(CBufBase&amp; aBuf,TInt aPos=0); IMPORT_C void Open(CBufBase&amp; aBuf,TInt aPos=0); IMPORT_C void Truncate(CBufBase&amp; aBuf,TInt aPos=0); IMPORT_C void Insert(CBufBase&amp; aBuf,TInt aPos); inline void Append(CBufBase&amp; aBuf);private: TBufBuf iSink; };class CBufStore : public CStreamStore {public: IMPORT_C static CBufStore* NewL(TInt anExpandSize); IMPORT_C static CBufStore* NewLC(TInt anExpandSize); IMPORT_C CBufStore(TInt anExpandSize); IMPORT_C ~CBufStore();protected: IMPORT_C TStreamId DoExtendL(); IMPORT_C void DoDeleteL(TStreamId anId); IMPORT_C MStreamBuf* DoReadL(TStreamId anId) const; IMPORT_C MStreamBuf* DoCreateL(TStreamId&amp; anId); IMPORT_C MStreamBuf* DoWriteL(TStreamId anId); IMPORT_C MStreamBuf* DoReplaceL(TStreamId anId);private: CBufSeg&amp; BufL(TStreamId anId) const;private: CArrayFixFlat&lt;CBufSeg*&gt; iBufArray; TInt iExpandSize; };# 1 "X:/epoc32/include/s32mem.inl" 1inline RMemWriteStream::RMemWriteStream(const MExternalizer&lt;TStreamRef&gt;&amp; anExter) : RWriteStream(anExter) {}inline RDesWriteStream::RDesWriteStream(const MExternalizer&lt;TStreamRef&gt;&amp; anExter) : RWriteStream(anExter) {}inline RBufWriteStream::RBufWriteStream(const MExternalizer&lt;TStreamRef&gt;&amp; anExter) : RWriteStream(anExter) {}inline void RBufWriteStream::Append(CBufBase&amp; aBuf) {Insert(aBuf,aBuf.Size());}# 351 "X:/epoc32/include/s32mem.h" 2# 24 "X:/epoc32/include/platform/mw/upnpfiletransferevent.h" 2# 1 "X:/epoc32/include/platform/mw/upnpmediaserverevent.h" 1#define C_CUPNPMEDIASERVEREVENT_Hclass CUpnpMediaServerEvent : public CBase{public: CUpnpMediaServerEvent(TInt aType); virtual ~CUpnpMediaServerEvent(); TInt GetEventType(); virtual void InternalizeL( RReadStream&amp; aStream ) = 0; virtual void ExternalizeL( RWriteStream&amp; aStream ) const = 0;protected: TInt iEventType;};# 25 "X:/epoc32/include/platform/mw/upnpfiletransferevent.h" 2class CUpnpMediaServerEvent;class CUpnpFileTransferEvent : public CUpnpMediaServerEvent{public: enum TProgressState { EStarted, ECompleted, EFailed, EStopped }; enum TDirection { EIncoming, EOutgoing, }; public: IMPORT_C static CUpnpFileTransferEvent* NewL(); IMPORT_C static CUpnpFileTransferEvent* NewLC(); virtual ~CUpnpFileTransferEvent(); IMPORT_C TProgressState ProgressState(); IMPORT_C void SetProgressState( TProgressState aState ); IMPORT_C TDirection Direction(); IMPORT_C void SetDirection( TDirection aState ); IMPORT_C TInt TransferId(); IMPORT_C void SetTransferId( TInt aTransferId ); IMPORT_C TInt ContentDirectoryObjectId(); IMPORT_C void SetContentDirectoryObjectId( TInt aObjectId ); IMPORT_C TDesC&amp; FilePath(); IMPORT_C void SetFilePathL(const TDesC&amp; aFile); IMPORT_C TInt ErrorCode(); IMPORT_C void SetErrorCode( TInt aError ); IMPORT_C CUpnpFileTransferEvent* CloneL(); IMPORT_C void ExternalizeL( RWriteStream&amp; aStream ) const; IMPORT_C void InternalizeL( RReadStream&amp; aStream ); private: void ConstructL(); CUpnpFileTransferEvent(); private: TInt iProgress; TInt iDirection; TInt iContentDirectoryObjectId; HBufC* iFilePath; TInt iTransferId; TInt iErrorCode;};# 55 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/inc/upnpprotocolinfolocal.h" 1#define C_CUPNPPROTOCOLINFOLOCAL_H const static TLitC8&lt;sizeof( "1" )&gt; KOneChar ={sizeof( "1" )-1, "1" }; const static TLitC8&lt;sizeof( "0" )&gt; KZeroChar ={sizeof( "0" )-1, "0" }; const static TLitC8&lt;sizeof( "http-get" )&gt; KDEFAULT_1ST_PARAM ={sizeof( "http-get" )-1, "http-get" }; const static TLitC8&lt;sizeof( "*" )&gt; KDEFAULT_STAR_PARAM ={sizeof( "*" )-1, "*" }; const char KDlnaDelimeter = ';'; const char KDlnaTokenizer = '='; const char KDlnaAllStar = '*'; const TInt KMAX_INT_LENGTH_STRING = 8 ; const TInt KDLNA_FLAGS_NUMBER = 4; const TInt K32BIT = 32; const TInt KDLNA_FLAGS_QUANTITY = KDLNA_FLAGS_NUMBER * K32BIT; const static TLitC8&lt;sizeof( "*" )&gt; KAllValues ={sizeof( "*" )-1, "*" }; const static TLitC8&lt;sizeof( "DLNA.ORG_PN" )&gt; KDLNA_PN ={sizeof( "DLNA.ORG_PN" )-1, "DLNA.ORG_PN" }; const static TLitC8&lt;sizeof( "DLNA.ORG_OP" )&gt; KDLNA_OP ={sizeof( "DLNA.ORG_OP" )-1, "DLNA.ORG_OP" }; const static TLitC8&lt;sizeof( "DLNA.ORG_PS" )&gt; KDLNA_PS ={sizeof( "DLNA.ORG_PS" )-1, "DLNA.ORG_PS" }; const static TLitC8&lt;sizeof( "DLNA.ORG_CI" )&gt; KDLNA_CI ={sizeof( "DLNA.ORG_CI" )-1, "DLNA.ORG_CI" }; const static TLitC8&lt;sizeof( "DLNA.ORG_FLAGS" )&gt; KDLNA_FLAGS ={sizeof( "DLNA.ORG_FLAGS" )-1, "DLNA.ORG_FLAGS" }; const char KDLNA_BOOLEAN_FALSE = '0'; const char KDLNA_BOOLEAN_TRUE = '1'; enum ADDITIONAL_INFO { NO_DLNA_DATA = -1, NO_ADDITIONAL_INFO = 0, JPEG_SM = 1, JPEG_MED, JPEG_LRG, JPEG_TN, JPEG_SM_ICO, JPEG_LRG_ICO, PNG_TN, PNG_SM_ICO, PNG_LRG_ICO, PNG_LRG, MP3, }; const static TLitC8&lt;sizeof( "image/jpeg" )&gt; KMT_IMAGE_JPEG ={sizeof( "image/jpeg" )-1, "image/jpeg" }; const static TLitC8&lt;sizeof( "image/png" )&gt; KMT_IMAGE_PNG ={sizeof( "image/png" )-1, "image/png" }; const static TLitC8&lt;sizeof( "image/gif" )&gt; KMT_IMAGE_GIF ={sizeof( "image/gif" )-1, "image/gif" }; const static TLitC8&lt;sizeof( "image/bmp" )&gt; KMT_IMAGE_BMP ={sizeof( "image/bmp" )-1, "image/bmp" }; const static TLitC8&lt;sizeof( "audio/mpeg" )&gt; KMT_AUDIO_MP3 ={sizeof( "audio/mpeg" )-1, "audio/mpeg" }; const static TLitC8&lt;sizeof( "text/plain" )&gt; KMT_TEXT_PLAIN ={sizeof( "text/plain" )-1, "text/plain" }; const static TLitC8&lt;sizeof( "image" )&gt; KMimeImage ={sizeof( "image" )-1, "image" }; const static TLitC8&lt;sizeof( "audio" )&gt; KMimeAudio ={sizeof( "audio" )-1, "audio" }; const static TLitC8&lt;sizeof( "video" )&gt; KMimeVideo ={sizeof( "video" )-1, "video" }; const static TLitC8&lt;sizeof( "*DLNA.ORG_OP=??*" )&gt; KDEFAULT_FOURTH_FIELD_OP_PATTERN ={sizeof( "*DLNA.ORG_OP=??*" )-1, "*DLNA.ORG_OP=??*" }; const static TLitC8&lt;sizeof( "*DLNA.ORG_FLAGS=????????????????????????????????*" )&gt; KDEFAULT_FOURTH_FIELD_AVIMAGE_PATTERN ={sizeof( "*DLNA.ORG_FLAGS=????????????????????????????????*" )-1, "*DLNA.ORG_FLAGS=????????????????????????????????*" }; class CUpnpProtocolInfoLocal: public CUpnpDlnaProtocolInfo{ private: CUpnpProtocolInfoLocal(); public: virtual ~CUpnpProtocolInfoLocal(); IMPORT_C static CUpnpProtocolInfoLocal* NewL(const TDesC8&amp; aInputString); IMPORT_C static CUpnpProtocolInfoLocal* NewL(const TDesC8&amp; aMimeType, TInt aAdditionalInfo); IMPORT_C static CUpnpProtocolInfoLocal* NewL(const TDesC8&amp; aMimeType, const TDesC8&amp; aDlnaPn); private: void ConstructL(const TDesC8&amp; aInputString); void ConstructFromDlnaPnL(const TDesC8&amp; aMimeType, const TDesC8&amp; aDlnaPn); void ConstructL(const TDesC8&amp; aMimeType, TInt aAdditionalInfo); private: void ChooseDlnaL(const TDesC8&amp; aMimeType, TInt aAdditionalInfo); void DefaultValuesL(); void FillAccordingToAddInfoL(TInt aAdditionalInfo); void FillAccordingToMimeL(const TDesC8&amp; aMimeType); void ZeroParameters(); void SetDefaultFourthField(); virtual void GetFourthParameterInternalL(TDes8&amp; aBuffer); };# 57 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpxmlcontentfilter.h" 1# 1 "X:/epoc32/include/xmlengnodefilter.h" 1# 23 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpxmlcontentfilter.h" 2class CUpnpXmlContentFilter : public CBase, MXmlEngNodeFilter {public: virtual TXmlEngNodeFilterResult AcceptNode(TXmlEngNode aNode); public: static HBufC8* SerializeLC(RXmlEngDocument&amp; aDoc, TXmlEngElement&amp; aElement ); };# 58 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpstatehandler.h" 1#define C_CUPNPSTATEHANDLER_Hclass TUpnpContainerUpdateId;class CUpnpContentDirectory;class CUpnpStateHandler : public CBase { public: CUpnpStateHandler ( ); ~CUpnpStateHandler (); public: static CUpnpStateHandler* NewL(CUpnpContentDirectory* aCd); void ConstructL(CUpnpContentDirectory* aCd); TInt IncreaseSystemUpdateIdL(); void IncreaseContainerUpdateIdL( const TDesC8&amp; aContainerID ); RArray&lt;TUpnpContainerUpdateId&gt;&amp; ContainerUpdateIds( ); TInt ContainerUpdateId( const TDesC8&amp; aContainerID ); void StateVariableEvented(const TDesC8&amp; aVariableName); TBool IsEnable(); private: RArray&lt;TUpnpContainerUpdateId&gt; iContainerUpdateIds; TUint iSystemUpdateId; RArray&lt;TUpnpContainerUpdateId&gt; iCurrentContainerUpdateIds; TBool iContainerUpdateIdsEvented; CUpnpContentDirectory* iCd; }; # 59 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptransferuploader.h" 1#define C_CUPNPTRANSFERUPLOADER_H# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptransferbase.h" 1#define C_CUPNPTRANSFERBASE_H# 1 "X:/epoc32/include/platform/mw/httptransferobserver.h" 1#define C_MHTTPTRANSFEROBSERVER_Hclass MHttpTransferObserver {public: virtual void TransferProgress( TAny* aKey, TInt aBytes, TInt aTotalBytes )=0; virtual void ReadyForTransferL( TAny* aKey )=0; virtual void TransferCompleted( TAny* aKey, TInt aStatus )=0; };# 25 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptransferbase.h" 2class CUpnpContentDirectory;class CHttpTransferBase;class MUpnpTransferObserver;const TInt KDefaultAccessPoint = 11;const TInt KDefaultBuffer = 64000;const TInt KNumOfConcurrentTransactions = 2;class CUpnpTransferBase: public CBase , public MHttpTransferObserver{public: virtual ~CUpnpTransferBase(); virtual void ReadyForTransferL( TAny* aKey); virtual void TransferProgress( TAny* aKey, TInt aBytes, TInt aTotalBytes ); virtual void TransferCompleted( TAny* aKey, TInt aStatus ); public: void CreateAndQueueHttpFileL( const TDesC8&amp; aUri, const TDesC&amp; aTargetPath, TInt aKey ); void SetHeaderL( TInt aKey, const TDesC8&amp; aFieldName, const TDesC8&amp; aFieldValue ); void TrackProgess(TInt aKey, TBool aSwitchOn); virtual void CancelTransfer( TInt aKey); protected: CUpnpTransferBase( MUpnpTransferObserver* aCd ); TInt MapStatus( TInt aErrorCode ); protected: MUpnpTransferObserver* iObserver; CHttpTransferBase* iHttpTransferBase; };# 23 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptransferuploader.h" 2class CHttpUploader;class CUpnpTransferUploader: public CUpnpTransferBase{public: static CUpnpTransferUploader* NewLC( MUpnpTransferObserver* aCd ); static CUpnpTransferUploader* NewL( MUpnpTransferObserver* aCd ); virtual ~CUpnpTransferUploader(); public: void UploadFileL(TInt aKey); void DownloadFileL(const TDesC8&amp; aUri, const TDesC&amp; aTargetPath, TInt aKey); void UploadFileL( const TDesC8&amp; aUri,const TDesC&amp; aTargetPath, const TDesC8&amp; aContentType, TInt aKey); private: CUpnpTransferUploader( MUpnpTransferObserver* aCd ); void ConstructL(); private: };# 60 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmimemapper.h" 1#define UPNPMIMEMAPPER_H# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmap.h" 1#define UPNPMAP_H# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmapelement.h" 1#define UPNPMAPELEMENT_Hclass CUpnpElement;class CUpnpObject;class CUri8;class CUpnpMapElement: public CBase {public: static CUpnpMapElement* NewLC(const TDesC8&amp; aKey, TAny* aValue); static CUpnpMapElement* NewL(const TDesC8&amp; aKey, TAny* aValue); virtual ~CUpnpMapElement();public: const TDesC8&amp; Key(); TAny* Value(); CUpnpMapElement* Next(); void SetNext(CUpnpMapElement* aNext);private: CUpnpMapElement(TAny* iItem); void ConstructL(const TDesC8&amp; aKey); private: HBufC8* iKey; TAny* iValue; CUpnpMapElement* iNext;}; # 25 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmap.h" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmapbase.h" 1#define UPNPMAPBASE_Hclass CUpnpMapBase: public CBase{public: void PutL(const TDesC8&amp; aKey, TAny* aValue); TAny* Get(const TDesC8&amp; aKey); TAny* Remove(const TDesC8&amp; aKey); virtual void Clear() = 0;protected: CUpnpMapBase(); void ConstructL();protected: CUpnpMapElement* iFirst; };# 26 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmap.h" 2template&lt;class T&gt;class CUpnpMap : public CUpnpMapBase{public: virtual ~CUpnpMap(); void PutL(const TDesC8&amp; aKey, T* aValue); const T* Get(const TDesC8&amp; aKey); T* Remove(const TDesC8&amp; aKey); void Clear();public: CUpnpMap();};template&lt;class T&gt;CUpnpMap&lt;T&gt;::CUpnpMap(){}template&lt;class T&gt;const T* CUpnpMap&lt;T&gt;::Get(const TDesC8&amp; aKey){ return static_cast&lt;T*&gt; CUpnpMapBase::Get(aKey) );}template&lt;class T&gt;void CUpnpMap&lt;T&gt;::PutL(const TDesC8&amp; aKey, T* aValue){ CUpnpMapBase::PutL(aKey, aValue);}template&lt;class T&gt;CUpnpMap&lt;T&gt;::~CUpnpMap(){ Clear();}template&lt;class T&gt;void CUpnpMap&lt;T&gt;::Clear(){ while(iFirst) { CUpnpMapElement* next = iFirst-&gt;Next(); delete static_cast&lt;T*&gt; iFirst-&gt;Value() ); delete iFirst; iFirst = next; }}# 25 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnpmimemapper.h" 2const static TLitC8&lt;sizeof( "jpg" )&gt; KExtensionJpg ={sizeof( "jpg" )-1, "jpg" };const static TLitC8&lt;sizeof( "png" )&gt; KExtensionPng ={sizeof( "png" )-1, "png" };const static TLitC8&lt;sizeof( "txt" )&gt; KExtensionTxt ={sizeof( "txt" )-1, "txt" };const static TLitC8&lt;sizeof( "mp3" )&gt; KExtensionMp3 ={sizeof( "mp3" )-1, "mp3" };const static TLitC8&lt;sizeof( "gif" )&gt; KExtensionGif ={sizeof( "gif" )-1, "gif" };const static TLitC8&lt;sizeof( "bmp" )&gt; KExtensionBmp ={sizeof( "bmp" )-1, "bmp" };const static TLitC&lt;sizeof(L".wav" )/2&gt; KExtensionWav ={sizeof(L".wav" )/2-1,L".wav" };const static TLitC&lt;sizeof(L".aac" )/2&gt; KExtensionAac ={sizeof(L".aac" )/2-1,L".aac" };const static TLitC8&lt;sizeof( "application/xhtml+xml" )&gt; KXHtmlMime ={sizeof( "application/xhtml+xml" )-1, "application/xhtml+xml" }; const static TLitC&lt;sizeof(L".xhtml" )/2&gt; KXHtmlExt ={sizeof(L".xhtml" )/2-1,L".xhtml" }; const static TLitC8&lt;sizeof( "text/html" )&gt; KHtmlMime ={sizeof( "text/html" )-1, "text/html" }; const static TLitC&lt;sizeof(L".html" )/2&gt; KHtmlExt ={sizeof(L".html" )/2-1,L".html" };const static TLitC8&lt;sizeof( "text/xml" )&gt; KXmlMime1 ={sizeof( "text/xml" )-1, "text/xml" }; const static TLitC8&lt;sizeof( "application/xml" )&gt; KXmlMime2 ={sizeof( "application/xml" )-1, "application/xml" };const static TLitC8&lt;sizeof( "application/x-xml" )&gt; KXmlMime3 ={sizeof( "application/x-xml" )-1, "application/x-xml" }; const static TLitC&lt;sizeof(L".xml" )/2&gt; KXmlExt ={sizeof(L".xml" )/2-1,L".xml" };const static TLitC8&lt;sizeof( "text/plain" )&gt; KTxtMime ={sizeof( "text/plain" )-1, "text/plain" };const static TLitC8&lt;sizeof( "application/txt" )&gt; KTxtMime2 ={sizeof( "application/txt" )-1, "application/txt" };const static TLitC8&lt;sizeof( "browser/internal" )&gt; KTxtMime3 ={sizeof( "browser/internal" )-1, "browser/internal" };const static TLitC8&lt;sizeof( "text/anytext" )&gt; KTxtMime4 ={sizeof( "text/anytext" )-1, "text/anytext" };const static TLitC8&lt;sizeof( "widetext/plain" )&gt; KTxtMime5 ={sizeof( "widetext/plain" )-1, "widetext/plain" };const static TLitC8&lt;sizeof( "widetext/paragraph" )&gt; KTxtMime6 ={sizeof( "widetext/paragraph" )-1, "widetext/paragraph" }; const static TLitC&lt;sizeof(L".txt" )/2&gt; KTxtExt ={sizeof(L".txt" )/2-1,L".txt" };const static TLitC8&lt;sizeof( "image/jpeg" )&gt; KJpegMime ={sizeof( "image/jpeg" )-1, "image/jpeg" }; const static TLitC&lt;sizeof(L".jpeg" )/2&gt; KJpegExt ={sizeof(L".jpeg" )/2-1,L".jpeg" };const static TLitC8&lt;sizeof( "image/jpg" )&gt; KJpegMime2 ={sizeof( "image/jpg" )-1, "image/jpg" };const static TLitC8&lt;sizeof( "image/jpe_" )&gt; KJpegMime3 ={sizeof( "image/jpe_" )-1, "image/jpe_" };const static TLitC8&lt;sizeof( "image/pjpeg" )&gt; KJpegMime4 ={sizeof( "image/pjpeg" )-1, "image/pjpeg" }; const static TLitC8&lt;sizeof( "image/vnd.swiftview-jpeg" )&gt; KJpegMime5 ={sizeof( "image/vnd.swiftview-jpeg" )-1, "image/vnd.swiftview-jpeg" }; const static TLitC8&lt;sizeof( "image/jpeg" )&gt; KJpgMime ={sizeof( "image/jpeg" )-1, "image/jpeg" }; const static TLitC&lt;sizeof(L".jpg" )/2&gt; KJpgExt ={sizeof(L".jpg" )/2-1,L".jpg" };const static TLitC8&lt;sizeof( "image/jpg" )&gt; KJpgMime2 ={sizeof( "image/jpg" )-1, "image/jpg" }; const static TLitC8&lt;sizeof( "image/jpe_" )&gt; KJpgMime3 ={sizeof( "image/jpe_" )-1, "image/jpe_" }; const static TLitC8&lt;sizeof( "image/pjpeg" )&gt; KJpgMime4 ={sizeof( "image/pjpeg" )-1, "image/pjpeg" }; const static TLitC8&lt;sizeof( "image/vnd.swiftview-jpeg" )&gt; KJpgMime5 ={sizeof( "image/vnd.swiftview-jpeg" )-1, "image/vnd.swiftview-jpeg" }; const static TLitC8&lt;sizeof( "image/gif" )&gt; KGifMime ={sizeof( "image/gif" )-1, "image/gif" }; const static TLitC&lt;sizeof(L".gif" )/2&gt; KGifExt ={sizeof(L".gif" )/2-1,L".gif" };const static TLitC8&lt;sizeof( "image/x-xbitmap" )&gt; KGifMime2 ={sizeof( "image/x-xbitmap" )-1, "image/x-xbitmap" }; const static TLitC8&lt;sizeof( "image/gi_" )&gt; KGifMime3 ={sizeof( "image/gi_" )-1, "image/gi_" }; const static TLitC8&lt;sizeof( "image/png" )&gt; KPngMime ={sizeof( "image/png" )-1, "image/png" }; const static TLitC&lt;sizeof(L".png" )/2&gt; KPngExt ={sizeof(L".png" )/2-1,L".png" };const static TLitC8&lt;sizeof( "application/png" )&gt; KPngMime2 ={sizeof( "application/png" )-1, "application/png" }; const static TLitC8&lt;sizeof( "application/x-png" )&gt; KPngMime3 ={sizeof( "application/x-png" )-1, "application/x-png" }; const static TLitC8&lt;sizeof( "video/mpeg" )&gt; KMpgMime1 ={sizeof( "video/mpeg" )-1, "video/mpeg" }; const static TLitC&lt;sizeof(L".mpg" )/2&gt; KMpgExt1 ={sizeof(L".mpg" )/2-1,L".mpg" };const static TLitC8&lt;sizeof( "video/mpg" )&gt; KMpgMime2 ={sizeof( "video/mpg" )-1, "video/mpg" }; const static TLitC8&lt;sizeof( "video/x-mpg" )&gt; KMpgMime3 ={sizeof( "video/x-mpg" )-1, "video/x-mpg" }; const static TLitC8&lt;sizeof( "video/mpeg2" )&gt; KMpgMime4 ={sizeof( "video/mpeg2" )-1, "video/mpeg2" }; const static TLitC8&lt;sizeof( "application/x-pn-mpg" )&gt; KMpgMime5 ={sizeof( "application/x-pn-mpg" )-1, "application/x-pn-mpg" }; const static TLitC8&lt;sizeof( "video/x-mpeg" )&gt; KMpgMime6 ={sizeof( "video/x-mpeg" )-1, "video/x-mpeg" }; const static TLitC8&lt;sizeof( "video/x-mpeg2a" )&gt; KMpgMime7 ={sizeof( "video/x-mpeg2a" )-1, "video/x-mpeg2a" }; const static TLitC8&lt;sizeof( "audio/mpeg" )&gt; KMpgMime8 ={sizeof( "audio/mpeg" )-1, "audio/mpeg" }; const static TLitC8&lt;sizeof( "audio/x-mpeg" )&gt; KMpgMime9 ={sizeof( "audio/x-mpeg" )-1, "audio/x-mpeg" }; const static TLitC8&lt;sizeof( "image/mpg" )&gt; KMpgMime10 ={sizeof( "image/mpg" )-1, "image/mpg" }; const static TLitC8&lt;sizeof( "video/mpeg4" )&gt; KMpeg4Mime ={sizeof( "video/mpeg4" )-1, "video/mpeg4" }; const static TLitC&lt;sizeof(L".mpeg4" )/2&gt; KMpeg4Ext ={sizeof(L".mpeg4" )/2-1,L".mpeg4" };const static TLitC8&lt;sizeof( "video/mp4" )&gt; KMp4Mime ={sizeof( "video/mp4" )-1, "video/mp4" }; const static TLitC&lt;sizeof(L".mp4" )/2&gt; KMp4Ext ={sizeof(L".mp4" )/2-1,L".mp4" };const static TLitC8&lt;sizeof( "video/mp4v-es" )&gt; KMp4Mime2 ={sizeof( "video/mp4v-es" )-1, "video/mp4v-es" }; const static TLitC8&lt;sizeof( "audio/mp4" )&gt; KMp4Mime3 ={sizeof( "audio/mp4" )-1, "audio/mp4" }; const static TLitC8&lt;sizeof( "video/avi" )&gt; KAviMime1 ={sizeof( "video/avi" )-1, "video/avi" };const static TLitC8&lt;sizeof( "video/msvideo" )&gt; KAviMime2 ={sizeof( "video/msvideo" )-1, "video/msvideo" };const static TLitC8&lt;sizeof( "video/x-msvideo" )&gt; KAviMime3 ={sizeof( "video/x-msvideo" )-1, "video/x-msvideo" }; const static TLitC&lt;sizeof(L".avi" )/2&gt; KAviExt ={sizeof(L".avi" )/2-1,L".avi" };const static TLitC8&lt;sizeof( "image/avi" )&gt; KAviMime4 ={sizeof( "image/avi" )-1, "image/avi" }; const static TLitC8&lt;sizeof( "video/xmpg2" )&gt; KAviMime5 ={sizeof( "video/xmpg2" )-1, "video/xmpg2" }; const static TLitC8&lt;sizeof( "application/x-troff-msvideo" )&gt; KAviMime6 ={sizeof( "application/x-troff-msvideo" )-1, "application/x-troff-msvideo" }; const static TLitC8&lt;sizeof( "audio/aiff" )&gt; KAviMime7 ={sizeof( "audio/aiff" )-1, "audio/aiff" }; const static TLitC8&lt;sizeof( "audio/avi" )&gt; KAviMime8 ={sizeof( "audio/avi" )-1, "audio/avi" }; const static TLitC8&lt;sizeof( "audio/x-mpeg-3" )&gt; KMp3Mime1 ={sizeof( "audio/x-mpeg-3" )-1, "audio/x-mpeg-3" };const static TLitC8&lt;sizeof( "audio/mpeg3" )&gt; KMp3Mime2 ={sizeof( "audio/mpeg3" )-1, "audio/mpeg3" }; const static TLitC&lt;sizeof(L".mp3" )/2&gt; KMp3Ext ={sizeof(L".mp3" )/2-1,L".mp3" };const static TLitC8&lt;sizeof( "audio/mpeg" )&gt; KMp3Mime3 ={sizeof( "audio/mpeg" )-1, "audio/mpeg" }; const static TLitC8&lt;sizeof( "audio/x-mpeg" )&gt; KMp3Mime4 ={sizeof( "audio/x-mpeg" )-1, "audio/x-mpeg" }; const static TLitC8&lt;sizeof( "audio/mp3" )&gt; KMp3Mime5 ={sizeof( "audio/mp3" )-1, "audio/mp3" }; const static TLitC8&lt;sizeof( "audio/x-mp3" )&gt; KMp3Mime6 ={sizeof( "audio/x-mp3" )-1, "audio/x-mp3" }; const static TLitC8&lt;sizeof( "audio/x-mpeg3" )&gt; KMp3Mime7 ={sizeof( "audio/x-mpeg3" )-1, "audio/x-mpeg3" }; const static TLitC8&lt;sizeof( "audio/mpg" )&gt; KMp3Mime8 ={sizeof( "audio/mpg" )-1, "audio/mpg" }; const static TLitC8&lt;sizeof( "audio/x-mpg" )&gt; KMp3Mime9 ={sizeof( "audio/x-mpg" )-1, "audio/x-mpg" }; const static TLitC8&lt;sizeof( "audio/x-mpegaudio" )&gt; KMp3Mime10 ={sizeof( "audio/x-mpegaudio" )-1, "audio/x-mpegaudio" }; const static TLitC8&lt;sizeof( "audio/aac" )&gt; KAacMime ={sizeof( "audio/aac" )-1, "audio/aac" }; const static TLitC&lt;sizeof(L".aac" )/2&gt; KAacExt ={sizeof(L".aac" )/2-1,L".aac" };const static TLitC8&lt;sizeof( "audio/x-ms-wma" )&gt; KWmaMime ={sizeof( "audio/x-ms-wma" )-1, "audio/x-ms-wma" }; const static TLitC&lt;sizeof(L".wma" )/2&gt; KWmaExt ={sizeof(L".wma" )/2-1,L".wma" };const static TLitC8&lt;sizeof( "video/x-ms-asf" )&gt; KWmaMime2 ={sizeof( "video/x-ms-asf" )-1, "video/x-ms-asf" }; const static TLitC8&lt;sizeof( "image/bmp" )&gt; KBmpMime ={sizeof( "image/bmp" )-1, "image/bmp" }; const static TLitC&lt;sizeof(L".bmp" )/2&gt; KBmpExt ={sizeof(L".bmp" )/2-1,L".bmp" };const static TLitC8&lt;sizeof( "image/x-bmp" )&gt; KBmpMime2 ={sizeof( "image/x-bmp" )-1, "image/x-bmp" }; const static TLitC8&lt;sizeof( "image/x-bitmap" )&gt; KBmpMime3 ={sizeof( "image/x-bitmap" )-1, "image/x-bitmap" }; const static TLitC8&lt;sizeof( "image/x-xbitmap" )&gt; KBmpMime4 ={sizeof( "image/x-xbitmap" )-1, "image/x-xbitmap" }; const static TLitC8&lt;sizeof( "image/x-ms-bmp" )&gt; KBmpMime5 ={sizeof( "image/x-ms-bmp" )-1, "image/x-ms-bmp" }; const static TLitC8&lt;sizeof( "application/bmp" )&gt; KBmpMime6 ={sizeof( "application/bmp" )-1, "application/bmp" }; const static TLitC8&lt;sizeof( "application/x-bmp" )&gt; KBmpMime7 ={sizeof( "application/x-bmp" )-1, "application/x-bmp" }; const static TLitC8&lt;sizeof( "application/x-win-bitmap" )&gt; KBmpMime8 ={sizeof( "application/x-win-bitmap" )-1, "application/x-win-bitmap" }; const static TLitC8&lt;sizeof( "application/preview" )&gt; KBmpMime9 ={sizeof( "application/preview" )-1, "application/preview" }; const static TLitC8&lt;sizeof( "audio/L16" )&gt; KAudioL16 ={sizeof( "audio/L16" )-1, "audio/L16" };const static TLitC8&lt;sizeof( "audio/vnd.dlna.adts" )&gt; KAudioVnd ={sizeof( "audio/vnd.dlna.adts" )-1, "audio/vnd.dlna.adts" };const static TLitC8&lt;sizeof( "audio/3gpp" )&gt; KAudio3gpp ={sizeof( "audio/3gpp" )-1, "audio/3gpp" }; const static TLitC8&lt;sizeof( "video/3gpp" )&gt; KVideo3gpp ={sizeof( "video/3gpp" )-1, "video/3gpp" }; const static TLitC&lt;sizeof(L".3gp" )/2&gt; K3gpExt ={sizeof(L".3gp" )/2-1,L".3gp" };const static TLitC8&lt;sizeof( "audio/AMR" )&gt; KAudioAMR ={sizeof( "audio/AMR" )-1, "audio/AMR" }; const static TLitC&lt;sizeof(L".amr" )/2&gt; KAmrExt ={sizeof(L".amr" )/2-1,L".amr" };const static TLitC8&lt;sizeof( "audio/wav" )&gt; KAudioWav ={sizeof( "audio/wav" )-1, "audio/wav" };const static TLitC8&lt;sizeof( "video/x-ms-wmv" )&gt; KVideoWmv ={sizeof( "video/x-ms-wmv" )-1, "video/x-ms-wmv" }; const static TLitC&lt;sizeof(L".wmv" )/2&gt; KWmvExt ={sizeof(L".wmv" )/2-1,L".wmv" };const static TLitC8&lt;sizeof( "video/x-ms-avi" )&gt; KVideoAvi ={sizeof( "video/x-ms-avi" )-1, "video/x-ms-avi" };const static TLitC8&lt;sizeof( "application/vnd.rn-realmedia" )&gt; KRealMedia ={sizeof( "application/vnd.rn-realmedia" )-1, "application/vnd.rn-realmedia" }; const static TLitC&lt;sizeof(L".rm" )/2&gt; KRmExt ={sizeof(L".rm" )/2-1,L".rm" };const static TLitC8&lt;sizeof( "audio/vnd.rn-realaudio" )&gt; KRealAudio ={sizeof( "audio/vnd.rn-realaudio" )-1, "audio/vnd.rn-realaudio" }; const static TLitC&lt;sizeof(L".ra" )/2&gt; KRealAudioExt ={sizeof(L".ra" )/2-1,L".ra" };const static TLitC8&lt;sizeof( "audio/x-pn-realaudio-plugin" )&gt; KPmRealAudioPlugin ={sizeof( "audio/x-pn-realaudio-plugin" )-1, "audio/x-pn-realaudio-plugin" }; const static TLitC&lt;sizeof(L".rpm" )/2&gt; KPmRealAudioPluginExt ={sizeof(L".rpm" )/2-1,L".rpm" };const static TLitC8&lt;sizeof( "audio/x-pn-realaudio" )&gt; KPmRealAudio ={sizeof( "audio/x-pn-realaudio" )-1, "audio/x-pn-realaudio" }; const static TLitC&lt;sizeof(L".ra" )/2&gt; KPmRealAudioExt ={sizeof(L".ra" )/2-1,L".ra" };const static TLitC8&lt;sizeof( "video/vnd.rn-realvideo" )&gt; KRealVideo ={sizeof( "video/vnd.rn-realvideo" )-1, "video/vnd.rn-realvideo" }; const static TLitC&lt;sizeof(L".rv" )/2&gt; KRealVideoExt ={sizeof(L".rv" )/2-1,L".rv" };class CUpnpMimeMapper: public CBase {public: static CUpnpMimeMapper* NewL(); virtual ~CUpnpMimeMapper();public: void AddMimeMapElL( const TDesC8&amp; aKey, const TDesC&amp; aVal ); void InitMimeToExtensionMapL(); HBufC8* GetExtensionL( const TDesC8&amp; aMimeType ); const HBufC* Get( const TDesC8&amp; aKey );private: CUpnpMimeMapper(); void ConstructL(); private: CUpnpMap&lt;HBufC&gt;* iMimeToExtMap; }; # 61 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptransfercontroller.h" 1#define C_CUPNPTRANSFERCONTROLLER_Hclass CUpnpContentDirectory;class CUpnpFileTransferEvent;class CUpnpHttpMessage;class CUpnpTransferController: public CBase, public MUpnpFileTransferTimerObserver{public: static CUpnpTransferController* NewL( CUpnpContentDirectory* aCd ); virtual ~CUpnpTransferController(); void HttpResponseReceivedL( TInt aSessionId, TInt aStatusCode); TUpnpErrorCode StopTransferResourceL( TInt aId ); TInt Transfer( TInt aTransferId ); TBool IsMaxImportExportTransfers(); CUpnpFileTransferEvent* RemoveTransferLC( TInt aTransferId ); CUpnpFileTransferEvent* TransferL( TInt aTransferId ); void TransferEvent( CUpnpFileTransferTimerObserver* aTimer ); void AddIncomingTransferInternalL(CUpnpHttpMessage* aHttpMsg); void TransferFailL(CUpnpHttpMessage* aHttpMsg); void NotifyTransferFailL(CUpnpHttpMessage* aHttpMsg); private: CUpnpTransferController( CUpnpContentDirectory* aCd ); void ConstructL(); public: RPointerArray&lt;CUpnpFileTransfer&gt; iFileTransfers; RPointerArray&lt;CUpnpFileTransferTimerObserver&gt; iStatusTimers; private: CUpnpContentDirectory* iContentDirectory; }; # 62 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/upnptransferinterface.h" 1#define C_CUPNPTRANSERINTERFACE_Hclass MUpnpTransferInterface { public: virtual void UploadFileL( TInt aKey, const TDesC8&amp; aUri, const TDesC&amp; aTargetPath, const TDesC8&amp; aContentType ) = 0; virtual void DownloadFileL( TInt aKey, const TDesC8&amp; aUri, const TDesC&amp; aTargetPath ) = 0; virtual void TrackUploadProgress( TInt aKey, TBool aSwitchOn )=0; virtual void TrackDownloadProgress( TInt aKey, TBool aSwitchOn )=0; virtual void CancelUpload( TInt aKey ) = 0; virtual void CancelDownload( TInt aKey ) = 0; }; # 63 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/inc/dlna/upnpdlnafilter.h" 1#define UPNPDLNAFILTER_H class MUpnpContentDirectoryDataFinder;class CUpnpHttpMessage;class CUpnpDlnaProtocolInfo;class CUpnpSecurityManager;class CUpnpHttpFileServeTransaction;class CUpnpHttpFileReceiveTransaction;class CUpnpDlnaFilterHeaders;class TUpnpDlnaCorelation;class CUpnpDlnaFilter : public CBase, public MUpnpHttpServerTransactionCreator {public: ~CUpnpDlnaFilter(); static CUpnpDlnaFilter* NewL( MUpnpContentDirectoryDataFinder* aFinder, CUpnpSecurityManager* aSecurityManager ); static CUpnpDlnaFilter* NewLC( MUpnpContentDirectoryDataFinder* aFinder, CUpnpSecurityManager* aSecurityManager ); virtual void NewTransactionL( const TDesC8&amp; aMethod, const TDesC8&amp; aUri, const TInetAddr&amp; aSender, CUpnpHttpServerTransaction*&amp; aResultTrans ); void FormatPathL( CUpnpHttpFileServeTransaction *aTransaction, TDes &amp;aPath ); TInt PrepareHeaderL( CUpnpHttpFileServeTransaction &amp;aTransaction ); TInt CheckDLNAPostCorrelationsL(CUpnpHttpFileReceiveTransaction&amp; aTransaction); HBufC* DetermineDownloadPathL(CUpnpHttpFileReceiveTransaction&amp; aTransaction); CUpnpSecurityManager* SecurityManager(); RFs&amp; FileSession(); TInt AuthorizeRequestL( const TDesC&amp; aFileName, const TInetAddr&amp; aSender );public: CUpnpDlnaFilter( MUpnpContentDirectoryDataFinder* aFinder, CUpnpSecurityManager* aSecurityManager ); void ConstructL();private: HBufC8* CUpnpDlnaFilter::ThirdFieldFromCdL( const TDesC8&amp; aContentUri ); void GetMediaFileNameL( TInt aObjectId, TPtr&amp; aFileName ); TInt FindSharedFolderDBL(const TDesC8&amp; aUrlPath, const TDesC8&amp; aFileName, HBufC8*&amp; aSystemPath); TInt CheckImportUriL( TDesC8&amp; aImportUri ); TInt CheckDLNACorrelationsL( CUpnpHttpFileServeTransaction&amp; aTransaction ); TInt GetContentTypeL( CUpnpHttpFileServeTransaction &amp;aTransaction, HBufC8*&amp; aMime, const TDesC16&amp; aFilename ); CUpnpDlnaProtocolInfo* ProtocolInfoL( const TDesC8&amp; aContentUri ); void AddHeaderIfNotEmptyL( const TDesC8&amp; aHeaderName, CUpnpHttpFileServeTransaction&amp; aTransaction ); HBufC* MakeFileNameUniqueL( const TDesC&amp; aFilename, RFs&amp; aFs ); HBufC* PreparePostfixToMakeFileUniqueL( const TDesC&amp; aFilename, RFs&amp; aFs ); HBufC* PrepareBaseFileNameL( const TDesC&amp; aFilename, RFs&amp; aFs ); TInt CheckCorelationL( CUpnpHttpFileServeTransaction&amp; aTransaction, TUpnpDlnaCorelation&amp; aDlnaCorelation ); TInt CheckTransferModeL( CUpnpHttpFileServeTransaction&amp; aTransaction, TUpnpDlnaCorelation&amp; aDlnaCorelation ); TInt AppendCorelationHeadersL( CUpnpHttpFileServeTransaction&amp; aTransaction, TUpnpDlnaCorelation&amp; aDlnaCorelation, TDesC8&amp; aTransferMode ); protected: MUpnpContentDirectoryDataFinder* iCdDataFinder; CUpnpSecurityManager* iSecurityManager; CUpnpDlnaProtocolInfo* iProtocolInfo; RFs iFs; };# 64 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/epoc32/include/platform/mw/upnphttpserversession.h" 1#define UPNPHTTPSERVERSESSION_Hclass CUpnpHttpServerRuntime;class MUpnpHttpServerObserver;class CUpnpHttpMessage;const TInt KUpnpHttpServerRandomPort = 0;class CUpnpHttpServerSession : public CBase {public: IMPORT_C static CUpnpHttpServerSession* NewL( TUint aUnusedIapId, MUpnpHttpServerObserver&amp; aObserver ); ~CUpnpHttpServerSession(); IMPORT_C void StartL( const TInt aPort = KUpnpHttpServerRandomPort ); IMPORT_C void Stop(); IMPORT_C void GetAddress( TInetAddr&amp; aAddr ); IMPORT_C CUpnpHttpServerRuntime&amp; DefaultRuntime(); static CUpnpHttpServerSession* NewLC( TUint aUnusedIapId, MUpnpHttpServerObserver&amp; aObserver ); IMPORT_C TSockAddr* HWAddressL(); IMPORT_C TInt SendMessageL( CUpnpHttpMessage* aMessage ); private: CUpnpHttpServerSession(); void ConstructL( TUint aUnusedIapId, MUpnpHttpServerObserver&amp; aObserver );private: CUpnpHttpServerRuntime* iServerRuntime; };# 65 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/epoc32/include/platform/mw/upnphttpserverruntime.h" 1#define UPNPHTTPSERVERRUNTIME_Hclass MUpnpHttpServerTransactionCreator;class CUpnpHttpServer;class MUpnpHttpServerObserver;class CUpnpHttpServerRuntime : public CBase {public: IMPORT_C void SetCreator( MUpnpHttpServerTransactionCreator&amp; aCreator ); static CUpnpHttpServerRuntime* NewL( TUint aUnusedIapId, MUpnpHttpServerObserver&amp; aObserver ); static CUpnpHttpServerRuntime* NewLC( TUint aUnusedIapId, MUpnpHttpServerObserver&amp; aObserver ); ~CUpnpHttpServerRuntime(); CUpnpHttpServer&amp; HttpServer(); void DeleteServer(); void StartServerL( const TInt aPort ); private: CUpnpHttpServerRuntime( TUint aUnusedIapId, MUpnpHttpServerObserver&amp; aObserver ); void ConstructL(); void GetIapAndStartServerL(); void OpenSocketServerL(); void CloseSocketServer(); private: RSocketServ iSocketServ; CUpnpHttpServer* iHttpServer; MUpnpHttpServerObserver&amp; iObserver; MUpnpHttpServerTransactionCreator* iTransactionCreator; TBool iIsSocketOpened; };# 66 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/epoc32/include/platform/mw/upnpsettings.h" 1#define C_CUPNPSETTING_Hconst TUid KHnCRUidUPnPStack = { 0x2000F881 }; const TUid KCRUidUPnPStack = { 0x101F9784 };class CRepository;class CUpnpSettings: public CBase {public: static const TUint KUPnPStackIapId = 1; static const TUint KUPnPStackCustomizedUserAgent = 2; static const TUint KUPnPStackFileBufferSize = 3; static const TUint KUPnPStackCustomizedServerHeader = 4; static const TUint KUPnPStackMSearchConfig = 5; public: IMPORT_C static CUpnpSettings* NewL(TUid aRepositoryUid); virtual ~CUpnpSettings();public: IMPORT_C TInt Set(TUint aId, TInt&amp; aValue); IMPORT_C TInt Get(TUint aId, TInt&amp; aValue); IMPORT_C static TInt GetIapL(); IMPORT_C TInt Set(TUint aId, const TDesC&amp; aValue); IMPORT_C TInt SetL(TUint aId, const TDesC8&amp; aValue); IMPORT_C TInt Get(TUint aId, TDes&amp; aValue); IMPORT_C HBufC8* GetL(TUint aId); IMPORT_C static HBufC8* GetUserAgentL(); IMPORT_C static TInt GetFileBufferSizeL(); IMPORT_C static HBufC8* GetServerHeaderL(); static HBufC8* GetMSearchConfigurationL();private: void ConstructL(TUid aRepositoryId);private: CRepository* iRepository; };# 67 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/epoc32/include/platform/mw/upnpdeviceimplementationbase.h" 1#define C_CUPNPDEVICEIMPLEMENTATIONBASE_H# 1 "X:/epoc32/include/platform/mw/upnpdiscoveryobserver.h" 1#define C_MUpnpDiscoveryObserver_Hclass CUpnpDevice;class MUpnpDiscoveryObserver{public: virtual const TDesC8 &amp; Path() = 0; virtual void DeviceFoundL( CUpnpDevice&amp; aDevice ) = 0; virtual void DeviceLostL( CUpnpDevice&amp; aDevice ) = 0;};# 26 "X:/epoc32/include/platform/mw/upnpdeviceimplementationbase.h" 2class TUpnpDevice;class TUpnpService;class CUpnpIcon;class CUpnpDesciptionProperty;class CUpnpDeviceDescriptionStore;class CUpnpHttpServerTransactionHandler;class MUpnpDeviceDescriptionProvider;class CUpnpDeviceImplementationBase : public CUpnpDevice { public: IMPORT_C virtual ~CUpnpDeviceImplementationBase(); virtual void StartL( const TInt aPort = KRandomPort ) = 0; virtual void StopL() = 0; IMPORT_C void SetDescriptionPropertyL( const TDesC8&amp; aPropertyName, const TDesC8&amp; aPropertyValue ); IMPORT_C void RemoveDescriptionPropertyL( const TDesC8&amp; aPropertyName ); IMPORT_C void RemoveIconL( const TDesC8&amp; aUrl); IMPORT_C void RemoveIconsL(); IMPORT_C void AddIconL( const CUpnpIcon&amp; aIcon ); void UpdateIconL( const CUpnpIcon&amp; aIcon ); HBufC8* GenerateUuidL(); void CreateDispatcherL(); CUpnpDeviceImplementationBase(); IMPORT_C virtual TInetAddr Address(); void AttachServiceL( CUpnpService *aService ); void SetDispatcher( CUpnpDispatcher* aDispatcher ); IMPORT_C void StartIPFilteringL(); IMPORT_C void StopIPFiltering(); MUpnpDeviceDescriptionProvider&amp; DescritptionProvider(); protected: void StartHttpServerL( const TInt aPort ); void StopHttpServer(); void CheckUuidGenL( const TDesC16&amp; aFileName ); CUpnpDispatcher* Dispatcher(); void BaseConstructL( const TDesC8&amp; aDeviceDescriptioUri, CUpnpDeviceDescriptionStore&amp; aDescriptionStore, MUpnpDeviceDescriptionProvider&amp; aProvider ); void GenerateUdnsL( CUpnpDeviceImplementationBase* aDevice ); void RegisterEmbeddedDevices(); void UnregisterEmbeddedDevicesL(); void SaveDescriptionStoreL();protected: CUpnpDispatcher* iDispatcher; HBufC8* iPath; CUpnpHttpServerTransactionHandler* iServerTransactionHandler; CUpnpDeviceDescriptionStore* iDescriptionStore; MUpnpDeviceDescriptionProvider* iDescriptionProvider; };# 68 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/epoc32/include/platform/mw/upnpsecuritymanager.h" 1#define C_CUPNPSECURITYMANAGER_Hconst TUid KCUpnpSecurityManagerUid = {0x101F977E}; const TUid KCUpnpSecurityManagerUidRemote = {0x2001137B}; class CUpnpAction;class CUpnpHttpMessage;class CUpnpSecurityManager : public CBase{public: IMPORT_C static CUpnpSecurityManager* NewL(const TDesC8&amp; aType); IMPORT_C static CUpnpSecurityManager* NewInstanceFromUpnpSettingsL(); IMPORT_C virtual ~CUpnpSecurityManager(); virtual TInt AuthorizeMessage(CUpnpHttpMessage* aMessage, TFileName&amp; aRequestedFile) = 0; virtual TInt AuthorizeAction(CUpnpAction* aAction) = 0; private: TUid iDtor_ID_Key; };# 69 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2# 1 "X:/epoc32/include/platform/mw/upnpmediaserversettings.h" 1#define C_CUPNPMEDIASERVERSETTINGS_Hconst TUid KHnCRUidMediaServer = { 0x2000f87f }; const TUid KCRUidMediaServer = { 0x101F978F };class CRepository;namespace UpnpMediaServerSettings { const static TLitC8&lt;sizeof( "friendlyName" )&gt; KFriendlyName ={sizeof( "friendlyName" )-1, "friendlyName" };const static TLitC8&lt;sizeof( "modelURL" )&gt; KModelUrl ={sizeof( "modelURL" )-1, "modelURL" };const static TLitC8&lt;sizeof( "modelDescription" )&gt; KModelDescription ={sizeof( "modelDescription" )-1, "modelDescription" };const static TLitC8&lt;sizeof( "modelNumber" )&gt; KModelNumber ={sizeof( "modelNumber" )-1, "modelNumber" };const static TLitC8&lt;sizeof( "serialNumber" )&gt; KSerialNumber ={sizeof( "serialNumber" )-1, "serialNumber" };const static TLitC8&lt;sizeof( "presentationURL" )&gt; KPresentationUrl ={sizeof( "presentationURL" )-1, "presentationURL" };const static TLitC8&lt;sizeof( "modelName" )&gt; KModelName ={sizeof( "modelName" )-1, "modelName" };const static TLitC8&lt;sizeof( "manufacturer" )&gt; KManufacturer ={sizeof( "manufacturer" )-1, "manufacturer" };const static TLitC8&lt;sizeof( "manufacturerURL" )&gt; KManufacturerUrl ={sizeof( "manufacturerURL" )-1, "manufacturerURL" };enum TMediaServerKeys { EFriendlyName = 1, EUploadDirectory = 2, ESupportedMedia = 3, ESecurityManager = 4, EModelUrl = 5, EModelDescription = 6, EModelNumber = 7, ESerialNumber = 8, EPresentationUrl = 9, EModelName = 10, EManufacturer = 11, EManufacturerUrl = 12, EUpnpMediaServerThumbnails = 13, KUpnpMediaServerBrowseLimit = 14 };}class MUpnpSettingObserver {public: virtual void SettingChangedL() = 0; }; class CUpnpMediaServerSettings : public CActive {public: IMPORT_C static CUpnpMediaServerSettings* NewL(); virtual ~CUpnpMediaServerSettings();public: IMPORT_C TInt Set(TUint aId, const TInt&amp; aValue); IMPORT_C TInt Set(TUint aId, const TDesC&amp; aValue); IMPORT_C TInt SetL(TUint aId, const TDesC8&amp; aValue); IMPORT_C TInt Get(TUint aId, TInt&amp; aValue); IMPORT_C TInt Get(TUint aId, TDes&amp; aValue); IMPORT_C HBufC8* GetL(TUint aId); IMPORT_C TInt Subscribe(TUint aId, MUpnpSettingObserver* aObserver); private: CUpnpMediaServerSettings(); void ConstructL(TUid aRepositoryId); void RunL(); TInt RunError( TInt aErr ); void DoCancel(); private: CRepository* iRepository; MUpnpSettingObserver* iObserver; };# 70 "X:/sf/mw/dlnasrv/upnpmediaserver/contentdirectoryservice/src/upnpcontentdirectory.cpp" 2using namespace UpnpPaths;using namespace UpnpDlnaProtocolInfo;void DestroyRArray( TAny* aArray );void RPointerArrayTPtrC8( TAny* aArray ) { RPointerArray&lt;TPtrC8&gt;* array = reinterpret_cast&lt;RPointerArray&lt;TPtrC8&gt;*&gt;aArray); array-&gt;ResetAndDestroy( ); }CUpnpContentDirectory::CUpnpContentDirectory( CUpnpDevice&amp; aDevice, MUpnpThumbnailCreatorObserver* aThmbObs, MUpnpTransferInterface* aTransfer ) : CUpnpServiceImplementation(aDevice), iThmbObs(aThmbObs), iTransferHandler(aTransfer) { SetExecutedAction( EUndefinedAction ); }CUpnpContentDirectory::~CUpnpContentDirectory() { delete iDownloadDir; delete iThumbDir; delete iElementdb; delete iTransferController; delete iMimeToExtMap; delete iContentDirectoryDb; iThObjectIds.Close( ); iThumbnailCreators.ResetAndDestroy( ); iDOMImpl.Close( ); if ( iBitmapServerConnection == KErrNone ) RFbsSession::Disconnect( ); iFs.Close( ); if ( iEcomUsed ) { REComSession::FinalClose( ); } delete iAutoDestroyObjects; delete iStateHandler; if ( iHttpServerSession ) { iHttpServerSession-&gt;
       </td>
       <td>
        Stop
       </td>
       <td>
        [static]
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-0699444F-6F39-30A0-A938-EEF5E59618E5">
     <a name="GUID-0699444F-6F39-30A0-A938-EEF5E59618E5">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      delete iHttpServerSession
     </h2>
     <table class="signature">
      <tr>
       <td>
        delete
       </td>
       <td>
        iHttpServerSession
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-0B6A956F-40FF-3551-A457-A95C6BB0D43F">
     <a name="GUID-0B6A956F-40FF-3551-A457-A95C6BB0D43F">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      delete iDlnaFilter
     </h2>
     <table class="signature">
      <tr>
       <td>
        delete
       </td>
       <td>
        iDlnaFilter
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <div class="nested1" id="GUID-884FFEF8-29C2-388C-ACE7-DF2EA72B8D69">
     <a name="GUID-884FFEF8-29C2-388C-ACE7-DF2EA72B8D69">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      delete iSecurityManager
     </h2>
     <table class="signature">
      <tr>
       <td>
        delete
       </td>
       <td>
        iSecurityManager
       </td>
      </tr>
     </table>
     <div class="section">
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>