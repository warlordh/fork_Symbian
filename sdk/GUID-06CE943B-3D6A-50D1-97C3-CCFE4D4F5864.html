<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="SubConnection Client API" />
  <meta name="DC.Relation" scheme="URI" content="GUID-A80ED7B2-4A58-570A-A671-4F4B1BB9FDAF.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-2139B04C-6ED6-599B-A018-D92451B8353E.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-61E0CD76-A2E3-5066-84A8-146EECA8ADCD.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-A80ED7B2-4A58-570A-A671-4F4B1BB9FDAF.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-06CE943B-3D6A-50D1-97C3-CCFE4D4F5864" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   SubConnection Client API
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-06CE943B-3D6A-50D1-97C3-CCFE4D4F5864">
  <a name="GUID-06CE943B-3D6A-50D1-97C3-CCFE4D4F5864">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2562582 id2563215 id2563184 id2563245 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04.html" title="The Communications Framework is the base for all communications, network and telephony services that Symbian platform provides. The Communications Framework manages the communications threads and the flow of information between those threads. The Framework also manages and stores the communications related settings.">
      Communications Framework Guide
     </a>
     &gt;
     <a href="GUID-2139B04C-6ED6-599B-A018-D92451B8353E.html">
      Data Communications Server
     </a>
     &gt;
     <a href="GUID-61E0CD76-A2E3-5066-84A8-146EECA8ADCD.html">
      Socket Server
     </a>
     &gt;
     <a href="GUID-A80ED7B2-4A58-570A-A671-4F4B1BB9FDAF.html">
      Concepts
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     SubConnection
Client API
    </h1>
    <div>
     <p>
      This document gives an introduction to using the
      <a href="GUID-0AFDA357-EE44-3788-9CAB-162B874134BF.html">
       <span class="apiname">
        RSubConnection
       </span>
      </a>
      API.
     </p>
     <p>
      The
      <a href="GUID-0AFDA357-EE44-3788-9CAB-162B874134BF.html">
       <span class="apiname">
        RSubConnection
       </span>
      </a>
      API creates a channel ("subconnection")
within a connection (
      <a href="GUID-BED8A733-2ED7-31AD-A911-C1F4707C67FD.html">
       <span class="apiname">
        RConnection
       </span>
      </a>
      ). Sockets can be attached
to this channel and will then be bound by the properties of that channel,
such as Quality of Service (values such as minimum bandwith, latency limits
etc.). Depending on the state of the channel, it may not be possible to bind
arbitary sockets into it. Attempting to bind sockets from different protocol
families to a single channel is an error, as each channel can only be used
by one protocol family.
     </p>
     <p>
      Note: The sub-connection can represent an end-to-end channel and/or a channel
from this device to an intermediate device (e.g an access server such as a
GGSN using UMTS and PDP contexts.) Properties can be specified simultaneously
on protocol and link level. In the case of GPRS/UMTS network interfaces, sub-connections
correspond to Primary and Secondary PDP Contexts. Before using any of these
services, a connection to a socket server session must have been made and
the connection must be open.
     </p>
     <p>
      An
      <a href="GUID-BED8A733-2ED7-31AD-A911-C1F4707C67FD.html">
       <span class="apiname">
        RConnection
       </span>
      </a>
      contains one or more sub-connections
(a default sub-connection, which is created automatically with the
      <a href="GUID-BED8A733-2ED7-31AD-A911-C1F4707C67FD.html">
       <span class="apiname">
        RConnection
       </span>
      </a>
      plus
any added
      <a href="GUID-0AFDA357-EE44-3788-9CAB-162B874134BF.html">
       <span class="apiname">
        RSubConnection
       </span>
      </a>
      s). Each sub-connection has properties.
To set those properties you apply an
      <a href="GUID-27AA9BD2-9754-3BAE-8C2D-59937E1924CF.html">
       <span class="apiname">
        RSubConParameterBundle
       </span>
      </a>
      to
the
      <a href="GUID-0AFDA357-EE44-3788-9CAB-162B874134BF.html">
       <span class="apiname">
        RSubConnection
       </span>
      </a>
      . The parameter bundle consists of families
of parameters. A "family" is a connected set of parameters, such as QoS. At
present only two families are defined, Quality of Service (
      KSubConQoSFamily
      )
and Authorisation (
      KSubConAuthorisationFamily
      ).
     </p>
     <p>
      Quality of Service (QoS) in Symbian platform is implemented by setting
parameters on the sub-connection.
     </p>
     <p>
      The
      <a href="GUID-0AFDA357-EE44-3788-9CAB-162B874134BF.html">
       <span class="apiname">
        RSubConnection
       </span>
      </a>
      API provides the functionality to
divide a Connection (provided by the
      <a href="GUID-BED8A733-2ED7-31AD-A911-C1F4707C67FD.html">
       <span class="apiname">
        RConnection
       </span>
      </a>
      API) into
channels that have properties such as bandwidth and latency.
     </p>
     <p>
      Each family of parameters can consist of the values you would like to have
(
      ERequested
      ) and the minimum you're willing to accept (
      EAcceptable
      ).
If you don't specify the
      EAcceptable
      then the
      ERequested
      will
be used as the minimum acceptable. When the parameters have been applied and
the sub-connection is used then the parameter family will be updated with
a third set of values, the
      EGranted
      (which will be somewhere
between the
      EAcceptable
      and the
      ERequested
      )
or an event will be raised to say that the parameters have been rejected/could
not be granted. As this may be some time after the initial request, asynchronous
event notification is used to tell your application what has been negotiated.
Your application must monitor for the granted/rejected event notification.
     </p>
     <p>
      There is an overlap between the
      <a href="GUID-0AFDA357-EE44-3788-9CAB-162B874134BF.html">
       <span class="apiname">
        RSubConnection
       </span>
      </a>
      API and
the
      <a href="GUID-BED8A733-2ED7-31AD-A911-C1F4707C67FD.html">
       <span class="apiname">
        RConnection
       </span>
      </a>
      API as both provide sub-connection management.
The
      <a href="GUID-BED8A733-2ED7-31AD-A911-C1F4707C67FD.html">
       <span class="apiname">
        RConnection
       </span>
      </a>
      API provides overall sub-connection management
for an entire connection whereas the
      <a href="GUID-0AFDA357-EE44-3788-9CAB-162B874134BF.html">
       <span class="apiname">
        RSubConnection
       </span>
      </a>
      API
allows the individual setting of properties of a sub-connection as well as
the ability to associate sockets (
      <a href="GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0.html">
       <span class="apiname">
        RSocket
       </span>
      </a>
      ) with sub-connections.
The sockets are then able to take advantage of the sub-connection's properties
when they send and receive data.
     </p>
     <p>
      The
      <a href="GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0.html">
       <span class="apiname">
        RSocket
       </span>
      </a>
      API can be created with a sub-connection
as well as a connection. A client is able to start a sub-connection via
      <a href="GUID-0AFDA357-EE44-3788-9CAB-162B874134BF.html">
       <span class="apiname">
        RSubConnection
       </span>
      </a>
      and
associate individual
      <a href="GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0.html">
       <span class="apiname">
        RSocket
       </span>
      </a>
      objects with that sub-connection.
This ensures that all data flowing over those objects uses the particular
sub-connection previously started by the application. This is implemented
using a new
      <a href="GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0.html#GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0__GUID-89C92445-FFCA-37F0-88D0-BF9B1B41BA2F">
       <span class="apiname">
        RSocket::Open(…)
       </span>
      </a>
      method which takes an additional
argument specifying the sub-connection to use for the object in question.
The socket will not actually be added to the sub-connection until such time
as the socket is used.
     </p>
     <p>
      As well as opening sub-connections explicitly via
      <a href="GUID-0AFDA357-EE44-3788-9CAB-162B874134BF.html">
       <span class="apiname">
        RSubConnection
       </span>
      </a>
      ,
applications may also attach to the default sub-connection (e.g. in GPRS,
the default could be the Primary PDP context without a TFT), and modify and
retrieve its properties.
     </p>
     <p>
      Parameters that apply to an
      <a href="GUID-0AFDA357-EE44-3788-9CAB-162B874134BF.html">
       <span class="apiname">
        RSubConnection
       </span>
      </a>
      are grouped
together into "families" (
      <a href="GUID-5181C974-94F7-3C7D-9FFE-F38BD11001EB.html">
       <span class="apiname">
        CSubConParameterFamily
       </span>
      </a>
      ). Each
parameter family contains parameter sets that are either "generic" (parameters
that are independent of the underlying technology) or "extension" (a group
of parameters specific to a technology). There will always be one generic
parameter set in a family and there will be zero or more extension parameter
sets.
     </p>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-A80ED7B2-4A58-570A-A671-4F4B1BB9FDAF.html">
        Concepts
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>