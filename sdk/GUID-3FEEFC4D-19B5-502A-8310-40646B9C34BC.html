<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="Run time cache settings" />
  <meta name="abstract" content="This topic describes the rum time cache settings." />
  <meta name="description" content="This topic describes the rum time cache settings." />
  <meta name="DC.Relation" scheme="URI" content="GUID-198DCED1-F429-5C95-A51D-53AE416687E8.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-E3D2A6ED-8192-563D-8966-DD96B3AF1783.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-BB9760B4-4F3F-5326-81FB-B644C82F0E65.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-198DCED1-F429-5C95-A51D-53AE416687E8.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-3FEEFC4D-19B5-502A-8310-40646B9C34BC" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Run time cache settings
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-3FEEFC4D-19B5-502A-8310-40646B9C34BC">
  <a name="GUID-3FEEFC4D-19B5-502A-8310-40646B9C34BC">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2404579 id2404588 id2402811 id2402826 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-E3D2A6ED-8192-563D-8966-DD96B3AF1783.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">
      Kernel and Hardware Services Guide
     </a>
     &gt;
     <a href="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html" title="Provides a framework for accessing file systems.">
      User Library and File Server
     </a>
     &gt;
     <a href="GUID-BB9760B4-4F3F-5326-81FB-B644C82F0E65.html" title="Symbian platform manages the basic permanent storage of data through file systems. Drives and file systems are common resources used by many programs, and access to them is managed by the File Server. The File Server is flexible, and can use many different file system formats and physical storage media. Applications and services access files, directories, and drives through the File Server client side API.">
      File Server
     </a>
     &gt;
     <a href="GUID-198DCED1-F429-5C95-A51D-53AE416687E8.html">
      File Server Client Side
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Run
time cache settings
    </h1>
    <div>
     <p>
      This topic describes the rum time cache settings.
     </p>
     <p>
      <strong>
       Read caching
      </strong>
     </p>
     <div class="p">
      A client, or multiple clients, may issue repeated requests to read data
from the same locality within a file. Data that has been read previously that
is still in the cache can be returned to the client without continuously re-reading
the data from the media.
      <div class="note">
       <span class="notetitle">
        Note:
       </span>
       Read caching has little benefit when files
are accessed sequentially in large blocks, and are never re-read.
      </div>
     </div>
     <p>
      <strong>
       Read ahead caching
      </strong>
     </p>
     <p>
      Read ahead caching builds on read caching by detecting clients that are
performing streaming operations and speculatively reading ahead on the assumption
that, once the data is in the cache it is likely to be accessed in the near
future, thus improving performance.
     </p>
     <p>
      <strong>
       Write caching
      </strong>
     </p>
     <p>
      Write caching is implemented to perform a small level of write back caching
that overcomes the inefficiencies of clients that perform small write operations
by consolidating multiple file updates into a single larger write operation,
thus taking advantage of media that is written on a block basis as well as
minimizing the overhead of metadata updates that the file system
performs.
     </p>
     <div class="section" id="GUID-3FEEFC4D-19B5-502A-8310-40646B9C34BC__GUID-8653BC99-0FA6-4FA0-AEBD-066C0BE91B57">
      <a name="GUID-3FEEFC4D-19B5-502A-8310-40646B9C34BC__GUID-8653BC99-0FA6-4FA0-AEBD-066C0BE91B57">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       Opening files with different modes
      </h2>
      <p>
       The system is
configured by partners. Read caching, read ahead caching and write caching
are set on a per drive basis and are one of three states, these are:
      </p>
      <ul>
       <li>
        <p>
         ON
        </p>
       </li>
       <li>
        <p>
         ENABLED
        </p>
       </li>
       <li>
        <p>
         OFF
        </p>
       </li>
      </ul>
      <p>
       If caching is set to ENABLED or ON for a drive by the partner then
you, as the client, can enable or disable caching at run-time on a per file
basis. However, if caching is set to OFF it cannot be altered at run-time.
The
       <samp class="codeph">
        TFileMode
       </samp>
       enumeration supports the run time file caching
configurations. The file open modes are as follows:
      </p>
      <pre class="codeblock">
       EFileWriteBuffered  =0x00000800, // Enables write buffering
EFileWriteDirectIO  =0x00001000, // Disables write buffering
EFileReadBuffered   =0x00002000, // Enables read buffering
EFileReadDirectIO   =0x00004000, // Disables read buffering
EFileReadAheadOn    =0x00008000, // Enables read ahead 
EFileReadAheadOff   =0x00010000  // Disables read ahead
      </pre>
      <p>
       If the
values above are not specified when a file is opened then these default settings
are used:
      </p>
      <ul>
       <li>
        <p>
         if caching is set to ENABLED for a drive by the partner then caching
is OFF by default
        </p>
       </li>
       <li>
        <p>
         if caching is set to ON for a drive by the partner then caching is
ON by default
        </p>
       </li>
      </ul>
      <div class="note">
       <span class="notetitle">
        Note:
       </span>
       If caching is set to OFF for a particular drive by the partner,
caching cannot be enabled.
      </div>
      <p>
       Use the
       <samp class="codeph">
        TFileMode
       </samp>
       values
with the following functions to alter the way in which an open file is accessed.
      </p>
      <ul>
       <li>
        <p>
         <a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html#GUID-BE0804F6-4375-3C8A-8C83-968F510466E0__GUID-72470A68-7E07-30EF-A3C8-AA855CDAF60E">
          <span class="apiname">
           RFile::Open()
          </span>
         </a>
        </p>
       </li>
       <li>
        <p>
         <a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html#GUID-BE0804F6-4375-3C8A-8C83-968F510466E0__GUID-1EB4AA8F-9363-3EC5-8AE2-1F70F15FCF15">
          <span class="apiname">
           RFile::Create()
          </span>
         </a>
        </p>
       </li>
       <li>
        <p>
         <a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html#GUID-BE0804F6-4375-3C8A-8C83-968F510466E0__GUID-C2069B9B-04C0-3878-BF08-289DBC83DDF8">
          <span class="apiname">
           RFile::Replace()
          </span>
         </a>
        </p>
       </li>
       <li>
        <p>
         <a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html#GUID-BE0804F6-4375-3C8A-8C83-968F510466E0__GUID-87D0C77C-CC63-3D70-BACE-3C5EE702BD37">
          <span class="apiname">
           RFile::Temp()
          </span>
         </a>
        </p>
       </li>
      </ul>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-198DCED1-F429-5C95-A51D-53AE416687E8.html">
        File Server Client Side
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>