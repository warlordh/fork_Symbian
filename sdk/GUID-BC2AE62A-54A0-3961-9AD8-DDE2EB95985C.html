<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="cxxClass" />
  <meta name="DC.Title" content="MShutdownEventObserver" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-BC2AE62A-54A0-3961-9AD8-DDE2EB95985C" />
  <title>
   MShutdownEventObserver
  </title>
   <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <meta name="keywords" content="api" />
  <link rel="stylesheet" type="text/css" href="cxxref.css" />
 </head>
 <body class="cxxref" id="GUID-BC2AE62A-54A0-3961-9AD8-DDE2EB95985C">
  <a name="GUID-BC2AE62A-54A0-3961-9AD8-DDE2EB95985C">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2518338 id2518347 id2858858 id2529119 id2667736 id2667850 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
    <div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     MShutdownEventObserver Class Reference
    </h1>
    <table class="signature">
     <tr>
      <td>
       class MShutdownEventObserver
      </td>
     </tr>
    </table>
    <div class="section">
     <div>
      <p>
       This class describes an interface, which is used by LaF Shutdown Manager to notify the Shutdown Server of device shutdown, so that the server can take appropriate power management steps. The concrete implementation of this interface is provided by
       <a href="GUID-17E7F6FD-9611-3438-837B-001DD1F109B2.html#GUID-17E7F6FD-9611-3438-837B-001DD1F109B2">
        CServShutdownServer
       </a>
       class.
      </p>
     </div>
    </div>
    <div class="section member-index">
     <table border="0" class="member-index">
      <thead>
       <tr>
        <th colspan="2">
         Public Member Functions
        </th>
       </tr>
      </thead>
      <tbody>
       <tr>
        <td align="right" class="code">
         <a href="GUID-79EFD210-2C4F-31E5-83CD-DC9FE54FD585.html">
          CArrayFix
         </a>
         &lt;
         <a href="GUID-0CBB58B2-3371-3A29-97FF-98E258C55B93.html">
          TThreadId
         </a>
         &gt; *
        </td>
        <td>
         <a href="#GUID-012F653F-3204-3D68-ACD0-B64A3BFBB2CA">
          ClientArrayLC
         </a>
         ()
        </td>
       </tr>
       <tr class="bg">
        <td align="right" class="code">
         void
        </td>
        <td>
         <a href="#GUID-6867E8E1-BF55-3B14-B102-C09A3A0AB3B1">
          GetShutdownState
         </a>
         (
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TBool
         </a>
         &amp;,
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TBool
         </a>
         &amp;)
        </td>
       </tr>
       <tr>
        <td align="right" class="code">
         void
        </td>
        <td>
         <a href="#GUID-CE96502D-0527-31D2-8F3B-0715F08F1A0F">
          HandleShutdownEventL
         </a>
         (
         <a href="GUID-A8B4D628-EB2C-3424-936B-41F0704B7631.html">
          MSaveObserver::TSaveType
         </a>
         ,
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TBool
         </a>
         ,
         <a href="GUID-0DB7D6B9-1B1E-3C9B-A0BF-EA9ED2902E24.html">
          TPowerState
         </a>
         )
        </td>
       </tr>
       <tr class="bg">
        <td align="right" class="code">
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TBool
         </a>
        </td>
        <td>
         <a href="#GUID-E9670D43-57CD-3FDC-9A40-943561C52A1E">
          IsClientHung
         </a>
         (
         <a href="GUID-0CBB58B2-3371-3A29-97FF-98E258C55B93.html">
          TThreadId
         </a>
         )
        </td>
       </tr>
      </tbody>
     </table>
    </div>
    <h1 class="pageHeading topictitle1">
     Member Functions Documentation
    </h1>
    <div class="nested1" id="GUID-012F653F-3204-3D68-ACD0-B64A3BFBB2CA">
     <a name="GUID-012F653F-3204-3D68-ACD0-B64A3BFBB2CA">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      ClientArrayLC()
     </h2>
     <table class="signature">
      <tr>
       <td>
        <a href="GUID-79EFD210-2C4F-31E5-83CD-DC9FE54FD585.html">
         CArrayFix
        </a>
        &lt;
        <a href="GUID-0CBB58B2-3371-3A29-97FF-98E258C55B93.html">
         TThreadId
        </a>
        &gt; *
       </td>
       <td>
        ClientArrayLC
       </td>
       <td>
        (
       </td>
       <td>
        )
       </td>
       <td>
        [pure virtual]
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <div class="p">
        This method creates an array of CArrayFix&lt;TThreadId&gt; type and appends to it the thread id-s of all the registered clients. The created CArrayFix&lt;TThreadId&gt; instance will be pushed on the cleanup stack. The caller becomes responsible for the memory allocated for this array.
        <dl class="user">
         <dt class="dlterm">
          <strong>
           leave
          </strong>
         </dt>
         <dd>
          Some system-wide error codes including KErrNoMemory.
         </dd>
        </dl>
       </div>
      </div>
     </div>
    </div>
    <div class="nested1" id="GUID-6867E8E1-BF55-3B14-B102-C09A3A0AB3B1">
     <a name="GUID-6867E8E1-BF55-3B14-B102-C09A3A0AB3B1">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      GetShutdownState(TBool &amp;, TBool &amp;)
     </h2>
     <table class="signature">
      <tr>
       <td>
        void
       </td>
       <td>
        GetShutdownState
       </td>
       <td>
        (
       </td>
       <td>
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TBool
        </a>
        &amp;
       </td>
       <td>
        aPowerOff,
       </td>
      </tr>
      <tr>
       <td colspan="3">
       </td>
       <td>
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TBool
        </a>
        &amp;
       </td>
       <td>
        aAllSessionsHavePendingRequest
       </td>
      </tr>
      <tr>
       <td colspan="2">
       </td>
       <td>
        )
       </td>
       <td colspan="2">
        const [pure virtual]
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <p>
        This method returns information about the shutdown status.
       </p>
      </div>
     </div>
     <div class="section parameters">
      <h3 class="sectiontitle">
       Parameters
      </h3>
      <table border="0" class="parameters">
       <tr>
        <td class="parameter">
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TBool
         </a>
         &amp; aPowerOff
        </td>
        <td>
         An output parameter, where power-off status will be stored. It will be non-zero, if a powerdown sequence has been initiated.
        </td>
       </tr>
       <tr class="bg">
        <td class="parameter">
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TBool
         </a>
         &amp; aAllSessionsHavePendingRequest
        </td>
        <td>
         An output parameter. It will be non-zero, if all clients have pending requests to receive further events from the Shutdown Manager.
        </td>
       </tr>
      </table>
     </div>
    </div>
    <div class="nested1" id="GUID-CE96502D-0527-31D2-8F3B-0715F08F1A0F">
     <a name="GUID-CE96502D-0527-31D2-8F3B-0715F08F1A0F">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      HandleShutdownEventL(MSaveObserver::TSaveType, TBool, TPowerState)
     </h2>
     <table class="signature">
      <tr>
       <td>
        void
       </td>
       <td>
        HandleShutdownEventL
       </td>
       <td>
        (
       </td>
       <td>
        <a href="GUID-A8B4D628-EB2C-3424-936B-41F0704B7631.html">
         MSaveObserver::TSaveType
        </a>
       </td>
       <td>
        aAction,
       </td>
      </tr>
      <tr>
       <td colspan="3">
       </td>
       <td>
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TBool
        </a>
       </td>
       <td>
        aPowerOff,
       </td>
      </tr>
      <tr>
       <td colspan="3">
       </td>
       <td>
        <a href="GUID-0DB7D6B9-1B1E-3C9B-A0BF-EA9ED2902E24.html">
         TPowerState
        </a>
       </td>
       <td>
        aEvent = EPwStandby
       </td>
      </tr>
      <tr>
       <td colspan="2">
       </td>
       <td>
        )
       </td>
       <td colspan="2">
        [pure virtual]
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <div class="p">
        This method has to be called, when the observed object requires the Shutdown Server to notify registered clients about the shutdown event, such as
        <a href="GUID-A8B4D628-EB2C-3424-936B-41F0704B7631.html#GUID-DE89F92A-D70D-3FB9-A50A-53AA452752A4">
         MSaveObserver::ESaveData
        </a>
        ,
        <a href="GUID-A8B4D628-EB2C-3424-936B-41F0704B7631.html#GUID-52C22310-4C9D-3934-9EED-68B369DDBF15">
         MSaveObserver::ESaveAll
        </a>
        ,
        <a href="GUID-A8B4D628-EB2C-3424-936B-41F0704B7631.html#GUID-0D9EF444-68D6-3BEC-ABDD-0ADB6E056C02">
         MSaveObserver::EReleaseRAM
        </a>
        ,...
        <dl class="user">
         <dt class="dlterm">
          <strong>
           leave
          </strong>
         </dt>
         <dd>
          KErrNotSupported Leaves if aEvent is invalid
         </dd>
        </dl>
       </div>
      </div>
     </div>
     <div class="section parameters">
      <h3 class="sectiontitle">
       Parameters
      </h3>
      <table border="0" class="parameters">
       <tr>
        <td class="parameter">
         <a href="GUID-A8B4D628-EB2C-3424-936B-41F0704B7631.html">
          MSaveObserver::TSaveType
         </a>
         aAction
        </td>
        <td>
         The type of the requested action
        </td>
       </tr>
       <tr class="bg">
        <td class="parameter">
         <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
          TBool
         </a>
         aPowerOff
        </td>
        <td>
         If it is non-zero, this is the beginning of a powerdown sequence.
        </td>
       </tr>
       <tr>
        <td class="parameter">
         <a href="GUID-0DB7D6B9-1B1E-3C9B-A0BF-EA9ED2902E24.html">
          TPowerState
         </a>
         aEvent = EPwStandby
        </td>
        <td>
         The type of the powerdown event
        </td>
       </tr>
      </table>
     </div>
    </div>
    <div class="nested1" id="GUID-E9670D43-57CD-3FDC-9A40-943561C52A1E">
     <a name="GUID-E9670D43-57CD-3FDC-9A40-943561C52A1E">
      <!-- -->
     </a>
     <h2 class="topictitle2">
      IsClientHung(TThreadId)
     </h2>
     <table class="signature">
      <tr>
       <td>
        <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">
         TBool
        </a>
       </td>
       <td>
        IsClientHung
       </td>
       <td>
        (
       </td>
       <td>
        <a href="GUID-0CBB58B2-3371-3A29-97FF-98E258C55B93.html">
         TThreadId
        </a>
       </td>
       <td>
        aId
       </td>
       <td>
        )
       </td>
       <td>
        const [pure virtual]
       </td>
      </tr>
     </table>
     <div class="section">
      <div>
       <p>
        Checks if a particular client is hung in that the client has not re-registered with the Shutdown Server indicating it is ready for the next stage of the shutdown.
       </p>
      </div>
     </div>
     <div class="section parameters">
      <h3 class="sectiontitle">
       Parameters
      </h3>
      <table border="0" class="parameters">
       <tr>
        <td class="parameter">
         <a href="GUID-0CBB58B2-3371-3A29-97FF-98E258C55B93.html">
          TThreadId
         </a>
         aId
        </td>
        <td>
         Client's thread id.
        </td>
       </tr>
      </table>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>