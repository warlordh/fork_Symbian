<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="How to use dynamic arrays" />
  <meta name="abstract" content="This document describes how to create templated arrays; that is, an array of a particular type of object." />
  <meta name="description" content="This document describes how to create templated arrays; that is, an array of a particular type of object." />
  <meta name="DC.Relation" scheme="URI" content="GUID-59DB0115-053A-5D23-8C40-E2428C096BBC.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-E3D2A6ED-8192-563D-8966-DD96B3AF1783.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-2E085BAD-AAD7-5D1A-89A7-287EE42D1069.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-E3F403EE-717B-5EA6-BC4E-6840097CAC10.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-59DB0115-053A-5D23-8C40-E2428C096BBC.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-27C933F7-4634-57C8-B3D2-45C5563FECA4" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   How to use dynamic arrays
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-27C933F7-4634-57C8-B3D2-45C5563FECA4">
  <a name="GUID-27C933F7-4634-57C8-B3D2-45C5563FECA4">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2404579 id2404588 id2404596 id2404604 id2404766 id2404864 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-E3D2A6ED-8192-563D-8966-DD96B3AF1783.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">
      Kernel and Hardware Services Guide
     </a>
     &gt;
     <a href="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html" title="Provides a framework for accessing file systems.">
      User Library and File Server
     </a>
     &gt;
     <a href="GUID-A63025D1-7FD4-5120-8A1F-537D6B70103D.html" title="The User Library allows the applications and services that run on a phone to access the functionality provided by the Symbian platform Kernel.">
      User Library
     </a>
     &gt;
     <a href="GUID-2E085BAD-AAD7-5D1A-89A7-287EE42D1069.html">
      Arrays And Lists
     </a>
     &gt;
     <a href="GUID-E3F403EE-717B-5EA6-BC4E-6840097CAC10.html">
      Using Dynamic Arrays
     </a>
     &gt;
     <a href="GUID-59DB0115-053A-5D23-8C40-E2428C096BBC.html">
      How to Use Dynamic Arrays
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     How
to use dynamic arrays
    </h1>
    <div>
     <p>
      This document describes how to create templated arrays; that is,
an array of a particular type of object.
     </p>
     <p>
      All array classes are templated; the template value defines the type of
object which is to form an element of the array. This is true for arrays of
same length and variable length elements. The following example code constructs
an array of same length elements of type
      <samp class="codeph">
       TMyClass
      </samp>
      using the
flat array buffer
      <samp class="codeph">
       CArrayFixFlat&lt;class T&gt;
      </samp>
      . The array has
granularity 16:
     </p>
     <pre class="codeblock" id="GUID-27C933F7-4634-57C8-B3D2-45C5563FECA4__GUID-E59CB1C7-4BFD-574B-97DD-28B82BEDB9BB">
      <a name="GUID-27C933F7-4634-57C8-B3D2-45C5563FECA4__GUID-E59CB1C7-4BFD-574B-97DD-28B82BEDB9BB">
       <!-- -->
      </a>
      CArrayFixFlat&lt;TMyClass&gt; array;
...
array = new (ELeave) CArrayFixFlat&lt;TInt&gt;(16);
...
     </pre>
     <p>
      To construct an array of
      <samp class="codeph">
       TInt
      </samp>
      values with a
      <em>
       granularity
      </em>
      of
16, implement code as follows:
     </p>
     <pre class="codeblock" id="GUID-27C933F7-4634-57C8-B3D2-45C5563FECA4__GUID-6B599A36-21EE-50B0-BF18-00C84AEC50A7">
      <a name="GUID-27C933F7-4634-57C8-B3D2-45C5563FECA4__GUID-6B599A36-21EE-50B0-BF18-00C84AEC50A7">
       <!-- -->
      </a>
      CArrayFixFlat&lt;TInt&gt;* array;
...
array = new (ELeave) CArrayFixFlat&lt;TInt&gt;(16);
     </pre>
     <p>
      After construction, the array contains no elements and no memory is allocated
to the array buffer.
     </p>
     <p>
      <samp class="codeph">
       CArrayPtrFlat
      </samp>
      is a specialised array where the elements
are
      <em>
       pointers
      </em>
      to
      <samp class="codeph">
       CBase
      </samp>
      derived objects. To construct
an array whose elements are pointers to
      <samp class="codeph">
       CMyClass
      </samp>
      objects:
     </p>
     <pre class="codeblock" id="GUID-27C933F7-4634-57C8-B3D2-45C5563FECA4__GUID-5F63CDA5-2386-562F-A66D-6963A126314D">
      <a name="GUID-27C933F7-4634-57C8-B3D2-45C5563FECA4__GUID-5F63CDA5-2386-562F-A66D-6963A126314D">
       <!-- -->
      </a>
      CArrayPtrFlat&lt;CMyClass&gt;* array;
...
array = new (ELeave) CArrayPtrFlat&lt;CMyClass&gt;(16);
     </pre>
     <p>
      To construct an array of same length elements of type
      <samp class="codeph">
       TMyClass
      </samp>
      using
      <samp class="codeph">
       RArray&lt;class
T&gt;
      </samp>
      :
     </p>
     <pre class="codeblock" id="GUID-27C933F7-4634-57C8-B3D2-45C5563FECA4__GUID-13D94D48-B752-5A31-9CC6-BD94DC2DEE3A">
      <a name="GUID-27C933F7-4634-57C8-B3D2-45C5563FECA4__GUID-13D94D48-B752-5A31-9CC6-BD94DC2DEE3A">
       <!-- -->
      </a>
      RArray&lt;TMyClass&gt; array; // this is on the stack
...
...                     // add entries etc
...
array.Close();          // called before the array goes out of scope
     </pre>
     <p>
      To construct an array of pointers to
      <samp class="codeph">
       CMyClass
      </samp>
      objects
using
      <samp class="codeph">
       RPointerArray&lt;class T&gt;
      </samp>
      :
     </p>
     <pre class="codeblock" id="GUID-27C933F7-4634-57C8-B3D2-45C5563FECA4__GUID-151C2968-19F5-5AA0-BB93-DCBFF023B0DA">
      <a name="GUID-27C933F7-4634-57C8-B3D2-45C5563FECA4__GUID-151C2968-19F5-5AA0-BB93-DCBFF023B0DA">
       <!-- -->
      </a>
      RPointerArray&lt;CMyClass&gt; array;  // this is on the stack
...
CMyClass* ptr = new (ELeave) CMyClass;
...
array.Append(ptr);
...
array.ResetAndDestroy();       // called before the array goes
                               // out of scope
     </pre>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-59DB0115-053A-5D23-8C40-E2428C096BBC.html">
        How to Use Dynamic Arrays
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>