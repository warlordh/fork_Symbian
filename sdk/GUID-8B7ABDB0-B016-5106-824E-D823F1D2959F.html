<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="Working with Overlays" />
  <meta name="DC.Relation" scheme="URI" content="GUID-28604BBC-1C43-56F3-8667-DAF869F38BDB.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-98499337-5CB4-5A9C-907A-95FF57775983.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-9331EE17-1831-5D9F-A090-438E3D6D1375.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-28604BBC-1C43-56F3-8667-DAF869F38BDB.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Working with Overlays
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F">
  <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2392344 id2392446 id2392460 id2392714 id2392729 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html">
      Multimedia Guide
     </a>
     &gt;
     <a href="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html">
      Multimedia APIs and Frameworks Collection
     </a>
     &gt;
     <a href="GUID-98499337-5CB4-5A9C-907A-95FF57775983.html">
      Camera Framework
     </a>
     &gt;
     <a href="GUID-9331EE17-1831-5D9F-A090-438E3D6D1375.html">
      Camera Overlay Library
     </a>
     &gt;
     <a href="GUID-28604BBC-1C43-56F3-8667-DAF869F38BDB.html">
      Tutorials
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Working with Overlays
    </h1>
    <div>
     <p>
      This tutorials describes about the APIs used with Overlays.
     </p>
     <div class="section">
      <h2 class="sectiontitle">
       Purpose
      </h2>
      <p>
       This documents provides detailed description about creating and working with Overlays.
      </p>
      <p>
       <strong>
        Setup and Configuration Requirements
       </strong>
      </p>
      <p>
       The following are the setup and configuration requirements you need to follow before Overlay implementation:
      </p>
      <ul>
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-80EF2621-E99E-5A6A-A45E-6BABE63A12BA">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-80EF2621-E99E-5A6A-A45E-6BABE63A12BA">
         <!-- -->
        </a>
        <p>
         Licensee need to provide
         McameraOverlay
         , interface class implementation.
        </p>
       </li>
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-3C86F967-D172-593D-82E9-ADADD64D0BA4">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-3C86F967-D172-593D-82E9-ADADD64D0BA4">
         <!-- -->
        </a>
        <p>
         The providers of the camera extension API for extra features of image overlays, must provide
         <a href="GUID-9C5233B4-6BD6-3139-B0B7-B01B14C18D2B.html">
          <span class="apiname">
           MCameraOverlay2
          </span>
         </a>
         , interface class implementation.
        </p>
       </li>
      </ul>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Creating Overlays
      </h2>
      <p>
       The following tasks cover the creation of overlays:
      </p>
      <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-8BFAC0B2-5EDE-5307-9349-2ADAF73C3C14">
       <!-- -->
      </a>
      <ol id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-8BFAC0B2-5EDE-5307-9349-2ADAF73C3C14">
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-5C74F98A-3C76-50AB-90CD-170A45A3D830">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-5C74F98A-3C76-50AB-90CD-170A45A3D830">
         <!-- -->
        </a>
        <p>
         Create an object of class
         Ccamera::CCameraOverlay
         using the
         CcameraOverlay::NewL()
         factory method.
        </p>
        <p>
         This class maps the exported call to
         McameraOverlay
         class and
         McameraOverlay2
         , which provides the overlay functionality.
        </p>
       </li>
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-29884B0D-B736-5D21-8B19-4652DBD92BDB">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-29884B0D-B736-5D21-8B19-4652DBD92BDB">
         <!-- -->
        </a>
        <p>
         In second phase construction for
         CCameraOverlay
         ,
        </p>
        <ul>
         <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-2D552178-5650-5D10-A007-3F900732FC1B">
          <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-2D552178-5650-5D10-A007-3F900732FC1B">
           <!-- -->
          </a>
          <p>
           retrieve the handle to the concrete implementation for
           McameraOverlay
           and
           McameraOverlay2
           using
           Ccamera::CustomInterface()
           method, when specific UIDS are passed.
          </p>
         </li>
         <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-63D351BC-D785-5CDE-B1DE-C30CB0390A7E">
          <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-63D351BC-D785-5CDE-B1DE-C30CB0390A7E">
           <!-- -->
          </a>
          <p>
           KECamMCameraOverlayUid
           and
           KECamMCameraOverlay2Uid
           are used to retrieve handle for
           McameraOverlay
           and
           McameraOverlay2
           derived class objects respectively.
          </p>
         </li>
        </ul>
       </li>
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-F8743483-77D7-56BF-AF45-89695A3770E0">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-F8743483-77D7-56BF-AF45-89695A3770E0">
         <!-- -->
        </a>
        <p>
         Get information about the overlay functionality supported by the ECam implementation server using
         <a href="GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9.html#GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9__GUID-3420058A-A1E3-3E80-99D3-CD0314B0227F">
          <span class="apiname">
           CCamera::CCameraOverlay::GetOverlaySupport()
          </span>
         </a>
         method.
        </p>
        <ul>
         <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-1771B0D9-020B-5AA2-B5A4-3CFA723CBBC6">
          <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-1771B0D9-020B-5AA2-B5A4-3CFA723CBBC6">
           <!-- -->
          </a>
          <p>
           Class
           Ccamera::CcameraOverlay::ToverlaySupportInfo
           retrieves the supported color formats.
          </p>
         </li>
         <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-27966949-6A01-5675-BAAB-BA3A09FE452F">
          <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-27966949-6A01-5675-BAAB-BA3A09FE452F">
           <!-- -->
          </a>
          <p>
           ECam implementation uses
           ToverlaySupportInfo::Size()
           and
           ToverlaySupportInfo::Version()
           to verify if client requires the same version of
           ToverlaySupportInfo
           . Client retrieves the overlay support per camera mode by passing the desired camera mode through
           ToverlaySupportInfo::iDesiredCameraMode
           .
          </p>
         </li>
         <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-3B2B03DA-F106-5926-9E26-9D17AACA37D1">
          <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-3B2B03DA-F106-5926-9E26-9D17AACA37D1">
           <!-- -->
          </a>
          <p>
           In viewfinder mode, client also passes the viewfinder handle
           ToverlaySupportInfo::iViewFinderHandle
           , for which the overlay support information is required.
          </p>
         </li>
         <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-33D59B7F-B15E-554C-A5D3-E556D88BC45E">
          <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-33D59B7F-B15E-554C-A5D3-E556D88BC45E">
           <!-- -->
          </a>
          <p>
           If client specifies
           ToverlaySupportInfo::
                     iDesiredCameraMode
           as
           <a href="GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9.html#GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9__GUID-E73C6D08-FFA7-3BF1-A652-E801D3AB0855">
            <span class="apiname">
             CCamera::CCameraOverlay::EmodeNone
            </span>
           </a>
           and
           ToverlaySupportInfo:: iViewFinderHandle
           as
           KECamOverlayNoSpecificViewFinderHandle
           , ECAM implementation provides the overlay support information applicable to every camera mode.
          </p>
         </li>
        </ul>
       </li>
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-2286C915-17D9-5605-8974-1D2C835C9F38">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-2286C915-17D9-5605-8974-1D2C835C9F38">
         <!-- -->
        </a>
        <p>
         Create an image overlay object using
         <a href="GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9.html#GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9__GUID-197F2DA4-6184-31C4-ABF5-D33207C65DE5">
          <span class="apiname">
           CCamera::CCameraOverlay::CreateOverlayL()
          </span>
         </a>
         method. After successful creation of overlay object on the ECam implementation, client receives a specific overlay handle as return value of
         <a href="GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9.html#GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9__GUID-197F2DA4-6184-31C4-ABF5-D33207C65DE5">
          <span class="apiname">
           CCamera::CCameraOverlay::CreateOverlayL()
          </span>
         </a>
         . Client also passes the parameters representing the overlay and the image to be used as an overlay.
        </p>
       </li>
      </ol>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Working with Overlays
      </h2>
      <p>
       You can do the following tasks when working with overlays.
      </p>
      <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-D0C94817-4057-5A18-8839-AC776C2AED5D">
       <!-- -->
      </a>
      <ol id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-D0C94817-4057-5A18-8839-AC776C2AED5D">
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-CC0ED63E-E99B-51ED-85E2-5047C15F4FF1">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-CC0ED63E-E99B-51ED-85E2-5047C15F4FF1">
         <!-- -->
        </a>
        <p>
         Make sure that you create an overlay object using
         <a href="GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9.html#GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9__GUID-197F2DA4-6184-31C4-ABF5-D33207C65DE5">
          <span class="apiname">
           CCamera::CCameraOverlay::CreateOverlayL()
          </span>
         </a>
         method. Multiple overlays may be created by the client. The specific overlay handle represents a particular overlay.
        </p>
       </li>
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-1A9E9D8B-B9A9-5AF7-AB8A-65749AAE99AE">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-1A9E9D8B-B9A9-5AF7-AB8A-65749AAE99AE">
         <!-- -->
        </a>
        <p>
         Get the overlay image data for a specified overlay using
         <a href="GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9.html#GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9__GUID-8028C077-13AA-3214-92E9-6AE19570B931">
          <span class="apiname">
           CCamera::CCameraOverlay::GetOverlayBitmapL()
          </span>
         </a>
         method. ECam implementation transfers the ownership of the overlay image to the client.
        </p>
       </li>
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-49DA8F5B-68BB-540F-9F44-8D241DFD8A5E">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-49DA8F5B-68BB-540F-9F44-8D241DFD8A5E">
         <!-- -->
        </a>
        <p>
         Get the overlay image parameters for a specified overlay using
         <a href="GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9.html#GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9__GUID-1C26E162-3263-38C2-9690-CBAE2272EBF6">
          <span class="apiname">
           CCamera::CCameraOverlay::GetOverlayParametersL()
          </span>
         </a>
         method.
        </p>
        <ul>
         <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-3D8BE4C5-E3FB-5526-821B-AFEE385F4776">
          <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-3D8BE4C5-E3FB-5526-821B-AFEE385F4776">
           <!-- -->
          </a>
          <p>
           ECam implementation uses
           ToverlayParameters
           object passed by the client to provide the relevant information. If overlay type specified by
           ToverlayParameters::iCurrentTypes
           is
           CCamera::CCameraOverlay::ToverlayType::EperPixel
           , alpha value given by
           ToverlayParameters::iAlphaValue
           will not be used.
          </p>
         </li>
         <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-DF011E1E-B74E-5E09-B971-66351874E486">
          <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-DF011E1E-B74E-5E09-B971-66351874E486">
           <!-- -->
          </a>
          <p>
           ToverlayParameters:: iViewFinderHandle
           provides the handle for the viewfinder on which the overlay is supposed to be applied.
          </p>
         </li>
         <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-FB60F04F-26D8-5B2F-85E8-5661FEB1ED4F">
          <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-FB60F04F-26D8-5B2F-85E8-5661FEB1ED4F">
           <!-- -->
          </a>
          <p>
           Only one viewfinder handle can be passed. If
           KECamOverlayNoSpecificViewFinderHandle
           is provided by the implementation, then the overlay is supposed to be applied for every viewfinder handle of type as given by
           iCurrentModes
           . If
           KECamOverlayInvalidViewFinderHandle
           is provided, then
           TOverlayParameters::iCurrentModes
           will not be omitted and overlay will be applied for every viewfinder along with other camera modes.
          </p>
         </li>
        </ul>
       </li>
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-0F77DD3D-A2B9-5244-A16F-AF59C54062C1">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-0F77DD3D-A2B9-5244-A16F-AF59C54062C1">
         <!-- -->
        </a>
        <p>
         Set overlay image data using
         <a href="GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9.html#GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9__GUID-F2235006-F093-3DDD-AB80-E461F4A56CE0">
          <span class="apiname">
           CCamera::CCameraOverlay::SetOverlayBitmapL()
          </span>
         </a>
         method, if it was not specified when the overlay was created using
         CreateOverlayL()
         method. This changes the overlay image data for a specified overlay.
        </p>
       </li>
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-58343E30-1DAC-54B7-95C5-6D28FE3255F6">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-58343E30-1DAC-54B7-95C5-6D28FE3255F6">
         <!-- -->
        </a>
        <p>
         When this method is called, overlay size should not be changed for a given overlay. Hence, the client should not call
         SetOverlayParametersL()
         after this method, since the new parameters might not be compatible with the overlay image set.
        </p>
       </li>
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-F189DC8E-7ED5-5619-91BA-CCB5B88446B2">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-F189DC8E-7ED5-5619-91BA-CCB5B88446B2">
         <!-- -->
        </a>
        <p>
         Set the new parameters for the specific overlay using
         <a href="GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9.html#GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9__GUID-EC9D9EF2-72BB-32D7-8941-138EF68932F9">
          <span class="apiname">
           CCamera::CCameraOverlay::SetOverlayParametersL()
          </span>
         </a>
         method.
        </p>
        <p>
         This might exit with an error if
         SetOverlayBitmapL()
         API is called before this method.
        </p>
       </li>
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-43798A6D-41CE-5C69-8A24-2449E799FE7B">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-43798A6D-41CE-5C69-8A24-2449E799FE7B">
         <!-- -->
        </a>
        <p>
         Set the overlay image data using
         <a href="GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9.html#GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9__GUID-CF904B94-CCE4-3CC0-8147-3DAC352B20F0">
          <span class="apiname">
           CCamera::CCameraOverlay::SetModifiableOverlayBitmapL()
          </span>
         </a>
         method, if it was not specified by
         CreateOverlayL()
         during overlay creation.
        </p>
        <p>
         Ownership of the overlay image is passed to the ECam implementation. See also
         <strong>
          step 5
         </strong>
         above.
        </p>
       </li>
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-FFD3E34A-9EA5-5769-8236-4E1DDA787CD6">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-FFD3E34A-9EA5-5769-8236-4E1DDA787CD6">
         <!-- -->
        </a>
        <p>
         Use the overloaded
         CCamera::CCameraOverlay::GetAllOverlaysInZOrderL
                (CCamera::CCameraOverlay::TOverlayCameraMode aOverlayCameraMode, TInt
                aViewFinderHandle, RArray&lt;TUint&gt;&amp; aOverlayHandles)
         method to get all mode-specific overlays in z-order from the ECam implementation server.
        </p>
       </li>
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-41258620-81F5-51F0-9404-F78E1CD57257">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-41258620-81F5-51F0-9404-F78E1CD57257">
         <!-- -->
        </a>
        <p>
         Implementation gives preference to the sequence in which the client has passed the overlay handles, if any mis-match occurs with the z-order of each such overlay. Implementation can improve the z-order of the overlays if required, to remove any ambiguity.
        </p>
       </li>
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-2D28F459-3D76-5CD1-BB51-4D024D096874">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-2D28F459-3D76-5CD1-BB51-4D024D096874">
         <!-- -->
        </a>
        <p>
         Use the overloaded
         CCamera::CCameraOverlay::SetAllOverlaysInZOrderL(CCamera::CCameraOverlay::TOverlayCameraMode
                aOverlayCameraMode, TInt aViewFinderHandle, const RArray&lt;TUint&gt;&amp;
                aOverlayHandles)
         method to set all mode-specific overlays in z-order from the ECam implementation server. See
         <strong>
          step 9
         </strong>
         above.
        </p>
       </li>
       <li id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-05B2747B-A467-5238-9F44-FE8A75F9247A">
        <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-05B2747B-A467-5238-9F44-FE8A75F9247A">
         <!-- -->
        </a>
        <p>
         Release the specific overlay from the ECam implementation server using
         <a href="GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9.html#GUID-5CF1EE7D-EAED-39F7-AF9D-73DD813B64F9__GUID-CEA872C2-9ED7-378A-8112-1D0B9AE88B90">
          <span class="apiname">
           CCamera::CCameraOverlay::ReleaseOverlay()
          </span>
         </a>
         method.
        </p>
       </li>
      </ol>
      <p>
       The following example code snippets illustrates the overlay implementation:
      </p>
      <pre class="codeblock" id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-E82A1C92-0CCC-509E-9679-5E87E713DDD0">
       <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-E82A1C92-0CCC-509E-9679-5E87E713DDD0">
        <!-- -->
       </a>
       CFbsBitmap* bitmap = new (ELeave) CFbsBitmap;
CCamera::CCameraOverlay::TOverlayParameters parameters;
TUint ovrhandle =0; 
ovrhandle = ovrlay-&gt;CreateOverlayL(parameters, bitmap));
CFbsBitmap* getBitmap = new (ELeave) CFbsBitmap;
ovrlay-&gt;GetOverlayBitmapL(ovrhandle, getBitmap);

ovrlay-&gt;GetOverlayParametersL(ovrhandle, parameters);

//client changes the bitmap as desired.
ovrlay-&gt;SetOverlayBitmapL(ovrhandle, bitmap);


CFbsBitmap* modifiedBitmap = new (ELeave) CFbsBitmap; 
ovrlay-&gt;SetModifiableOverlayBitmapL(ovrhandle,modifiedBitmap);   

ovrlay-&gt;ReleaseOverlay(ovrhandle);

RArray&lt;TUint&gt; overlayHandles;
ovrlay-&gt;GetAllOverlaysInZOrderL(CCamera::CCameraOverlay::EModeStillImage,1,overlayHandles);
ovrlay-&gt;SetAllOverlaysInZOrderL(overlayHandles);
      </pre>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Miscellaneous
      </h2>
      <p>
       <strong>
        Overlay camera modes
       </strong>
      </p>
      <p>
       You can specify the possible camera modes in which the overlay could be used using enum
       TOverlayCameraMode
       in the following way:
      </p>
      <div class="tablenoborder">
       <a name="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-FA244DD9-977E-5882-95EF-928BECD602CB">
        <!-- -->
       </a>
       <table cellpadding="4" cellspacing="0" summary="" id="GUID-8B7ABDB0-B016-5106-824E-D823F1D2959F__GUID-FA244DD9-977E-5882-95EF-928BECD602CB" frame="border" border="1" rules="all">
        <tbody>
         <tr>
          <td class="cellrowborder" valign="top">
           <p>
            <strong>
             Enum
            </strong>
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            <strong>
             Enum Value
            </strong>
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            <strong>
             Description
            </strong>
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top">
           <p>
            EModeStillImageSingleShot
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            0x0001
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            The image is to be overlaid when single shot Still Image driving mode is active.
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top">
           <p>
            EModeStillImageContinuous
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            0x0020
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            The image is to be overlaid when Continuous Still Image driving mode is active.
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top">
           <p>
            EModeStillImageBracket
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            0x0040
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            The image is to be overlaid when Still Image Bracketing driving mode is active.
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top">
           <p>
            EModeStillImageBracketMerge
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            0x0080
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            The image is to be overlaid when Still Image Bracketing with Merge option driving mode is active.
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top">
           <p>
            EModeStillImageTimed
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            0x0100
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            The image is to be overlaid when Timed Still Image driving mode is active.
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top">
           <p>
            EModeStillImageTimeLapse
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            0x0200
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            The image is to be overlaid when Timed Still Image with Lapse option driving mode is active.
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top">
           <p>
            EModeStillImageBurst
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            0x0400
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            The image is to be overlaid when Still Image Burst driving mode is active.
           </p>
          </td>
         </tr>
        </tbody>
       </table>
      </div>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       See also
      </h2>
      <p>
       <a href="GUID-AB5BD17E-F482-54A1-AE6F-4AEC178B2E0E.html">
        Overview
       </a>
       of the overlay functionality
      </p>
      <p>
       The
       <a href="GUID-10E19876-85CA-5D45-854B-1F2C5A45A333.html">
        Overlay
       </a>
       tutorial
      </p>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-28604BBC-1C43-56F3-8667-DAF869F38BDB.html">
        Tutorials
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>