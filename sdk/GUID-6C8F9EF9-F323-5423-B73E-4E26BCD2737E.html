<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="Building and use" />
  <meta name="DC.Relation" scheme="URI" content="GUID-5B9F2EEE-A5F6-5833-BFC4-3B063EA7EDF2.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-B394A824-8745-505E-8429-8B9B6D418387.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-1DF2D6EC-C445-5A0C-80C4-9C46AAA6EE44.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-5B9F2EEE-A5F6-5833-BFC4-3B063EA7EDF2.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Building and use
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E">
  <a name="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2403699 id2403748 id2403786 id2392196 id2392204 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html">
      Messaging Middleware Guide
     </a>
     &gt;
     <a href="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html">
      Messaging Framework
     </a>
     &gt;
     <a href="GUID-B394A824-8745-505E-8429-8B9B6D418387.html">
      Message Server and Store
     </a>
     &gt;
     <a href="GUID-1DF2D6EC-C445-5A0C-80C4-9C46AAA6EE44.html" title="This describes the example code for the Message Server and Store component.">
      Message Server and Store Example Code
     </a>
     &gt;
     <a href="GUID-5B9F2EEE-A5F6-5833-BFC4-3B063EA7EDF2.html">
      Messaging Text MTM example code
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Building and use
    </h1>
    <div>
     <p>
      The TextMTM can be built, deployed on the emulator or native platform, and its functionality experimented with through the messaging application.
     </p>
     <p>
      To do this requires a number of steps:
     </p>
     <ul>
      <li id="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-0751AD90-2DE5-55BF-B6E0-F14A92D3B7E5">
       <a name="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-0751AD90-2DE5-55BF-B6E0-F14A92D3B7E5">
        <!-- -->
       </a>
       <p>
        build all TextMTM projects for the relevant target
       </p>
      </li>
      <li id="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-3308609B-6B04-5744-93DB-7462888132E7">
       <a name="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-3308609B-6B04-5744-93DB-7462888132E7">
        <!-- -->
       </a>
       <p>
        run the
        <span class="filepath">
         txin
        </span>
        program to register the TextMTM with the Message Server
       </p>
      </li>
      <li id="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-667A7812-A797-5447-B953-7C05225B502B">
       <a name="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-667A7812-A797-5447-B953-7C05225B502B">
        <!-- -->
       </a>
       <p>
        run the messaging application, and experiment with creating and using TextMTM services and messages
       </p>
      </li>
     </ul>
     <p>
      The following sections contain more details on each of these.
     </p>
     <div class="section">
      <h2 class="sectiontitle">
       Building
      </h2>
      <p>
       The TextMTM is more complex than some other examples, as it is made up of a number of projects, some of which include headers from other projects, or link to the utilities DLL
       <span class="filepath">
        txut
       </span>
       .
      </p>
      <p>
       To do a build, perform the normal steps of
       <samp class="codeph">
        bldmake
          bldfiles
       </samp>
       and
       <samp class="codeph">
        abld build &lt;target-platform&gt;
       </samp>
       .
      </p>
      <p>
       Note that:
      </p>
      <ul>
       <li id="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-D2D95328-8AF4-5A39-80BA-8EEEF34C0B37">
        <a name="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-D2D95328-8AF4-5A39-80BA-8EEEF34C0B37">
         <!-- -->
        </a>
        <p>
         UI resources and icons for the MTM are built to
         <span class="filepath">
          \resource\messaging\
         </span>
         .
        </p>
       </li>
       <li id="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-EB09EE23-8CF3-50EA-8A1D-60BAA4282257">
        <a name="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-EB09EE23-8CF3-50EA-8A1D-60BAA4282257">
         <!-- -->
        </a>
        <p>
         A resource file that provides information to register the MTM with the messaging server is built to
         <span class="filepath">
          \resource\messaging\mtm\
         </span>
         .
        </p>
       </li>
       <li id="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-B31F35B5-D9FC-50CB-82AA-E931DDAC38CF">
        <a name="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-B31F35B5-D9FC-50CB-82AA-E931DDAC38CF">
         <!-- -->
        </a>
        <p>
         The
         <span class="filepath">
          bld.inf
         </span>
         's file
         <samp class="codeph">
          PRJ_EXPORTS
         </samp>
         section lists header files copied into
         <span class="filepath">
          \epoc32\include
         </span>
         .
        </p>
        <p>
         The MTM stores its settings in its own area in the central repository. This requires a repository initialisation file (
         <span class="filepath">
          10005247.txt
         </span>
         ) to be supplied. The
         <span class="filepath">
          bld.inf
         </span>
         does this by exporting the file to the central repository private directory
         <span class="filepath">
          z:\private\10202BE9\
         </span>
         .
        </p>
       </li>
      </ul>
      <p>
       The final step, registering the MTM, is not performed by the build process, and is described below.
      </p>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Registration
      </h2>
      <p>
       On the Emulator, you should have run the messaging application at least once before registering the TextMTM, as this creates some necessary folders.
      </p>
      <p>
       Before you can use the TextMTM, you must inform the Message Server of the TextMTM registration data. To do this, run the
       <span class="filepath">
        txin
       </span>
       program, a simple console program.
      </p>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Use
      </h2>
      <p>
       Start the messaging application in the normal way. You will find that it has automatically detected the presence of the new MTM and added suitable commands to the user interface. For details of the available functionality, see the other documentation on individual TextMTM components, but to get started, try the following:
      </p>
      <ul>
       <li id="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-38518755-C9E0-509A-8821-85A92C8BA784">
        <a name="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-38518755-C9E0-509A-8821-85A92C8BA784">
         <!-- -->
        </a>
        <p>
         Create a new TextMTM service. You will be asked to choose a directory to be mapped to the TextMTM service.
        </p>
        <p>
         Note that directories such as
         <span class="filepath">
          \private\
         </span>
         and
         <span class="filepath">
          \sys\
         </span>
         cannot be used, as platform security requires that access to those directories is restricted.
        </p>
       </li>
       <li id="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-A5C05146-BA53-5348-8284-F31D68A0975F">
        <a name="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-A5C05146-BA53-5348-8284-F31D68A0975F">
         <!-- -->
        </a>
        <p>
         Create a new TextMTM message. As the TextMTM does not include a user interface for message editing and viewing, it simulates this activity by flashing an
         <samp class="sysout">
          Editing
         </samp>
         information message.
        </p>
       </li>
       <li id="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-F463A532-74E2-5DCB-9BF2-EC539333F171">
        <a name="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-F463A532-74E2-5DCB-9BF2-EC539333F171">
         <!-- -->
        </a>
        <p>
         Select a TextMTM message in a local folder. Check that a special
         <samp class="sysout">
          Export text to file
         </samp>
         command appears in the application's menu and use it.
        </p>
       </li>
       <li id="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-02036CB1-7F8C-507B-B3D6-E2396C9124F8">
        <a name="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-02036CB1-7F8C-507B-B3D6-E2396C9124F8">
         <!-- -->
        </a>
        <p>
         Cut, copy, and paste messages between local folders and the service.
        </p>
       </li>
       <li id="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-D602FDE7-6C88-5055-8886-676C66AA7C0D">
        <a name="GUID-6C8F9EF9-F323-5423-B73E-4E26BCD2737E__GUID-D602FDE7-6C88-5055-8886-676C66AA7C0D">
         <!-- -->
        </a>
        <p>
         Add and remove files (e.g. through Windows Explorer when using the Emulator) manually from the directory mapped to the TextMTM service. In messaging, go to the service and see that a special
         <samp class="sysout">
          Refresh
                service
         </samp>
         menu command appears. Use this and check that the service now accurately reflects the state of the directory.
        </p>
       </li>
      </ul>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-5B9F2EEE-A5F6-5833-BFC4-3B063EA7EDF2.html">
        Messaging Text MTM example code
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>