<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="Choosing a Parser Plug-in" />
  <meta name="DC.Relation" scheme="URI" content="GUID-4A9255D1-42A4-57FA-A4B4-42C552964047.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-82AF5F49-EE25-54C7-AEE9-D1F41BD5190F.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-A25E730C-F34D-5464-BE78-650B3DEA4A88.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-AF28D930-6BD1-5DC5-9BE5-7512241E90CD.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-4A9255D1-42A4-57FA-A4B4-42C552964047.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-E16070E5-379A-5818-81CC-B00059A40084" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Choosing a Parser Plug-in
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-E16070E5-379A-5818-81CC-B00059A40084">
  <a name="GUID-E16070E5-379A-5818-81CC-B00059A40084">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2400716 id2400725 id2518205 id2518226 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-82AF5F49-EE25-54C7-AEE9-D1F41BD5190F.html">
      XML Services Guide
     </a>
     &gt;
     <a href="GUID-A25E730C-F34D-5464-BE78-650B3DEA4A88.html">
      XML
     </a>
     &gt;
     <a href="GUID-AF28D930-6BD1-5DC5-9BE5-7512241E90CD.html">
      XML Framework
     </a>
     &gt;
     <a href="GUID-4A9255D1-42A4-57FA-A4B4-42C552964047.html">
      XML Framework Tutorials
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Choosing a Parser Plug-in
    </h1>
    <div>
     <p>
      This section explains how to specify a particular XML parser in a client application.
     </p>
     <div class="section">
      <h2 class="sectiontitle">
       Introduction
      </h2>
      <p>
       XML framework contains several parser plug-ins for a particular MIME type. XML framework provides further criteria to allow the Symbian developers to choose the suitable parser plug-in. This is useful for interoperability, porting open source and performance.
      </p>
      <p>
       There are two ways of choosing a parser plug-in; in both cases, the MIME type of the file to be parsed must be known. Each implementation of plug-in parser is described by two string-based attributes in the parser’s plug-in registration information:
      </p>
      <ul>
       <li id="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-C90EB73B-3EB3-576D-9482-B34419E9FDF6">
        <a name="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-C90EB73B-3EB3-576D-9482-B34419E9FDF6">
         <!-- -->
        </a>
        <p>
         <strong>
          MIME type
         </strong>
         - Specifies the MIME types supported by that implementation of plug-in parser.
        </p>
       </li>
       <li id="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-FF9E5CD6-5012-5C42-BFFE-332B7074E6C0">
        <a name="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-FF9E5CD6-5012-5C42-BFFE-332B7074E6C0">
         <!-- -->
        </a>
        <p>
         <strong>
          Variant identifier
         </strong>
         (optional) - Specifies the parser’s variant identifier (ID) string. The framework does not provide interpretation on the string to be placed. However, the parser provider must publish which variant ID must be used with the XML framework, so that their particular parser implementation is instantiated.
        </p>
       </li>
      </ul>
      <p>
       This functionality is provided in
       XML::CMatchData
       class which is supplied to three API methods (
       <samp class="codeph">
        NewL
       </samp>
       ,
       <samp class="codeph">
        NewLC
       </samp>
       , and
       <samp class="codeph">
        ParseBginL
       </samp>
       ) of the
       XML::CParser
       class.
      </p>
      <p>
       Call the constructor method of a
       <a href="GUID-3C824E3B-68AB-31C5-A3D7-26A73B53D076.html">
        <span class="apiname">
         CParser
        </span>
       </a>
       object with the MIME type as a parameter. However, specify a particular parser variant (usually identified by the name of its supplier) as described in the Procedure section.
      </p>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Procedure
      </h2>
      <p>
       Follow the procedure given below to choose a parser plug-in and parse the XML:
      </p>
      <a name="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-A0C24252-C9BA-5073-809F-ED87CA0674FD">
       <!-- -->
      </a>
      <ol id="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-A0C24252-C9BA-5073-809F-ED87CA0674FD">
       <li id="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-AE8B4D9D-C92C-5B6B-81A5-AE5690996D50">
        <a name="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-AE8B4D9D-C92C-5B6B-81A5-AE5690996D50">
         <!-- -->
        </a>
        <p>
         Construct a
         CMatchData
         object, and set the data about the files and parser variant to it.
        </p>
        <pre class="codeblock" id="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-153866B2-277C-5FEE-9E6E-C02D90BA0D8F">
         <a name="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-153866B2-277C-5FEE-9E6E-C02D90BA0D8F">
          <!-- -->
         </a>
         // Create CMatchData object
CMatchData *matchData = CMatchData::NewLC();

// Set Type
matchData-&gt;SetMimeTypeL( _LIT( “text/xml” ) );

// Set variant string
matchData-&gt;SetVariantL( _LIT( “LicenseeX” ) );
        </pre>
       </li>
       <li id="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-5E140D20-7239-57C6-896C-F68CF7285CEC">
        <a name="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-5E140D20-7239-57C6-896C-F68CF7285CEC">
         <!-- -->
        </a>
        <p>
         Construct an instance of a parser plug-in and pass the
         CMatchData
         object to its constructor method.
        </p>
        <pre class="codeblock" id="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-438AC57A-8B36-5782-8C67-E853F00B142E">
         <a name="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-438AC57A-8B36-5782-8C67-E853F00B142E">
          <!-- -->
         </a>
         // Call creation method (assumption that content handler was created previously)
CParser* parser = CParser::NewLC( *matchData, *contentHandler );

// Use the parser
// ….

// Destroy the parser and CMatchData object
CleanupStack::PopAndDestroy( 2, matchData );
        </pre>
       </li>
       <li id="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-C1216537-EC67-5A3C-BE71-398D6A986117">
        <a name="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-C1216537-EC67-5A3C-BE71-398D6A986117">
         <!-- -->
        </a>
        <p>
         Call the parser plug-in to parse the XML.
        </p>
        <p>
         To parse a document, write code which includes calls to the parse methods of a
         <samp class="codeph">
          CParser
         </samp>
         object from the global parse methods provided with the framework. The global parse methods are as follows:
        </p>
        <p>
         <strong>
          A
         </strong>
         :
         Xml::ParseL( Xml::CParser&amp; aParser,
                const TDesC8&amp; aContent )
        </p>
        <p>
         <strong>
          B
         </strong>
         :
         Xml::ParseL( Xml::CParser&amp; aParser,
                RFs&amp; aFs, const TDesC&amp; aFilename )
        </p>
        <p>
         <strong>
          C
         </strong>
         :
         Xml::ParseL( Xml::CParser&amp; aParser,
                RFile&amp; aFile )
        </p>
        <p>
         The global parse methods call the following
         <samp class="codeph">
          CParser
         </samp>
         object parse methods:
        </p>
        <ul>
         <li id="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-1FC654D3-861B-5D8F-B82B-0F88408CB9A7">
          <a name="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-1FC654D3-861B-5D8F-B82B-0F88408CB9A7">
           <!-- -->
          </a>
          <p>
           ParseBeginL()
          </p>
         </li>
         <li id="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-07B4CCBB-403D-5992-9C4D-D21B4A3D0226">
          <a name="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-07B4CCBB-403D-5992-9C4D-D21B4A3D0226">
           <!-- -->
          </a>
          <p>
           ParseBeginL( const TDesC8&amp; aDocumentMimeType
                     )
          </p>
         </li>
         <li id="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-564A5D9A-72AB-5BD2-A5F7-A0C8B9FB6B33">
          <a name="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-564A5D9A-72AB-5BD2-A5F7-A0C8B9FB6B33">
           <!-- -->
          </a>
          <p>
           ParseL( const TDesC8&amp; aFragment )
          </p>
         </li>
         <li id="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-9A4CB6F9-3215-5F6E-AEA7-D5623A7F8812">
          <a name="GUID-E16070E5-379A-5818-81CC-B00059A40084__GUID-9A4CB6F9-3215-5F6E-AEA7-D5623A7F8812">
           <!-- -->
          </a>
          <p>
           ParseEndL()
          </p>
         </li>
        </ul>
        <p>
         <strong>
          Note
         </strong>
         : Methods to be called depends on the nature of the input to the parser. Input may consist of one or several files, and it may be received in one piece or asynchronously in chunks. The files may be same or of different types, and asynchronous input may or may not be buffered before parsing.
        </p>
        <p>
         Global parse method
         <strong>
          A
         </strong>
         makes a single call to each of the
         <a href="GUID-3C824E3B-68AB-31C5-A3D7-26A73B53D076.html">
          <span class="apiname">
           CParser
          </span>
         </a>
         parse methods. This is the simplest approach but it works only while parsing a single file which has been buffered previously. Global parse methods
         <strong>
          B
         </strong>
         and
         <strong>
          C
         </strong>
         have the same functionality; the only difference is how they identify the input file (by name or from an
         <samp class="codeph">
          RFile
         </samp>
         object). They call
         <samp class="codeph">
          CParser::ParseL()
         </samp>
         in a loop and then call
         <samp class="codeph">
          CParser::ParseEnd()
         </samp>
         . The use of a loop means that input does not have to be buffered, but only one file can be parsed by this technique. This is because of the functionality of the
         <samp class="codeph">
          CParser
         </samp>
         parse methods.
        </p>
        <p>
         To parse several unbuffered documents of the same type, multiple calls to global parse method B or C are required. To parse several buffered documents possibly of different types, multiple calls to global parse method A are required. Other eventualities require individual calls to the parse methods of
         <samp class="codeph">
          CParser
         </samp>
         .
        </p>
       </li>
      </ol>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-4A9255D1-42A4-57FA-A4B4-42C552964047.html">
        XML Framework Tutorials
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>