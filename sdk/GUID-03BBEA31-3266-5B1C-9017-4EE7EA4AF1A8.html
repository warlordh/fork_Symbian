<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="Creating and Signing an Installation File" />
  <meta name="DC.Relation" scheme="URI" content="GUID-A4C26317-9F76-587E-A4B6-D94892ACF11B.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-0AF47934-0A16-51A2-9254-992D7C6B322B.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-8E160B29-18C4-574B-9259-9A8E958CDA91.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-ED2D5BEA-AD2A-51CE-8CBC-8B5E33DD6356.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-A4C26317-9F76-587E-A4B6-D94892ACF11B.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-AA555CC1-5CFF-5609-9191-8970F32BA255.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-4BDC9F63-83A1-53A5-91A0-B092AA821755.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-B20EE8A3-D7B2-5872-AF43-001A88C1A46E.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Creating and Signing an Installation File
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8">
  <a name="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2470468 id2470458 id2470337 id2470257 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-0AF47934-0A16-51A2-9254-992D7C6B322B.html">
      Application Installation Guide
     </a>
     &gt;
     <a href="GUID-8E160B29-18C4-574B-9259-9A8E958CDA91.html">
      Secure Software Install Tools
     </a>
     &gt;
     <a href="GUID-ED2D5BEA-AD2A-51CE-8CBC-8B5E33DD6356.html">
      Secure Software Install SIS Tools
     </a>
     &gt;
     <a href="GUID-A4C26317-9F76-587E-A4B6-D94892ACF11B.html">
      Secure Software Install SIS Tools Tutorials
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Creating
and Signing an Installation File
    </h1>
    <div>
     <div class="section">
      <h2 class="sectiontitle">
       Introduction
      </h2>
      <p>
       A Software Installation (SIS) file
can be generated as an unsigned file, a self-signed or signed file. Self-signed
and unsigned packages are considered to be
       <em>
        unknown
       </em>
       , and are installed
by the Software Installer, depending on the security policy of the Symbian
device.
      </p>
      <p>
       If the
       <span class="filepath">
        SIS
       </span>
       file is signed, the Software
Installer validates the certificate chains and based on verification, installs
the
       <span class="filepath">
        SIS
       </span>
       file or aborts the installation.
      </p>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Procedure
      </h2>
      <a name="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-F956C034-BA59-5811-9043-BF0D77F10677">
       <!-- -->
      </a>
      <ol id="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-F956C034-BA59-5811-9043-BF0D77F10677">
       <li id="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-9842671A-A9BE-5CC1-A957-D2AA09B2B6D0">
        <a name="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-9842671A-A9BE-5CC1-A957-D2AA09B2B6D0">
         <!-- -->
        </a>
        <p>
         Create a private key-public
key pair and certificate request using the
         <a href="GUID-557BF1DA-B6E8-521B-89F0-15C84E3BCB1A.html" title="The MakeKeys tool creates private key-public key pair and certificate requests. MakeKeys can be run from an MSDOS command prompt or as a batch file.">
          MakeKeys
         </a>
         tool.
For details, see
         <a href="GUID-D45A4AE9-4169-4466-B02B-629B15C3E9AA.html" title="The MakeKeys tool is a PC-side stand-alone tool that helps you to create a private key-public key pair and generate certificate requests.">
          MaKeKeys
Tutorial
         </a>
         .
        </p>
       </li>
       <li id="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-030DB6CF-22B6-529A-9915-38A4AD2A8A92">
        <a name="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-030DB6CF-22B6-529A-9915-38A4AD2A8A92">
         <!-- -->
        </a>
        <p>
         Submit the certificate
request to a Certificate Authority (CA) and receive an authenticated digital
certificate.
        </p>
       </li>
       <li id="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-F8CDA8A6-4FD1-5F96-9D50-E2B7323504B5">
        <a name="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-F8CDA8A6-4FD1-5F96-9D50-E2B7323504B5">
         <!-- -->
        </a>
        <p>
         Create a package (PKG)
file containing all the elements required to create the installation file.
For details see
         <a href="GUID-43B4B4E7-413E-5D18-811C-4B9E38CDEB69.html">
          PKG
File Format
         </a>
         .
        </p>
       </li>
       <li id="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-80F3E1E2-7E61-53B7-948F-651BA163469E">
        <a name="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-80F3E1E2-7E61-53B7-948F-651BA163469E">
         <!-- -->
        </a>
        <p>
         Run
         <a href="GUID-4BDC9F63-83A1-53A5-91A0-B092AA821755.html">
          MakeSIS
         </a>
         at
the command prompt to create an unsigned SIS file. Specify the PKG file as
input argument, as shown in the following example:
        </p>
        <div class="p">
         <pre class="codeblock" id="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-44397CFA-9650-5C19-8F47-015A3BC90D88">
          <a name="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-44397CFA-9650-5C19-8F47-015A3BC90D88">
           <!-- -->
          </a>
          makesis mypackage.pkg
         </pre>
        </div>
        <p>
         <samp class="codeph">
          MakeSIS
         </samp>
         generates an unsigned SIS file.
        </p>
       </li>
       <li id="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-C1190F84-8E02-5C57-90BE-3C3CCB0AAE04">
        <a name="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-C1190F84-8E02-5C57-90BE-3C3CCB0AAE04">
         <!-- -->
        </a>
        <p>
         Run
         <a href="GUID-B20EE8A3-D7B2-5872-AF43-001A88C1A46E.html">
          SignSIS
         </a>
         at
the command prompt to sign the unsigned SIS file. Specify the unsigned SIS
file as input, and public key certificate and private key as arguments, as
shown in the following example:
        </p>
        <div class="p">
         <pre class="codeblock" id="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-A674816E-D8AF-5B9F-839B-3D53C337D481">
          <a name="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-A674816E-D8AF-5B9F-839B-3D53C337D481">
           <!-- -->
          </a>
          signsis trustedchain.pem eecertkey.key mypackage.sis
         </pre>
        </div>
        <p>
         Based on the certificate provided as input,
         <samp class="codeph">
          SignSiS
         </samp>
         generates
a signed SIS file. For details, see
         <a href="GUID-AFBD4ED6-9588-531C-8EDF-566DB1D03088.html">
          Signing
         </a>
        </p>
       </li>
      </ol>
      <div class="note">
       <span class="notetitle">
        Note:
       </span>
       As an alternative to step 4 and 5, run the
       <a href="GUID-AA555CC1-5CFF-5609-9191-8970F32BA255.html">
        CreateSIS
       </a>
       tool
at the command prompt to generate and sign the installation file. Specify
the trusted certificate-key pairs as arguments, as shown in the following
example:
       <pre class="codeblock">
        createsis create -cert trustedchain.pem -key eecertkey.key mypackage.pkg
       </pre>
      </div>
      <p>
       The process of creating an installation file can be
understood using the following illustration:
      </p>
      <div class="fignone" id="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-DB0D2E8C-E8B6-46C8-8CF4-1970EA1B3A03">
       <a name="GUID-03BBEA31-3266-5B1C-9017-4EE7EA4AF1A8__GUID-DB0D2E8C-E8B6-46C8-8CF4-1970EA1B3A03">
        <!-- -->
       </a>
       <img src="GUID-B46C54AD-268C-58A0-B244-134C4D8BDFE1_d0e19648_href.png" />
      </div>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Notes
      </h2>
      <p>
       While creating a SIS file using the
       <strong>
        CreateSIS
       </strong>
       tool,
if you do not specify the key or certificate on the command line the
       <samp class="codeph">
        create
       </samp>
       method
generates a key and a matching self-signed certificate, and uses it to sign
the resulting SIS file.
      </p>
      <p>
       The generated certificate and key is dumped
into the current working directory as
       <span class="filepath">
        cert-gen.cer
       </span>
       and
       <span class="filepath">
        key-gen.key
       </span>
       files.
If
       <span class="filepath">
        key-gen.key
       </span>
       exists, the certificate and key filenames
are indexed incrementally. That is,
       <span class="filepath">
        cert-genx.cer
       </span>
       and
       <span class="filepath">
        key-genx.key
       </span>
       ,
where
       <em>
        x
       </em>
       is the incremental index.
      </p>
      <p>
       <strong>
        Note:
       </strong>
       The passphrase
encryption is not an option. It must be provided with the
       <samp class="codeph">
        -pass
       </samp>
       option.
If this option is not specified,
       <strong>
        CreateSIS
       </strong>
       prompts for the passphrase
during key generation.
      </p>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-A4C26317-9F76-587E-A4B6-D94892ACF11B.html">
        Secure Software Install SIS Tools Tutorials
       </a>
      </div>
     </div>
     <div class="relinfo relref">
      <strong>
       Related reference
      </strong>
      <br />
      <div>
       <a href="GUID-AA555CC1-5CFF-5609-9191-8970F32BA255.html">
        CreateSIS
       </a>
      </div>
      <div>
       <a href="GUID-4BDC9F63-83A1-53A5-91A0-B092AA821755.html">
        MakeSIS
       </a>
      </div>
      <div>
       <a href="GUID-B20EE8A3-D7B2-5872-AF43-001A88C1A46E.html">
        SignSIS
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>