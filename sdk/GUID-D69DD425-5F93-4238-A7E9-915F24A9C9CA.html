<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="Open C MessageQueue Library Example" />
  <meta name="DC.Relation" scheme="URI" content="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-E2DE2C6F-E071-5E88-96F1-D71DDED84609.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-D79380CF-22B5-5865-9366-44118E8ECA2E.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-D69DD425-5F93-4238-A7E9-915F24A9C9CA" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Open C MessageQueue Library Example
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-D69DD425-5F93-4238-A7E9-915F24A9C9CA">
  <a name="GUID-D69DD425-5F93-4238-A7E9-915F24A9C9CA">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2682564 id2682464 id2682433 id2682164 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">
      Generic OS Services Guide
     </a>
     &gt;
     <a href="GUID-E2DE2C6F-E071-5E88-96F1-D71DDED84609.html">
      Generic Open Libraries
     </a>
     &gt;
     <a href="GUID-D79380CF-22B5-5865-9366-44118E8ECA2E.html">
      Open Environment Core (P.I.P.S.)
     </a>
     &gt;
     <a href="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html">
      P.I.P.S. Examples
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Open
C MessageQueue Library Example
    </h1>
    <div>
     <p>
      The Message Queue Library example demonstrates how to use Open C APIs for
developing applications that use Open C standard libraries on Symbian platform.
This example uses the APIs of the message queue library to create/close message
queues and send/receive messages and also get information on created message
queues.
     </p>
     <div class="section" id="GUID-D69DD425-5F93-4238-A7E9-915F24A9C9CA__GUID-026FD8D6-6C4A-5958-B289-775D4AE1E756-GENID-1-10-1-13-1-1-5-1-3-1-11-1-12-1-2-2">
      <a name="GUID-D69DD425-5F93-4238-A7E9-915F24A9C9CA__GUID-026FD8D6-6C4A-5958-B289-775D4AE1E756-GENID-1-10-1-13-1-1-5-1-3-1-11-1-12-1-2-2">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       Download
      </h2>
      <p>
       Click
on the following link to download the example:
       <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/zips/guid-9db026cc-ac23-4593-8bbc-4b251c085d4f.zip" target="_blank">
        opencmessagequeuelibraryex.zip
       </a>
      </p>
      <p>
       Click:
       <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/guid-9db026cc-ac23-4593-8bbc-4b251c085d4f.html">
        browse
       </a>
       to view the example code.
      </p>
     </div>
     <div class="section" id="GUID-D69DD425-5F93-4238-A7E9-915F24A9C9CA__GUID-7E7C4564-B10E-41F9-8A9D-D8A6C5E9C51C-GENID-1-10-1-13-1-1-5-1-3-1-11-1-12-1-2-3">
      <a name="GUID-D69DD425-5F93-4238-A7E9-915F24A9C9CA__GUID-7E7C4564-B10E-41F9-8A9D-D8A6C5E9C51C-GENID-1-10-1-13-1-1-5-1-3-1-11-1-12-1-2-3">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       Design and
Implementation
      </h2>
      <p>
       The following sections provide information about
the implementation of the example.
      </p>
      <p>
       <strong>
        Description
       </strong>
      </p>
      <p>
       OpenCMessageQueueClientEx
is a C Application that uses the  Message Queue library. This application
uses main() as the entry point for the application. This is a simple console
based application. The application uses Message Queue library (OpenCMessageQueueLibrary.dll)
APIs.  The Main thread of the application creates two message queues, and
two threads. Thread one will send message to message queue 1 and waits for
messages from message queue 2. Then thread one will send message to message
queue 2 and waits for messages from message queue 1. If a user tries to create
a message queue using OpenCMessageQueueLibrary.dll with the already
existing name, it will just return the existing message queue Id. The application
has its own icon and can be launched from the UI both in the emulator  and
in the device.
      </p>
      <p>
       <strong>
        Capabilities
       </strong>
      </p>
      The program capabilities are
defined in:
      <span class="filepath">
       MessageQueueLibrary.mmp
      </span>
      (DLL - library):
      <samp class="codeph">
       CAPABILITY
ALL -TCB
      </samp>
      <span class="filepath">
       MessageQueueClient.mmp
      </span>
      (EXE - application):
      <samp class="codeph">
       CAPABILITY
NONE
      </samp>
      .
      <p>
       <strong>
        Module hierarchy
       </strong>
      </p>
      This application has 2 modules
as below:
      <p>
       Message Queue Library (DLL) that exports set of apis for the
user.
      </p>
      <p>
       OpenCMessageQueueLibraryEx\engine : The application (EXE) that
demonstrates the usage of Open C APIs and also those APIs exported by Message
Queue Library.
      </p>
      <p>
       (OpenCMessageQueueLibraryEx\exe) : This example will
create a DLL which exports set of generic APIs with which the user can do
message queue related operations.   To give a rough idea on how to use these
apis, an EXE is provided that creates threads and does send/receive on message
queues using those exported apis.
      </p>
      <p>
       <strong>
        APIs used
       </strong>
      </p>
      <p>
       msgget
      </p>
      <p>
       msgctl
      </p>
      <p>
       msgrcv
      </p>
      <p>
       msgsnd
      </p>
      <p>
       semget
      </p>
      <p>
       semctl
      </p>
      <p>
       semop
      </p>
     </div>
     <div class="section" id="GUID-D69DD425-5F93-4238-A7E9-915F24A9C9CA__GUID-67A72761-1D92-46D1-B1C9-7455978BDE4E-GENID-1-10-1-13-1-1-5-1-3-1-11-1-12-1-2-4">
      <a name="GUID-D69DD425-5F93-4238-A7E9-915F24A9C9CA__GUID-67A72761-1D92-46D1-B1C9-7455978BDE4E-GENID-1-10-1-13-1-1-5-1-3-1-11-1-12-1-2-4">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       Building and
Using
      </h2>
      To build the Message Queue Library example application, go to
the
      <span class="filepath">
       OpenCMessageQueueLibraryEx\group
      </span>
      directory and build
the application.  The Message Queue Library application consists of two modules,
which should be built in the following order:   engine - which builds the
generic message queue library  exe - which builds an EXE that demonstrates
the usage of this library  The definition for the whole application can be
found in the
      <span class="filepath">
       bld.inf
      </span>
      in the group subdirectory of the applications
main directory.
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html">
        P.I.P.S. Examples
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>