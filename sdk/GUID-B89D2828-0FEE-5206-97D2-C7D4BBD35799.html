<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="How is the Comms Database secured" />
  <meta name="abstract" content="This topic describes the security issues that govern access to the Comms Database." />
  <meta name="description" content="This topic describes the security issues that govern access to the Comms Database." />
  <meta name="DC.Relation" scheme="URI" content="GUID-1AFDDD6F-CB99-587D-A0B5-D3F5B27F7135.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-C3018CEE-865B-595A-A735-40E11665E50A.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-BD971173-E009-58DA-AF9C-F4AAFF77B138.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-1AFDDD6F-CB99-587D-A0B5-D3F5B27F7135.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-4BFEDD79-9502-526A-BA7B-97550A6F0601.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   How is the Comms Database secured
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799">
  <a name="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2562582 id2562781 id2562786 id2562808 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-8F2D6AC8-8357-55C7-970B-CD2684BA9B04.html" title="The Communications Framework is the base for all communications, network and telephony services that Symbian platform provides. The Communications Framework manages the communications threads and the flow of information between those threads. The Framework also manages and stores the communications related settings.">
      Communications Framework Guide
     </a>
     &gt;
     <a href="GUID-C3018CEE-865B-595A-A735-40E11665E50A.html">
      Communications Configuration Utilities
     </a>
     &gt;
     <a href="GUID-BD971173-E009-58DA-AF9C-F4AAFF77B138.html">
      Comms Database
     </a>
     &gt;
     <a href="GUID-1AFDDD6F-CB99-587D-A0B5-D3F5B27F7135.html">
      Concepts
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     How
is the Comms Database secured
    </h1>
    <div>
     <p>
      This topic describes the security issues that govern access to
the Comms Database.
     </p>
     <p>
      Symbian platform uses platform security capabilities to protect
the data in the Comms Database. The CommsDat API accesses the Comms Database
through a client/server mechanism. Capabilities are policed at the client/server
interface.
     </p>
     <p>
      All elements in the Comms Database can have an access level. This means
that all tables, records, columns, and fields can have an access level. The
access level defines the type of access that elements offer to tools and applications.
The access level available to tools and applications also depends on the platform
security capabilities assigned to those tools and applications.
     </p>
     <div class="section" id="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-01939D1C-B904-5388-AC5E-C727BEA808C8">
      <a name="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-01939D1C-B904-5388-AC5E-C727BEA808C8">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       Access levels
      </h2>
      <p>
       The
CommsDat API offers tools and applications 5 access levels to an element :
      </p>
      <ul>
       <li id="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-60820978-310E-5785-A11B-47E132F07330">
        <a name="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-60820978-310E-5785-A11B-47E132F07330">
         <!-- -->
        </a>
        <p>
         hidden : the element
contains data that must not be seen.
        </p>
       </li>
       <li id="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-3414C7B7-8A30-5320-B49F-53527793148D">
        <a name="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-3414C7B7-8A30-5320-B49F-53527793148D">
         <!-- -->
        </a>
        <p>
         private : the element
contains private data. For example, username or password data.
        </p>
       </li>
       <li id="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-EA1DFE7F-5F9D-5E32-9211-3742169175D9">
        <a name="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-EA1DFE7F-5F9D-5E32-9211-3742169175D9">
         <!-- -->
        </a>
        <p>
         protected write : the
element contains data that must be protected from most processes. For example,
this can be data set by network operators.
        </p>
       </li>
       <li id="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-08E8B6B9-DE74-574F-9382-1CE85D0B2B94">
        <a name="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-08E8B6B9-DE74-574F-9382-1CE85D0B2B94">
         <!-- -->
        </a>
        <p>
         basic read-only guard
: this access level is not used by the CommsDat API but exists for backward
compatibilty with the legacy CommDb.
        </p>
       </li>
       <li id="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-AA0B2EA9-63DA-53B4-B1CA-3106A54148E8">
        <a name="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-AA0B2EA9-63DA-53B4-B1CA-3106A54148E8">
         <!-- -->
        </a>
        <p>
         default : the element
has no explicit access level.
        </p>
       </li>
      </ul>
      <p>
       The CommsDat API uses the flag bits defined by the
       TCDAttributeFlags
       enum
to indicate the levels of access to an element. The bits are known as the
access control attributes of an element.
      </p>
      <p>
       Tools and applications use
the CommsDat API functions
       CommsDat::CMDBElement::SetAttributes()
       and
       CommsDat::CMDBElement::ClearAttributes()
       to set
the access control bits in the
       <samp class="codeph">
        iElementId
       </samp>
       member of
       CMDBElement
       and to set the access levels into
the element in the Comms Database.
      </p>
     </div>
     <div class="section" id="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-834A910B-336E-5DB0-94B3-BB41E9691D28">
      <a name="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-834A910B-336E-5DB0-94B3-BB41E9691D28">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       How platform
security capabilities work with access           levels
      </h2>
      <p>
       Tools and
application processes without capabilities cannot write to the Comms Datababase.
Processes without capabilities cannot damage the integrity of data in the
Comms Database. Platform security makes sure that processes without capability
cannot deny use of the database to other clients.
      </p>
      <p>
       To read or write
elements in the Comms Database, tools and application processes must have
the correct platform security capabilities. The following table lists the
combination of capabilities and access levels to read and write elements.
      </p>
      <div class="tablenoborder">
       <a name="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-1AEB546F-72E3-5AF9-98FA-2E8ABE75EF0B">
        <!-- -->
       </a>
       <table cellpadding="4" cellspacing="0" summary="" id="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-1AEB546F-72E3-5AF9-98FA-2E8ABE75EF0B" frame="border" border="1" rules="all">
        <tbody>
         <tr>
          <td class="cellrowborder" valign="top">
           <p>
            <strong>
             Access
            </strong>
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            <strong>
             Capability needed to read data
            </strong>
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            <strong>
             Capability needed to write data
            </strong>
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top">
           <p>
            <samp class="codeph">
             hidden
            </samp>
           </p>
           <p>
            This is indicated by the
            ECDHidden
            bit set in the in the
            <samp class="codeph">
             iElementId
            </samp>
            member
of an element.
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            None
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            WriteDeviceData
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top">
           <p>
            <samp class="codeph">
             Private
            </samp>
           </p>
           <p>
            This is indicated by the
            ECDPrivate
            bit set in the
            <samp class="codeph">
             iElementId
            </samp>
            member
of an element.
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            <samp class="codeph">
             ReadDeviceData
            </samp>
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            <samp class="codeph">
             WriteDeviceData
            </samp>
            +
            <samp class="codeph">
             ReadDeviceData
            </samp>
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top">
           <p>
            <samp class="codeph">
             Protected write
            </samp>
           </p>
           <p>
            This is indicated by
the
            ECDProtectedWrite
            bit set in the
            <samp class="codeph">
             iElementId
            </samp>
            member
of an element.
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            <samp class="codeph">
             None
            </samp>
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            <samp class="codeph">
             WriteDeviceData
            </samp>
            +
            <samp class="codeph">
             NetworkControl
            </samp>
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top">
           <p>
            <samp class="codeph">
             Basic read-only guard
            </samp>
           </p>
           <p>
            This is indicated
by the
            ECDNoWriteButDeletee
            bit set in
the
            <samp class="codeph">
             iElementId
            </samp>
            member of an element.
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            <samp class="codeph">
             None
            </samp>
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            <samp class="codeph">
             WriteDeviceData
            </samp>
           </p>
          </td>
         </tr>
         <tr>
          <td class="cellrowborder" valign="top">
           <p>
            <samp class="codeph">
             Default
            </samp>
           </p>
           <p>
            None of the
            TCDAttributeFlags
            bits
set in the
            <samp class="codeph">
             iElementId
            </samp>
            member of an element.
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            <samp class="codeph">
             None
            </samp>
           </p>
          </td>
          <td class="cellrowborder" valign="top">
           <p>
            <samp class="codeph">
             WriteDeviceData
            </samp>
           </p>
          </td>
         </tr>
        </tbody>
       </table>
      </div>
      <p>
       Tools and applications that have the capability to change the
access control attributes must follow data access control protocols.
      </p>
      <p>
       Tools
and applications must also have
       <samp class="codeph">
        WriteDeviceData
       </samp>
       capability
to use database functions. For example, to open a transaction to write to
the database.
      </p>
      <p>
       The platform security settings are cumulative. For example,
to change an element that is marked
       <em>
        private
       </em>
       and has
       <em>
        protected write
access
       </em>
       in the database requires:
      </p>
      <ul>
       <li id="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-9378062D-31AB-50C7-99D7-116184077C74">
        <a name="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-9378062D-31AB-50C7-99D7-116184077C74">
         <!-- -->
        </a>
        <p>
         the
         ECDPrivate
         bit
and the
         ECDProtectedWrite
         bit to be set
set.
        </p>
       </li>
       <li id="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-99D1C214-BE33-53E1-8A26-687BE22ACE3D">
        <a name="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-99D1C214-BE33-53E1-8A26-687BE22ACE3D">
         <!-- -->
        </a>
        <p>
         the tools and application
process to have the
         <samp class="codeph">
          WriteDeviceData
         </samp>
         ,
         <samp class="codeph">
          ReadDeviceData
         </samp>
         and
         <samp class="codeph">
          NetworkControl
         </samp>
         capabilities.
        </p>
       </li>
      </ul>
     </div>
     <div class="section" id="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-3FDDACD8-25E5-54B2-B105-65C147B620FE">
      <a name="GUID-B89D2828-0FEE-5206-97D2-C7D4BBD35799__GUID-3FDDACD8-25E5-54B2-B105-65C147B620FE">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       Changing the
access attributes for each session
      </h2>
      <p>
       Tools and applications can choose
to change the access levels of elements for the period of a session. For example,
tools and applications can choose to view elements that have the
       <samp class="codeph">
        hidden
       </samp>
       access
level. Tools and applications set an
       <em>
        attribute mask
       </em>
       to change the access
levels of elements for a session.
      </p>
      <p>
       An attribute mask does not change
the access levels of elements in the database. The functions that set an attribute
mask do not make a call to the Comms Database and do not check the capabilities
of the process of the tool or application. An attribute mask does not remove
platform security checks. For example, a tools or application process without
       <samp class="codeph">
        NetworkControl
       </samp>
       capability
can not update elements protected with
       ECDProtectedWrite
       .
      </p>
      <p>
       The
most common use for this behaviour is to view elements that are hidden.
      </p>
      <p>
       For
example, to view hidden records, call the session function
       CommsDat::CMDBSession::SetAttributeMask()
       and
pass the value for
       <em>
        hidden
       </em>
       to this function. The attribute value for
       <em>
        hidden
       </em>
       is
the enum value
       ECDHidden
       .
      </p>
      <p>
       Use
the session function
       CommsDat::CMDBSession::ClearAttributeMask()
       to
clear an attribute mask.
      </p>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-1AFDDD6F-CB99-587D-A0B5-D3F5B27F7135.html">
        Concepts
       </a>
      </div>
     </div>
     <div class="relinfo relconcepts">
      <strong>
       Related concepts
      </strong>
      <br />
      <div>
       <a href="GUID-4BFEDD79-9502-526A-BA7B-97550A6F0601.html">
        Platfom Security
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>