<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="Client Application Programming" />
  <meta name="DC.Relation" scheme="URI" content="GUID-F854D45A-A8CD-5B9F-9A59-C30A87F0955A.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-B394A824-8745-505E-8429-8B9B6D418387.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-44CF5471-564E-5790-935B-51193A4978D6.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-F854D45A-A8CD-5B9F-9A59-C30A87F0955A.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Client Application Programming
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB">
  <a name="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2403699 id2403748 id2403786 id2403800 id2403937 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html">
      Messaging Middleware Guide
     </a>
     &gt;
     <a href="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html">
      Messaging Framework
     </a>
     &gt;
     <a href="GUID-B394A824-8745-505E-8429-8B9B6D418387.html">
      Message Server and Store
     </a>
     &gt;
     <a href="GUID-44CF5471-564E-5790-935B-51193A4978D6.html" title="This section lists the concepts that are related to Message Server and Store.">
      Message Server and Store Concepts
     </a>
     &gt;
     <a href="GUID-F854D45A-A8CD-5B9F-9A59-C30A87F0955A.html">
      Messaging Client Applications
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Client Application Programming
    </h1>
    <div>
     <p>
      This section explains the important steps that must be followed when programming a message client application.
     </p>
     <div class="section">
      <h2 class="sectiontitle">
       Basic set-up
      </h2>
      <p>
       A client application performs the following steps in a set-up function, such as the
       ConstructL()
       function of the application UI class:
      </p>
      <a name="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-F7F948E4-EAAA-577C-8716-D8E176A7AC97">
       <!-- -->
      </a>
      <ol id="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-F7F948E4-EAAA-577C-8716-D8E176A7AC97">
       <li id="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-2AEA1017-FB12-5A40-BEEA-84FEE83BF7F5">
        <a name="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-2AEA1017-FB12-5A40-BEEA-84FEE83BF7F5">
         <!-- -->
        </a>
        <p>
         Create a
         <a href="GUID-2DA04D96-F0AD-3FDC-9E36-1C27D889AF4B.html">
          <span class="apiname">
           CMsvSession
          </span>
         </a>
         session to Message Server.
        </p>
       </li>
       <li id="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-B773FE76-47A3-5B19-8078-7DDB94579836">
        <a name="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-B773FE76-47A3-5B19-8078-7DDB94579836">
         <!-- -->
        </a>
        <p>
         Create registry classes, so that MTM components can later be instantiated.
        </p>
       </li>
       <li id="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-BAD3AAF3-DB8A-5663-BDE8-6A556452D155">
        <a name="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-BAD3AAF3-DB8A-5663-BDE8-6A556452D155">
         <!-- -->
        </a>
        <p>
         From the session, obtain the root entry of the index, from which other entries can later be obtained.
        </p>
       </li>
      </ol>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       User interface
      </h2>
      <p>
       Your message client application can now discover the immediate children of the root entry. To display entries to the user in a message or folder view format, the application can query the MTM type of each entry, and load icon resources from the appropriate User Interface MTMs.
      </p>
      <p>
       After an initial message view display, it is up to the message client application to handle user input events and access User Interface MTMs if required. For example, if the user selects an entry and then chooses an Edit command, the application must:
      </p>
      <ul>
       <li id="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-F76EE23F-3E1F-55BD-B60F-BB0B248524CE">
        <a name="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-F76EE23F-3E1F-55BD-B60F-BB0B248524CE">
         <!-- -->
        </a>
        <p>
         identify the selected entry and set the context to this entry (so it has instances of the generic message header class
         <a href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html">
          <span class="apiname">
           TMsvEntry
          </span>
         </a>
         and of the message encapsulation class
         <a href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html">
          <span class="apiname">
           CMsvEntry
          </span>
         </a>
         for the entry)
        </p>
       </li>
       <li id="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-1C6DEA39-49FD-577A-92BC-B795F7B9BB85">
        <a name="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-1C6DEA39-49FD-577A-92BC-B795F7B9BB85">
         <!-- -->
        </a>
        <p>
         use the data from the
         <a href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html">
          <span class="apiname">
           TMsvEntry
          </span>
         </a>
         object to discover the MTM type that handles the entry
        </p>
       </li>
       <li id="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-6A0CB9FA-EB73-53E7-B6E7-13B2B5C2EF78">
        <a name="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-6A0CB9FA-EB73-53E7-B6E7-13B2B5C2EF78">
         <!-- -->
        </a>
        <p>
         request instances of the relevant Client MTM and User Interface MTM objects from the registries
        </p>
       </li>
       <li id="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-95C58848-0C9F-5BE5-AC15-46924FEAAE24">
        <a name="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-95C58848-0C9F-5BE5-AC15-46924FEAAE24">
         <!-- -->
        </a>
        <p>
         inform the Client MTM of the current context
        </p>
       </li>
       <li id="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-E4B73140-BBCA-5FBE-9CDC-755168FAC177">
        <a name="GUID-CC686E6C-FECB-548E-984A-15F7B9742DCB__GUID-E4B73140-BBCA-5FBE-9CDC-755168FAC177">
         <!-- -->
        </a>
        <p>
         call the
         EditL()
         function provided by the User Interface MTM. This returns a
         <a href="GUID-AF724192-6580-3DE3-9287-3A005C0AA932.html">
          <span class="apiname">
           CMsvOperation
          </span>
         </a>
         operation object to manage the asynchronous operation.
        </p>
       </li>
      </ul>
      <p>
       See the
       <a href="GUID-D73AD200-BE4D-50BF-BCF9-14627DE530B7.html">
        example code
       </a>
       for detailed illustration of the above steps.
      </p>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-F854D45A-A8CD-5B9F-9A59-C30A87F0955A.html">
        Messaging Client Applications
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>