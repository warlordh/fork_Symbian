<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="Known Issues" />
  <meta name="DC.Relation" scheme="URI" content="GUID-2C5B58F2-6BD2-5C2B-8E1B-CFB3D7EB6ED9.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-E2DE2C6F-E071-5E88-96F1-D71DDED84609.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-2C5B58F2-6BD2-5C2B-8E1B-CFB3D7EB6ED9.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-D6BEAF0D-844D-51F4-8DB7-FB1D60E17FE3.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-F7FEB759-E64D-5B6D-9017-C5E982E4FC16.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-2CCD1748-9EDE-5383-9941-A3051E06F3E2.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-CDE8CD85-8467-5B36-A0AC-41D1D98151CA.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-E331B72B-84AF-558A-9B8F-73E5E50B58C7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-5B3F5296-D6D0-5D25-8362-141DF5927E52.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Known Issues
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C">
  <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2682564 id2682464 id2681976 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">
      Generic OS Services Guide
     </a>
     &gt;
     <a href="GUID-E2DE2C6F-E071-5E88-96F1-D71DDED84609.html">
      Generic Open Libraries
     </a>
     &gt;
     <a href="GUID-2C5B58F2-6BD2-5C2B-8E1B-CFB3D7EB6ED9.html">
      Standard C++ Library (STLport v5)
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Known
Issues
    </h1>
    <div>
     <p>
      This topic describes the known issues associated with developing Standard
C++ applications or libraries on the Symbian platform.
     </p>
     <p>
      The following functionalities of Standard C++ have certain limitations
on the Symbian platform:
     </p>
     <ul>
      <li id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-8A496C80-74F0-559D-84B3-34EF8BA15A39">
       <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-8A496C80-74F0-559D-84B3-34EF8BA15A39">
        <!-- -->
       </a>
       <p>
        <strong>
         dynamic_cast:
        </strong>
        The
        <samp class="codeph">
         dynamic_cast
        </samp>
        operator
is not fully supported on the Symbian platform.
       </p>
      </li>
      <li id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-012F6B22-4A66-5B54-B981-01A252F10147">
       <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-012F6B22-4A66-5B54-B981-01A252F10147">
        <!-- -->
       </a>
       <p>
        <strong>
         unexpected_handler:
        </strong>
        The
CodeWarrior runtime does not support the invocation of
        <samp class="codeph">
         unexpected_handler
        </samp>
        upon
an exception specification violation.
       </p>
      </li>
      <li id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-9FF61C6B-21D4-521D-A1FF-086D28FDAADF">
       <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-9FF61C6B-21D4-521D-A1FF-086D28FDAADF">
        <!-- -->
       </a>
       <p>
        <strong>
         IOStreams:
        </strong>
        The
        <samp class="codeph">
         cin
        </samp>
        and
        <samp class="codeph">
         cout
        </samp>
        objects
are instances of
        <samp class="codeph">
         istream
        </samp>
        and
        <samp class="codeph">
         ostream
        </samp>
        classes
and are exported by the STL library. As the emulator tool-chain does not support
exporting of data, these are defined as function calls on the emulator.
       </p>
       <p>
        These
functions return references to the
        <samp class="codeph">
         cin
        </samp>
        and
        <samp class="codeph">
         cout
        </samp>
        objects
that the STL library maintains. Since they are defined as functions, an attempt
to import namespace by saying using
        <samp class="codeph">
         std::cout
        </samp>
        may fail to
compile. To resolve this issue, include the entire
        <samp class="codeph">
         std
        </samp>
        namespace
in such scenarios.
       </p>
      </li>
     </ul>
     <div class="section" id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-EB8B9B0E-0971-4147-B8FB-94F2D602B61F">
      <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-EB8B9B0E-0971-4147-B8FB-94F2D602B61F">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       ARM RVCT compiler
issues with STLport
      </h2>
      <p>
       Due to a defect in the ARM RVCT compiler versions
2.2, 3.1 and 4.0, building STLport v5 or STLport-based applications, creates
some invalid export entries in DEF files. To workaround this issue, perform
the following steps:
      </p>
      <ol>
       <li id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-6BD383B8-C6C8-4C08-A741-2D90C21D274F">
        <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-6BD383B8-C6C8-4C08-A741-2D90C21D274F">
         <!-- -->
        </a>
        <p>
         Use the GCCE compiler
to generate the DEF file, if it is not available.
        </p>
       </li>
       <li id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-EA6CD191-69CA-4AA5-80FB-704F52F583F6">
        <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-EA6CD191-69CA-4AA5-80FB-704F52F583F6">
         <!-- -->
        </a>
        <p>
         Ignore the warnings
generated by the ARM RVCT compiler.
        </p>
        <div class="note">
         <span class="notetitle">
          Note:
         </span>
         When you ignore the warnings,
do not freeze the invalid export entries in the DEF file using the ARM RVCT
compiler.
        </div>
       </li>
      </ol>
     </div>
     <div class="section" id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-6008A836-2454-49E5-BE25-29EB9074CF88">
      <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-6008A836-2454-49E5-BE25-29EB9074CF88">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       Using the id
member variable of facet classes
      </h2>
      <p>
       The Symbian platform does not
support exporting static data. Hence, the
       <samp class="codeph">
        id
       </samp>
       member variable
of facet classes (
       <samp class="codeph">
        static locale::id           id
       </samp>
       ) cannot
be used directly on the Symbian platform. When you use these classes you must
use the
       <samp class="codeph">
        GetFacetLocaleId()
       </samp>
       function to access the data member
       <samp class="codeph">
        id
       </samp>
       instead.
      </p>
      <p>
       <strong>
        Examples
       </strong>
      </p>
      <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-96B64FD3-382E-56E1-BAD6-90DFBDA0969F">
       <!-- -->
      </a>
      <ol id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-96B64FD3-382E-56E1-BAD6-90DFBDA0969F">
       <li id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-20337C94-A194-5BD7-9974-490C1EBB543F">
        <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-20337C94-A194-5BD7-9974-490C1EBB543F">
         <!-- -->
        </a>
        <p>
         <strong>
          Using the id member
of standard facets:
         </strong>
         For example, you can change
         <samp class="codeph">
          locale::id Id1
=                 numpunct&lt;char&gt;::id;
         </samp>
         to
         <samp class="codeph">
          locale::id Id1
=                 numpunct&lt;char&gt;::GetFacetLocaleId();
         </samp>
         .
        </p>
       </li>
       <li id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-F91F6741-FA71-5644-BE02-717E5872B293">
        <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-F91F6741-FA71-5644-BE02-717E5872B293">
         <!-- -->
        </a>
        <p>
         <strong>
          Deriving a class
from a standard facet:
         </strong>
         Declare a
         <samp class="codeph">
          GetFacetLocaleId()
         </samp>
         static
method, in addition to the member variable ID, when you define a class that
is inherited from the
         <samp class="codeph">
          locale::facet
         </samp>
         class, as illustrated
in the following code:
        </p>
        <pre class="codeblock" id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-692D5326-4048-52DC-8347-5006CBEFAF0F">
         <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-692D5326-4048-52DC-8347-5006CBEFAF0F">
          <!-- -->
         </a>
         class myfacet : public locale::facet
    {
    public:
    static locale::id id;
    static locale::id&amp; GetFacetLocaleId() 
        {
        return id;
        } 
    };
        </pre>
       </li>
       <li id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-600D7CAC-C9C5-5722-987A-66FE6E2D7D01">
        <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-600D7CAC-C9C5-5722-987A-66FE6E2D7D01">
         <!-- -->
        </a>
        <p>
         <strong>
          Using a class that
is part of a DLL:
         </strong>
         Ensure that you also handle the Writable Static Data
(WSD) issues for emulator (WINSCW) builds along with the issues described
in examples
         <strong>
          1
         </strong>
         and
         <strong>
          2
         </strong>
         as illustrated in the following code:
        </p>
        <pre class="codeblock" id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-8307FD25-D980-5FC1-A0FB-83098BE5D331">
         <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-8307FD25-D980-5FC1-A0FB-83098BE5D331">
          <!-- -->
         </a>
         //myfacet.h
class myfacet : public locale::facet
    {
    public:
#ifndef __WINSCW__  
    static locale::id id;
#endif
    static locale::id&amp; GetFacetLocaleId();
    };
        </pre>
        <pre class="codeblock" id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-57B95E9E-9071-50CC-A688-73C9781B26E4">
         <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-57B95E9E-9071-50CC-A688-73C9781B26E4">
          <!-- -->
         </a>
         //myfacet.cpp
std::locale::id&amp; myfacet::GetFacetLocaleId()
    {
#ifndef __WINSCW__  
    return id;
#else
    // get the WSD struct – uses EWSD solution
    // get_wsd_struct() is a function defined by
                // the user to get a pointer to his WSD struct.
    return get_wsd_struct()-&gt;myfacet_id;
#endif
    }
        </pre>
       </li>
      </ol>
     </div>
     <div class="section" id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-35767460-AE19-47D2-B24F-0CFEC8B999EF">
      <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-35767460-AE19-47D2-B24F-0CFEC8B999EF">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       Using memory
leak detection macros
      </h2>
      <p>
       On an emulator, there are some dynamic memory
allocations made for supporting WSD, when the Standard C++ library is initialised.
In this scenario, if you add a memory leak detection macro, such as
       <samp class="codeph">
        __UHEAP_MARK
       </samp>
       and
       <samp class="codeph">
        __UHEAP_MARKEND
       </samp>
       ,
then you get a panic at
       <samp class="codeph">
        __UHEAP_MARKEND
       </samp>
       .
      </p>
      <p>
       To avoid
this panic, you must call the
       <samp class="codeph">
        CleanupWSD()
       </samp>
       function, provided
only for use on emulator. For more information about how to achieve this,
see the following example code:
      </p>
      <pre class="codeblock" id="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-52610746-62BA-5EDB-A584-091CD6724260">
       <a name="GUID-D32E52C9-F05C-5F1E-8B49-243D555C353C__GUID-52610746-62BA-5EDB-A584-091CD6724260">
        <!-- -->
       </a>
       #include &lt;iostream&gt;
using namespace std;
#ifdef __WINSCW__
#include &lt;libstdcppwsd.h&gt;
#endif
int main()
    {
    __UHEAP_MARK;
    cout &lt;&lt; "Hello, World!" &lt;&lt; endl;
#ifdef __WINSCW__
    CleanupWSD();// Cleanup all WSD related allocations
#endif
    __UHEAP_MARKEND;
    return 0;
    }
      </pre>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-2C5B58F2-6BD2-5C2B-8E1B-CFB3D7EB6ED9.html">
        Standard C++ Library (STLport v5)
       </a>
      </div>
     </div>
     <div class="relinfo relconcepts">
      <strong>
       Related concepts
      </strong>
      <br />
      <div>
       <a href="GUID-D6BEAF0D-844D-51F4-8DB7-FB1D60E17FE3.html">
        Copyright
Acknowledgments for Standard C++                 (STLport)
       </a>
      </div>
      <div>
       <a href="GUID-F7FEB759-E64D-5B6D-9017-C5E982E4FC16.html">
        Standard
C++ Library Overview
       </a>
      </div>
      <div>
       <a href="GUID-2CCD1748-9EDE-5383-9941-A3051E06F3E2.html">
        Standard
C++ Support on the Symbian platform
       </a>
      </div>
      <div>
       <a href="GUID-CDE8CD85-8467-5B36-A0AC-41D1D98151CA.html">
        Developing
Applications or Libraries                 Using Standard C++
       </a>
      </div>
      <div>
       <a href="GUID-E331B72B-84AF-558A-9B8F-73E5E50B58C7.html">
        Building
a Standard C++ Application or                 Library
       </a>
      </div>
      <div>
       <a href="GUID-5B3F5296-D6D0-5D25-8362-141DF5927E52.html">
        Troubleshooting
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>