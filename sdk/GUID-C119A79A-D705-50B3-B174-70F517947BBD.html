<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="reference" />
  <meta name="DC.Title" content="How certapp Processes Input File Information" />
  <meta name="DC.Relation" scheme="URI" content="GUID-4B03733F-D84D-5A28-B772-2E256D86ABC7.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-315452C2-A1E2-5888-A694-6D2DE73A3F5E.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-A40376B6-8B2B-551A-B72F-CFCADBC84BE7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-4B03733F-D84D-5A28-B772-2E256D86ABC7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-B1B3C5E6-9F38-5A55-A30E-4C7591B446CC.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-C119A79A-D705-50B3-B174-70F517947BBD" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   How certapp Processes Input File Information
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-C119A79A-D705-50B3-B174-70F517947BBD">
  <a name="GUID-C119A79A-D705-50B3-B174-70F517947BBD">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2387653 id2387787 id2387835 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-315452C2-A1E2-5888-A694-6D2DE73A3F5E.html">
      OS Security Guide
     </a>
     &gt;
     <a href="GUID-A40376B6-8B2B-551A-B72F-CFCADBC84BE7.html">
      Security and Data Privacy Tools
     </a>
     &gt;
     <a href="GUID-4B03733F-D84D-5A28-B772-2E256D86ABC7.html">
      Security Tools
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     How
certapp Processes Input File Information
    </h1>
    <div>
     <div>
      <p>
       This section provides information on the guidelines that the
       <samp class="codeph">
        certapp
       </samp>
       tool
follows to process various entities in the input files used to create certificate
store files.
      </p>
      <div class="note">
       <span class="notetitle">
        Note:
       </span>
       Input text files can be 7-bit text or UTF-8. If a
file is UTF-8, it can optionally start with a UTF-8 Byte Order Marker. This
is the marker that Windows uses when saving files as UTF-8.
      </div>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       White spaces
      </h2>
      <p>
       The
       <samp class="codeph">
        certapp
       </samp>
       tool
ignores white space (space, tab, carriage return and line feed characters)
in input files. Instead, the line-ending convention of the platform on which
the tool runs is followed.
      </p>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Double-quoted strings
      </h2>
      <p>
       The
       <samp class="codeph">
        certapp
       </samp>
       tool
treats a series of bytes within double quote characters (in the input files)
as a single token.
      </p>
      <p>
       A double quote character can be included in a double-quoted
string by preceding it with a back slash, as shown in the following example:
      </p>
      <p>
       This
is how you include \” in a double-quoted string.
      </p>
      <p>
       A backslash character
can be included in a double quoted string by preceding it with another back
slash, as shown in the following example:
      </p>
      <p>
       This is how you include
\\ in a double-quoted string.
      </p>
      <p>
       The double quote syntax can be used
to set any text field value, such as the certificate label, to any UTF-8 value,
including quote characters, spaces, UTF-8 escape sequences and so on.
      </p>
      <div class="p">
       <div class="note">
        <span class="notetitle">
         Note:
        </span>
        UTF-8
values are defined such that a UTF-8 escape sequence never contains a back
slash character.
       </div>
      </div>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Enumerated types
      </h2>
      <p>
       All enumerated values can be specified
as numeric values, though using text values is strongly recommended.
      </p>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Numeric values
      </h2>
      <p>
       Any numeric value can be entered
in decimal as a raw number or in hexadecimal by prefixing the number with
0x.
      </p>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Capability sets
      </h2>
      <p>
       For a certificate, a capability
set is a list of capabilities allowed in applications that have the certificate
as their trust anchor. Capability set values can be specified as numeric bit
offsets (starting from 0), though using text values is strongly recommended,
as shown in the following example:
      </p>
      <pre class="codeblock" id="GUID-C119A79A-D705-50B3-B174-70F517947BBD__GUID-DAB82140-EDF4-51D8-A483-CD41852C9B19">
       <a name="GUID-C119A79A-D705-50B3-B174-70F517947BBD__GUID-DAB82140-EDF4-51D8-A483-CD41852C9B19">
        <!-- -->
       </a>
       CapabilitySet {ProtServ DiskAdmin NetworkControl 
AllFiles SwEvent NetworkServices LocalServices}
      </pre>
     </div>
     <div class="section">
      <h2 class="sectiontitle">
       Subject and issuer key identifiers
      </h2>
      <p>
       It is recommended
that you set the
       <samp class="codeph">
        SubjectKeyId
       </samp>
       field to an
       <samp class="codeph">
        auto
       </samp>
       value
in the input file for creating the certificate store file. In addition, set
the
       <samp class="codeph">
        IssuerKeyId
       </samp>
       field either to
       <samp class="codeph">
        auto
       </samp>
       or
to an empty octet string.
      </p>
      <p>
       When the
       <samp class="codeph">
        SubjectKeyId
       </samp>
       and
the
       <samp class="codeph">
        IssuerKeyId
       </samp>
       fields are set to
       <samp class="codeph">
        auto
       </samp>
       or
if you omit setting values for these fields in the input file, the certapp
tool performs its own processing to determine their values. The following
sub-sections provide the details.
      </p>
      <p>
       <strong>
        Setting SubjectKeyId to auto
       </strong>
      </p>
      <p>
       When
       <samp class="codeph">
        SubjectKeyId
       </samp>
       is
set to
       <samp class="codeph">
        auto
       </samp>
       or if the field is omitted, then the following
algorithm is used for determining the value of the field:
      </p>
      <ul>
       <li id="GUID-C119A79A-D705-50B3-B174-70F517947BBD__GUID-33035419-FAEC-572A-BA63-C0E49C1C90A3">
        <a name="GUID-C119A79A-D705-50B3-B174-70F517947BBD__GUID-33035419-FAEC-572A-BA63-C0E49C1C90A3">
         <!-- -->
        </a>
        <p>
         If the store type is
not SWI certificate store, the certificate type is not user, and an X.509
         <samp class="codeph">
          SubjectKeyId
         </samp>
         extension
with length less than or equal to 20 bytes is present, then this extension
is used as the value of the
         <samp class="codeph">
          SubjectKeyId
         </samp>
         field.
        </p>
       </li>
       <li id="GUID-C119A79A-D705-50B3-B174-70F517947BBD__GUID-AE8A59EF-E064-5C12-B9E3-3D99DFCE7F78">
        <a name="GUID-C119A79A-D705-50B3-B174-70F517947BBD__GUID-AE8A59EF-E064-5C12-B9E3-3D99DFCE7F78">
         <!-- -->
        </a>
        <p>
         Otherwise, the value
of the
         <samp class="codeph">
          SubjectKeyId
         </samp>
         field is calculated based on the certificate’s
public key characteristics using a Symbian-specific algorithm.
        </p>
       </li>
      </ul>
      <p>
       The
       <samp class="codeph">
        SubjectKeyId
       </samp>
       field value is stored in the certificate
metadata and can be used by applications when querying the certificate store
using a filter.
      </p>
      <p>
       <strong>
        Setting IssuerKeyId set to auto
       </strong>
      </p>
      <p>
       If
the
       <samp class="codeph">
        IssuerKeyId
       </samp>
       field is set to
       <samp class="codeph">
        auto
       </samp>
       or
if the field is omitted, the following algorithm is used for determining the
value of the field:
      </p>
      <ul>
       <li id="GUID-C119A79A-D705-50B3-B174-70F517947BBD__GUID-BC5FBF12-E8E8-5AA2-AB0D-FE8D2ACE4220">
        <a name="GUID-C119A79A-D705-50B3-B174-70F517947BBD__GUID-BC5FBF12-E8E8-5AA2-AB0D-FE8D2ACE4220">
         <!-- -->
        </a>
        <p>
         If the store type is
not SWI certificate store, and an X.509
         <samp class="codeph">
          AuthorityKeyId
         </samp>
         extension
with length less than or equal to 20 bytes is present, then this extension
is used as the value of the
         <samp class="codeph">
          IssuerKeyId
         </samp>
         field. An authority
key identifier specifies the public key that is used to sign the certificate.
        </p>
       </li>
       <li id="GUID-C119A79A-D705-50B3-B174-70F517947BBD__GUID-143490B1-B30A-57E7-9FB5-C7BA40080966">
        <a name="GUID-C119A79A-D705-50B3-B174-70F517947BBD__GUID-143490B1-B30A-57E7-9FB5-C7BA40080966">
         <!-- -->
        </a>
        <p>
         If a single certificate
is present in the certificate store with the subject matching the issuer of
the original certificate (for which the
         <samp class="codeph">
          IssuerKeyId
         </samp>
         is to
be set), the
         <samp class="codeph">
          IssuerKeyId
         </samp>
         is set to the
         <samp class="codeph">
          SubjectKeyId
         </samp>
         of
the matching certificate.
        </p>
        <p>
         <strong>
          Note:
         </strong>
        </p>
        <p>
         When generating
         <samp class="codeph">
          IssuerKeyId
         </samp>
         values
for SWI store certificates, all certificates within the SWI certificate store
are considered. When generating values for file certificate store, all certificates
in both the SWI certificate store and the file certificate store are considered.
        </p>
       </li>
       <li id="GUID-C119A79A-D705-50B3-B174-70F517947BBD__GUID-2153579B-2651-5FF8-A5B6-75BEB59E7B25">
        <a name="GUID-C119A79A-D705-50B3-B174-70F517947BBD__GUID-2153579B-2651-5FF8-A5B6-75BEB59E7B25">
         <!-- -->
        </a>
        <p>
         Otherwise, the
         <samp class="codeph">
          IssuerKeyId
         </samp>
         is
set to an empty octet string.
        </p>
       </li>
      </ul>
      <p>
       The
       <samp class="codeph">
        IssuerKeyId
       </samp>
       field value is stored in the certificate
metadata and can be used by applications when querying the certificate store
using a filter. To filter certificates by
       <samp class="codeph">
        IssuerKeyId
       </samp>
       , set
the field to auto, otherwise set it to an empty octet string (for example,
’’).
      </p>
      <p>
       <strong>
        Note:
       </strong>
       In case of a certificate that is not of type X.509,
if you do not set the IssuerKeyId or the SubjectKeyId values to auto or empty
octet strings, you can set them to octet strings, as explained in the following
sub-sections.
      </p>
      <p>
       <strong>
        Setting SubjectKeyId and IssuerKeyId to octet strings
       </strong>
      </p>
      <p>
       Consider
the following example of an octet string value to which you can set the
       <samp class="codeph">
        SubjectKeyId
       </samp>
       field:
      </p>
      <pre class="codeblock" id="GUID-C119A79A-D705-50B3-B174-70F517947BBD__GUID-A04C2F3D-E87B-5FDC-BFF3-E39C719761FD">
       <a name="GUID-C119A79A-D705-50B3-B174-70F517947BBD__GUID-A04C2F3D-E87B-5FDC-BFF3-E39C719761FD">
        <!-- -->
       </a>
       SubjectKeyId ’01:02:43’
      </pre>
      <p>
       The
       <samp class="codeph">
        SubjectKeyId
       </samp>
       field
is set to an octet string consisting of the numbers
       <samp class="codeph">
        0x01
       </samp>
       ,
       <samp class="codeph">
        0x02
       </samp>
       and
       <samp class="codeph">
        0x03
       </samp>
       .
The string can be 0 to 20 bytes long. The length limit is imposed by the certificate
store metadata structure, but the usual values are SHA1 hash of certificate
fields and hence 20 bytes long.
      </p>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-4B03733F-D84D-5A28-B772-2E256D86ABC7.html">
        Security Tools
       </a>
      </div>
     </div>
     <div class="relinfo relref">
      <strong>
       Related reference
      </strong>
      <br />
      <div>
       <a href="GUID-B1B3C5E6-9F38-5A55-A30E-4C7591B446CC.html" title="This section provides details of the human-readable form of the following certificate store files:">
        Certificate
Store Human-Readable File Formats
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>