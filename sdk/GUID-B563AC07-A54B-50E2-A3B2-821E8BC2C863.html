<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="copyright" content="(C) Copyright 2010" />
  <meta name="DC.rights.owner" content="(C) Copyright 2010" />
  <meta name="DC.Type" content="concept" />
  <meta name="DC.Title" content="Using CDirScan" />
  <meta name="abstract" content="This topic describes about setting up the scan and parsing path." />
  <meta name="description" content="This topic describes about setting up the scan and parsing path." />
  <meta name="DC.Relation" scheme="URI" content="GUID-ACF6C0A2-87ED-55B3-B22A-9B331D9940AC.html" />
  <meta name="DC.Relation" scheme="URI" content="index.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-E3D2A6ED-8192-563D-8966-DD96B3AF1783.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-BB9760B4-4F3F-5326-81FB-B644C82F0E65.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-198DCED1-F429-5C95-A51D-53AE416687E8.html" />
  <meta name="DC.Relation" scheme="URI" content="GUID-ACF6C0A2-87ED-55B3-B22A-9B331D9940AC.html" />
  <meta name="DC.Format" content="XHTML" />
  <meta name="DC.Identifier" content="GUID-B563AC07-A54B-50E2-A3B2-821E8BC2C863" />
  <meta name="DC.Language" content="en" />
  <link rel="stylesheet" type="text/css" href="commonltr.css" />
  <title>
   Using CDirScan
  </title>
  <link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
  <link rel="stylesheet" type="text/css" href="nokiacxxref.css" />
 </head>
 <body id="GUID-B563AC07-A54B-50E2-A3B2-821E8BC2C863">
  <a name="GUID-B563AC07-A54B-50E2-A3B2-821E8BC2C863">
   <!-- -->
  </a>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
  <div id="sdl_container">
   <div id="leftMenu">
    <div id="expandcontractdiv">
     <a id="collapseTree" href="javascript:tree.collapseAll()">
      Collapse all
     </a>
     <a id="index" href="index.html">
      Symbian^3 Application Developer Library
     </a>
    </div>
    <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">
     &#160;
    </div>
    <script type="text/javascript">
     var currentIconMode = 0; window.name="id2470542 id2404579 id2404588 id2402811 id2402826 id2403028 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
   </div>
   <div id="sdl_content">
<div class="breadcrumb">
     <a href="index.html" title="Symbian^3 Application Developer Library">
      Symbian^3 Application Developer Library
     </a>
     &gt;
     <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">
      Symbian Guide
     </a>
     &gt;
     <a href="GUID-E3D2A6ED-8192-563D-8966-DD96B3AF1783.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">
      Kernel and Hardware Services Guide
     </a>
     &gt;
     <a href="GUID-0DF9E318-BE97-531E-AB39-A7B5E8787C87.html" title="Provides a framework for accessing file systems.">
      User Library and File Server
     </a>
     &gt;
     <a href="GUID-BB9760B4-4F3F-5326-81FB-B644C82F0E65.html" title="Symbian platform manages the basic permanent storage of data through file systems. Drives and file systems are common resources used by many programs, and access to them is managed by the File Server. The File Server is flexible, and can use many different file system formats and physical storage media. Applications and services access files, directories, and drives through the File Server client side API.">
      File Server
     </a>
     &gt;
     <a href="GUID-198DCED1-F429-5C95-A51D-53AE416687E8.html">
      File Server Client Side
     </a>
     &gt;
     <a href="GUID-ACF6C0A2-87ED-55B3-B22A-9B331D9940AC.html" title="This section describes the concepts related to file management and searching.">
      File management and searching
     </a>
     &gt;
    </div>
    <h1 class="topictitle1">
     Using
CDirScan
    </h1>
    <div>
     <p>
      This topic describes about setting up the scan and
parsing path.
     </p>
     <div class="section" id="GUID-B563AC07-A54B-50E2-A3B2-821E8BC2C863__GUID-838F2F37-69AE-49B6-970E-FFF29B93709E">
      <a name="GUID-B563AC07-A54B-50E2-A3B2-821E8BC2C863__GUID-838F2F37-69AE-49B6-970E-FFF29B93709E">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       Setting up the scan using SetScanDataL()
      </h2>
      <div class="fignone" id="GUID-B563AC07-A54B-50E2-A3B2-821E8BC2C863__GUID-CC897DCB-73B0-53A4-B1AA-351DF18F0AE0">
       <a name="GUID-B563AC07-A54B-50E2-A3B2-821E8BC2C863__GUID-CC897DCB-73B0-53A4-B1AA-351DF18F0AE0">
        <!-- -->
       </a>
       <img src="GUID-3F172A97-8B96-5E1B-854C-F198D1334D2A_d0e265137_href.png" />
      </div>
      <p>
       Taking the above directory structure, if
       <samp class="codeph">
        SetScanData()
       </samp>
       is
called as follows:
      </p>
      <pre class="codeblock" id="GUID-B563AC07-A54B-50E2-A3B2-821E8BC2C863__GUID-B6CEF818-9044-58B9-BEBF-EB05BE6F89A9">
       <a name="GUID-B563AC07-A54B-50E2-A3B2-821E8BC2C863__GUID-B6CEF818-9044-58B9-BEBF-EB05BE6F89A9">
        <!-- -->
       </a>
       _LIT(KDirText,"C:\\TopDir\\");
...
SetScanDataL(KDirText,KEntryAttDir,ESortByName|EAscending,CDirScan::EScanDownTree);
...
      </pre>
      <p>
       then the directories are scanned, by repeatedly calling
       <samp class="codeph">
        CDirScan::NextL()
       </samp>
       in
the following order:
       <span class="filepath">
        TopDir
       </span>
       ,
       <span class="filepath">
        Dir1
       </span>
       ,
       <span class="filepath">
        Dir2
       </span>
       ,
       <span class="filepath">
        Dir3
       </span>
       ,
       <span class="filepath">
        Dir4
       </span>
       ,
       <span class="filepath">
        Dir5
       </span>
       ,
       <span class="filepath">
        Dir6
       </span>
       ,
       <span class="filepath">
        Dir7
       </span>
       .
The sort key of
       <samp class="codeph">
        EAscending
       </samp>
       means that multiple directories
within the same parent directory are scanned in ascending alphabetic or numeric
order.
      </p>
      <p>
       If the scan direction is upwards, i.e.
       <samp class="codeph">
        CDirScan::EScanUpTree
       </samp>
       ,
the directories are scanned in the order:
       <span class="filepath">
        Dir2
       </span>
       ,
       <span class="filepath">
        Dir4
       </span>
       ,
       <span class="filepath">
        Dir3
       </span>
       ,
       <span class="filepath">
        Dir1
       </span>
       ,
       <span class="filepath">
        Dir6
       </span>
       ,
       <span class="filepath">
        Dir7
       </span>
       ,
       <span class="filepath">
        Dir5
       </span>
       ,
       <span class="filepath">
        TopDir
       </span>
       .
      </p>
     </div>
     <div class="section" id="GUID-B563AC07-A54B-50E2-A3B2-821E8BC2C863__GUID-890778ED-0009-40C1-A1AC-FBCF2F137FF6">
      <a name="GUID-B563AC07-A54B-50E2-A3B2-821E8BC2C863__GUID-890778ED-0009-40C1-A1AC-FBCF2F137FF6">
       <!-- -->
      </a>
      <h2 class="sectiontitle">
       Parsing paths using FullPath()
      </h2>
      <p>
       If the full path
of the entry currently being scanned is:
      </p>
      <p>
       <span class="filepath">
        C:\Topdir\Middledir\Bottomdir\
       </span>
      </p>
      <p>
       and
the top level directory in the scan as passed to
       <samp class="codeph">
        SetScanDataL()
       </samp>
       is:
      </p>
      <p>
       <span class="filepath">
        C:\Topdir\
       </span>
      </p>
      <p>
       then:
      </p>
      <ul>
       <li id="GUID-B563AC07-A54B-50E2-A3B2-821E8BC2C863__GUID-016B0C1F-D5BD-53D7-82F0-9393B3B45FD7">
        <a name="GUID-B563AC07-A54B-50E2-A3B2-821E8BC2C863__GUID-016B0C1F-D5BD-53D7-82F0-9393B3B45FD7">
         <!-- -->
        </a>
        <p>
         <samp class="codeph">
          AbbreviatedPath()
         </samp>
         returns
         <span class="filepath">
          \Middledir\
         </span>
        </p>
       </li>
       <li id="GUID-B563AC07-A54B-50E2-A3B2-821E8BC2C863__GUID-80ECD7D1-9532-5ED3-8CBD-2A9E6F04C067">
        <a name="GUID-B563AC07-A54B-50E2-A3B2-821E8BC2C863__GUID-80ECD7D1-9532-5ED3-8CBD-2A9E6F04C067">
         <!-- -->
        </a>
        <p>
         <samp class="codeph">
          FullPath()
         </samp>
         returns
         <span class="filepath">
          C:\Topdir\Middledir\
         </span>
         .
        </p>
       </li>
      </ul>
     </div>
    </div>
    <div>
     <div class="familylinks">
      <div class="parentlink">
       <strong>
        Parent topic:
       </strong>
       <a href="GUID-ACF6C0A2-87ED-55B3-B22A-9B331D9940AC.html" title="This section describes the concepts related to file management and searching.">
        File management and searching
       </a>
      </div>
     </div>
    </div>
    <p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
   </div>
  </div>
  <?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>
 </body>
</html>