<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Providing a Custom Resolver"/>
<meta name="abstract" content="The plug-in framework has a default resolver that selects an appropriate implementation to suit the client requests. If the algorithm used by the custom resolver is inappropriate, an interface definition can provide its own custom resolver."/>
<meta name="description" content="The plug-in framework has a default resolver that selects an appropriate implementation to suit the client requests. If the algorithm used by the custom resolver is inappropriate, an interface definition can provide its own custom resolver."/>
<meta name="DC.Relation" scheme="URI" content="GUID-41D80358-473F-5B50-A09A-4F5601EAC4A9.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9E92EE30-F2E2-5F28-BB2A-391C09EC69D2.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-110A0151-5719-51BC-8506-C18BE57FB400.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-41D80358-473F-5B50-A09A-4F5601EAC4A9.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Providing a Custom Resolver</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F"><a name="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2383459 id2383473 id2383529 id2383537 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html">Low Level Libraries and Frameworks</a> &gt; <a href="GUID-9E92EE30-F2E2-5F28-BB2A-391C09EC69D2.html">Plug-in Framework</a> &gt; <a href="GUID-110A0151-5719-51BC-8506-C18BE57FB400.html">Plug-in Framework Tutorials</a> &gt; <a href="GUID-41D80358-473F-5B50-A09A-4F5601EAC4A9.html">Framework Developer Tutorials</a> &gt; </div>
<h1 class="topictitle1">Providing
a Custom Resolver </h1>
<div><p>The plug-in framework has a default resolver that selects an appropriate
implementation to suit the client requests. If the algorithm used by the custom
resolver is inappropriate, an interface definition can provide its own custom
resolver. </p>

<div class="section"><p>Custom resolvers are interface implementations that implement
the <a href="GUID-38D97F70-383E-3950-B052-CB56965B0B48.html"><span class="apiname">CResolver</span></a> interface. They are instantiated by the framework
in response to the <a href="GUID-1344F049-81C4-3D17-AF46-8B5584680ADB.html#GUID-1344F049-81C4-3D17-AF46-8B5584680ADB__GUID-C7F147AC-6D77-3169-AAB4-B27262B4333B"><span class="apiname">REComSession::CreateImplementationL()</span></a> calls
that specify to use a particular custom resolver. Custom resolvers must confirm
to other aspects of interface implementations, including providing registration
resource information, and publishing its UID and factory function in an implementation
proxy table. </p>
<div class="note"><span class="notetitle">Note:</span>  Additionally, in order to be trusted by ECom, the
plug-in must have the ProtServ capability set in the project file. </div>
<p>A
custom resolver class must derive from <a href="GUID-38D97F70-383E-3950-B052-CB56965B0B48.html"><span class="apiname">CResolver</span></a>.
The derived class must implement the following inherited functions: </p>
 </div>

<a name="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F__GUID-B8CC6618-FF31-5E9E-9C74-EE029F6A4A6F"><!-- --></a><ol id="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F__GUID-B8CC6618-FF31-5E9E-9C74-EE029F6A4A6F"><li class="stepexpand" id="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F__GUID-81A902BA-C325-556A-ACE4-1E945DD82731"><a name="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F__GUID-81A902BA-C325-556A-ACE4-1E945DD82731"><!-- --></a><span/><br/>
 Implement a factory function that takes an <a href="GUID-C6201A47-85A9-365C-9B28-48243FA6ACD0.html"><span class="apiname">MPublicRegistry</span></a> object
as input. <a href="GUID-C6201A47-85A9-365C-9B28-48243FA6ACD0.html"><span class="apiname">MPublicRegistry</span></a> provides the resolver with the
list of the implementations registered with the plug-in framework that meet
the requirements of the specified interface. 
</li>
<li class="stepexpand" id="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F__GUID-39F2C21F-C917-5D40-B6AE-61CF1C8852E7"><a name="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F__GUID-39F2C21F-C917-5D40-B6AE-61CF1C8852E7"><!-- --></a><span/><br/>
 Implement the <a href="GUID-38D97F70-383E-3950-B052-CB56965B0B48.html#GUID-38D97F70-383E-3950-B052-CB56965B0B48__GUID-948455C3-D565-3D6E-ABD0-18E23C4D2C40"><span class="apiname">CResolver::IdentifyImplementationL()</span></a> function
that takes the UID of the interface for which an implementation is requested.
The resolver uses the resolution parameters and returns the UID of the best-fit
implementation. The best-fit algorithm is specific to each custom resolver. 
  <a href="GUID-38D97F70-383E-3950-B052-CB56965B0B48.html#GUID-38D97F70-383E-3950-B052-CB56965B0B48__GUID-948455C3-D565-3D6E-ABD0-18E23C4D2C40"><span class="apiname">CResolver::IdentifyImplementationL()</span></a> returns a list
of all matching implementations. 
</li>
<li class="stepexpand" id="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F__GUID-3642618B-17BD-594F-8C0B-0985AC3B087F"><a name="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F__GUID-3642618B-17BD-594F-8C0B-0985AC3B087F"><!-- --></a><span/><br/>
 Implement the <a href="GUID-38D97F70-383E-3950-B052-CB56965B0B48.html#GUID-38D97F70-383E-3950-B052-CB56965B0B48__GUID-5FDD82E1-9538-3393-A892-44D577EC4090"><span class="apiname">CResolver::ListAllL()</span></a> function. 
</li>
</ol>

<div class="example" id="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F__GUID-E1354F45-99FB-5509-B9E4-9E0B9E44C6F3"><a name="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F__GUID-E1354F45-99FB-5509-B9E4-9E0B9E44C6F3"><!-- --></a><h2 class="sectiontitle">Custom resolver
example</h2> <p>The following code depicts a sample customer resolver. </p>
 <pre class="codeblock" id="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F__GUID-552AC3FB-730E-54A6-91EC-EB5A6A65C0B1"><a name="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F__GUID-552AC3FB-730E-54A6-91EC-EB5A6A65C0B1"><!-- --></a>class CExampleResolver : public CResolver
    {
public:
    // Factory function: 
    static CExampleResolver* NewL(MPublicRegistry&amp; aRegistry);
    ~CExampleResolver();

    // Implement IdentifyImplementationL()
    TUid IdentifyImplementationL(TUid aInterfaceUid, 
    const TEComResolverParams&amp; aParameters) const;

// Implement ListAllL

    RImplInfoArray* ListAllL(TUid aInterfaceUid, 
    const TEComResolverParams&amp; aParameters) const;</pre>
 <p>The
following code shows a sample standard registration resource required by a
custom resolver. </p>
 <pre class="codeblock" id="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F__GUID-D4072E8E-DB0A-5B3B-ACC5-078F1C3FD83A"><a name="GUID-E10A3336-9C4C-59A5-B94F-6CECA92FFB9F__GUID-D4072E8E-DB0A-5B3B-ACC5-078F1C3FD83A"><!-- --></a>RESOURCE REGISTRY_INFO theInfo
    {
    dll_uid = 0x10009DB3;
    interfaces = 
        {
        INTERFACE_INFO
 // interface_uid value is always 0x10009D90. 
            {
            interface_uid = 0x10009D90;
            implementations = 
                {
                IMPLEMENTATION_INFO
                    {
// uid value is specific to individual resolvers
                    implementation_uid = 0x10009DB4;

                    version_no = 1;
// unused fields
                    display_name = "";
                    default_data = "";
                    opaque_data = "";
                    }
                };
            }
        };
    }</pre>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-41D80358-473F-5B50-A09A-4F5601EAC4A9.html">Framework Developer Tutorials</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>