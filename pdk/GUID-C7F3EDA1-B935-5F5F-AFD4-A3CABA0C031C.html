<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Interface Extensibility"/>
<meta name="abstract" content="Symbian^3 onwards, the plug-in framework supports interface extensibility. An extended interface extends the existing functionality of the original interface (instantiation interface). By extending interfaces, the framework developers need not change the existing interface specifications to support new requirements."/>
<meta name="description" content="Symbian^3 onwards, the plug-in framework supports interface extensibility. An extended interface extends the existing functionality of the original interface (instantiation interface). By extending interfaces, the framework developers need not change the existing interface specifications to support new requirements."/>
<meta name="DC.Relation" scheme="URI" content="GUID-5E6B86D0-8C9D-58E9-83EC-F76DC2A8E7B6.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9E92EE30-F2E2-5F28-BB2A-391C09EC69D2.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5E6B86D0-8C9D-58E9-83EC-F76DC2A8E7B6.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Interface Extensibility</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C"><a name="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2383459 id2383473 id2383488 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html">Low Level Libraries and Frameworks</a> &gt; <a href="GUID-9E92EE30-F2E2-5F28-BB2A-391C09EC69D2.html">Plug-in Framework</a> &gt; <a href="GUID-5E6B86D0-8C9D-58E9-83EC-F76DC2A8E7B6.html">Plug-in Framework Concepts</a> &gt; </div>
<h1 class="topictitle1">Interface
Extensibility</h1>
<div><p>Symbian^3 onwards, the plug-in framework supports
interface extensibility. An extended interface extends the existing functionality
of the original interface (instantiation interface). By extending interfaces,
the framework developers need not change the existing interface specifications
to support new requirements. </p>

<p>Framework developers who build the frameworks on top of the plug-in framework,
define and publish extension interfaces to the existing interfaces used in
the framework. Once an interface extension is published by the framework developer,
the plug-in developers implement the extensions if required. </p>

<div class="section" id="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-4BA2A6E9-9390-4B43-99BE-482A964D9785"><a name="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-4BA2A6E9-9390-4B43-99BE-482A964D9785"><!-- --></a><h2 class="sectiontitle">Introduction</h2> <p>By extending interfaces, the framework
developers need not change their interface specifications to support new requirements. </p>
 <p>Changing
interface specifications is a complex activity in the below listed scenarios: </p>
 <ul>
<li id="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-BDEC7D4D-84A2-58C3-AE5A-06A418EC026A"><a name="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-BDEC7D4D-84A2-58C3-AE5A-06A418EC026A"><!-- --></a><p>The framework developer
is not the only supplier of plug-in implementation. </p>
 </li>

<li id="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-26FB3ADE-C529-54A2-ACA9-26B06989A809"><a name="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-26FB3ADE-C529-54A2-ACA9-26B06989A809"><!-- --></a><p>The framework also needs
to support plug-ins implementing the original interface. </p>
 </li>

</ul>
 <p>The interface extensions allows framework developers to publish discrete,
identifiable extensions to the existing interface classes. The extension interfaces
supported by each plug-in can be determined and used appropriately. </p>
 <p>The
images below illustrate how the interface extensibility feature works. </p>
 <p>The
class diagram shows the implementation of the original interface. </p>
 <div class="fignone" id="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-C85FB42D-1EE5-508E-B81F-D96B8A8E23E7"><a name="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-C85FB42D-1EE5-508E-B81F-D96B8A8E23E7"><!-- --></a><span class="figcap">Figure 1.               Class diagram of the original interface            </span>

<img src="GUID-7D78DFA8-301C-5A0C-9F83-7C4BBEAE34C2_d0e218556_href.jpg"/>
</div>
 <p>The next class diagram shows an example of the original class <strong>CImplementationClass</strong> supporting
two extensions . The extensions have been added to the <strong>CExampleInterface</strong> each
using a different implementation methodology . </p>
 <p> <strong>CExampleInterfaceExtended</strong> requires
no data and so has been added to the inheritance of the original plug-in <strong>CImplementationClass</strong> object. <strong>MExampleInterfaceExtended2</strong> shows
how extensions can be realized in separate objects with their own data. </p>
 <div class="fignone" id="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-B2D1AF5C-0789-5D9B-8EB1-13226C864D38"><a name="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-B2D1AF5C-0789-5D9B-8EB1-13226C864D38"><!-- --></a><span class="figcap">Figure 2.               Class diagram of the extended interface            </span>

<img src="GUID-DAF12BDB-5453-5DDD-ACBA-4C29AE448D87_d0e218585_href.jpg"/>
</div>
 <p>The extended interfaces should maintain the binary compatibility
by not changing the original interface class definition. The functional compatibility
should be maintained by incorporating interface extensions as optional. This
allows the framework to function with original and extended plug-in implementations. </p>
 <p>To
accommodate interface extensibility, the following changes are applied to
the plug-in framework. </p>
 <ul>
<li id="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-6D8129A2-4829-5039-AAAE-FB6529CC6F56"><a name="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-6D8129A2-4829-5039-AAAE-FB6529CC6F56"><!-- --></a><p>A new resource file
format to allow plug-in providers to register interface with extensions (Resource
file format version 3). </p>
 </li>

<li id="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-9F6DF121-3B7F-54AC-88A1-3DBFA428FCDA"><a name="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-9F6DF121-3B7F-54AC-88A1-3DBFA428FCDA"><!-- --></a><p>A new <samp class="codeph">targettype</samp> PLUGIN3. </p>
 </li>

<li id="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-615B9514-77A7-505B-82C5-B71EFEE4C80E"><a name="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-615B9514-77A7-505B-82C5-B71EFEE4C80E"><!-- --></a><p>New APIs accommodated
in the framework to search for plug-ins supporting desired interface extensions. </p>
 </li>

<li id="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-C7C6CED9-18A8-5C28-98B6-C8061EC73DFC"><a name="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-C7C6CED9-18A8-5C28-98B6-C8061EC73DFC"><!-- --></a><p>A new proxy table for
the plug-in implementations to export factory methods to instantiate the extended
interface objects and a method to manually release the objects after use. </p>
 </li>

</ul>
 <p>Accommodation of interface extensibility still allows the default
resolvers and custom resolution of implementations. </p>
 </div>

<div class="example"><h2 class="sectiontitle">Interface extensibility example</h2> <p>The code below
shows the definition of an extended class: </p>
 <pre class="codeblock" id="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-C0A7CEC3-5078-5482-8483-0CE338077DD5"><a name="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-C0A7CEC3-5078-5482-8483-0CE338077DD5"><!-- --></a>
class CExampleInterface : public CBase
{
public:
    virtual void DoMethodL() = 0;
};

// Extended Interface 0x10009E44

class MExampleInterfaceExtended
{
public:
    virtual void DoMethodExtended() = 0;
};

// Extended Interface 0x10009E45

class MExampleInterfaceExtended2
{
public:
    virtual void DoMethodExtended2() = 0;
};

</pre>
 <p>The code below shows the instantiation of extended functions: </p>
 <pre class="codeblock" id="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-AF382EE0-C8D0-55ED-807A-2A51C3D8B72A"><a name="GUID-C7F3EDA1-B935-5F5F-AFD4-A3CABA0C031C__GUID-AF382EE0-C8D0-55ED-807A-2A51C3D8B72A"><!-- --></a>// the Instantiation Interface

const TUid KExampleInterfaceUid = {0x10009DBB}; 
const TUid KExtendedInterfaceUid1 = {0x10009E44};
const TUid KExtendedInterfaceUid2 = {0x10009E45};

// Set up extended interfaces UID list which form part of the resolution criteria.
RArray&lt;TUid&gt; extendedInterfaces;
CleanupClosePushL(extendedInterfaces);
extendedInterfaces.AppendL(KExtendedInterfaceUid1);
extendedInterfaces.AppendL(KExtendedInterfaceUid2);

// set up resolve parameter
_LIT8 (KExampleImplementationData,"Extended Interface Example");
TEComResolverParams ResolverParams;
ResolverParams.SetDataType(KExampleImplementationData());
ResolverParams.SetGenericMatch(ETrue);

TUid instanceKey;
CExampleInterface* instantiateIf = static_cast&lt;CExampleInterface*&gt;
(REComSession::CreateImplementationL(KExampleInterfaceUid,
                                       extendedInterfaces,
                                       instanceKey,
                                       ResolverParams) );
CleanupStack::PopAndDestroy(&amp;extendedInterfaces);

CleanupStack::PushL(instantiateIf);

// May want to TRAP here if KErrNotSupported is handled, i.e. extension optional
MExampleInterfaceExtended2* ext2 = static_cast&lt;MExampleInterfaceExtended2*&gt;(
  REComSession::GetExtendedInterfaceL(instanceKey, KExtendedInterfaceUid2));

// access old interface function
instantiateIf-&gt;DoMethodL(); 

// access extension function 
ext2-&gt;DoMethodExtended2();   

</pre>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-5E6B86D0-8C9D-58E9-83EC-F76DC2A8E7B6.html">Plug-in Framework Concepts</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>