<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="How to use the audio tone player utility"/>
<meta name="DC.Relation" scheme="URI" content="GUID-03D132BE-5B90-50E1-88D3-D66289C02444.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-DDE1A8A9-1D67-53BF-8A65-340F139AD4AB.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-EB15EC74-BCCE-591D-8308-210C22CDDDDA.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-03D132BE-5B90-50E1-88D3-D66289C02444.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>How to use the audio tone player utility</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2405098 id2405245 id2405934 id2405982 id2405996 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html">Multimedia Guide</a> &gt; <a href="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html">Multimedia APIs and Frameworks Collection</a> &gt; <a href="GUID-DDE1A8A9-1D67-53BF-8A65-340F139AD4AB.html">Multimedia Framework Component</a> &gt; <a href="GUID-EB15EC74-BCCE-591D-8308-210C22CDDDDA.html">Audio Client Library</a> &gt; <a href="GUID-03D132BE-5B90-50E1-88D3-D66289C02444.html" title="This section describes how to use the Audio Client library.">Audio Client Tutorials</a> &gt; </div>
<h1 class="topictitle1">How to use the audio tone player utility</h1>
<div>
<p>The Audio Tone Player, provided by the class <a href="GUID-D728A286-A202-3915-9643-8FD70646F78A.html"><span class="apiname">CMdaAudioToneUtility</span></a>, has an interface for generating the following tones on all audio
capable devices. Using this class you can play the following tones: </p>

<ul>
<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-6F7555FF-A11D-5D34-9602-75E9B9F4E70E"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-6F7555FF-A11D-5D34-9602-75E9B9F4E70E"><!-- --></a><p>Single tone
of a specified duration and frequency </p>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-B99BA7D8-E58F-5206-AAEE-55D47DC0629B"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-B99BA7D8-E58F-5206-AAEE-55D47DC0629B"><!-- --></a><p>Dual Tone Multi
Frequency (DTMF) strings </p>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-97874FB6-0884-53D7-9667-EC96604DEF30"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-97874FB6-0884-53D7-9667-EC96604DEF30"><!-- --></a><p>Sequences of
tones held in files or descriptors </p>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-B4704DBA-54C9-5B74-B518-2F5EBA1396C9"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-B4704DBA-54C9-5B74-B518-2F5EBA1396C9"><!-- --></a><p>Predefined (fixed)
sequences of tones held in any mobile equipment </p>
 </li>

</ul>

<p>Client applications such as ringtone applications, use <a href="GUID-D728A286-A202-3915-9643-8FD70646F78A.html"><span class="apiname">CMdaAudioToneUtility</span></a> to generate the tones they produce.
The tone player in turn uses MMF for playing sounds and is also credited
for interfacing with the audio hardware. An active scheduler is needed
for all the clients applications for the use of active objects and
callbacks. </p>

<div class="section" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-B86646DF-E472-556C-B9AF-F82CBAEE468A"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-B86646DF-E472-556C-B9AF-F82CBAEE468A"><!-- --></a><h2 class="sectiontitle">Using
the tone player</h2> <p>The tone player provides a simple interface
to generate single and multiple tones. Once the tone player object
has been constructed, multiple tones and tone sequences can be played
without having to create new instances of the object. </p>
 <p>Using
the tone player typically involves the following steps: </p>
 <div class="fignone" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-BF7D8243-53BE-5AF8-B9EF-4E7DC202AA1F"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-BF7D8243-53BE-5AF8-B9EF-4E7DC202AA1F"><!-- --></a><span class="figcap">Figure 1.               Tone Player Utility            </span>

<img src="GUID-8ECEF376-CB27-52FC-A9DD-933ACC24FDDC_d0e521025_href.png"/>
</div>
 <a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-11853890-B5E8-5797-918B-A1105C35F5BC"><!-- --></a><ol id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-11853890-B5E8-5797-918B-A1105C35F5BC">
<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-C1ED28E3-AF25-562B-B2BC-E70F2790961C"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-C1ED28E3-AF25-562B-B2BC-E70F2790961C"><!-- --></a><p><a href="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1.html#GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-B5EAD538-CB1F-556C-B38D-26A4327B6454">Constructing a tone player </a>  </p>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-ED14F3E0-7FCF-5B7C-B9B3-FCC048480302"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-ED14F3E0-7FCF-5B7C-B9B3-FCC048480302"><!-- --></a><p><a href="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1.html#GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-60775FAF-EB16-5462-9EDD-B18E9831CB70">Preparing a tone player </a>  </p>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-657C713C-82D4-5579-ACBD-1DA372972012"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-657C713C-82D4-5579-ACBD-1DA372972012"><!-- --></a><p><a href="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1.html#GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-BA2A90F5-C36C-547E-B415-C877C22F321A">Playing a tone </a>  </p>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-18F9686A-740F-582C-B4C7-547338231F28"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-18F9686A-740F-582C-B4C7-547338231F28"><!-- --></a><p><a href="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1.html#GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-0E2324A3-9290-56B4-BF68-A00FEF8B26ED">Cancelling a tone </a>  </p>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-BB3FE6DE-FE3B-5E1E-A482-2359D638EE69"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-BB3FE6DE-FE3B-5E1E-A482-2359D638EE69"><!-- --></a><p><a href="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1.html#GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-9D861D80-F6E4-577F-80AB-BD321D413764">Retrieving a custom interface </a>  </p>
 </li>

</ol>
 <p id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-B5EAD538-CB1F-556C-B38D-26A4327B6454"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-B5EAD538-CB1F-556C-B38D-26A4327B6454"><!-- --></a><strong>Constructing a tone
player</strong> </p>
 <p>The <a href="GUID-D728A286-A202-3915-9643-8FD70646F78A.html"><span class="apiname">CMdaAudioToneUtility</span></a> object
can be constructed using the <samp class="codeph">NewL()</samp> member function.
There are two versions of this constructor function: </p>
 <ul>
<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-A395EF84-C992-57B2-9A7A-2F9EE94E4E1E"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-A395EF84-C992-57B2-9A7A-2F9EE94E4E1E"><!-- --></a><p>create a tone
player with default priority settings: </p>
 <pre class="codeblock" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-C4C5F891-A369-5819-965E-D879941247D1"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-C4C5F891-A369-5819-965E-D879941247D1"><!-- --></a>static CMdaAudioToneUtility* NewL(MMdaAudioToneObserver&amp; aObserver, CMdaServer* aServer=NULL);</pre>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-9152BA40-7543-5915-A508-1E98EAD288FD"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-9152BA40-7543-5915-A508-1E98EAD288FD"><!-- --></a><p>create a tone
player with your own settings: </p>
 <pre class="codeblock" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-F5D92EE4-66D5-5BA5-9328-113F2AD289A1"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-F5D92EE4-66D5-5BA5-9328-113F2AD289A1"><!-- --></a>static CMdaAudioToneUtility* NewL(MMdaAudioToneObserver&amp; aObserver, CMdaServer* aServer, TInt aPriority,
TMdaPriorityPreference aPref=EMdaPriorityPreferenceTimeAndQuality); </pre>
 </li>

</ul>
 <p>Both functions pass a reference of the <a href="GUID-A6D27F43-AC44-38EA-B16F-31A14390582E.html"><span class="apiname">MMdaAudioToneObserver</span></a> object to the tone player. The <a href="GUID-A6D27F43-AC44-38EA-B16F-31A14390582E.html"><span class="apiname">MMdaAudioToneObserver</span></a> is an observer interface to notifications from the member functions <a href="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1.html#GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-60775FAF-EB16-5462-9EDD-B18E9831CB70">Prepare</a>, <a href="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1.html#GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-BA2A90F5-C36C-547E-B415-C877C22F321A">Play</a>, and, <a href="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1.html#GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-0E2324A3-9290-56B4-BF68-A00FEF8B26ED">CancelPlay</a> callback functions. </p>
 <p id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-60775FAF-EB16-5462-9EDD-B18E9831CB70"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-60775FAF-EB16-5462-9EDD-B18E9831CB70"><!-- --></a><strong>Preparing a tone
player</strong> </p>
 <p>Once the tone player object is created, it has
to be prepared to play a tone or a DTMF string. use one of the following
prepare member functions to get it ready for playing the corresponding
tone. </p>
 <ul>
<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-6B9AFA66-9748-5E38-A712-188A8CA6BA77"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-6B9AFA66-9748-5E38-A712-188A8CA6BA77"><!-- --></a><p> <samp class="codeph"> PrepareToPlayTone()</samp> - to play a single tone of a fixed frequency (Hz) and duration (microseconds).
For example: </p>
 <pre class="codeblock" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-B6943FB2-A5E5-5A92-A0BC-31AC567FE647"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-B6943FB2-A5E5-5A92-A0BC-31AC567FE647"><!-- --></a>virtual void PrepareToPlayTone(TInt    aFrequency, const TTimeIntervalMicroSeconds&amp; aDuration);</pre>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-28A30DA0-F52D-59E4-B05D-9A1D8CFBCE2A"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-28A30DA0-F52D-59E4-B05D-9A1D8CFBCE2A"><!-- --></a><p> <samp class="codeph">PrepareToPlayDTMFString()</samp> - to play a DTMF string held in a descriptor. For example: </p>
 <pre class="codeblock" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-2D18C9CF-86CC-554C-9336-5C656EDD71E5"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-2D18C9CF-86CC-554C-9336-5C656EDD71E5"><!-- --></a>virtual void PrepareToPlayDTMFString(const TDesC&amp; aDTMF);</pre>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-0F67C0F8-E60F-5B42-9536-231FE9086AB7"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-0F67C0F8-E60F-5B42-9536-231FE9086AB7"><!-- --></a><p> <samp class="codeph">PrepareToPlayFileSequence()</samp> - to play a sequence of non-DTMF tones held in a file. For example: </p>
 <pre class="codeblock" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-7BCD3441-7CA9-581B-96E0-D230FBF6A7E4"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-7BCD3441-7CA9-581B-96E0-D230FBF6A7E4"><!-- --></a>virtual void PrepareToPlayFileSequence(const TDesC&amp; aFilename);</pre>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-09048A04-0869-5208-B3BE-51217690527D"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-09048A04-0869-5208-B3BE-51217690527D"><!-- --></a><p> <samp class="codeph">PrepareToPlayDesSequence()</samp> - to play a sequence of non-DTMF tones held in a descriptor. For
example: </p>
 <pre class="codeblock" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-52063B5D-1131-5236-A06F-BFD67A09CF71"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-52063B5D-1131-5236-A06F-BFD67A09CF71"><!-- --></a>virtual void PrepareToPlayDesSequence(const TDesC8&amp; aSequence);</pre>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-6328FB13-16F3-51BC-9B13-F00E8B8532DB"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-6328FB13-16F3-51BC-9B13-F00E8B8532DB"><!-- --></a><p> <samp class="codeph"> PrepareToPlayFixedSequence()</samp> - to play a sequence of non-DTMF tones stored on the mobile equipment.
For example: </p>
 <pre class="codeblock" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-839C7AFA-0D3E-5D05-BA0C-34CEF841D3F7"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-839C7AFA-0D3E-5D05-BA0C-34CEF841D3F7"><!-- --></a>virtual void PrepareToPlayFixedSequence(TInt aSequenceNumber); </pre>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-EB7F1FA3-849F-5169-B88F-49512CD1E14C"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-EB7F1FA3-849F-5169-B88F-49512CD1E14C"><!-- --></a><p> <samp class="codeph">PrepareToPlayDualTone()</samp> - to play a dual tone. For example: </p>
 <pre class="codeblock" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-FBE9AAAE-E188-58C9-8167-0B7049BCAB13"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-FBE9AAAE-E188-58C9-8167-0B7049BCAB13"><!-- --></a>void PrepareToPlayDualTone(TInt aFrequencyOne, TInt aFrequencyTwo, const TTimeIntervalMicroSeconds&amp; aDuration); </pre>
 <p>The two tones, aFrequencyOne and aFrequencyTwo, are measured
in Hz, and the duration of the tone, aDuration, is measured in microseconds. </p>
 </li>

</ul>
 <p>All the prepare member functions are asynchronous. In response
to each, <a href="GUID-D728A286-A202-3915-9643-8FD70646F78A.html"><span class="apiname">CMdaAudioToneUtility</span></a> creates a <samp class="codeph">CMMFToneConfig</samp> derived object that stores the data for the
type of tone to play. </p>
 <p>On completion of a prepare, the observer
function <a href="GUID-A6D27F43-AC44-38EA-B16F-31A14390582E.html#GUID-A6D27F43-AC44-38EA-B16F-31A14390582E__GUID-6B3BF4AC-3E50-3927-A09F-E4E5DDD1AECA"><span class="apiname">MMdaAudioToneObserver::MatoPrepareComplete()</span></a> is called, indicating the success or failure of the prepare operation.
If successful you can play the tone. </p>
 <p>You can cancel any prepare
function using <a href="GUID-D4BCECEA-A42F-372D-85D7-66762D2F7B0D.html"><span class="apiname">CancelPrepare()</span></a> (the observer callback
function is <em>not</em> called on completion of the cancel). </p>
 <p id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-BA2A90F5-C36C-547E-B415-C877C22F321A"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-BA2A90F5-C36C-547E-B415-C877C22F321A"><!-- --></a><strong>Playing a tone</strong> </p>
 <p>Once the player is prepared successfully, certain configurations
can be done before playing the tone as listed below: </p>
 <ul>
<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-6FAFAB95-55B7-5C74-BF0B-31962859DF32"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-6FAFAB95-55B7-5C74-BF0B-31962859DF32"><!-- --></a><p> <a href="GUID-657CDF11-EA74-3074-9872-412D2C26F3E6.html"><span class="apiname">Volume()</span></a> and <a href="GUID-171667CD-06F4-3DF5-A4E1-360422F362D2.html"><span class="apiname">SetVolume()</span></a> - This retrieves the current
volume settings and sets to a new value specified by the user respectively. </p>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-F5BC6F5F-57C0-5BEC-9783-AF06358A59E2"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-F5BC6F5F-57C0-5BEC-9783-AF06358A59E2"><!-- --></a><p> <a href="GUID-C2B76645-A50F-3DFF-943B-4F3D5A33ED31.html"><span class="apiname">GetBalanceL()</span></a> and <a href="GUID-D1856981-6A17-3CD9-80B5-65781A803BA4.html"><span class="apiname">SetBalanceL()</span></a> - This retrieves the current
balance of the audio device and sets the audio balance specified by
the user respectively.. </p>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-06D4BAEF-52CF-5CD8-90A2-8163336B016F"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-06D4BAEF-52CF-5CD8-90A2-8163336B016F"><!-- --></a><p> <a href="GUID-A2BDF5F7-06F0-3788-905E-D53FC9C67446.html"><span class="apiname">SetPriority()</span></a> - This sets the priority of the audio device. The priority is defined
to arbitrate between multiple objects trying to access the controller
at the same time. </p>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-0109EFE3-8CA8-5E5A-B4F5-693E87BEEE0E"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-0109EFE3-8CA8-5E5A-B4F5-693E87BEEE0E"><!-- --></a><p> <a href="GUID-5B03528A-E19C-3782-95E0-179E0C03B349.html"><span class="apiname">SetVolumeRamp()</span></a> - This defines the period over which the volume level is to rise
(in microseconds) smoothly from zero to the specified volume level.
A value of <samp class="codeph">0</samp> causes the tone to be played at the <samp class="codeph">SetVolume()</samp> level for the full duration of the playback.
A value that is longer than the duration of the tone sequence means
that the tone never reaches the specified volume. </p>
 <pre class="codeblock" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-AB8860AD-2E15-5DF1-97B2-BA9BDA2D5D38"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-AB8860AD-2E15-5DF1-97B2-BA9BDA2D5D38"><!-- --></a>virtual void SetVolumeRamp(const TTimeIntervalMicroSeconds &amp;aRampDuration);</pre>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-47A3F620-FA41-5A85-B9E4-3D8BA3D9251B"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-47A3F620-FA41-5A85-B9E4-3D8BA3D9251B"><!-- --></a><p> <a href="GUID-9BBB8929-42B9-3862-BEFF-D845D4EC8E4E.html"><span class="apiname">SetDTMFLengths() </span></a> - This alters the duration of DTMF tone, the gaps between two DTMF
tones, and the pauses in microseconds. </p>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-5AC9A8EF-995D-5FD7-9AAD-309673819F33"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-5AC9A8EF-995D-5FD7-9AAD-309673819F33"><!-- --></a><p> <a href="GUID-CD5229CE-04B7-3CED-B997-688C9251D1B9.html"><span class="apiname">FixedSequenceCount() </span></a> - This returns the number of available pre-defined tone sequences,
the number always being greater than zero. </p>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-A5118A3F-43BF-5A34-B552-C0B57937928B"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-A5118A3F-43BF-5A34-B552-C0B57937928B"><!-- --></a><p> <a href="GUID-ECB22EFB-F630-35FB-9153-6D130945412E.html"><span class="apiname">FixedSequenceName()</span></a> - This returns the name of the specified fixed tone sequence. </p>
 </li>

</ul>
 <p>Upon successful configuration, the Play() can be called as
shown below. </p>
 <p> <samp class="codeph"> Play()</samp> - plays the tone, DTMF
or tone sequence specified by the prepare statement. For example: </p>
 <pre class="codeblock" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-D152802E-768B-5001-B362-05F7438B5106"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-D152802E-768B-5001-B362-05F7438B5106"><!-- --></a>virtual void Play();</pre>
 <p>Here, the tone player uses the <a href="GUID-E9006092-2ED1-3486-985A-0A4821FF90EC.html"><span class="apiname">Play()</span></a> from
the audio player utility to play the tone. </p>
 <p>This function is
asynchronous. It retrieves the details of the type of tone to play
from the previous <samp class="codeph">Prepare</samp> statement. When the tone
has been played to completion, the observer callback function <a href="GUID-A6D27F43-AC44-38EA-B16F-31A14390582E.html#GUID-A6D27F43-AC44-38EA-B16F-31A14390582E__GUID-65AAF2C6-FD4F-3365-99F7-FCD15287A1B9"><span class="apiname">MMdaAudioToneObserver::MatoPlayComplete()</span></a> is called, indicating
the success or failure of the play operation. The play operation can
be cancelled by calling the <a href="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1.html#GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-0E2324A3-9290-56B4-BF68-A00FEF8B26ED">CancelPlay()</a> member function. </p>
 <p>Playing the tone or
DTMF string can be customised using the following member functions
as mentioned below: </p>
 <ul>
<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-03F93CEA-1B61-5262-B720-2313E79662E6"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-03F93CEA-1B61-5262-B720-2313E79662E6"><!-- --></a><p> <samp class="codeph">SetRepeats()</samp> - sets the number of times the tone sequence (plus an optional trailing
silent period, measured in microseconds) is repeated during the play
operation. For example: </p>
 <pre class="codeblock" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-7B2A1D5A-BB07-5CAA-86F3-CF7C011A939A"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-7B2A1D5A-BB07-5CAA-86F3-CF7C011A939A"><!-- --></a>virtual void SetRepeats(TInt aRepeatNumberOfTimes, const TTimeIntervalMicroSeconds &amp;aTrailingSilence);</pre>
 <p>You can repeat the tone sequence indefinitely by setting <samp class="codeph">aRepeatNumberOfTimes</samp> to <samp class="codeph">KMdaRepeatForever</samp>. </p>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-5E34283D-17EF-59FC-842E-AD54DF7659C4"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-5E34283D-17EF-59FC-842E-AD54DF7659C4"><!-- --></a><p> <samp class="codeph">State()</samp> - returns the current state of the tone player (an enum): </p>
 <ul>
<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-A997198F-F638-5071-9333-6835E24EB23B"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-A997198F-F638-5071-9333-6835E24EB23B"><!-- --></a><p> <samp class="codeph">EMdaAudioToneUtilityNotReady</samp> - not prepared to play a tone </p>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-CAF8DAEB-E147-5F08-B86C-E3C3735690EB"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-CAF8DAEB-E147-5F08-B86C-E3C3735690EB"><!-- --></a><p> <samp class="codeph">EMdaAudioToneUtilityPrepared</samp> - prepared and ready to play a tone </p>
 </li>

<li id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-F10E01C6-F237-58E9-8213-423FEAAE3DDC"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-F10E01C6-F237-58E9-8213-423FEAAE3DDC"><!-- --></a><p> <samp class="codeph">EMdaAudioToneUtilityPlaying</samp> - currently playing a tone </p>
 </li>

</ul>
 <p>For example: </p>
 <pre class="codeblock" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-B2BB2135-C055-5A5E-B66B-63118DD7F654"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-B2BB2135-C055-5A5E-B66B-63118DD7F654"><!-- --></a>virtual TMdaAudioToneUtilityState State();</pre>
 </li>

</ul>
 <p>To play another tone or sequence, either wait for <a href="GUID-A6D27F43-AC44-38EA-B16F-31A14390582E.html#GUID-A6D27F43-AC44-38EA-B16F-31A14390582E__GUID-65AAF2C6-FD4F-3365-99F7-FCD15287A1B9"><span class="apiname">MMdaAudioToneObserver::MatoPlayComplete()</span></a> callback to be
issued when the current tone or DTMF string completes playing, or
use <a href="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1.html#GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-0E2324A3-9290-56B4-BF68-A00FEF8B26ED">CancelPlay()</a> and then issue the relevant prepare statement.
The <a href="GUID-E9006092-2ED1-3486-985A-0A4821FF90EC.html"><span class="apiname">Play()</span></a> function following the prepare statement
plays the tone or DTMF string based on the previously issued prepare
statement. </p>
 <p id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-0E2324A3-9290-56B4-BF68-A00FEF8B26ED"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-0E2324A3-9290-56B4-BF68-A00FEF8B26ED"><!-- --></a><strong>Cancelling a tone</strong> </p>
 <p> <a href="GUID-E5898C2C-12A4-3803-BB97-A9C3F3CDDDE4.html"><span class="apiname">CancelPlay()</span></a> - cancels the tone, DTMF,
or tone sequence currently playing. For example: </p>
 <pre class="codeblock" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-5F4A763E-BB07-5ACC-BC6C-6EA78DC85A44"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-5F4A763E-BB07-5ACC-BC6C-6EA78DC85A44"><!-- --></a>virtual void CancelPlay();</pre>
 <p>The observer callback function is <em>not</em> called on completion
of the cancel. </p>
 <p id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-9D861D80-F6E4-577F-80AB-BD321D413764"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-9D861D80-F6E4-577F-80AB-BD321D413764"><!-- --></a><strong>Retrieving a custom
interface</strong> </p>
 <p>To retrieve a custom interface to the underlying
device, use the <samp class="codeph">CustomInterface()</samp> member function.
For example: </p>
 <pre class="codeblock" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-AC62D116-853B-5216-9E22-FB9A68A53179"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-AC62D116-853B-5216-9E22-FB9A68A53179"><!-- --></a>IMPORT_C TAny *CustomInterface(TUid aInterfaceId);</pre>
 <p> <samp class="codeph">aInterfaceId</samp> is the UID of the interface function
required. </p>
 <p>The function returns a pointer to the interface
implementation, or NULL if the device does not implement the interface
requested. You must cast the return value to the correct type. </p>
 </div>

<div class="section" id="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-E2511DB8-AC9C-48ED-8877-37BFA7FB3647"><a name="GUID-9EE78D5A-32BC-5E0F-9139-AF00CDB95CC1__GUID-E2511DB8-AC9C-48ED-8877-37BFA7FB3647"><!-- --></a><h2 class="sectiontitle">See
Also</h2> <p><a href="GUID-F46E4F89-B9ED-5A4A-B812-B605B925D0C0.html">How to use the audio convert utility</a>  </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-03D132BE-5B90-50E1-88D3-D66289C02444.html" title="This section describes how to use the Audio Client library.">Audio Client Tutorials</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>