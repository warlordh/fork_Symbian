<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="MTP Framework Overview"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0463683C-9E9A-55ED-836D-0826E8EFCA73.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A0D4B6EC-8FA7-5FD9-AE5A-E811D876D585.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-98ACB508-ED32-5193-9E30-BCDF7E921788.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0463683C-9E9A-55ED-836D-0826E8EFCA73.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3F40DB93-6C60-56E2-8728-00370DF9AFB8.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-EA9D7B60-C4EA-5D29-9296-3E4C8B973F59.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8F5FAFAB-545A-5BF0-A3B5-6499F2D1AAD0.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>MTP Framework Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2534806 id2534929 id2534938 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-A0D4B6EC-8FA7-5FD9-AE5A-E811D876D585.html">Remote Connectivity Guide</a> &gt; <a href="GUID-98ACB508-ED32-5193-9E30-BCDF7E921788.html">MTP Frameworks</a> &gt; <a href="GUID-0463683C-9E9A-55ED-836D-0826E8EFCA73.html">MTP Framework</a> &gt; </div>
<h1 class="topictitle1">MTP Framework Overview</h1>
<div><p>The Symbian MTP implementation defines a transport layer, an MTP layer and a storage layer. The MTP Framework is the MTP layer, which is the core component of the implementation. It manages and works with data providers and transports for MTP requests and operations. </p>
 <div class="section"><h2 class="sectiontitle">Required background</h2> <p>You must have a general understanding of the <a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=FED98CA6-CA7F-4E60-B88C-C5FCE88F3EEA" target="_blank">MTP enhanced specification</a> and the <a href="GUID-3F40DB93-6C60-56E2-8728-00370DF9AFB8.html">Symbian implementation of the Media Transfer Protocol</a> to use the MTP Framework component. </p>
 </div>
 <div class="section"><h2 class="sectiontitle"> Architecture</h2> <p>The following diagram shows the Symbian MTP implementation including the MTP Framework, the MTP Data Providers and the MTP Transports. </p>
 <div class="fignone" id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-4FE36574-C9A2-50BB-A312-B4ADDE0C3B09"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-4FE36574-C9A2-50BB-A312-B4ADDE0C3B09"><!-- --></a><span class="figcap">Figure 1. 
             Symbian MTP Architecture 
          </span> <img src="GUID-AA276F4E-D032-571E-9B76-BA2351C3F8B7_d0e634766_href.jpg"/></div>
 <p>MTP Framework performs the following functions: </p>
 <ul><li id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-8675AFFB-106A-56F9-AE82-337911B341B4"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-8675AFFB-106A-56F9-AE82-337911B341B4"><!-- --></a><p>Provides a standard Symbian client/server interface to start and stop MTP services with a transport protocol binding, for example MTP USB Transport. </p>
 </li>
 <li id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-70650610-F5BA-55C7-B3DC-23EBA610E915"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-70650610-F5BA-55C7-B3DC-23EBA610E915"><!-- --></a><p>Manages MTP transport connections. </p>
 </li>
 <li id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-4EE27587-3C8F-5C5E-BAE4-EF19CEF8F19A"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-4EE27587-3C8F-5C5E-BAE4-EF19CEF8F19A"><!-- --></a><p>Maintains the core MTP protocol connection, session and transaction states. </p>
 </li>
 <li id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-32103AFB-5FDA-52DD-8113-090CB0A88796"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-32103AFB-5FDA-52DD-8113-090CB0A88796"><!-- --></a><p>Manages data providers which determine the MTP media data formats supported by a device. </p>
 </li>
 <li id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-FEC35AAA-DB52-5DBF-8D26-61DE4854AD33"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-FEC35AAA-DB52-5DBF-8D26-61DE4854AD33"><!-- --></a><p>Routes MTP operation requests and event datasets to data providers for processing. </p>
 </li>
 <li id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-C7B4FA1A-9ECF-5148-9C0C-A6A59CB33602"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-C7B4FA1A-9ECF-5148-9C0C-A6A59CB33602"><!-- --></a><p>Efficiently manages the flow of potentially very large volumes of media object data, for example files over 4GB. </p>
 </li>
 <li id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-45A445F8-1DB9-5789-A5E5-14942F6CBA4E"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-45A445F8-1DB9-5789-A5E5-14942F6CBA4E"><!-- --></a><p>Maintains a set of MTP data object metadata storages that collectively manage the set of MTP data objects on the device. These objects are enumerated to a connected MTP initiator. </p>
 </li>
 <li id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-497E4414-B8A8-5871-8E16-C2FFB660665D"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-497E4414-B8A8-5871-8E16-C2FFB660665D"><!-- --></a><p>Provides the MTP Data Provider API for device creators to extend the data providers. </p>
 </li>
 </ul>
 </div>
 <div class="section"><h2 class="sectiontitle">APIs</h2> <p>The MTP Framework exports the following key APIs: </p>
 <p> <strong>MTP Client API</strong> (<span class="filepath">mtpclient.dll</span>) </p>
 
<div class="tablenoborder"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-8078BF19-1A4E-5D80-817C-508432500B6A"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-8078BF19-1A4E-5D80-817C-508432500B6A" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d2157419e111">API</th>
 <th class="cellrowborder" valign="top" id="d2157419e114">Description</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d2157419e111 "><p> <a href="GUID-0F7C98EA-168C-3662-8EB1-81AF174F6305.html"><span class="apiname">RMTPClient</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2157419e114 "><p>The MTP client interface for starting and stopping MTP services, and for specifying the transport protocol. </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 <p> <strong>MTP Data Provider API</strong> (<span class="filepath">mtpdataproviderapi.dll</span>) </p>
 
<div class="tablenoborder"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-00383325-EEAC-552E-A536-88B005991FF6"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-00383325-EEAC-552E-A536-88B005991FF6" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d2157419e155">API</th>
 <th class="cellrowborder" valign="top" id="d2157419e158">Description</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d2157419e155 "><p> <a href="GUID-710B9980-7EF5-3E20-954B-795241D1D479.html"><span class="apiname">CMTPDataProviderPlugin</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2157419e158 "><p>The data provider ECom plug-in interface. Each ECOM plug-in data provider must be derived from this class. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2157419e155 "><p> <a href="GUID-D05CA382-EF87-3615-86A9-52508E0188B4.html"><span class="apiname">CMTPMetaData</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2157419e158 "><p>The MTP meta-data base class. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2157419e155 "><p> <a href="GUID-ACFF729E-09B0-36F7-89D1-C4987C9F35E8.html"><span class="apiname">CMTPObjectMetaData</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2157419e158 "><p>Represents MTP object meta-data. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2157419e155 "><p> <a href="GUID-1DF49266-22AF-3442-9D60-0F54737F0FE0.html"><span class="apiname">CMTPStorageMetaData</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2157419e158 "><p>Represents MTP storage meta-data. </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 <p> <strong>MTP Framework Library</strong> (<span class="filepath">mtpframework.dll</span>) </p>
 
<div class="tablenoborder"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-F5BD03BF-2E47-540E-A7EA-D7A12663F768"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-F5BD03BF-2E47-540E-A7EA-D7A12663F768" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d2157419e251">API</th>
 <th class="cellrowborder" valign="top" id="d2157419e254">Description</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d2157419e251 "><p> <a href="GUID-86E1BD36-36F3-3136-9185-330385950E17.html"><span class="apiname">MMTPDataCodeGenerator</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2157419e254 "><p>Provides functions to generate a set of unique datacodes for a data provider service. For more information about datacode generation, refer to <a href="GUID-DB82D140-AB1B-5AA9-89CB-A5F68F328C85.html">Creating an MTP Data Provider Plug-in</a>. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2157419e251 "><p> <a href="GUID-C3E0D6CA-56AC-322D-8681-D40B6B96018F.html"><span class="apiname">MMTPDataProviderFramework</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2157419e254 "><p>Can be used to get a reference of <a href="GUID-86E1BD36-36F3-3136-9185-330385950E17.html"><span class="apiname">MMTPDataCodeGenerator</span></a>. </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 <p> <strong>MTP Data Types Library</strong>  </p>
 <p>The MTP Data Types Library implements the MTP standard data types and dataset. It also allows device creators to write extended data types. For the MTP data types and their relationships, refer to the <a href="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828.html" title="The MTP Data Types library implements the MTP data types. The implemented data types closely represent the raw MTP data streaming encoding and are optimized for the streaming performance.">MTP Data Types Overview</a>. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">Typical uses</h2> <p>Device creators can use the MTP Framework in the following ways: </p>
 <ul><li id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-292A9AF4-EC66-59AC-8782-ADFA89E7D4ED"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-292A9AF4-EC66-59AC-8782-ADFA89E7D4ED"><!-- --></a><p>To write MTP client applications which start and stop an MTP service. </p>
 </li>
 <li id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-4A1577E5-13D6-5627-B616-1C01B98609AA"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-4A1577E5-13D6-5627-B616-1C01B98609AA"><!-- --></a><p>To create additional data providers to support various data types. </p>
 </li>
 <li id="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-04DF3B99-5666-5BF6-8E33-08E3D02A5731"><a name="GUID-F1DD8800-389C-5A88-A5EB-138359EF7DC5__GUID-04DF3B99-5666-5BF6-8E33-08E3D02A5731"><!-- --></a><p>To configure the Framework to support Picture Transfer Protocol (PTP) or PictBridge data in addition to MTP data. </p>
 </li>
 </ul>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-0463683C-9E9A-55ED-836D-0826E8EFCA73.html">MTP Framework</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-3F40DB93-6C60-56E2-8728-00370DF9AFB8.html">Media Transfer Protocol and Symbian
                Implementation</a></div>
<div><a href="GUID-EA9D7B60-C4EA-5D29-9296-3E4C8B973F59.html">MTP Data Providers Overview</a></div>
<div><a href="GUID-8F5FAFAB-545A-5BF0-A3B5-6499F2D1AAD0.html">MTP Transports Overview</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>