<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CSensrvChannelBuffer"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-DC0152A1-A098-34DA-81BD-4AD9690F04D6"/>

<title>CSensrvChannelBuffer</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-DC0152A1-A098-34DA-81BD-4AD9690F04D6"><a name="GUID-DC0152A1-A098-34DA-81BD-4AD9690F04D6"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0;
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CSensrvChannelBuffer Class Reference</h1>
	<table class="signature"><tr><td>class CSensrvChannelBuffer : public CBase</td></tr></table><div class="section"><div>
			<p>Implements channel buffer related handling.</p>

			<div class="p">Channel buffer is a ring buffer with a couple of special twists:<ul><li><p>There can be multiple tail pointers (one for each client that is listening to the channel).</p>
</li>
<li><p>New data is written by SSY or sensor driver directly to buffer, so any pointer given for writing must have at enough continuous space to fit n items (specified when new pointer is requested). -&gt; This leads to situations where end of the buffer contains no valid data, so there is an end index to indicate end of valid data.</p>
</li>
</ul>
</div>

			<div class="p">
				<dl class="since">
					
						<dt class="dlterm">Since</dt>

						<dd>S60 5.0 </dd>

					
				</dl>

			</div>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CSensrvChannelBuffer<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-1BE9FD19-7410-3E00-91A8-4F84E0911ABF">~CSensrvChannelBuffer</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-E1FEB8DB-F47C-3A8A-B503-6434E9E72A5C">AddListener</a>(<a href="GUID-7C94A4D0-57B2-31E9-A9B7-1ABE0B884A13.html">CSensrvChannelListener</a> *, <a href="GUID-B8B13B8A-772A-3B3A-8449-C38F0E55412B.html">TSensrvTailIndexItem</a> *&amp;, <a href="GUID-7C94A4D0-57B2-31E9-A9B7-1ABE0B884A13.html">CSensrvChannelListener::TSensrvChannelListenerState</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-8EA2FEC3-EB34-3540-8226-ABAF917ED7C8">CancelFreeBlock</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-45AC1F69-59C3-320C-9C6E-2FF079E41B91">GetConditionData</a>(<a href="GUID-B8B13B8A-772A-3B3A-8449-C38F0E55412B.html">TSensrvTailIndexItem</a> *, <a href="GUID-C61FB5EA-640B-3178-844D-98166468575C.html">CSensrvChannelListener::TChannelDataParts</a> &amp;)</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a> *</td><td><a href="#GUID-5ACE2F65-B17E-39BE-ABD1-87FCB52BE350">GetFreeBlock</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-99C1307E-3B86-304E-BE70-C2FD9CAFA013">GetInitialMessageData</a>(<a href="GUID-F882C8D2-78E5-3757-8455-CCE6973549ED.html">CSensrvChannelListener::TChannelDataMessage</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-B40F3551-3694-3DD1-B96C-BFF1779C84CA">GetMessageData</a>(<a href="GUID-B8B13B8A-772A-3B3A-8449-C38F0E55412B.html">TSensrvTailIndexItem</a> *, <a href="GUID-F882C8D2-78E5-3757-8455-CCE6973549ED.html">CSensrvChannelListener::TChannelDataMessage</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-1EAE42DF-288D-38BA-91C2-BAFC8FA29501">Length</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-DC0152A1-A098-34DA-81BD-4AD9690F04D6.html">CSensrvChannelBuffer</a> *</td><td><a href="#GUID-BA0B7C5C-FBCA-3962-A027-37767500B9DA">NewL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-B1C47A5F-0E02-3CDA-BB83-C6B06B3C1210">RemoveListener</a>(<a href="GUID-7C94A4D0-57B2-31E9-A9B7-1ABE0B884A13.html">CSensrvChannelListener</a> *)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-453BD7E0-0DD5-3586-A8EA-F68D190E95FB">WroteBlock</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-9266E3DC-7F1E-3CCC-B6FC-D5F762F2E8E3">CSensrvChannelBuffer</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-6D329759-6403-3983-91D9-8B08A2872DE7">ConstructL</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-E91013EC-8C4F-3A79-9517-AF3385773BE8">GetTailIndex</a>(<a href="GUID-7C94A4D0-57B2-31E9-A9B7-1ABE0B884A13.html">CSensrvChannelListener</a> *)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-1335A48B-C9D5-3DC2-883E-C61D0C8F6759">InvalidateRange</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-F49A3F97-F12B-3E19-8725-2296ADF8A092">UpdateDataAvailable</a>(<a href="GUID-B8B13B8A-772A-3B3A-8449-C38F0E55412B.html">TSensrvTailIndexItem</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td><a href="#GUID-E4005E01-B325-3447-8F61-8B8B4E489324">iBuffer</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-8B0F988B-F28E-3BFE-A73C-6C47D315002F">iBufferLength</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-FF6F3F70-DBE7-3AF4-96B6-31A3ADDD9245">iHeadIndex</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-A5C9003D-0AAF-3264-97E9-0B6D5589A200">iItemSize</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-6594E658-C942-3322-87B3-C251684D41A7">iLatestWrittenItemIndex</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-BB37CAF8-E023-3717-816D-826C169CD182">iRequestedFreeBlockLength</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-AAA13D1F-1BD7-3331-BB8C-11FA2795B53F.html">RPointerArray</a>&lt; <a href="GUID-B8B13B8A-772A-3B3A-8449-C38F0E55412B.html">TSensrvTailIndexItem</a> &gt;</td><td><a href="#GUID-62C769BD-3D3A-3B58-A764-B10CB88C7A11">iTailIndexArray</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-F7C6D085-4F0E-3F80-98A2-F9F2AEE2D3C2">iValidEndIndex</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-9266E3DC-7F1E-3CCC-B6FC-D5F762F2E8E3"><a name="GUID-9266E3DC-7F1E-3CCC-B6FC-D5F762F2E8E3"><!-- --></a>
		<h2 class="topictitle2">CSensrvChannelBuffer(TInt, TInt)</h2>
		<table class="signature"><tr><td>CSensrvChannelBuffer</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aItemSize,</td></tr><tr><td colspan="2"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aBufferLength</td></tr><tr><td colspan="1"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>C++ constructor</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aItemSize</td><td>Size of single buffered item in bytes  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aBufferLength</td><td>Number of items that need to be buffered.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-1BE9FD19-7410-3E00-91A8-4F84E0911ABF"><a name="GUID-1BE9FD19-7410-3E00-91A8-4F84E0911ABF"><!-- --></a>
		<h2 class="topictitle2">~CSensrvChannelBuffer()</h2>
		<table class="signature"><tr><td>~CSensrvChannelBuffer</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Destructor. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-E1FEB8DB-F47C-3A8A-B503-6434E9E72A5C"><a name="GUID-E1FEB8DB-F47C-3A8A-B503-6434E9E72A5C"><!-- --></a>
		<h2 class="topictitle2">AddListener(CSensrvChannelListener *, TSensrvTailIndexItem *&amp;, CSensrvChannelListener::TSensrvChannelListenerState)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>AddListener</td><td>(</td><td><a href="GUID-7C94A4D0-57B2-31E9-A9B7-1ABE0B884A13.html">CSensrvChannelListener</a> *</td><td>aListener,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-B8B13B8A-772A-3B3A-8449-C38F0E55412B.html">TSensrvTailIndexItem</a> *&amp;</td><td>aTailItem,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-7C94A4D0-57B2-31E9-A9B7-1ABE0B884A13.html">CSensrvChannelListener::TSensrvChannelListenerState</a></td><td>aState</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Add new listener tail index. Index is initialized to KSensrvChannelBufferUninitializedTail, if there is an outstanding request for data block, or iHeadIndex if not. This is done so that first write of data will be ignored, as it was generated before listening started for this listener.</p>

				<p>Called by server thread.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-7C94A4D0-57B2-31E9-A9B7-1ABE0B884A13.html">CSensrvChannelListener</a> * aListener</td><td>Pointer to the listener.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-B8B13B8A-772A-3B3A-8449-C38F0E55412B.html">TSensrvTailIndexItem</a> *&amp; aTailItem</td><td>Returns pointer to tail item that can be supplied to other methods.  </td></tr><tr><td class="parameter"><a href="GUID-7C94A4D0-57B2-31E9-A9B7-1ABE0B884A13.html">CSensrvChannelListener::TSensrvChannelListenerState</a> aState</td><td>channel listener state.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-8EA2FEC3-EB34-3540-8226-ABAF917ED7C8"><a name="GUID-8EA2FEC3-EB34-3540-8226-ABAF917ED7C8"><!-- --></a>
		<h2 class="topictitle2">CancelFreeBlock()</h2>
		<table class="signature"><tr><td>void</td><td>CancelFreeBlock</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Cancels any outstanding free block request Called by SSY thread.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-6D329759-6403-3983-91D9-8B08A2872DE7"><a name="GUID-6D329759-6403-3983-91D9-8B08A2872DE7"><!-- --></a>
		<h2 class="topictitle2">ConstructL()</h2>
		<table class="signature"><tr><td>void</td><td>ConstructL</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>2nd phase of construction</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-45AC1F69-59C3-320C-9C6E-2FF079E41B91"><a name="GUID-45AC1F69-59C3-320C-9C6E-2FF079E41B91"><!-- --></a>
		<h2 class="topictitle2">GetConditionData(TSensrvTailIndexItem *, CSensrvChannelListener::TChannelDataParts &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>GetConditionData</td><td>(</td><td><a href="GUID-B8B13B8A-772A-3B3A-8449-C38F0E55412B.html">TSensrvTailIndexItem</a> *</td><td>aTailItem,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-C61FB5EA-640B-3178-844D-98166468575C.html">CSensrvChannelListener::TChannelDataParts</a> &amp;</td><td>aDataParts</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Gets data for condition evaluation and resets condition tail to head index.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-B8B13B8A-772A-3B3A-8449-C38F0E55412B.html">TSensrvTailIndexItem</a> * aTailItem</td><td>Pointer to the tail item.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-C61FB5EA-640B-3178-844D-98166468575C.html">CSensrvChannelListener::TChannelDataParts</a> &amp; aDataParts</td><td>Reference to dataparts object is filled. Note that the data is only guaranteed valid as long as proxy's mutex is not signaled.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-5ACE2F65-B17E-39BE-ABD1-87FCB52BE350"><a name="GUID-5ACE2F65-B17E-39BE-ABD1-87FCB52BE350"><!-- --></a>
		<h2 class="topictitle2">GetFreeBlock(TInt)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint8</a> *</td><td>GetFreeBlock</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aCount</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Gets pointer to next free block of n items. Adjusts indexes accordingly. Called by SSY thread.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aCount</td><td>Number of items to get free block for.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-99C1307E-3B86-304E-BE70-C2FD9CAFA013"><a name="GUID-99C1307E-3B86-304E-BE70-C2FD9CAFA013"><!-- --></a>
		<h2 class="topictitle2">GetInitialMessageData(CSensrvChannelListener::TChannelDataMessage &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>GetInitialMessageData</td><td>(</td><td><a href="GUID-F882C8D2-78E5-3757-8455-CCE6973549ED.html">CSensrvChannelListener::TChannelDataMessage</a> &amp;</td><td>aMessageData</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Gets the initial data item that can be sent to new listerers if there is no data available by <a href="GUID-DC0152A1-A098-34DA-81BD-4AD9690F04D6.html#GUID-B40F3551-3694-3DD1-B96C-BFF1779C84CA">GetMessageData()</a>. Called by server thread.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-F882C8D2-78E5-3757-8455-CCE6973549ED.html">CSensrvChannelListener::TChannelDataMessage</a> &amp; aMessageData</td><td>Reference to message data that is filled. Note that the data is only guaranteed valid as long as proxy's mutex is not signaled.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B40F3551-3694-3DD1-B96C-BFF1779C84CA"><a name="GUID-B40F3551-3694-3DD1-B96C-BFF1779C84CA"><!-- --></a>
		<h2 class="topictitle2">GetMessageData(TSensrvTailIndexItem *, CSensrvChannelListener::TChannelDataMessage &amp;, TInt)</h2>
		<table class="signature"><tr><td>void</td><td>GetMessageData</td><td>(</td><td><a href="GUID-B8B13B8A-772A-3B3A-8449-C38F0E55412B.html">TSensrvTailIndexItem</a> *</td><td>aTailItem,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-F882C8D2-78E5-3757-8455-CCE6973549ED.html">CSensrvChannelListener::TChannelDataMessage</a> &amp;</td><td>aMessageData,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aCount</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Gets data for transaction and adjusts listener tail accordingly. Data written can be less than the specified count, if there is less data available. Called by server thread.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-B8B13B8A-772A-3B3A-8449-C38F0E55412B.html">TSensrvTailIndexItem</a> * aTailItem</td><td>Pointer to the tail item.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-F882C8D2-78E5-3757-8455-CCE6973549ED.html">CSensrvChannelListener::TChannelDataMessage</a> &amp; aMessageData</td><td>Reference to message data that is filled. Note that the data is only guaranteed valid as long as proxy's mutex is not signaled.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aCount</td><td>Maximum number of data items to write.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-E91013EC-8C4F-3A79-9517-AF3385773BE8"><a name="GUID-E91013EC-8C4F-3A79-9517-AF3385773BE8"><!-- --></a>
		<h2 class="topictitle2">GetTailIndex(CSensrvChannelListener *)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>GetTailIndex</td><td>(</td><td><a href="GUID-7C94A4D0-57B2-31E9-A9B7-1ABE0B884A13.html">CSensrvChannelListener</a> *</td><td>aListener</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Gets tail index for listener.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-7C94A4D0-57B2-31E9-A9B7-1ABE0B884A13.html">CSensrvChannelListener</a> * aListener</td><td>Pointer to the listener.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-1335A48B-C9D5-3DC2-883E-C61D0C8F6759"><a name="GUID-1335A48B-C9D5-3DC2-883E-C61D0C8F6759"><!-- --></a>
		<h2 class="topictitle2">InvalidateRange(TInt)</h2>
		<table class="signature"><tr><td>void</td><td>InvalidateRange</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aCount</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Invalidates range of items starting from head index. Adjusts valid and tail indexes accordingly.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aCount</td><td>Number of items to invalidate.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-1EAE42DF-288D-38BA-91C2-BAFC8FA29501"><a name="GUID-1EAE42DF-288D-38BA-91C2-BAFC8FA29501"><!-- --></a>
		<h2 class="topictitle2">Length()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>Length</td><td>(</td><td>)</td><td>const [inline]</td></tr></table><div class="section"><div>
				<p>Gets buffer length Called from server thread</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-BA0B7C5C-FBCA-3962-A027-37767500B9DA"><a name="GUID-BA0B7C5C-FBCA-3962-A027-37767500B9DA"><!-- --></a>
		<h2 class="topictitle2">NewL(TInt, TInt)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-DC0152A1-A098-34DA-81BD-4AD9690F04D6.html">CSensrvChannelBuffer</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aItemSize,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aBufferLength</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Two phase constructor</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

					<dl class="exception">
						
							<dt class="dlterm">Exceptions</dt>

							<dd>
								<table cellpadding="4" cellspacing="0" summary="" border="0" class="simpletableborder"><tr>
										<td valign="top">KErrNoMemory</td>

										<td valign="top">
											<p>Out of memory </p>

										</td>

									</tr>
</table>

							</dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aItemSize</td><td>Size of single buffered item in bytes  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aBufferLength</td><td>Number of items that need to be buffered.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B1C47A5F-0E02-3CDA-BB83-C6B06B3C1210"><a name="GUID-B1C47A5F-0E02-3CDA-BB83-C6B06B3C1210"><!-- --></a>
		<h2 class="topictitle2">RemoveListener(CSensrvChannelListener *)</h2>
		<table class="signature"><tr><td>void</td><td>RemoveListener</td><td>(</td><td><a href="GUID-7C94A4D0-57B2-31E9-A9B7-1ABE0B884A13.html">CSensrvChannelListener</a> *</td><td>aListener</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Removes a listener tail index. Called by server thread.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-7C94A4D0-57B2-31E9-A9B7-1ABE0B884A13.html">CSensrvChannelListener</a> * aListener</td><td>Pointer to the listener.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-F49A3F97-F12B-3E19-8725-2296ADF8A092"><a name="GUID-F49A3F97-F12B-3E19-8725-2296ADF8A092"><!-- --></a>
		<h2 class="topictitle2">UpdateDataAvailable(TSensrvTailIndexItem &amp;, TBool)</h2>
		<table class="signature"><tr><td>void</td><td>UpdateDataAvailable</td><td>(</td><td><a href="GUID-B8B13B8A-772A-3B3A-8449-C38F0E55412B.html">TSensrvTailIndexItem</a> &amp;</td><td>aTailItem,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aMoreData</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>Checks how much new data is available for listener. If there is no data amount change, no update is needed.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-B8B13B8A-772A-3B3A-8449-C38F0E55412B.html">TSensrvTailIndexItem</a> &amp; aTailItem</td><td>Reference to the tail item.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aMoreData</td><td>If ETrue, indicates that update is potentially increasing the amount of data. If false, the update is potentially decreasing the amount of data.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-453BD7E0-0DD5-3586-A8EA-F68D190E95FB"><a name="GUID-453BD7E0-0DD5-3586-A8EA-F68D190E95FB"><!-- --></a>
		<h2 class="topictitle2">WroteBlock(TInt)</h2>
		<table class="signature"><tr><td>void</td><td>WroteBlock</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aCount</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Validates block of n items starting from the head index. Adjusts indexes accordingly. Called by SSY thread.</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aCount</td><td>Number of items that were written.  </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-E4005E01-B325-3447-8F61-8B8B4E489324"><a name="GUID-E4005E01-B325-3447-8F61-8B8B4E489324"><!-- --></a>
		<h2 class="topictitle2">
					HBufC8 * iBuffer</h2>
		<table class="signature"><tr><td>
					<a href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *</td><td>iBuffer</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Actual buffer. Own. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-8B0F988B-F28E-3BFE-A73C-6C47D315002F"><a name="GUID-8B0F988B-F28E-3BFE-A73C-6C47D315002F"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iBufferLength</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iBufferLength</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Number of items buffer can hold. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-FF6F3F70-DBE7-3AF4-96B6-31A3ADDD9245"><a name="GUID-FF6F3F70-DBE7-3AF4-96B6-31A3ADDD9245"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iHeadIndex</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iHeadIndex</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Indicates cell where SSY will be writing next. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-A5C9003D-0AAF-3264-97E9-0B6D5589A200"><a name="GUID-A5C9003D-0AAF-3264-97E9-0B6D5589A200"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iItemSize</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iItemSize</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Single buffered data item size </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-6594E658-C942-3322-87B3-C251684D41A7"><a name="GUID-6594E658-C942-3322-87B3-C251684D41A7"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iLatestWrittenItemIndex</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iLatestWrittenItemIndex</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Index of the latest written data item or KErrNotFound. The item located at this index can be sent to new listeners as initial data if there is nothing else to sent. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-BB37CAF8-E023-3717-816D-826C169CD182"><a name="GUID-BB37CAF8-E023-3717-816D-826C169CD182"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iRequestedFreeBlockLength</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iRequestedFreeBlockLength</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Indicates the length of free block that has been requested. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-62C769BD-3D3A-3B58-A764-B10CB88C7A11"><a name="GUID-62C769BD-3D3A-3B58-A764-B10CB88C7A11"><!-- --></a>
		<h2 class="topictitle2">
					RPointerArray&lt; TSensrvTailIndexItem &gt; iTailIndexArray</h2>
		<table class="signature"><tr><td>
					<a href="GUID-AAA13D1F-1BD7-3331-BB8C-11FA2795B53F.html">RPointerArray</a>&lt; <a href="GUID-B8B13B8A-772A-3B3A-8449-C38F0E55412B.html">TSensrvTailIndexItem</a> &gt;</td><td>iTailIndexArray</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Array of listener tail indexes </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-F7C6D085-4F0E-3F80-98A2-F9F2AEE2D3C2"><a name="GUID-F7C6D085-4F0E-3F80-98A2-F9F2AEE2D3C2"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iValidEndIndex</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iValidEndIndex</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Indicates first invalid data cell after continuous valid cells. If iHeadIndex == iValidEndIndex, valid buffer space is continuous. If iHeadIndex &lt; iValidEndIndex, buffer has wrapped around. </p>

			</div></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>