<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="OR_LEAVE macro Tutorial"/>
<meta name="abstract" content="Macro is a rule or pattern that specifies how a certain input sequence should be mapped to an output sequence according to a defined procedure. This tutorial describes the OR_LEAVE macro and provides details on how the OR_LEAVE macro should be used."/>
<meta name="description" content="Macro is a rule or pattern that specifies how a certain input sequence should be mapped to an output sequence according to a defined procedure. This tutorial describes the OR_LEAVE macro and provides details on how the OR_LEAVE macro should be used."/>
<meta name="DC.Relation" scheme="URI" content="GUID-D33EB877-CCCB-527B-8AFC-4A8385C55E78.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-28AD51DC-C101-5E6E-9EC3-C2B61400D8CD.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D60B55FA-D8C1-559A-9D99-48845BE32A6C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D33EB877-CCCB-527B-8AFC-4A8385C55E78.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B007634D-4D55-528A-8B85-6120C633AC8B.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-5872329F-2B52-5F52-83C1-205F2F933877"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>OR_LEAVE macro Tutorial</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-5872329F-2B52-5F52-83C1-205F2F933877"><a name="GUID-5872329F-2B52-5F52-83C1-205F2F933877"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2383459 id2384051 id2384059 id2384120 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html">Low Level Libraries and Frameworks</a> &gt; <a href="GUID-28AD51DC-C101-5E6E-9EC3-C2B61400D8CD.html">Generic Usability Library</a> &gt; <a href="GUID-D60B55FA-D8C1-559A-9D99-48845BE32A6C.html" title="The EUser High Level (EUserHL) library is a general purpose user library that provides a usability layer to hide away some of the complexities of the Symbian platform. This section lists the concepts, the overview and the tutorials that helps the Symbian Developers understand the importance of the EUserHL library.">EUser High Level Library</a> &gt; <a href="GUID-D33EB877-CCCB-527B-8AFC-4A8385C55E78.html" title="The EUser High Level Library tutorials are meant to discuss the usage of the LString and resource management class implementation.">EUser High Level Library Tutorials</a> &gt; </div>
<h1 class="topictitle1">OR_LEAVE
macro Tutorial</h1>
<div><p>Macro is a rule or pattern that specifies how a certain input sequence
should be mapped to an output sequence according to a defined procedure. This
tutorial describes the OR_LEAVE macro and provides details on how the OR_LEAVE
macro should be used. </p>

<div class="section"><h2 class="sectiontitle">Required background</h2> <p>Before beginning you must know
the following: </p>
 <ul>
<li id="GUID-5872329F-2B52-5F52-83C1-205F2F933877__GUID-13B9C89C-BFF4-553F-B647-034322ADFAE2"><a name="GUID-5872329F-2B52-5F52-83C1-205F2F933877__GUID-13B9C89C-BFF4-553F-B647-034322ADFAE2"><!-- --></a><p> <a href="GUID-611F17E3-DC06-33B7-AE5E-E69B5AEC5969.html"><span class="apiname">UserLeaveIfError()</span></a> <strong> :</strong> Error
handling code. This function is called when a client is passing a file for
a server to handle. </p>
 </li>

</ul>
 </div>

<div class="section"><h2 class="sectiontitle">Introduction</h2> <p>The OR_LEAVE macro is a convenience
macro that allows the developer to deemphasize auxiliary error checking code
in most cases. It is a postfix macro which implements <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D__GUID-96AFAC46-F3AD-392B-8A97-AFCBF2978CFB"><span class="apiname">User::LeaveIfError()</span></a> on
an integer return type. This means that there is less focus on the error handling
code and makes the code easier to read. </p>
  <p>The
OR_LEAVE macro is defined as a postfix operator. An example code snippet is
shown below: </p>
 <pre class="codeblock" id="GUID-5872329F-2B52-5F52-83C1-205F2F933877__GUID-031AA312-AB5E-5B0F-940C-33DD71A82BCC"><a name="GUID-5872329F-2B52-5F52-83C1-205F2F933877__GUID-031AA312-AB5E-5B0F-940C-33DD71A82BCC"><!-- --></a>
#define OR_LEAVE || Eleave
inline void operator||(Tint aStatus, Tleave /*aTag*/)
    {
    User::LeaveIfError(aStatus);
    }
</pre>
 <p>It is a postfix macro which implements <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D__GUID-96AFAC46-F3AD-392B-8A97-AFCBF2978CFB"><span class="apiname">User::LeaveIfError()</span></a> function
on an integer return type. This means that there is less focus on the error
handling code and makes the code easier to read. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Using OR_LEAVE macro</h2><p>The <samp class="codeph">OR_LEAVE</samp> 
is used to replace a call to <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D__GUID-96AFAC46-F3AD-392B-8A97-AFCBF2978CFB"><span class="apiname">User::LeaveIfError()</span></a> function.
An example code snippet is shown below:  </p>
<pre class="codeblock">User::LeaveIfError(iTimer-&gt;CreateLocal());</pre>
<p>The
call to <samp class="codeph">iTimer-&gt;CreateLocal()</samp> is included within the error
handling code <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D__GUID-96AFAC46-F3AD-392B-8A97-AFCBF2978CFB"><span class="apiname">User::LeaveIfError()</span></a> function and is difficult
to read. The following fragment uses the <samp class="codeph">OR_LEAVE</samp> macro. </p>
<pre class="codeblock">iTimer-&gt;CreateLocal() OR_LEAVE;
</pre>
</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-D33EB877-CCCB-527B-8AFC-4A8385C55E78.html" title="The EUser High Level Library tutorials are meant to discuss the usage of the LString and resource management class implementation.">EUser High Level Library Tutorials</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-B007634D-4D55-528A-8B85-6120C633AC8B.html">EUser High
Level Library  Overview</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>