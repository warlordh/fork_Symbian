<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Embedding camera applications"/>
<meta name="DC.Relation" scheme="URI" content="GUID-95EA435B-918A-4B68-8983-1D22B7840BA7.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-98499337-5CB4-5A9C-907A-95FF57775983.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-95EA435B-918A-4B68-8983-1D22B7840BA7.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Embedding camera applications</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474"><a name="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2405098 id2405245 id2405260 id2405274 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html">Multimedia Guide</a> &gt; <a href="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html">Multimedia APIs and Frameworks Collection</a> &gt; <a href="GUID-98499337-5CB4-5A9C-907A-95FF57775983.html">Camera Framework</a> &gt; <a href="GUID-95EA435B-918A-4B68-8983-1D22B7840BA7.html" title="This section provides additional information about the Camera.">Concepts</a> &gt; </div>
<h1 class="topictitle1">Embedding
camera applications</h1>
<div>
<p>In your applications, you can embed other applications that provide services,
such as image capture and voice recording. For example, a multimedia messaging
service (MMS) editor could embed the camera application to capture images
and insert them in multimedia messages.</p>

<p>Use the New File Service Client API to create a service client.</p>

<div class="note"><span class="notetitle">Note:</span> <p>The binary compatibility of the API plug-ins is not guaranteed either
between platform versions or within a platform version. Test your application
on each device model that the application can be installed on to ensure the
best possible user experience. To prevent application installation on other
than tested devices, define the product IDs (also called manufacturer IDs)
in the <a href="GUID-7F1B2577-2FEF-45F9-B32F-745DFE0F0D95.html">package file</a>.
For more information, see <a href="jar:GUID-35228542-8C95-4849-A73F-2B4F082F0C44.jar!/sdk/doc_source/ToolsAndUtilities94/Installing-ref/PKG_format/PKG_dependency.html">Hardware/UI platform dependency</a>.</p>
</div>

<div class="section" id="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-A7CFB0D3-0F64-4BCA-93F1-28D7F2F892A0"><a name="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-A7CFB0D3-0F64-4BCA-93F1-28D7F2F892A0"><!-- --></a><h2 class="sectiontitle">To embed camera
applications</h2><ol>
<li id="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-B945513D-1DBA-46A5-BE66-20F36EF8E4B4"><a name="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-B945513D-1DBA-46A5-BE66-20F36EF8E4B4"><!-- --></a><p>Use the <samp class="codeph">CNewFileServiceClient</samp> method
to create a new file service client. </p>
<pre class="codeblock">CNewFileServiceClient* fileClient = NewFileServiceFactory::NewClientL();
CleanupStack::PushL( fileClient );
</pre>
</li>

<li id="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-3CADBF28-0A9F-44C4-B7AF-AF9628E8F659"><a name="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-3CADBF28-0A9F-44C4-B7AF-AF9628E8F659"><!-- --></a><p>Create an array to hold
the file names for the resulting files.</p>
<pre class="codeblock">CDesCArray* fileNames = new ( ELeave ) CDesCArrayFlat( 1 );
CleanupStack::PushL( fileNames );

</pre>
</li>

<li id="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-1D168D25-1D05-4A19-9811-1DA4394F0B1E"><a name="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-1D168D25-1D05-4A19-9811-1DA4394F0B1E"><!-- --></a><p>Use generic parameters
to control the service.</p>
<pre class="codeblock">CAiwGenericParamList* paramList = CAiwGenericParamList::NewLC();</pre>
</li>

<li id="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-B4CDA320-B9F5-47F6-828B-91EC5B8820ED"><a name="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-B4CDA320-B9F5-47F6-828B-91EC5B8820ED"><!-- --></a><p>Specify image resolution.
The application matches the value that you enter to the closest resolution
supported (in pixels). Use the value (0,0) for the default MMS resolution,
which is the lowest quality.</p>
<pre class="codeblock">TSize resolution( 1600, 1200 ); // 2 megapixels
</pre>
<p>If the device has two cameras, the camera available at the
time of launching the service client is used. You cannot select whether to
launch the primary or secondary camera. Users cannot switch from the primary
camera to the secondary one after launching the service client. The secondary
camera always uses a fixed resolution that you cannot specify.</p>
</li>

<li id="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-DBB7629D-604E-40B7-8C2E-BA3D439C77F9"><a name="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-DBB7629D-604E-40B7-8C2E-BA3D439C77F9"><!-- --></a><p>Package the object.</p>
<pre class="codeblock">TPckgBuf&lt;TSize&gt; buffer( resolution );
TAiwVariant resolutionVariant( buffer );
TAiwGenericParam param( EGenericParamResolution, resolutionVariant );
paramList-&gt;AppendL( param );
</pre>
</li>

<li id="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-206F9549-5A8E-42D1-841E-6DA9A28A061D"><a name="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-206F9549-5A8E-42D1-841E-6DA9A28A061D"><!-- --></a><p>Specify the application
to launch. The application UID identifies the application to be started as
a server application. </p>
<pre class="codeblock">const TUid KUidCamera = { 0x101F857A }; // Camera UID for S60 5th edition

...

TBool result = fileClient-&gt;NewFileL( KUidCamera, *fileNames, paramList,
                               ENewFileServiceImage, EFalse );
</pre>
</li>

<li id="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-4C0A3DB0-F8AA-4E75-974E-2AA062268480"><a name="GUID-E9B97347-D703-4758-A5CE-423A6CB4E474__GUID-4C0A3DB0-F8AA-4E75-974E-2AA062268480"><!-- --></a><p>Access the images. The <samp class="codeph">fileNames</samp> array
can hold more than one item.</p>
<pre class="codeblock">if ( result )
    {
    CEikonEnv::InfoWinL(_L("Success"),_L(""));
    for(TInt i=0;iCount();i++)
       {
       TPtrC fileName=fileNames-&gt;MdcaPoint(i);
       ...
}
else
    {
    CEikonEnv::InfoWinL(_L("Failed"),_L(""));
    }

CleanupStack::PopAndDestroy( fileClient );
CleanupStack::PopAndDestroy( paramList );
CleanupStack::PopAndDestroy( fileNames );</pre>
</li>

</ol>
</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-95EA435B-918A-4B68-8983-1D22B7840BA7.html" title="This section provides additional information about the Camera.">Concepts</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>