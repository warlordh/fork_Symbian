<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="User Interface MTM implementation"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5B9F2EEE-A5F6-5833-BFC4-3B063EA7EDF2.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B394A824-8745-505E-8429-8B9B6D418387.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1DF2D6EC-C445-5A0C-80C4-9C46AAA6EE44.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5B9F2EEE-A5F6-5833-BFC4-3B063EA7EDF2.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>User Interface MTM implementation</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9"><a name="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2404348 id2404397 id2404434 id2404894 id2404902 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html">Messaging Middleware Guide</a> &gt; <a href="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html">Messaging Framework</a> &gt; <a href="GUID-B394A824-8745-505E-8429-8B9B6D418387.html">Message Server and Store</a> &gt; <a href="GUID-1DF2D6EC-C445-5A0C-80C4-9C46AAA6EE44.html" title="This describes the example code for the Message Server and Store component.">Message Server and Store Example Code</a> &gt; <a href="GUID-5B9F2EEE-A5F6-5833-BFC4-3B063EA7EDF2.html">Messaging Text MTM example code</a> &gt; </div>
<h1 class="topictitle1">User Interface MTM implementation</h1>
<div>
<p> <strong>Note:</strong> This example is designed to work with Techview and
there is no guarantee that it will work on other interfaces </p>

<div class="section" id="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-F60E6B58-C75C-4C28-954B-770EE756E397"><a name="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-F60E6B58-C75C-4C28-954B-770EE756E397"><!-- --></a><h2 class="sectiontitle">Example
Code</h2> <p>Click on the following link to download the example:<a href="guid-6013a680-57f9-415b-8851-c4fa63356636/zips/guid-419758e4-b663-48d3-bf21-d9c4bb00da23.zip" target="_blank">.TextMTM.zip</a> </p>
<p>Click: <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/guid-419758e4-b663-48d3-bf21-d9c4bb00da23.html">browse</a> to view the example code. </p>
 <p>The files
reproduced here are the main files contained in the examples directory.
Some extra files may be needed to run the examples, and these will
be found in the appropriate examples directory. </p>
 </div>

<div class="section" id="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-EC764B46-F419-46B4-B99B-96EA0935277F"><a name="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-EC764B46-F419-46B4-B99B-96EA0935277F"><!-- --></a><h2 class="sectiontitle">Class
summary</h2><ul>
<li><p><a href="GUID-A5982338-A057-3870-8832-F503AEAC470A.html"><span class="apiname">CBaseMtmUi</span></a></p>
</li>

<li><p><a href="GUID-A4B1F874-27C0-3BB6-9D29-C35C75A5DB98.html"><span class="apiname">TMsvId</span></a></p>
</li>

<li><p><a href="GUID-AF724192-6580-3DE3-9287-3A005C0AA932.html"><span class="apiname">CMsvOperation</span></a></p>
</li>

<li><p><a href="GUID-ED81FC3E-2BDA-390D-A866-9651DF8CE51D.html"><span class="apiname">CEikFileSaveAsDialog </span></a></p>
</li>

<li><p><a href="GUID-DC21E927-18B3-3BBF-9B67-496F2D158B03.html"><span class="apiname">CEikDialog</span></a></p>
</li>

</ul>
</div>

<div class="section" id="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-5FB87906-A38C-4BAB-92B3-75FF497E9E24"><a name="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-5FB87906-A38C-4BAB-92B3-75FF497E9E24"><!-- --></a><h2 class="sectiontitle">Description</h2> <p>The <span class="filepath">txtu</span> project demonstrates a User Interface
MTM. The central class is <samp class="codeph">CTextMtmUi</samp>, derived from
the User Interface MTM base class <samp class="codeph">CBaseMtmUi</samp>. </p>
 <p>Note that the <span class="filepath">txtu</span> project has dependencies
on some GUI components that might not be present on all SDKs. </p>
 <p> <span class="filepath">txtu</span> implements the following MTM functionality: </p>
 </div>

<div class="section" id="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-8F7FD0AC-86BE-486B-B999-43EC6914A457"><a name="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-8F7FD0AC-86BE-486B-B999-43EC6914A457"><!-- --></a><h2 class="sectiontitle">Basic
functions for messages</h2> <p> <samp class="codeph">Create()</samp>: this
creates a new local message in the <samp class="sysout">Draft</samp> folder, with description field set to "New Text", and then invokes
edit. </p>
 <p> <samp class="codeph">Edit()</samp>: no UI for editing and viewing
text messages is implemented. A simple stub is provided that simply
appends the text "Edited document" to the message and puts up an information
message. </p>
 <p>If an edit command is invoked on a remote message
entry (an entry under a Text service entry), the MTM offers to copy
it to the local Inbox first. This is performed by class <samp class="codeph">CEditRemoteOperation</samp>. and dialog resource <samp class="codeph">r_dialog_refuse_edit_remote_message</samp>. </p>
 <p> <samp class="codeph">Open()</samp> and <samp class="codeph">View()</samp>: these
functions for a message context simply calls the edit function. </p>
 <p> <samp class="codeph">CopyToL()</samp>, <samp class="codeph">MoveToL()</samp>, <samp class="codeph">CopyFromL()</samp>, <samp class="codeph">MoveFromL()</samp> and <samp class="codeph">DeleteL()</samp>: simple implementations of these functions are provided that use
the <samp class="codeph">CMsvEntry</samp> copy, move and delete functions. These
commands are passed to the Message Server, which then passes them
on to the Server-side Text MTM. </p>
 <p> <samp class="codeph">ReplyL()</samp> and <samp class="codeph">ForwardL()</samp>: there is no UI support for message
replies and forwarding. </p>
 </div>

<div class="section" id="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-F1566C1D-A866-46F1-AE7B-34280C7A6FBB"><a name="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-F1566C1D-A866-46F1-AE7B-34280C7A6FBB"><!-- --></a><h2 class="sectiontitle">Basic
functions for services</h2> <p> <samp class="codeph">Create()</samp> and <samp class="codeph">Edit()</samp>: when requested to create a new Text service entry,
a dialog pops up allowing the user to specify the folder associated
with the service. This is performed by class <samp class="codeph">CTextMtmEditServiceDialog</samp> and resource <samp class="codeph">r_dialog_service_settings</samp>. The service
entry can then be edited later on, to change the folder. </p>
 <p>After
the service entry is created or changed, an automatic refresh will
be triggered. </p>
 </div>

<div class="section" id="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-1084490D-DA56-4F06-BCA2-BD4698CE633E"><a name="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-1084490D-DA56-4F06-BCA2-BD4698CE633E"><!-- --></a><h2 class="sectiontitle">MTM-specific
operations</h2> <p>The following MTM-specific operations are accepted: </p>
 <ul>
<li id="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-94BF89D8-80D9-53CD-B3C3-40150B16EF6A"><a name="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-94BF89D8-80D9-53CD-B3C3-40150B16EF6A"><!-- --></a><p>Refresh: this
command refreshes the currently highlighted service entry. It calls
the MTM-specific operations provided by the Client-side MTM to do
this. </p>
 </li>

<li id="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-65E9CE09-3968-5CA0-90E4-5421B608080C"><a name="GUID-385BB488-5C32-58A7-8401-F3F0A0707DD9__GUID-65E9CE09-3968-5CA0-90E4-5421B608080C"><!-- --></a><p>Export text
to file: exports the text contained in a text message to a file. This
is performed by <samp class="codeph">DoExportTextFromMessageL()</samp>. </p>
 </li>

</ul>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-5B9F2EEE-A5F6-5833-BFC4-3B063EA7EDF2.html">Messaging Text MTM example code</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>