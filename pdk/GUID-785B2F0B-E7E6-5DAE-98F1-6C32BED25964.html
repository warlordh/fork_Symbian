<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Database storage overhead"/>
<meta name="abstract" content="Database storage is very efficient. This document gives details of the storage overhead."/>
<meta name="description" content="Database storage is very efficient. This document gives details of the storage overhead."/>
<meta name="DC.Relation" scheme="URI" content="GUID-B10B6363-9FB9-562C-8DCA-42FEF8D5413B.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F8824165-4B33-50D1-9706-BD2438B5A2EE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C0414BDC-06FD-5E3C-93F7-DD3467CAA75E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B10B6363-9FB9-562C-8DCA-42FEF8D5413B.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Database storage overhead</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964"><a name="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2859821 id2860178 id2860280 id2533667 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html" title="Provides services to enable and support persistence.">Persistent Data Services Guide</a> &gt; <a href="GUID-F8824165-4B33-50D1-9706-BD2438B5A2EE.html" title="The persistent storage collection.">Persistent Storage</a> &gt; <a href="GUID-C0414BDC-06FD-5E3C-93F7-DD3467CAA75E.html" title="DBMS is the proprietary database management system developed for Symbian platform. Use this section to learn more about DBMS database engine and server.">DBMS</a> &gt; <a href="GUID-B10B6363-9FB9-562C-8DCA-42FEF8D5413B.html" title="This section provides details about various interfaces available to access relational databases on Symbian platform.">Interface to DBMS databases</a> &gt; </div>
<h1 class="topictitle1">Database
storage overhead</h1>
<div><p>Database storage is very efficient. This document gives details
of the storage overhead.</p>

<p>Space utilization is efficient</p>

<ul>
<li id="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-8AE05C00-0C7E-5D9C-AC2B-DC1D5432DF0D"><a name="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-8AE05C00-0C7E-5D9C-AC2B-DC1D5432DF0D"><!-- --></a><p>the underlying permanent
file store adds minimal overhead to maintain its structure: store imposes
a fixed 46 bytes + two bytes per additional 16K; each stream requires seven
bytes.</p>
 </li>

<li id="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-5BDB30B0-9140-55AA-A7BE-4C4B30355ADE"><a name="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-5BDB30B0-9140-55AA-A7BE-4C4B30355ADE"><!-- --></a><p>the database has minimal
space requirements to store its schema and data structure.</p>
 </li>

<li id="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-3FCF5F99-767F-5526-B0AF-40F7F248CF26"><a name="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-3FCF5F99-767F-5526-B0AF-40F7F248CF26"><!-- --></a><p>including the stream
overhead, row storage overhead can be less than two bytes per row in ideal
clustering conditions, even with lower clustering the overhead is usually
below 1% of the data volume.</p>
 </li>

</ul>

<p>The storage required for a row can be determined as follows:</p>

<ul>
<li id="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-41E7E40C-6E34-5C7A-BB82-A0AF92B5D455"><a name="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-41E7E40C-6E34-5C7A-BB82-A0AF92B5D455"><!-- --></a><p>each non-null value
requires the storage for fixed width columns, and the raw storage plus one
byte for variable width columns.</p>
 </li>

<li id="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-845C1A45-8C1F-5EA0-A3A6-787359332505"><a name="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-845C1A45-8C1F-5EA0-A3A6-787359332505"><!-- --></a><p>long columns are stored
embedded in the row data when they are small enough, and otherwise they are
stored in a separate stream: this makes more efficient use of the both space
and speed. When embedded they require just one bit more than the short columns,
when separated they require eight bytes in the row data plus any stream overhead.</p>
 </li>

<li id="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-CD64205E-894B-50D3-9AAA-ACA375D820EA"><a name="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-CD64205E-894B-50D3-9AAA-ACA375D820EA"><!-- --></a><p>each nullable column
requires one extra bit.</p>
 </li>

<li id="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-4FF233BB-3863-5869-9E6E-E56AC3B29924"><a name="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-4FF233BB-3863-5869-9E6E-E56AC3B29924"><!-- --></a><p>bits are packed into
bytes in the row storage.</p>
 </li>

</ul>

<div class="section" id="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-14305B1D-41AF-452E-9E44-131569F00FBC"><a name="GUID-785B2F0B-E7E6-5DAE-98F1-6C32BED25964__GUID-14305B1D-41AF-452E-9E44-131569F00FBC"><!-- --></a><h2 class="sectiontitle">Indexes</h2> <p>Indexes
are implemented using STORE B+trees. Note in particular that indexes use fixed
length keys, so that indexes on longer text fields can consume significant
space.</p>
 <p>If the key for the index is <em>k</em> bytes, the number of rows
to index is <em>n</em>, the index page size is <em>P</em>, and the B-tree packing
density is <em>r</em>:</p>
 <p><em>a = [(P-8)/(k+4)] * r</em> </p>
 <p>Where <em>[x]</em> is
the largest integer &lt;= <em>x</em>. Then the number of pages required, <em>N</em>,
is</p>
 <p><em>N = n * (1/a + 1/(a*a))</em> </p>
 <p>Each page requires <em>P+7</em> bytes
in the store, so the total indexing overhead, <em>S</em>, is</p>
 <p><em>S = N
* (P+7)</em> </p>
 <p>For DBMS <em>P=512</em> and <em>r=0.86</em>.</p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-B10B6363-9FB9-562C-8DCA-42FEF8D5413B.html" title="This section provides details about various interfaces available to access relational databases on Symbian platform.">Interface to DBMS databases</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>