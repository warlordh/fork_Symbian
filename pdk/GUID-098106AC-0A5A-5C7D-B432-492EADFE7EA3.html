<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Manipulating URI Data"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5D4616AC-42AB-52C3-9092-4463C3687E58.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-94215E49-605B-51BA-B215-10BDA1A0C013.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A602E35E-69BE-5F8C-A7E6-4B98E67BF382.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-96837414-3041-5E1E-A2E9-C18EECCF86D9.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5D4616AC-42AB-52C3-9092-4463C3687E58.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Manipulating URI Data</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3"><a name="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2381979 id2382016 id2382053 id2382061 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-94215E49-605B-51BA-B215-10BDA1A0C013.html">Generic Services</a> &gt; <a href="GUID-A602E35E-69BE-5F8C-A7E6-4B98E67BF382.html">HTTP Utilities Library</a> &gt; <a href="GUID-96837414-3041-5E1E-A2E9-C18EECCF86D9.html">HTTP Utilities Library Tutorials</a> &gt; <a href="GUID-5D4616AC-42AB-52C3-9092-4463C3687E58.html">URI Tutorials</a> &gt; </div>
<h1 class="topictitle1">Manipulating
URI Data </h1>
<div>
<p>This tutorial describes the steps to manipulate the URI data. </p>

<div class="section"><h2 class="sectiontitle">Introduction</h2> <p> <a href="GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html"><span class="apiname">InetProtTextUtils</span></a> provides
various text parsing utilities for manipulating the data in HTTP headers.
This includes: </p>
 <ul>
<li id="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-81BF0E64-8463-534B-84E3-73BE5A84C195"><a name="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-81BF0E64-8463-534B-84E3-73BE5A84C195"><!-- --></a><p>removing the white space </p>
 </li>

<li id="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-269D1163-D6FB-5A15-AC0F-52D565F40C85"><a name="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-269D1163-D6FB-5A15-AC0F-52D565F40C85"><!-- --></a><p>converting the data. </p>
 </li>

</ul>
 </div>

<div class="section"><h2 class="sectiontitle">Removing white spaces</h2><p> <a href="GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html#GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE__GUID-2315E4AF-99EE-32B4-BA13-79A643F8A929"><span class="apiname">InetProtTextUtils::RemoveWhiteSpace()</span></a> removes
any contiguous white spaces at either or both the ends of the data, as specified
by the mode (right, left, or both). A white space includes blank spaces, tabs
and separators. For example, new line. </p>
<p>The following code removes the
white spaces on the left side of the URI. </p>
<pre class="codeblock" id="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-F07260CB-6C56-53AA-A6A4-6BDB76102253"><a name="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-F07260CB-6C56-53AA-A6A4-6BDB76102253"><!-- --></a>_LIT( KFullUriPath," P:\\DV3\\gothere\\moveon.htm" ); // URI 
TPtrC uriName(KFullUriPath);                          //pointer to the URI
//Remove the white space on the left side of URI
Tint consumedWhiteSpacesLeft = InetProtTextUtils::RemoveWhiteSpace( uriName, InetProtTextUtils::ERemoveLeft );</pre>
 <p>If
the white space is removed, it returns <samp class="codeph">KErrNone</samp>, else it
returns <samp class="codeph">KErrNotFound</samp>. <samp class="codeph">ERemoveRight</samp> or <samp class="codeph">ERemoveBoth</samp> is
used to remove white spaces on right side or both sides of the URI, respectively. </p>
 <p> <strong>Note</strong>:
The white spaces within the URI cannot be removed using <samp class="codeph">RemoveWhiteSpace()</samp>. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Converting the data </h2><p> <a href="GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html"><span class="apiname">InetProtTextUtils</span></a> class
provides various data conversion methods. The methods can be used to convert
decimal and hex descriptors into its integer representations and vice versa.
The following are the methods: </p>
 <p> <strong> Converting data from an integer
to a string </strong>  </p>
 <p>Call <a href="GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html#GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE__GUID-F030F4B9-0C66-3548-A19D-8D06204E11B0"><span class="apiname">InetProtTextUtils::ConvertIntToDescriptorL()</span></a> or <a href="GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html#GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE__GUID-E28E1DDF-318C-3B59-8413-722438E748EA"><span class="apiname">InetProtTextUtils::ConvertHexToDescriptorL()</span></a> to convert an integer into a decimal or hexademial number respectively.
The following code converts the integer value of the data to a string: </p>
 <pre class="codeblock" id="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-5B0E26B9-2B92-5D0D-813F-C3CA647FBE16"><a name="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-5B0E26B9-2B92-5D0D-813F-C3CA647FBE16"><!-- --></a>// Convert the integer value of the data to a string
TInt intVal = 489;
HBufC8* abuf = HBufC8::NewL( 32 );//a descriptor is allocated on the heap to hold the data.
InetProtTextUtils::ConvertIntToDescriptorL( intVal,abuf );// abuf contains "489", the extracted value.</pre>
 <p>where, <samp class="codeph">intVal</samp> stores the data to be converted. The converted <samp class="codeph">abuf</samp> contains
the extracted descriptor. </p>
 <pre class="codeblock" id="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-7C4374D1-C702-55FE-B9A7-C36E7E4F2F1B"><a name="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-7C4374D1-C702-55FE-B9A7-C36E7E4F2F1B"><!-- --></a>TInt intVal=489;
HBufC8* abuf = HBufC8::NewL( 32 );
InetProtTextUtils::ConvertHexToDescriptorL( intVal,abuf );//abuf contains 1E9</pre>
 <p>where, <samp class="codeph">intVal</samp> stores
the data to be converted. The converted value will be stored in the buffer <samp class="codeph">abuf</samp>. </p>
 <p> <strong>Converting
data from a string to a number</strong>  </p>
 <p>Call <a href="GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html#GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE__GUID-48074038-1E1E-350A-8D21-3949102DF99B"><span class="apiname">InetProtTextUtils::ConvertDescriptorToIntL()</span></a> to
convert the character representation of an integer into its numeric value.
Preceding white space is ignored and the integer is delimited by either the
end of the data, whitespace or any character other than 0 to 9. </p>
 <pre class="codeblock" id="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-2B3F4CAA-6A6C-5AE4-B790-E7AAB05745FC"><a name="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-2B3F4CAA-6A6C-5AE4-B790-E7AAB05745FC"><!-- --></a>//Convert the string to an integer
TInt intVal = 0;
_LIT8( KNumber,"489" );
InetProtTextUtils::ConvertDescriptorToInt( KNumber,intVal ); // the intVal now holds the integer 489</pre>
 <p>Call <a href="GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html#GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE__GUID-BB5036C8-DFC8-310B-9CE5-7F8131F477C4"><span class="apiname">InetProtTextUtils::ConvertDescriptorToHex()</span></a> to convert the character representation of an integer to its hexadecimal
value. </p>
 <pre class="codeblock" id="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-739AD8F3-F402-5425-9B7D-DD914567BE6C"><a name="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-739AD8F3-F402-5425-9B7D-DD914567BE6C"><!-- --></a>TInt intVal = 0;
_LIT8( KNumber,"64" );
InetProtTextUtils::ConvertDescriptorToHex( KNumber,intVal ); //intVal = 100</pre>
 <p>This
function extracts the value contained in the buffer <samp class="codeph">intVal</samp> and
considers a hexadecimal number. </p>
 <p> <strong>Extracting the quoted string</strong>  </p>
 <p> <a href="GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE.html#GUID-9FC0E63B-1927-30B0-8A97-E9CB1010FFEE__GUID-FC38525A-7C9B-3AAB-834D-3354DB86BA46"><span class="apiname">InetProtTextUtils::ExtractQuotedStringL()</span></a> extracts the quoted string within an URI. </p>
 <pre class="codeblock" id="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-A115B39B-23C9-599B-AB75-ACB050C9F7D4"><a name="GUID-098106AC-0A5A-5C7D-B432-492EADFE7EA3__GUID-A115B39B-23C9-599B-AB75-ACB050C9F7D4"><!-- --></a>_LIT8( KQuotedBuffer0,    "this is the \"inside quotes\" outside quotes" ); // the string to be manipulated
TBuf8&lt;64&gt;  quotedString;
TPtrC8 ptr( KQuotedBuffer0() ); //pointer to the string
TPtrC8 ptr1( quotedString );
//ptr contains "outside quotes" and ptr1 contains "inside quotes"
InetProtTextUtils::ExtractQuotedStringL( ptr, ptr1 ); </pre>
 <p>where, <samp class="codeph">ptr1</samp> is
a pointer that points to the quoted string "<samp class="codeph">inside quotes</samp> " </p>
</div>

<div class="section"><h2 class="sectiontitle">See also</h2> <p><a href="GUID-795B41AF-FBEA-56CE-AE20-EF17BE754723.html">HTTP
Utilities Library Overview</a>  </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-5D4616AC-42AB-52C3-9092-4463C3687E58.html">URI Tutorials</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>