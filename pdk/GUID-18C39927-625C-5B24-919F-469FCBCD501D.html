<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="BCA2 API Overview"/>
<meta name="abstract" content="Explains the second Baseband Channel Abstraction design (BCA2)."/>
<meta name="description" content="Explains the second Baseband Channel Abstraction design (BCA2)."/>
<meta name="DC.Relation" scheme="URI" content="GUID-BD4CCC45-E487-5525-8D4C-4C69D939E315.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-BD4CCC45-E487-5525-8D4C-4C69D939E315.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E054E7F6-3918-5F76-8489-D5CFC9EE257A.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-18C39927-625C-5B24-919F-469FCBCD501D"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>BCA2 API Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-18C39927-625C-5B24-919F-469FCBCD501D"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2563496 id2561844 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html" title="Cellular Baseband Services provide a common interface to telephony services for applications and higher level platform components. The framework is independent of the underlying network services.">Cellular Baseband Services Guide</a> &gt; <a href="GUID-BD4CCC45-E487-5525-8D4C-4C69D939E315.html" title="This section describes the BCA2 (Baseband Channel Adaptation 2) API.">BCA2</a> &gt; </div>
<h1 class="topictitle1">BCA2
API Overview</h1>
<div><p>Explains the second Baseband Channel Abstraction design (BCA2). </p>

<div class="section" id="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-8EA6D7A7-26A8-5B96-ADD7-E01E86B05329"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-8EA6D7A7-26A8-5B96-ADD7-E01E86B05329"><!-- --></a><h2 class="sectiontitle">Required background</h2> <p>You
should be familiar with the following areas: </p>
 <ul>
<li id="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-CCE01846-276A-5EB9-9876-DBBC90BD31A7"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-CCE01846-276A-5EB9-9876-DBBC90BD31A7"><!-- --></a><p>architecture of device
drivers in Symbian platform (see <a href="GUID-8D80AA51-5108-5D4B-B6B9-7FA47570AB89.html">Device
Drivers Concepts</a>) </p>
 </li>

<li id="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-8DAA8E32-B216-5279-A4AE-4435596F5517"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-8DAA8E32-B216-5279-A4AE-4435596F5517"><!-- --></a><p>general principles of
a telephony stack (see <a href="GUID-FA5A24BE-F4AF-5EC3-8969-6184A5A5BBFA.html" title="Cellular Baseband Services provides the framework that allows applications to access the phone's telephony functions and allows handset manufacturers to implement support for their telephony hardware. The components of the Cellular Baseband Services support the standards defined for the GSM, GPRS, EDGE and UMTS networks. Cellular Baseband Services works with the Communications Framework to provide the telephony functions.">Cellular
Baseband Services</a>) </p>
 </li>

<li id="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-01DF1F36-5E88-5365-82E3-6601FBFE5F48"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-01DF1F36-5E88-5365-82E3-6601FBFE5F48"><!-- --></a><p>networking and telephony
components. </p>
 </li>

</ul>
 </div>

<div class="section" id="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-679587F9-CD73-51C2-8D7E-AE5817533660"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-679587F9-CD73-51C2-8D7E-AE5817533660"><!-- --></a><h2 class="sectiontitle">Key concepts
and terms</h2> <p> </p>
 <dl>

<dt class="dlterm">BCA</dt>

<dd><p>Baseband Channel Adapter </p>
 </dd>



<dt class="dlterm">LDD</dt>

<dd><p>Logical device driver (see <a href="GUID-8D80AA51-5108-5D4B-B6B9-7FA47570AB89.html">Device
Drivers Concepts</a>) </p>
 </dd>



<dt class="dlterm">PPP</dt>

<dd><p>Point-to-Point Protocol (see <a href="GUID-E18F402A-6478-5B24-8DC0-33989FC5FD43.html">What
is PPP?</a>) </p>
 </dd>



<dt class="dlterm">HDLC</dt>

<dd><p>High-level Data Link Control </p>
 </dd>



<dt class="dlterm">ISDN</dt>

<dd><p>Integrated Services Digital Network </p>
 </dd>



<dt class="dlterm">ECUART</dt>

<dd><p>Serial RS232 driver for Symbian platform. UART means Universal Asynchronous
Receiver/Transmitter. </p>
 </dd>



<dt class="dlterm">C32</dt>

<dd><p>Serial Communications Server in Symbian platform (see <a href="GUID-9B83CDD4-FC94-51A0-AC67-CD04BCAFEF08.html">Serial Communications Server</a>) </p>
 </dd>


</dl>
 </div>

<div class="section" id="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-FEB0738E-8AB9-48DD-8648-493AC70258A0"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-FEB0738E-8AB9-48DD-8648-493AC70258A0"><!-- --></a><h2 class="sectiontitle">Introduction</h2> <p>The
Baseband Channel Adapter (BCA) provides a telephony-specific abstraction of
the baseband driver. </p>
 <p>You implement your BCA components depending on
the level of abstraction you require, providing a standard interface to the
component above it in the Communications stack. You can also stack BCA components
for more flexibility. </p>
 <p>Performance is a critical requirement for the
Comms Data Plane. To improve throughput, update your BCA components and your
link layer protocol plugins to use the <a href="GUID-55442FD0-FD97-3FA3-A61A-C1288C4D5670.html"><span class="apiname">MBca2</span></a> interface. </p>
 </div>

<div class="section" id="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-5D32EEFF-FFF5-51DE-AF53-F182A4E49F9D"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-5D32EEFF-FFF5-51DE-AF53-F182A4E49F9D"><!-- --></a><h2 class="sectiontitle">Architecture</h2> <p>This
topic focuses on a general case where there is one BCA component between the
driver and the lower layer of the Data Plane. In the case of a stack of BCA
components, the same design is repeated between each BCA layer. </p>
 <p>In
a "pull" communication model, the destination requests data from the source.
Data transfer happens when the destination is ready. In a "push" model, the
source provides data to the destination : data transfer happens when the source
is ready. </p>
 <p>BCA2 is based on a "push" architecture. The link layer component
registers with the BCA component. The BCA component provides the data to its
registered clients as soon as the data becomes available. </p>
 <p>The API
is split into five classes to separate control flow and data flow methods. </p>
 <div class="fignone" id="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-699CB340-3DBB-50F5-8555-D4E2609BDECC"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-699CB340-3DBB-50F5-8555-D4E2609BDECC"><!-- --></a><span class="figcap">Figure 1.               MBca2 design            </span>

<img src="GUID-0B45D491-F88A-5036-A51C-9BFD6DB574D5_d0e65333_href.png"/>
</div>
 <p>Moreover, the <a href="GUID-55442FD0-FD97-3FA3-A61A-C1288C4D5670.html"><span class="apiname">MBca2</span></a> interface
relies on shared buffers instead of regular buffers. Using shared buffers
avoids data copies between different layers of the stack. For more information,
see <a href="GUID-A248C2C0-5F64-5484-85B2-57C86E3499E1.html" title="This topic describes essential memory management aspects of the Communications Framework.">Memory Management
in the Communications Framework</a>. </p>
 </div>

<div class="section" id="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-5826984F-EAFA-5EDC-9C39-3966C89373A2"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-5826984F-EAFA-5EDC-9C39-3966C89373A2"><!-- --></a><h2 class="sectiontitle">APIs</h2> <p><strong>BCA component</strong> </p>
 
<div class="tablenoborder"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-049AA111-6F8D-52F3-9681-0746FD0E4E9B"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-049AA111-6F8D-52F3-9681-0746FD0E4E9B" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" id="d245125e230">API</th>

<th class="cellrowborder" valign="top" id="d245125e233">Description</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" headers="d245125e230 "><p> <a href="GUID-55442FD0-FD97-3FA3-A61A-C1288C4D5670.html"><span class="apiname">MBca2</span></a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d245125e233 "><p>Provides startup and shutdown methods. </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d245125e230 "><p> <a href="GUID-55442FD0-FD97-3FA3-A61A-C1288C4D5670.html"><span class="apiname">MLowerDataSender</span></a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d245125e233 "><p>Provides the <samp class="codeph">Send()</samp> method, which takes a <a href="GUID-55442FD0-FD97-3FA3-A61A-C1288C4D5670.html"><span class="apiname">RCommsBufChain</span></a> as its parameter
and is called by the link layer component whenever it needs to send data to
the baseband (through the BCA component). </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d245125e230 "><p> <a href="GUID-55442FD0-FD97-3FA3-A61A-C1288C4D5670.html"><span class="apiname">MLowerControl</span></a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d245125e233 "><p>Provides methods for downwards flow control and control options.
The control options depend on your implementations of the BCA, the driver
and the link layer component. For examples of control options, see the <a href="GUID-E054E7F6-3918-5F76-8489-D5CFC9EE257A.html" title="How to define control options for your BCA components.">BCA2 Control Options</a> reference
page. </p>
 </td>

</tr>

</tbody>

</table>
</div>
 <p><strong>Link
layer component</strong> </p>
 
<div class="tablenoborder"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-D33F08E6-3192-56C8-9989-82B82F7024AC"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-D33F08E6-3192-56C8-9989-82B82F7024AC" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" id="d245125e327">API</th>

<th class="cellrowborder" valign="top" id="d245125e330">Description</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" headers="d245125e327 "><p> <a href="GUID-55442FD0-FD97-3FA3-A61A-C1288C4D5670.html"><span class="apiname">MUpperDataReceiver</span></a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d245125e330 "><p>Provides the <samp class="codeph">Process()</samp> method, which takes a <a href="GUID-55442FD0-FD97-3FA3-A61A-C1288C4D5670.html"><span class="apiname">RCommsBufChain</span></a> as its parameter
and is called by the lower BCA component whenever data is available, in order
to push the data to the upper layer. </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d245125e327 "><p> <a href="GUID-55442FD0-FD97-3FA3-A61A-C1288C4D5670.html"><span class="apiname">MUpperDataControl</span></a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d245125e330 "><p>Provides methods for error management and upwards flow control. </p>
 </td>

</tr>

</tbody>

</table>
</div>
 <p>In the case of stacked BCA components, these APIs are implemented
by the upper BCA component. </p>
 </div>

<div class="section" id="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-71B6234B-470C-5241-A899-679709B91AE0"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-71B6234B-470C-5241-A899-679709B91AE0"><!-- --></a><h2 class="sectiontitle">Typical uses</h2> <p>Device
driver developers implement the BCA2 design in the Networking stack (BCA components
and link layer protocol plugins). </p>
 <p>The following three diagrams show
common BCA components and illustrate how they integrate with the Communications
Framework. For definition of the abbreviations used in the diagrams, see the <a href="GUID-18C39927-625C-5B24-919F-469FCBCD501D.html#GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-679587F9-CD73-51C2-8D7E-AE5817533660">Key
concepts and terms</a> section. </p>
 <div class="fignone" id="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-4B18CDAD-FDF3-5AF2-8B7C-85DC77C3E5FE"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-4B18CDAD-FDF3-5AF2-8B7C-85DC77C3E5FE"><!-- --></a><span class="figcap">Figure 2.               Use case for BCA: IP communication through the serial
port            </span>

<img src="GUID-0F5C8DA1-EF91-588B-A917-350793DA03A5_d0e65531_href.png"/>
</div>
 <div class="fignone" id="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-1297D10A-59C2-5C15-877D-7CF94B667878"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-1297D10A-59C2-5C15-877D-7CF94B667878"><!-- --></a><span class="figcap">Figure 3.               Use case for BCA: PPP communication through the serial
port            </span>

<img src="GUID-760222AA-59F0-58E6-A494-F9CB6D739960_d0e65539_href.png"/>
</div>
 <div class="fignone" id="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-4A636F57-AF70-5646-A957-4B4F4AD5EA70"><a name="GUID-18C39927-625C-5B24-919F-469FCBCD501D__GUID-4A636F57-AF70-5646-A957-4B4F4AD5EA70"><!-- --></a><span class="figcap">Figure 4.               Use case for BCA: PPP communication over Ethernet   
        </span>

<img src="GUID-96F5CB06-F1C2-5F37-B5B8-DA8C086B73AA_d0e65547_href.png"/>
</div>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-BD4CCC45-E487-5525-8D4C-4C69D939E315.html" title="This section describes the BCA2 (Baseband Channel Adaptation 2) API.">BCA2</a></div>
</div>
<div class="relinfo relref"><strong>Related reference</strong><br/>
<div><a href="GUID-E054E7F6-3918-5F76-8489-D5CFC9EE257A.html" title="How to define control options for your BCA components.">BCA2 Control
Options</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>