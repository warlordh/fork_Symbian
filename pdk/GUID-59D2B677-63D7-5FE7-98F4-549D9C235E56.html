<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Alarm Play Tutorials"/>
<meta name="DC.Relation" scheme="URI" content="GUID-63730EBD-E5C1-5BA9-AB71-8FF668ECEF00.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-58035B49-2EAE-5144-B226-28AF2EDD62E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1FB321DE-4A02-5468-9AF1-F3786EB678CF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-CFE3A216-E637-51C1-B258-2ADF4E0F4150.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-63730EBD-E5C1-5BA9-AB71-8FF668ECEF00.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Alarm Play Tutorials</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56"><a name="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2520040 id2380129 id2380138 id2380193 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-58035B49-2EAE-5144-B226-28AF2EDD62E7.html">Generic Application Support Guide</a> &gt; <a href="GUID-1FB321DE-4A02-5468-9AF1-F3786EB678CF.html">Common Application Services</a> &gt; <a href="GUID-CFE3A216-E637-51C1-B258-2ADF4E0F4150.html">Alarm Server</a> &gt; <a href="GUID-63730EBD-E5C1-5BA9-AB71-8FF668ECEF00.html" title="This section lists the tutorials which explain how to add, delete and update an alarm, receive alarm notifications, play an alarm continuously and activate an alarm on given days.">Alarm Server Tutorials</a> &gt; </div>
<h1 class="topictitle1">Alarm
Play Tutorials</h1>
<div>
<p>This tutorial assists the device creators in customizing the Alarm Server
behavior for playing an alarm continuously. </p>

<p>The <a href="GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html"><span class="apiname">RASCliSession</span></a> class provides
functions to set and get the continuous state for a previously created alarm. </p>

<div class="section"><h2 class="sectiontitle">Introduction</h2> <p>It is possible to customize or disable
the UI application’s control of alarm sound intervals and durations. In certain
scenarios, it may be preferable for the alarm sound to have an infinite duration.
For more information on intervals and durations, refer to <a href="GUID-A5F65344-BE05-5295-85BB-E8114505FB82.html">Sound
Control</a>. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Procedure</h2> <p>To play an alarm continuously, or to
disable alarm play control, refer the following respective sections: </p>
 <ul>
<li id="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-31AA12C8-38AE-5735-985B-40CB58A0D459"><a name="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-31AA12C8-38AE-5735-985B-40CB58A0D459"><!-- --></a><p><strong>Playing an alarm
continuously</strong> - A continuous alarm is one that does not follow the pattern
of sound play defined as a series of intervals and durations in the <span class="filepath">alarmserver.rsc</span> file.
Instead, the alarm sound is played once and has an infinite interval and duration.
 </p>
 <p>Follow the steps given below to create a continuous alarm: </p>
<a name="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-87FE2F8F-7181-5162-A312-AC0F0021640A"><!-- --></a><ol id="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-87FE2F8F-7181-5162-A312-AC0F0021640A">
<li id="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-4B696D1D-F852-5609-BEA1-C31AE072AC2F"><a name="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-4B696D1D-F852-5609-BEA1-C31AE072AC2F"><!-- --></a><p>Connect to the Alarm
Server using <a href="GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html"><span class="apiname">RASCliSession</span></a>. </p>
 </li>

<li id="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-44DC069A-FB71-566B-8B2A-22D84D02C85F"><a name="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-44DC069A-FB71-566B-8B2A-22D84D02C85F"><!-- --></a><p>Add a new <a href="GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html"><span class="apiname">TASShdAlarm</span></a> alarm. </p>
 </li>

<li id="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-1014B745-72A6-52E8-8C19-F9667DB7E895"><a name="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-1014B745-72A6-52E8-8C19-F9667DB7E895"><!-- --></a><p>Use the <a href="GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html"><span class="apiname">SetContinuous()</span></a> function
to set the alarm as a continuous alarm. </p>
 <p>The <a href="GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html"><span class="apiname">EAlarmRepeatDefintionRepeatDaily</span></a> value
makes the alarm repeat daily. </p>
 </li>

<li id="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-F57517DA-9C66-5276-A7B3-882F9F7C1DD0"><a name="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-F57517DA-9C66-5276-A7B3-882F9F7C1DD0"><!-- --></a><p>Add the alarm to the
Alarm Server by using the <a href="GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html"><span class="apiname">AlarmAdd()</span></a> function. </p>
 </li>

</ol>
 <p>The following code snippet explains how to play an alarm continuously: </p>
 <pre class="codeblock" id="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-CA419D6F-5918-5565-B51E-C71203F18C8F"><a name="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-CA419D6F-5918-5565-B51E-C71203F18C8F"><!-- --></a>#include &lt;ASCliSession.h&gt; // For RASCliSession.
#include &lt;ASShdAlarm.h&gt;   // For TASShdAlarm.

…

// Connect to Alarm Server.
RASCliSession alarmSession;
User::LeaveIfError( alarmSession.Connect() );
CleanupClosePushL( alarmSession );

// Create a daily alarm that once activated is continuous.
TASShdAlarm alarm;
alarm.RepeatDefinition() = EAlarmRepeatDefintionRepeatDaily; 
alarm.SetContinuous( ETrue );

// Add the alarm to Alarm Server.
User::LeaveIfError( alarmSession.AlarmAdd( alarm ) );

CleanupStack::PopAndDestroy();
</pre>
<p/>
</li>

<li id="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-3795991B-7CCD-57A9-B9D4-7ACE26A5CC06"><a name="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-3795991B-7CCD-57A9-B9D4-7ACE26A5CC06"><!-- --></a><p><strong>Disable alarm play
control</strong> - This is a special case of Alarm Play Interval configuration
described in <a href="GUID-A5F65344-BE05-5295-85BB-E8114505FB82.html">Sound
Control</a> section. Disabling the Alarm Play control requires an empty
interval list as shown in the following code snippet:</p>
 <pre class="codeblock" id="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-FB21B72C-4A20-5509-BB49-1851A37F60B6"><a name="GUID-59D2B677-63D7-5FE7-98F4-549D9C235E56__GUID-FB21B72C-4A20-5509-BB49-1851A37F60B6"><!-- --></a>RESOURCE sound_controller
    {
    // disable alarm server control of alarm intervals
    intervals = {};
    }</pre>
 <p>This configuration cannot be overridden at runtime. <a href="GUID-8FAC10FB-BCD1-3373-9440-EF2EED70A861.html"><span class="apiname">RASCliSession::SetAlarmPlayIntervalsL()</span></a> cannot
be used to change this option, that is, the function can neither turn OFF
the alarm sound control by specifying an empty sequence, nor turn ON the alarm
sound control by overriding an empty sequence in the resource file. </p>
 <p>Durations
that extend into the next interval cause the whole sequence to revert to the
default hard-coded values. </p>
</li>

</ul>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-63730EBD-E5C1-5BA9-AB71-8FF668ECEF00.html" title="This section lists the tutorials which explain how to add, delete and update an alarm, receive alarm notifications, play an alarm continuously and activate an alarm on given days.">Alarm Server Tutorials</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>