<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Architecture"/>
<meta name="abstract" content="Describes the architecture of the Sound Driver."/>
<meta name="description" content="Describes the architecture of the Sound Driver."/>
<meta name="DC.Relation" scheme="URI" content="GUID-6D75968E-53CF-5436-8390-54CA12BCFDE9.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-52371DAB-A231-558C-B3E6-220DAAEE566B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-669C77A3-89BA-5321-ABB1-4356A5FE478C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6D75968E-53CF-5436-8390-54CA12BCFDE9.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-ACA48BEE-FE73-5C47-B022-E50728CEDBEE"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Architecture</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-ACA48BEE-FE73-5C47-B022-E50728CEDBEE"><a name="GUID-ACA48BEE-FE73-5C47-B022-E50728CEDBEE"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387835 id2400778 id2402156 id2402170 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">Kernel and Hardware Services Guide</a> &gt; <a href="GUID-52371DAB-A231-558C-B3E6-220DAAEE566B.html" title="Provides software components that implement the interface between Symbian platform and peripherals.">Logical Device Drivers</a> &gt; <a href="GUID-669C77A3-89BA-5321-ABB1-4356A5FE478C.html" title="Describes how to create a port of the sound driver for your phone hardware.">Sound Driver</a> &gt; <a href="GUID-6D75968E-53CF-5436-8390-54CA12BCFDE9.html" title="Describes the technology, architecture, and behaviour of the Sound Driver.">Concepts</a> &gt; </div>
<h1 class="topictitle1">Architecture</h1>
<div><p>Describes the architecture of the Sound Driver.</p>

<p>There are three main parts: </p>

<ul>
<li id="GUID-ACA48BEE-FE73-5C47-B022-E50728CEDBEE__GUID-6EEE9FF2-FA3A-5B50-9CD9-D098C66D5331"><a name="GUID-ACA48BEE-FE73-5C47-B022-E50728CEDBEE__GUID-6EEE9FF2-FA3A-5B50-9CD9-D098C66D5331"><!-- --></a><p>the user side interface
to the <a href="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6.html#GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-4D6A01FE-47E7-5A6F-9DFE-F612B880165B">Driver
channel</a>. This is an instance of a class derived from <a href="GUID-B0118EDD-2B08-353E-BE92-2DC75E5622B3.html"><span class="apiname">RSoundSc</span></a>. </p>
 <p>The
class <a href="GUID-B0118EDD-2B08-353E-BE92-2DC75E5622B3.html"><span class="apiname">RSoundSc</span></a> provides the user side interface to the
driver. This class is defined in <span class="filepath">\e32\include\d32soundsc.h</span>.
An instance of <a href="GUID-B0118EDD-2B08-353E-BE92-2DC75E5622B3.html"><span class="apiname">RSoundSc</span></a> is required for each <a href="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6.html#GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-4D6A01FE-47E7-5A6F-9DFE-F612B880165B">driver channel</a> opened by the client. When opening a <a href="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6.html#GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-4D6A01FE-47E7-5A6F-9DFE-F612B880165B">driver channel</a>, the client specifies a channel number for the <a href="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6.html#GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-74B14664-8D9D-57D2-B090-709136FEB5E3">audio
channel</a>. Channel numbers 0 to 3 are allocated for output/playback channels
and channels 4 to 7 are allocated for input/record channels. </p>
 </li>

<li id="GUID-ACA48BEE-FE73-5C47-B022-E50728CEDBEE__GUID-FA62DA0C-F56E-51B4-84B2-EF8316CACC1B"><a name="GUID-ACA48BEE-FE73-5C47-B022-E50728CEDBEE__GUID-FA62DA0C-F56E-51B4-84B2-EF8316CACC1B"><!-- --></a><p>the <a href="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6.html#GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-4D6A01FE-47E7-5A6F-9DFE-F612B880165B">driver channel</a>, also known as the logical channel or LDD. </p>
 <p>The
class <a href="GUID-5807543D-A30F-3EB9-8F28-91A623B0D484.html"><span class="apiname">DSoundScLdd</span></a> is the <a href="GUID-0956CE5E-C02B-5EEE-890A-5E8E84A8D9A1.html">logical
channel</a> object for either audio playback or record. This class is defined
in <span class="filepath">\e32\include\drivers\soundsc.h</span>. An instance of <a href="GUID-5807543D-A30F-3EB9-8F28-91A623B0D484.html"><span class="apiname">DSoundScLdd</span></a> is
created for each <a href="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6.html#GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-4D6A01FE-47E7-5A6F-9DFE-F612B880165B">driver
channel</a> opened. The driver implements play and record operation over
a single audio hardware device as two separate <a href="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6.html#GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-7C8FF32F-2E84-57B1-8962-9EDB4D51FEE6">units</a>. Therefore, a client that needs to issue both record and playback requests
has to open two separate <a href="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6.html#GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-4D6A01FE-47E7-5A6F-9DFE-F612B880165B">driver
channels</a>. </p>
 <p> <samp class="codeph">DSOundScLdd</samp> is derived from <a href="GUID-A3CC1D95-4681-3349-A67C-F113A614041D.html"><span class="apiname">DLogicalChannel</span></a>. <a href="GUID-A3CC1D95-4681-3349-A67C-F113A614041D.html"><span class="apiname">DLogicalChannel</span></a> is
the base class for a logical channel and provides the framework in which user
side client requests are normally executed in the context of a kernel side
thread. However, for this particular driver, not every request is executed
in the context of a kernel thread. Requests that do not require access to
hardware are handled in the context of the calling thread. </p>
 </li>

<li id="GUID-ACA48BEE-FE73-5C47-B022-E50728CEDBEE__GUID-861F1E3E-9087-530A-938D-DDD934D4EB67"><a name="GUID-ACA48BEE-FE73-5C47-B022-E50728CEDBEE__GUID-861F1E3E-9087-530A-938D-DDD934D4EB67"><!-- --></a><p>the <a href="GUID-461A9DAD-1C1D-537D-A7A7-9E1AF33ABBA2.html">physical
channel</a>, also known as the PDD, manages access to the audio hardware
device for all instances of the <a href="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6.html#GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-4D6A01FE-47E7-5A6F-9DFE-F612B880165B">driver
channel</a>. </p>
 <p>The class <a href="GUID-61CC68CB-A01D-3CA0-93D9-F3717ABD6424.html"><span class="apiname">DSoundScPdd</span></a> is the base
class for the Sound Driver PDD object. This class is used for either playback
or record, it implements the platform specific layer of the driver and an
instance of this class is created for each <a href="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6.html#GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-4D6A01FE-47E7-5A6F-9DFE-F612B880165B">driver
channel</a> opened. This is created by the Sound Driver physical device
class <a href="GUID-AA9C0AAC-C718-3DE7-BF4B-D10C277AED6D.html"><span class="apiname">DSoundScPddFactory</span></a> when a channel is opened. The
class <a href="GUID-61CC68CB-A01D-3CA0-93D9-F3717ABD6424.html"><span class="apiname">DSoundScPdd</span></a> is defined in <span class="filepath">\e32\include\drivers\soundsc.h</span>. </p>
 <p>The
following diagram illustrates the Sound Driver architecture. The interactions
between the user side and kernel side classes are shown. </p>
 </li>

</ul>

<div class="fignone" id="GUID-ACA48BEE-FE73-5C47-B022-E50728CEDBEE__GUID-257F5F90-AC86-5029-81EB-5CBB16B8A1F9"><a name="GUID-ACA48BEE-FE73-5C47-B022-E50728CEDBEE__GUID-257F5F90-AC86-5029-81EB-5CBB16B8A1F9"><!-- --></a><span class="figcap">Figure 1.            The main classes involved in Sound Driver implementation.
         </span>

<img src="GUID-8C9F26BC-2579-545C-9A86-9C45E06679F0_d0e412315_href.png"/>
</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-6D75968E-53CF-5436-8390-54CA12BCFDE9.html" title="Describes the technology, architecture, and behaviour of the Sound Driver.">Concepts</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>