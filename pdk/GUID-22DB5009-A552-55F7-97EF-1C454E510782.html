<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Simulation PSY User Guide"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1B3FDBF4-4213-5242-A05C-11ADE6C1501A.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5CBF9CB3-1914-571C-B634-715EAF1272DA.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1B3FDBF4-4213-5242-A05C-11ADE6C1501A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-45F9389E-F31B-59DA-A4FE-E254EAEB2213.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1A9BA6A1-C6BB-5196-B2D8-355A78B79AE3.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-22DB5009-A552-55F7-97EF-1C454E510782"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Simulation PSY User Guide</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-22DB5009-A552-55F7-97EF-1C454E510782"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2402590 id2403469 id2403651 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html">Location Based Services (LBS) Guide</a> &gt; <a href="GUID-5CBF9CB3-1914-571C-B634-715EAF1272DA.html" title="The Data Source Modules collection contains components that enable the LBS subsystem to obtain position data.">Data Source Modules</a> &gt; <a href="GUID-1B3FDBF4-4213-5242-A05C-11ADE6C1501A.html" title="The Simulation Positioning Module (Simulation PSY) enables application developers and device creators to test location-aware applications by providing location information without the need for a GPS module or a network connection.">Simulation Positioning Module</a> &gt; </div>
<h1 class="topictitle1">Simulation PSY User Guide </h1>
<div><p>This guide describes how to use the Simulation PSY. It is intended for application developers and device creators. The Simulation PSY allows applications to be tested with an emulator and on hardware without using an implementation PSY. </p>
 <div class="section"><h2 class="sectiontitle">Contents</h2> <ul><li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-CF25E210-F1DF-541A-B62C-5A22F5E82A74"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-CF25E210-F1DF-541A-B62C-5A22F5E82A74"><!-- --></a><p><a href="GUID-22DB5009-A552-55F7-97EF-1C454E510782.html#GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-F7315778-D02C-5C71-A4E3-1CB52000F1DA">Introduction</a>  </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-4A26A756-D53C-5A6A-B6FB-36F76B4E333A"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-4A26A756-D53C-5A6A-B6FB-36F76B4E333A"><!-- --></a><p><a href="GUID-22DB5009-A552-55F7-97EF-1C454E510782.html#GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-D7E4C82A-4C55-5EBD-AE1C-40F6FAF51970"> Key concepts and terms</a>  </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-D406A424-0EFE-5CBA-872E-9777FF11750A"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-D406A424-0EFE-5CBA-872E-9777FF11750A"><!-- --></a><p><a href="GUID-22DB5009-A552-55F7-97EF-1C454E510782.html#GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-D7DFA3B9-AD1C-5C9E-920C-59154970A789">Operating Modes</a>  </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-96853668-9107-50A6-804B-80221B36CE96"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-96853668-9107-50A6-804B-80221B36CE96"><!-- --></a><p><a href="GUID-22DB5009-A552-55F7-97EF-1C454E510782.html#GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-A112E097-F5CB-5303-BEED-600134D2933F">Data Set Modes</a>  </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-794E1EE0-A9C0-52F2-9A51-F310BA425EF5"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-794E1EE0-A9C0-52F2-9A51-F310BA425EF5"><!-- --></a><p><a href="GUID-22DB5009-A552-55F7-97EF-1C454E510782.html#GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-7E15F107-DF9A-5A75-AD29-77159C98893F">Configuring the PSY</a>  </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-C4156BF9-93D7-5729-8466-32753C858479"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-C4156BF9-93D7-5729-8466-32753C858479"><!-- --></a><p><a href="GUID-22DB5009-A552-55F7-97EF-1C454E510782.html#GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-37FB65B6-D8F9-5904-A078-5E3F0D61C65A">Connecting and retrieving a location</a>  </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-FF74E9CA-549B-5866-939C-A767669EB881"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-FF74E9CA-549B-5866-939C-A767669EB881"><!-- --></a><p><a href="GUID-22DB5009-A552-55F7-97EF-1C454E510782.html#GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-AF7C2A8F-AC98-5242-99A0-048D729C20E1">Status reporting</a>  </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-B3C54E9F-A0AC-5C29-A920-3A1852C52870"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-B3C54E9F-A0AC-5C29-A920-3A1852C52870"><!-- --></a><p><a href="GUID-22DB5009-A552-55F7-97EF-1C454E510782.html#GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-0BFFF75B-C6FB-577C-AE81-C6D57331C42B">Data file formats</a>  </p>
 </li>
 </ul>
 </div>
 <div class="section" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-F7315778-D02C-5C71-A4E3-1CB52000F1DA"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-F7315778-D02C-5C71-A4E3-1CB52000F1DA"><!-- --></a><h2 class="sectiontitle">Introduction</h2> <p>You usually want to test your applications during development. By using Simulation PSY, your Location Based Services enabled application can receive simulated position updates when under test in the Windows emulator and on target devices. The Simulation PSY does not use real hardware to obtain position updates. </p>
 <p>Simulation PSY can read position data from a file of your choice. You can configure the PSY to return the same data for every position request from your application or to simulate device movement in a specific direction. </p>
 <p>Simulation PSY makes it easy to simulate position updates from different locations around the world. You can test your application's behaviour in unusual locations, such as at the poles and along the zero longitude meridian. You can also use the PSY to test your application's behaviour when the accuracy of position updates changes and under error conditions. </p>
 </div>
 <div class="section" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-D7E4C82A-4C55-5EBD-AE1C-40F6FAF51970"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-D7E4C82A-4C55-5EBD-AE1C-40F6FAF51970"><!-- --></a><h2 class="sectiontitle">Key concepts and terms</h2> <dl><dt class="dlterm">NMEA</dt>
 <dd><p>In this context, an abbreviation of the NMEA (National Maritime Electronics Association) 0183 standard. This defines an electrical and data exchange protocol for marine electronic devices (including GPS receivers). NMEA is a protocol commonly used by Bluetooth GPS devices. Simulation PSY can read data from a file that contains data in NMEA format. </p>
 </dd>
  </dl>
 </div>
 <div class="section" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-D7DFA3B9-AD1C-5C9E-920C-59154970A789"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-D7DFA3B9-AD1C-5C9E-920C-59154970A789"><!-- --></a><h2 class="sectiontitle">Operating Modes</h2> <p>You can use Simulation PSY in one of three different Operating Modes: </p>
 <ul><li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-6E15BB6B-0526-59B3-854E-D384C67BEDB7"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-6E15BB6B-0526-59B3-854E-D384C67BEDB7"><!-- --></a><p>NMEA Mode </p>
 <p>In NMEA Mode, the PSY reads NMEA sentences from a data file. </p>
 <p>The PSY operates in NMEA Mode if it can find a data file with a <samp class="codeph">.nme</samp> filename extension containing NMEA sentences. </p>
 <p>This is the default mode. The PSY uses a default data file called <span class="filepath">default.nme</span> if it cannot load your data file. </p>
 <p>For the behaviour of the PSY in NME Mode see <a href="GUID-22DB5009-A552-55F7-97EF-1C454E510782.html#GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-0C50ACAE-0DC4-5BF9-ADF3-E0DFD6275D3A">NMEA file format</a>. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-03FFE8A5-6F13-5560-89AB-47E98201B3D1"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-03FFE8A5-6F13-5560-89AB-47E98201B3D1"><!-- --></a><p>Simulated Movement Mode </p>
 <p>In Simulated Movement Mode, the PSY reads data from a file that simulates mobile device movement in a specified direction at a specified speed. This is useful to test applications that use tracking: those that require periodic position updates. </p>
 <p>The PSY operates in Simulated Movement Mode if it can find a data file with a <samp class="codeph">.sps</samp> filename extension. You must create your own simulated movement data file. </p>
 <p>For the behaviour of the PSY in Simulated Movement Mode see <a href="GUID-22DB5009-A552-55F7-97EF-1C454E510782.html#GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-6042D5D0-5F5C-5503-8CEF-FF011F715003">Simulated movement file format</a>. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-F4FEE15D-5FDA-562F-BBFD-E9BFE8EF08D5"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-F4FEE15D-5FDA-562F-BBFD-E9BFE8EF08D5"><!-- --></a><p>Fixed Data Mode </p>
 <p>The PSY returns a fixed set of basic position data if it cannot find a data file. The values returned are shown in the following table: </p>
 
<div class="tablenoborder"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-480B09E4-5ECD-5FC3-A51F-C91EC8115581"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-480B09E4-5ECD-5FC3-A51F-C91EC8115581" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d343002e185">Position data</th>
 <th class="cellrowborder" valign="top" id="d343002e188">Value</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d343002e185 "><p>Latitude </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e188 "><p>0</p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e185 "><p>Longitude </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e188 "><p>0</p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e185 "><p>Altitude (WGS 84) </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e188 "><p>0</p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e185 "><p>Horizontal Accuracy </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e188 "><p>0</p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e185 "><p>Vertical Accuracy </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e188 "><p>0</p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e185 "><p>Datum </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e188 "><p>WGS-84 </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e185 "><p>Time </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e188 "><p>Current System Time </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 </li>
 </ul>
 <p>The data file from which the PSY attempts to load position data is controlled by a setting defined by the <a href="GUID-45F9389E-F31B-59DA-A4FE-E254EAEB2213.html">Simulation PSY Settings API</a>. </p>
 </div>
 <div class="section" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-A112E097-F5CB-5303-BEED-600134D2933F"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-A112E097-F5CB-5303-BEED-600134D2933F"><!-- --></a><h2 class="sectiontitle">Data Set Modes</h2> <p>The Simulation PSY has two Data Set Modes that control what data is returned to multiple client sessions: </p>
 <ul><li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-52A8694D-CD37-5B1B-A97D-8A558D46D46A"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-52A8694D-CD37-5B1B-A97D-8A558D46D46A"><!-- --></a><p>Independent Data Set Mode </p>
 <p>In this mode every client session that requests a position from the PSY is treated independently. </p>
 <p>This means that for each position request by a client session, the next returned position is relative to the last position returned to that client session. The PSY does not consider the last position returned to any other open client session. This applies for both NMEA Mode and Simulated Movement Mode. </p>
 <p>This behaviour is acceptable for many applications, but may cause problems if your client application opens more than one session and needs to receive related position data from both sessions. The Common Data Set Mode addresses this use-case (see below). </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-FDF7CEAE-CD11-572C-878D-7D0C3567040F"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-FDF7CEAE-CD11-572C-878D-7D0C3567040F"><!-- --></a><p>Common Data Set Mode </p>
 <p>In Common Data Set Mode, the Simulation PSY stores the latest position fix, which is shared between all client sessions. </p>
 <p>Details specific to NMEA Mode and Simulated Movement Mode are as follows: </p>
 <ul><li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-75487DCA-2F56-5B8D-B91A-38406FEBEE39"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-75487DCA-2F56-5B8D-B91A-38406FEBEE39"><!-- --></a><p>NMEA Mode </p>
 <p>When the first client requests a position, the PSY starts to read NMEA sentences from the data file at a rate of one per second. Reading continues until the last client disconnects. When any client requests a position update, it receives a the latest, shared position fix. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-6568E568-3D2B-549C-9151-211F81101A3E"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-6568E568-3D2B-549C-9151-211F81101A3E"><!-- --></a><p>Simulated Movement Mode </p>
 <p>When the first client requests a position, the PSY stores the time of the request and returns a position update. When another client requests a position, it is calculated relative to the time of the first request. This means that the two returned positions are related, with the second being further along the course specified in the simulated data file. </p>
 <p>When the last client disconnects, the PSY resets the stored time of the first position request. </p>
 </li>
 </ul>
 </li>
 </ul>
 <p>For more information about how to configure the Data Set Mode, see <a href="GUID-45F9389E-F31B-59DA-A4FE-E254EAEB2213.html">Simulation PSY Settings API</a>. </p>
 </div>
 <div class="section" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-7E15F107-DF9A-5A75-AD29-77159C98893F"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-7E15F107-DF9A-5A75-AD29-77159C98893F"><!-- --></a><h2 class="sectiontitle"> Configuring the PSY</h2> <p>You can control the data that the Simulation PSY returns. To do this, put the data in a file (NMEA data or Simulated Movement data) and tell the PSY where to find it. Use the <a href="GUID-45F9389E-F31B-59DA-A4FE-E254EAEB2213.html">Simulation PSY Settings API</a> to tell the PSY which position data file to load. </p>
 </div>
 <div class="section" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-37FB65B6-D8F9-5904-A078-5E3F0D61C65A"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-37FB65B6-D8F9-5904-A078-5E3F0D61C65A"><!-- --></a><h2 class="sectiontitle">Connecting and retrieving a location</h2> <p>For full information on how to retrieve location updates from the Location Server, see <a href="GUID-D0318BB6-0B9F-5A1C-AB0B-61BA22D28661.html" title="Client applications use the Location Acquisition API to obtain the position of the mobile device from the LBS subsystem.">Location Acquisition API</a>. The information presented here is a summary, with focus on features specific to the Simulation PSY. </p>
 <p>To get a location from the Simulation PSY, a user must: </p>
 <a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-97E69798-C576-568D-AC85-5D528AF7E4E6"><!-- --></a><ol id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-97E69798-C576-568D-AC85-5D528AF7E4E6"><li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-76509728-1991-5174-B9B1-C9D4985DD483"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-76509728-1991-5174-B9B1-C9D4985DD483"><!-- --></a><p>Connect to <a href="GUID-0ADC4654-7F7B-3B53-A2F9-7035670F501B.html"><span class="apiname">RPositionServer</span></a>. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-12F5DD7F-1F76-55BF-984B-D5C0F6DF463E"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-12F5DD7F-1F76-55BF-984B-D5C0F6DF463E"><!-- --></a><p>Open an <a href="GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575.html"><span class="apiname">RPositioner</span></a> subsession using the Simulation PSY. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-7AF67615-C091-58B1-A1C4-A7AFE8B989B7"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-7AF67615-C091-58B1-A1C4-A7AFE8B989B7"><!-- --></a><p>Call <a href="GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575.html#GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575__GUID-321F6046-3551-3ACE-B0A3-26D51FAEB477"><span class="apiname">RPositioner::NotifyPositionUpdate()</span></a>. </p>
 </li>
 </ol>
 <p>The outline code shown below illustrates these steps: </p>
 <pre class="codeblock" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-E71085E4-7CCF-5372-9803-E5609A4BA1A8"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-E71085E4-7CCF-5372-9803-E5609A4BA1A8"><!-- --></a>
#include &lt;lbs.h&gt;
#include &lt;lbserrors.h&gt;

...

const TInt KSimPSYImplUid = 0x101F7A81;

TPositionInfo posInfo;
TRequestStatus status;
RPositionServer positionServer;
RPositioner positioner;

// Connect to the Location Server

User::LeaveIfError(positionServer.Connect());
CleanupClosePushL(positionServer);

// Open a subsession using the Simulation PSY UID explicitly.
// Alternatively, the subsession can be opened by the Default PSY by calling positioner.Open(positionServer).

User::LeaveIfError(positioner.Open(positionServer, TUid::Uid(KSimPSYImplUid)));
CleanupClosePushL(positioner);

// Set the requester information

User::LeaveIfError(positioner.SetRequestor(CRequestor::ERequestorService,
  CRequestor::EFormatUrl, _L("http://www.example.com")));

// Request the position

positioner.NotifyPositionUpdate(posInfo, status);
User::WaitForRequest(status);

// Use the returned posInfo

...

// Clean up positioner and positionServer

CleanupStack::PopAndDestroy(2, &amp;positionServer);
</pre>
 <p>Note: It may be necessary to enable the Simulation PSY on your device by using some kind of Location Settings UI before it can be used by your applications. </p>
 <p><strong>Supported class types </strong> </p>
 <p>Simulation PSY supports the following class types: </p>
 <ul><li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-5FC2F24A-5EF8-55AB-9C58-543D0A4031DB"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-5FC2F24A-5EF8-55AB-9C58-543D0A4031DB"><!-- --></a><p> <a href="GUID-D5B2E933-209D-3871-8E27-CC5C8855C745.html"><span class="apiname">TPositionInfo</span></a>  </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-28C29243-9A31-57C1-8909-5184CEB1F8A5"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-28C29243-9A31-57C1-8909-5184CEB1F8A5"><!-- --></a><p> <a href="GUID-B4CD3637-0FC6-38B8-AE89-C03EEC83C50D.html"><span class="apiname">TPositionCourseInfo</span></a>  </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-AF425A02-5B8C-54C9-A0BA-F5F25F40C97C"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-AF425A02-5B8C-54C9-A0BA-F5F25F40C97C"><!-- --></a><p> <a href="GUID-54AE0674-C49D-3329-8B77-3A58EFFC03D7.html"><span class="apiname">TPositionSatelliteInfo</span></a>  </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-21F63B24-A60A-5554-AC77-C21A096612E6"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-21F63B24-A60A-5554-AC77-C21A096612E6"><!-- --></a><p> <a href="GUID-C0D87E5C-315E-37E6-829E-73F93E83748E.html"><span class="apiname">HPositionGenericInfo</span></a>  </p>
 </li>
 </ul>
 <p>The argument to <a href="GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575.html#GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575__GUID-321F6046-3551-3ACE-B0A3-26D51FAEB477"><span class="apiname">RPositioner::NotifyPositionUpdate()</span></a> must be one of the above classes. </p>
 <p>Note: <samp class="codeph">HPositionGenericInfo</samp>, <samp class="codeph">TPositionCourseInfo</samp> and <samp class="codeph">TPositionSatelliteInfo</samp> are all derived from <samp class="codeph">TPositionInfo</samp>. </p>
 <p><strong>Returned position data </strong> </p>
 <p>The position data that is returned depends on the PSY operating mode: </p>
 <ul><li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-1FC5F983-1E68-5BB5-A32A-E8798C464610"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-1FC5F983-1E68-5BB5-A32A-E8798C464610"><!-- --></a><p>NMEA mode </p>
 <p>The position data that is returned by the PSY depends on the class of the <a href="GUID-D5B2E933-209D-3871-8E27-CC5C8855C745.html"><span class="apiname">TPositionInfo</span></a> derived object reference argument passed by the client in its <samp class="codeph">NotifyPositionUpdate()</samp> call. If you use an <a href="GUID-C0D87E5C-315E-37E6-829E-73F93E83748E.html"><span class="apiname">HPositionGenericInfo</span></a>, your client application must set the request fields for each type of required position data. The fields are defined by the enumeration <a href="GUID-4C6802E9-93DE-3457-9A00-88DCA6B392F3.html"><span class="apiname">_TPositionFieldId</span></a>. If a field is set, Simulation PSY returns the corresponding position data. </p>
 <p>Example: If the field <samp class="codeph">EPositionFieldNMEASentences</samp> is set as requested the number of NMEA sentences that describe the position fix are stored in it by the PSY. The returned type is <samp class="codeph">TUint8</samp>. </p>
 <p>The first NMEA sentence is stored in the <samp class="codeph">EPositionFieldNMEASentencesStart</samp> field. The second sentence is stored in the <samp class="codeph">EPositionFieldNMEASentencesStart+1</samp> field, and so on. The returned type is <samp class="codeph">TDesC8</samp>. </p>
 <p>The returned position fix data uses the WGS 84 reference coordinate system. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-787F9233-28C2-5BEB-8854-315B3C73FF6C"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-787F9233-28C2-5BEB-8854-315B3C73FF6C"><!-- --></a><p>Simulated movement mode and fixed data mode </p>
 <p>Only position data defined by the <a href="GUID-D5B2E933-209D-3871-8E27-CC5C8855C745.html"><span class="apiname">TPositionInfo</span></a> member variables is returned. Additional position data defined by classes derived from <samp class="codeph">TPositionInfo</samp> is not returned. </p>
 <p>The returned position fix data uses the WGS 84 reference coordinate system. </p>
 </li>
 </ul>
 <p>Note: In independent data set mode, two clients can read from the PSY configuration file and/or the data file at the same time. The outputs of the two sessions are completely independent of each other. </p>
 <p><strong>Supported update options </strong> </p>
 <p>You can set position update options using the Location Acquisition API. See using the <a href="GUID-F6B5F777-D12F-5913-AECE-047DF8C72F1F.html" title="This document demonstrates how a client application uses the Location Acquisition API to get a position.">How to Get Location Information</a> for more background information. </p>
 <p>Simulation PSY supports the following update options: </p>
 <ul><li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-B0BDD3F2-9B29-52AA-8671-71085A19050D"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-B0BDD3F2-9B29-52AA-8671-71085A19050D"><!-- --></a><p> <samp class="codeph">TPositionUpdateOptions::SetUpdateTimeOut(TTimeIntervalMicroSeconds
                aTimeOut) </samp> to specify an update timeout for the request. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-3A25A1B0-B138-5168-ABAF-78CDE18F36C1"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-3A25A1B0-B138-5168-ABAF-78CDE18F36C1"><!-- --></a><p> <samp class="codeph">TPositionUpdateOptions::SetUpdateInterval(TTimeIntervalMicroSeconds
                aInterval)</samp> to support tracking requests. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-625A4475-51A7-5188-8E03-B0EC25C17922"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-625A4475-51A7-5188-8E03-B0EC25C17922"><!-- --></a><p> <samp class="codeph">TPositionUpdateOptions::SetAcceptPartialUpdates(TBool
                aPartial) </samp> to accept partial updates (that is, incomplete updates). </p>
 <p>Partial updates are only supported in NMEA mode. Partial updates are not supported in simulated movement mode. </p>
 </li>
 </ul>
 <p id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-97FF7B3A-9084-5876-ABC0-BFB5156F6AF0"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-97FF7B3A-9084-5876-ABC0-BFB5156F6AF0"><!-- --></a><strong>Error codes</strong> </p>
 <p>When you open a session using <a href="GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575.html#GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575__GUID-AF3D9B5F-8025-3AFF-A101-82025520EBD6"><span class="apiname">RPositioner::Open()</span></a>, one of the following error codes may be returned: </p>
 <ul><li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-AC26A58A-C4E1-5FC2-A82E-26007E823A0D"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-AC26A58A-C4E1-5FC2-A82E-26007E823A0D"><!-- --></a><p> <samp class="codeph">KErrNotFound</samp>  </p>
 <p>The Simulation PSY cannot find a file it needs. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-41DA4B39-E9DB-59D7-8488-CFE7D679BBFD"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-41DA4B39-E9DB-59D7-8488-CFE7D679BBFD"><!-- --></a><p> <samp class="codeph">KErrCorrupt</samp>  </p>
 <p>The syntax of the simulated movement file is incorrect or some required data is missing. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-AA74C98F-8F86-5FE7-A353-7C09643E2DAB"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-AA74C98F-8F86-5FE7-A353-7C09643E2DAB"><!-- --></a><p> <samp class="codeph">KErrNotSupported</samp>  </p>
 <p>The extension of the simulation file is recognized: it is neither <samp class="codeph">.sps</samp> or <samp class="codeph">.nme</samp>. </p>
 </li>
 </ul>
 <p>When calling <a href="GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575.html#GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575__GUID-321F6046-3551-3ACE-B0A3-26D51FAEB477"><span class="apiname">RPositioner::NotifyPositionUpdate()</span></a>, one of following error codes may be set for the <samp class="codeph">TRequestStatus</samp>: </p>
 <ul><li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-04C4602E-38E5-5616-A9C7-CBB6B51ADAA1"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-04C4602E-38E5-5616-A9C7-CBB6B51ADAA1"><!-- --></a><p> <samp class="codeph">KPositionQualityLoss</samp>  </p>
 <p>The configuration for requests is set to fail in the simulated movement mode. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-716ED855-E821-58D3-ABCB-C7BC6450E542"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-716ED855-E821-58D3-ABCB-C7BC6450E542"><!-- --></a><p> <samp class="codeph">KPositionPartialUpdate</samp>  </p>
 <p>The NMEA data file is missing some position info and the client has allowed partial updates by calling <samp class="codeph">TPositionUpdateOptions::SetAcceptPartialUpdates()</samp>. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-3C81AB1D-7216-5AD5-BC98-E2F1D1ED7BF5"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-3C81AB1D-7216-5AD5-BC98-E2F1D1ED7BF5"><!-- --></a><p>System wide error codes from <samp class="codeph">TLexer</samp> and <samp class="codeph">Math</samp>. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-F35E2BC9-0BF3-5C13-A713-4A3CDA974D59"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-F35E2BC9-0BF3-5C13-A713-4A3CDA974D59"><!-- --></a><p>Other system wide error codes. </p>
 </li>
 </ul>
 <p>When trying to cancel a position update with <a href="GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575.html#GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575__GUID-BF6665C5-2FC2-3C0D-8C4C-C46DC39B2027"><span class="apiname">RPositioner::CancelRequest()</span></a>, the PSY will return <samp class="codeph">KErrCancel</samp> to notify that the request was properly cancelled. </p>
 </div>
 <div class="section" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-AF7C2A8F-AC98-5242-99A0-048D729C20E1"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-AF7C2A8F-AC98-5242-99A0-048D729C20E1"><!-- --></a><h2 class="sectiontitle">Status reporting</h2> <p>See <a href="GUID-D0318BB6-0B9F-5A1C-AB0B-61BA22D28661.html" title="Client applications use the Location Acquisition API to obtain the position of the mobile device from the LBS subsystem.">Location Acquisition API</a> for information on how to retrieve the PSY status. </p>
 <p>To get the module status from the Simulation PSY, you first need to connect to <samp class="codeph">RPositionServer</samp> and then open a subsession. </p>
 <p>The following is an example of how to retrieve the module status from Simulation PSY: </p>
 <pre class="codeblock" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-91F03736-0482-5CAF-9FFD-4DFDB0D625B0"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-91F03736-0482-5CAF-9FFD-4DFDB0D625B0"><!-- --></a>
#include &lt;lbs.h&gt;
#include &lt;lbserrors.h&gt;

...

TPositionModuleStatus moduleStatus;
TPositionModuleStatusEvent moduleEvent;
TRequestStatus status;
RPositionServer positionServer;
RPositioner positioner;

const TPositionModuleId KSimulationPSYUid = {0x101f7a81};

User::LeaveIfError(positionServer.Connect());
CleanupClosePushL(positionServer);

// Asynchronous module status
moduleEvent.SetRequestedEvents(TPositionModuleStatusEvent::EEventAll);
positionServer.NotifyModuleStatusEvent(moduleEvent, status, KSimulationPSYUid);

TInt err = positioner.Open(positionServer, KSimulationPSYUid);
// Variable err could be checked
CleanupClosePushL(positioner);
User::WaitForRequest(status);

moduleEvent.GetModuleStatus(moduleStatus);
TPositionModuleStatus::TDeviceStatus deviceStatus 
    = moduleStatus.DeviceStatus();
TPositionModuleStatus::TDataQualityStatus qualityStatus
    = moduleStatus.DataQualityStatus();

// Do something with moduleStatus, deviceStatus, qualityStatus

// Synchronous module status
User::LeaveIfError(positionServer.GetModuleStatus(moduleStatus,
    KSimulationPSYUid));

deviceStatus = moduleStatus.DeviceStatus();
qualityStatus = moduleStatus.DataQualityStatus();

// Do something with moduleStatus, deviceStatus, qualityStatus

CleanupStack::PopAndDestroy(2, &amp;positionServer); // positioner and positionServer
</pre>
 <p>Simulation PSY reports module status changes during its life cycle. Module status changes are reported only when Simulation PSY is opened and closed. Status changes are not reported during location requests. The following module statuses are reported: </p>
 
<div class="tablenoborder"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-B4F7B45D-D1E8-5120-B7AE-0B4A3EAE4D3F"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-B4F7B45D-D1E8-5120-B7AE-0B4A3EAE4D3F" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d343002e789">Module Status</th>
 <th class="cellrowborder" valign="top" id="d343002e792">Event Group</th>
 <th class="cellrowborder" valign="top" id="d343002e795">Comment</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d343002e789 "><p> <a href="GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html#GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039__GUID-B2A06538-8FA6-36A4-A954-C824B04AB7A6"><span class="apiname"> TPositionModuleStatus::EDeviceError </span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e792 "><p>Device Status </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e795 "><p>Reported if a data file cannot be found or is corrupt. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e789 "><p> <a href="GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html#GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039__GUID-22AD998E-5DF9-328B-8C46-17EA4C144DA5"><span class="apiname"> TPositionModuleStatus::EDeviceInactive</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e792 "><p>Device Status </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e795 "><p>Reported when Simulation PSY is unloaded. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e789 "><p> <a href="GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html#GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039__GUID-01F7CDB2-A069-315D-9450-E86AA580AB07"><span class="apiname">TPositionModuleStatus::EDeviceReady</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e792 "><p>Device Status </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e795 "><p>Reported when Simulation PSY is online and ready to retrieve position information. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e789 "><p> <a href="GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html#GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039__GUID-8EAB44F9-DD0E-3247-9434-2461751F0C1C"><span class="apiname"> TPositionModuleStatus::EDataQualityUnknown</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e792 "><p>Data Quality Status </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e795 "><p>Reported when Simulation PSY is unloaded. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e789 "><p> <a href="GUID-15215686-5693-3317-8F66-1D265F5D5B76.html"><span class="apiname">TPositionModuleStatus:EDataQualityNormal</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e792 "><p>Data Quality Status </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e795 "><p>Reported when Simulation PSY is online and ready to retrieve position information. </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 </div>
 <div class="section" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-0BFFF75B-C6FB-577C-AE81-C6D57331C42B"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-0BFFF75B-C6FB-577C-AE81-C6D57331C42B"><!-- --></a><h2 class="sectiontitle">Data file formats</h2> <p id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-0C50ACAE-0DC4-5BF9-ADF3-E0DFD6275D3A"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-0C50ACAE-0DC4-5BF9-ADF3-E0DFD6275D3A"><!-- --></a><strong>NMEA file format</strong> </p>
 <p>Simulation PSY can read data files that contain NMEA sentences based on <a href="http://www.nmea.org" target="_blank">NMEA 0183 version 2.1</a>. The NMEA file is in 7-bit ASCII format. All lines end with the character ’\n’. The NMEA sentences are case sensitive. </p>
 <p>Simulation PSY parses position information from the NMEA sentences GGA, RMC, GSA and GSV. Data from other NMEA sentences are not parsed. The NMEA sentences GLL, GGA, GSA and RMC are required to make a position update. </p>
 <p>When a required NMEA sentence is read for the second time, parsing of the NMEA data stops and Simulation PSY checks whether all required sentences have been read. Reading of NMEA sentences continues if there are required sentences which are still unread. </p>
 <p>When the end of the data file is reached, Simulation PSY begins reading the file again, starting from the beginning. The parser is reset, which means that all of the required NMEA sentences must be read again before a position update can be returned. </p>
 <p>Satellite time is read from the RMC sentence. It is stored in the position object passed from the client if it is an instance of <a href="GUID-54AE0674-C49D-3329-8B77-3A58EFFC03D7.html"><span class="apiname">TPositionSatelliteInfo</span></a> or <a href="GUID-C0D87E5C-315E-37E6-829E-73F93E83748E.html"><span class="apiname">HPositionGenericInfo</span></a>. If the object is an instance of <samp class="codeph">HPositionGenericInfo</samp>, the satellite time is stored only if it is a requested field. System time is set in the base class <samp class="codeph">TPositionInfo</samp> for each position update. </p>
 <p>The following table shows: </p>
 <ul><li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-55DD5765-DC70-5593-9837-92BA69275E5E"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-55DD5765-DC70-5593-9837-92BA69275E5E"><!-- --></a><p>The supported NMEA sentences. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-BD59A9D8-AB48-5861-A3FE-5E4FF65670CE"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-BD59A9D8-AB48-5861-A3FE-5E4FF65670CE"><!-- --></a><p>The position data in each NMEA sentence. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-1DA441B4-0DC1-5E10-A2CB-84C7AD2DEF54"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-1DA441B4-0DC1-5E10-A2CB-84C7AD2DEF54"><!-- --></a><p>The object class(es) that can be passed as an argument in <a href="GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575.html#GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575__GUID-321F6046-3551-3ACE-B0A3-26D51FAEB477"><span class="apiname">RPositioner::NotifyPositionUpdate()</span></a> to get the position data. </p>
 <p>Note: All NMEA sentences read from the data file are included in <samp class="codeph">HPositionGenericInfo</samp> if <samp class="codeph">EPositionFieldNMEASentences</samp> is set as a requested field. </p>
 </li>
 </ul>
 
<div class="tablenoborder"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-A5462BB8-C7EF-553E-94D6-BC92A9165B56"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-A5462BB8-C7EF-553E-94D6-BC92A9165B56" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d343002e1002">NMEA sentence</th>
 <th class="cellrowborder" valign="top" id="d343002e1005">Position data in the sentence</th>
 <th class="cellrowborder" valign="top" id="d343002e1008">TPositionInfo-derived class types that return this data</th>
 <th class="cellrowborder" valign="top" id="d343002e1011">Comments</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>GGA </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p>Latitude </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 "><p> <a href="GUID-D5B2E933-209D-3871-8E27-CC5C8855C745.html"><span class="apiname">TPositionInfo</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1011 ">&#xA0;</td>
</tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>Longitude </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <samp class="codeph">TPositionInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 ">&#xA0;</td>
</tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>Altitude (WGS-84) </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <samp class="codeph">TPositionInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 "><p>Calculated as mean sea level altitude plus geoidal separation. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>Geoidal separation </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <a href="GUID-C0D87E5C-315E-37E6-829E-73F93E83748E.html"><span class="apiname">HPositionGenericInfo</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 ">&#xA0;</td>
</tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>Altitude (above sea level) </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <samp class="codeph">HPositionGenericInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 "><p>Taken directly from GGA. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>RMC </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p>Satellite time </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 "><p> <a href="GUID-54AE0674-C49D-3329-8B77-3A58EFFC03D7.html"><span class="apiname">TPositionSatelliteInfo</span></a>, <samp class="codeph">HPositionGenericInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1011 ">&#xA0;</td>
</tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>True course </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <a href="GUID-B4CD3637-0FC6-38B8-AE89-C03EEC83C50D.html"><span class="apiname">TPositionCourseInfo</span></a>, <samp class="codeph">HPositionGenericInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 ">&#xA0;</td>
</tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>Speed </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <samp class="codeph">TPositionCourseInfo</samp>, <samp class="codeph">HPositionGenericInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 ">&#xA0;</td>
</tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>Magnetic course </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <samp class="codeph">HPositionGenericInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 "><p>Calculated as true course + magnetic variation. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>GSA </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p>Number of used satellites </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 "><p> <samp class="codeph">TPositionSatelliteInfo</samp>, <samp class="codeph">HPositionGenericInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1011 "><p>Number of satellites used in the position fix. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>PRN (for each satellite) </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <samp class="codeph">TPositionSatelliteInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 ">&#xA0;</td>
</tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>HDOP </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <samp class="codeph">TPositionSatelliteInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 ">&#xA0;</td>
</tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>VDOP </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <samp class="codeph">TPositionSatelliteInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 ">&#xA0;</td>
</tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>PDOP </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <samp class="codeph">HPositionGenericInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 "><p>If PDOP is not present in the sentence, it is calculated as SQRT(HDOP^2 + VDOP^2). </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>Horizontal accuracy </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <samp class="codeph">TPositionInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 "><p>Calculated as HDOP * UERE where UERE is 10m. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>Vertical accuracy </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <samp class="codeph">TPositionInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 "><p>If fix is in 3D mode, it is calculated as 1.5 * HDOP * UERE where UERE is 10m. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>GSV </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p>Number of satellites in view </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 "><p> <samp class="codeph">TPositionSatelliteInfo</samp>, <samp class="codeph">HPositionGenericInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1011 "><p>Calculated total number of satellites from GSV sentences. </p>
 <p>In <samp class="codeph">TPositionSatelliteInfo</samp>, this value indicates how many satellites this information is based on. </p>
 <p>The number of satellites in view cannot be set explicitly in the data file. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>Elevation </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <samp class="codeph">TPositionSatelliteInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 ">&#xA0;</td>
</tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>Azimuth </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <samp class="codeph">TPositionSatelliteInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 ">&#xA0;</td>
</tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>Signal strength </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p> <samp class="codeph">TPositionSatelliteInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 ">&#xA0;</td>
</tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1002 "><p>All </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1005 "><p>Raw NMEA data </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1008 "><p> <samp class="codeph">HPositionGenericInfo</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1011 ">&#xA0;</td>
</tr>
 </tbody>
 </table>
</div>
 <p>The following is an example of valid NMEA file content: </p>
 <pre class="codeblock" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-4E426504-DA60-5761-9EE1-F9FB443781AB"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-4E426504-DA60-5761-9EE1-F9FB443781AB"><!-- --></a>
$GPGSV,3,2,12,24,32,051,,22,21,292,,01,20,315,,14,20,321,*71
$GPGSV,3,3,12,05,19,134,,13,18,348,,17,14,180,,10,10,110,*7F
$GPGLL,6459.8757,N,01433.8547,E,091931.375,A*3E
$GPGGA,091931.38,6459.8757,N,01433.8547,E,1,04,2.0,-0034,M,,,,*3D
$GPRMB,A,0.21,L,SIM003,SIM001,6500.0900,N,01433.8589,E,000.2,00..,000.0,V*18
$GPRMC,091931.38,A,6459.8757,N,01433.8547,E,21.7,177.3,200302,02.,E*6F
$GPAPB,A,A,0.2,L,N,,,87.6,M,SIM001,358.1,M,,,*16
$GPGSA,A,3,01,02,03,04,,,,,,,,,1.0,2.0,3.0*34
</pre>
 <p> <strong>The PSY obtains a simulated position fix after parsing the GLL, GGA, RMC and GSA sentences.</strong>  </p>
 <p>Latitude, longitude, altitude and position accuracy are parsed from the GGA sentence. </p>
 <p>In the following example file content, latitude is parsed from “6459.8757,N”. Longitude is parsed from “01433.8547,E”. Altitude is parsed from “-0034”, and the value “2.0” is used for calculating horizontal and vertical accuracy. </p>
 <pre class="codeblock" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-F91FC61F-5682-5721-859A-5D163F3786C7"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-F91FC61F-5682-5721-859A-5D163F3786C7"><!-- --></a>...
$GPGLL,6459.8757,N,01433.8547,E,091931.375,A*3E
$GPGSV,3,1,12,06,53,095,,30,52,150,,15,51,090,,25,37,230,*7F
$GPGSV,3,2,12,24,32,051,,22,21,292,,01,20,315,,14,20,321,*71
$GPGGA,091931.38,6459.8757,N,01433.8547,E,1,04,2.0,-0034,M,,,,*3D
$GPRMB,A,0.21,L,SIM003,SIM001,6500.0900,N,01433.8589,E,000.2,00..,000.0,V*18
$GPRMC,091931.38,A,6459.8757,N,01433.8547,E,21.7,177.3,200302,02.,E*6F
$GPAPB,A,A,0.2,L,N,,,87.6,M,SIM001,358.1,M,,,*16
$GPGSA,A,3,01,02,03,04,,,,,,,,,1.0,2.0,3.0*34
...</pre>
 <p>The first line in the following content starts with a GLL sentence which has already been parsed. The other three sentences required for calculating position information, i.e. GGA, RMC and GSA, have also been parsed. Hence a second position fix is obtained from the parsed sentences. </p>
 <pre class="codeblock" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-447A6BC7-F968-5967-B694-AC1A2586E888"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-447A6BC7-F968-5967-B694-AC1A2586E888"><!-- --></a>...
$GPGLL,6459.8757,N,01433.8547,E,091931.375,A*3E
$GPGSV,3,1,12,06,53,095,,30,52,150,,15,51,090,,25,37,230,*7F
$GPGSV,3,2,12,24,32,051,,22,21,292,,01,20,315,,14,20,321,*71
...</pre>
 <p>The following is an example of incorrect NMEA file content: </p>
 <pre class="codeblock" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-E3B49C5E-763C-5571-A8EF-6BA08887F17B"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-E3B49C5E-763C-5571-A8EF-6BA08887F17B"><!-- --></a>
$GPGSV,3,2,12,24,32,051,,22,21,292,,01,20,315,,14,20,321,*71
$GPGSV,3,3,12,05,19,134,,13,18,348,,17,14,180,,10,10,110,*7F
$GPGLL,6459.8757,N,01433.8547,E,091931.375,A*3E
$GPGGA,091931.38,6459.8757,N,01433.8547,E,1,04,2.0,-0034,M,,,,*3D
$GPRMB,A,0.21,L,SIM003,SIM001,6500.0900,N,01433.8589,E,000.2,00..,000.0,V*18
$GPRMC,091931.38,A,6459.8757,N,01433.8547,E,21.7,177.3,200302,02.,E*6F
$GPGGA,091931.38,6434.8744,N,01343.8637,E,1,04,2.0,-0032,M,,,,*3D
</pre>
 <p>This file content is incorrect because a second GGA sentence is read before the next required GSA sentence. The Simulation PSY continues reading NMEA sentences to try to read a correct fix. </p>
 <p>The Simulation PSY supports NMEA sentences from the following GPS devices: </p>
 <ul><li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-7AB5B011-2F55-56E8-93BC-C5471D0BF2ED"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-7AB5B011-2F55-56E8-93BC-C5471D0BF2ED"><!-- --></a><p>Garmin: </p>
 <ul><li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-D7045587-3BE5-5C66-9348-B10D4B53A2FE"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-D7045587-3BE5-5C66-9348-B10D4B53A2FE"><!-- --></a><p>eTrex – basic </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-C9FE128A-C7EA-5842-8A34-3CD3C6AF13A4"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-C9FE128A-C7EA-5842-8A34-3CD3C6AF13A4"><!-- --></a><p>eTrex – Legend </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-F2EC44E6-8F73-58EA-8533-F4245859F146"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-F2EC44E6-8F73-58EA-8533-F4245859F146"><!-- --></a><p>III plus </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-929CE1B0-A10E-5186-B4E7-54DF28A70FD6"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-929CE1B0-A10E-5186-B4E7-54DF28A70FD6"><!-- --></a><p>12 cx </p>
 </li>
 </ul>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-259CF69F-B839-524B-85C2-6E0FAE7EC1FB"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-259CF69F-B839-524B-85C2-6E0FAE7EC1FB"><!-- --></a><p>Magellan: </p>
 <ul><li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-950034D1-AF25-5E9C-B0CD-BEFEC79875A6"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-950034D1-AF25-5E9C-B0CD-BEFEC79875A6"><!-- --></a><p>GPS 315 </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-063CB474-6699-5A35-8D8B-3B19851F36F9"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-063CB474-6699-5A35-8D8B-3B19851F36F9"><!-- --></a><p>Meridian Gold </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-02AC6F79-7B0A-55D4-891B-B99C5C3A6DFA"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-02AC6F79-7B0A-55D4-891B-B99C5C3A6DFA"><!-- --></a><p>Tracker </p>
 </li>
 </ul>
 </li>
 </ul>
 <p id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-6042D5D0-5F5C-5503-8CEF-FF011F715003"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-6042D5D0-5F5C-5503-8CEF-FF011F715003"><!-- --></a><strong>Simulated movement file format</strong> </p>
 <p>The Simulation PSY operates in Simulated Movement Mode if it can find a data file with the filename extension <samp class="codeph">.sps</samp>. </p>
 <p>A simulated movement data file has the following format: </p>
 <pre class="codeblock" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-5741C5CF-600D-55DF-825E-43456089AFC8"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-5741C5CF-600D-55DF-825E-43456089AFC8"><!-- --></a>
Horizontal accuracy={float};
Vertical accuracy={float};
TimeToFix min={integer};
TimeToFix max={integer}; 
Powerup time={integer};
Longitude={float};
Latitude={float};
Speed={float};
Course={float};
[Deterministic|Random]={integer};
</pre>
 <p>The data file must be in 7-bit ASCII format. All lines must end with the end of line character ‘\n‘. The data file text is case insensitive. The data file is opened and read when a subsession that uses the Simulation PSY is opened by the Location Server. </p>
 <p><strong>Key-value pairs </strong> </p>
 <p>The file content consists of key-value pairs. Keys and values are separated by the "=" character. The keys must include the spaces as shown above. Each key-value pair is terminated by a semicolon character (;). It is legal to have spaces before and after the "=" character and before the terminating semicolon. </p>
 <p>No comments are allowed in the data file. </p>
 <p>Any ordering of the key-value pairs is valid, but all of the key-value pairs (shown in the example above and in the following table) must exist in the file: </p>
 
<div class="tablenoborder"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-23B0E1A4-F931-5FF1-A04A-4FFB2807851B"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-23B0E1A4-F931-5FF1-A04A-4FFB2807851B" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d343002e1585">Key</th>
 <th class="cellrowborder" valign="top" id="d343002e1588">Data type</th>
 <th class="cellrowborder" valign="top" id="d343002e1591">Value type</th>
 <th class="cellrowborder" valign="top" id="d343002e1594">Value range</th>
 <th class="cellrowborder" valign="top" id="d343002e1597">Example values, delimited by ;</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d343002e1585 "><p> <samp class="codeph">Horizontal accuracy</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1588 "><p>meter (m) </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1591 "><p>Float </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1594 "><p>&gt;= 0 </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1597 "><p>23.56; 56 </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1585 "><p> <samp class="codeph">Vertical accuracy</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1588 "><p>meter (m) </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1591 "><p>Float </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1594 "><p>&gt;= 0 </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1597 "><p>30.89899; 12 </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1585 "><p> <samp class="codeph">TimeToFix min</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1588 "><p>seconds (s) </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1591 "><p>Integer </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1594 "><p>&gt;= 0 </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1597 "><p>0; 2 </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1585 "><p> <samp class="codeph">TimeToFix max</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1588 "><p>seconds (s) </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1591 "><p>Integer </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1594 "><p>&gt;= 0 </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1597 "><p>4; 5 </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1585 "><p> <samp class="codeph">Powerup time</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1588 "><p>seconds (s) </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1591 "><p>Integer </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1594 "><p>&gt;= 0 </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1597 "><p>3; 6 </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1585 "><p>Longitude </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1588 "><p>degrees </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1591 "><p>Float </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1594 "><p>[-180, 180) </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1597 "><p>-179.686; -180; 180; 0; </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1585 "><p>Latitude </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1588 "><p>degrees </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1591 "><p>Float </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1594 "><p>(-90, 90) </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1597 "><p>51.568; -90; 90; 0 </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1585 "><p>Speed </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1588 "><p>meters per second (m/s) </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1591 "><p>Integer </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1594 "><p>&gt;= 0 </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1597 "><p>0; 5 </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1585 "><p>Course </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1588 "><p>degrees </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1591 "><p>Integer </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1594 "><p>(0, 360) </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1597 "><p>78; 0; 360 </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d343002e1585 "><p>Deterministic | Random </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1588 "><p>error simulation mode </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1591 "><p>Integer </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1594 "><p>&gt;= 0 </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d343002e1597 "><p>0; 3; 5 </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 <p>Simulation PSY calculates position updates based on the starting <samp class="codeph">Latitude</samp> and <samp class="codeph">Longitude</samp> values, together with the <samp class="codeph">Speed</samp> and <samp class="codeph">Course</samp>. </p>
 <p>If <samp class="codeph">Speed</samp> &gt; 0, a new position fix is calculated and returned for each position update. </p>
 <p>The <samp class="codeph">Course</samp> value is the direction of the simulated movement in degrees (0 and 360 = North, 90 = East, 180 = South and 270 = West). </p>
 <p><strong>Error simulation mode </strong> </p>
 <p>The error simulation mode key specifies how errors are simulated. </p>
 <p>There are two possible error simulation modes : <samp class="codeph">Deterministic</samp> and <samp class="codeph">Random</samp>: </p>
 <ul><li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-37B8EED3-EC3A-5D3B-A14A-21CB64FE47F3"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-37B8EED3-EC3A-5D3B-A14A-21CB64FE47F3"><!-- --></a><p> <samp class="codeph">Deterministic</samp>  </p>
 <p>Positioning fails at the specified frequency value. </p>
 <p>Example: <samp class="codeph">Deterministic = 3</samp> means that every third position request fails. </p>
 </li>
 <li id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-739A6514-6B3A-5192-891A-A11912E4382F"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-739A6514-6B3A-5192-891A-A11912E4382F"><!-- --></a><p> <samp class="codeph">Random</samp>  </p>
 <p> <samp class="codeph">Random</samp> means that positioning fails intermittently, but with the specified mean frequency. </p>
 <p> <samp class="codeph">Example: Random = 3</samp> means that out of a 'large' number of requests, on avaerage one third of them will fail. </p>
 </li>
 </ul>
 <p>For both modes, a failure means that the error code <samp class="codeph">KPositionQualityLoss</samp> is set for the client's <samp class="codeph">TRequestStatus</samp> object. </p>
 <p>Note: To turn off error simulation, set <samp class="codeph">Deterministic =
             0</samp> in your data file. </p>
 <p><strong>Position accuracy calculations </strong> </p>
 <p>A base horizontal and vertical accuracy are specified by the values for <samp class="codeph">Horizontal Accuracy</samp> and <samp class="codeph">Vertical Accuracy</samp> in the data file. </p>
 <p>For each new position fix generated by the PSY, the specified <samp class="codeph">Horizontal Accuracy</samp> value is multiplied by a randomly generated value. This adjusted accuracy is added as “error” to the calculated position's longitude and latitude. </p>
 <p>The altitude coordinate starts at 0 meters in the WGS-84 datum. For each new position fix, the specified <samp class="codeph">Vertical Accuracy</samp> value is multiplied by a random generated value. The adjusted accuracy is added as an "error" to the calculated position's altitude. </p>
 <p>If the syntax of the file is incorrect or some of the settings are missing, the system wide error code <samp class="codeph">KErrCorrupt</samp> is returned by Simulation PSY. This error code is returned when a client opens a positioning subsession by calling <a href="GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575.html#GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575__GUID-AF3D9B5F-8025-3AFF-A101-82025520EBD6"><span class="apiname">RPositioner::Open()</span></a>. </p>
 <p>Example: To simulate the positions of a car that is driving at 20 m/s (72 km/h) due North (with a simulated request failure for every seventh location request) create a <samp class="codeph">.sps</samp> file with the following content: </p>
 <pre class="codeblock" id="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-FF9927BB-4A90-5A11-B21B-9098B1D5A2AE"><a name="GUID-22DB5009-A552-55F7-97EF-1C454E510782__GUID-FF9927BB-4A90-5A11-B21B-9098B1D5A2AE"><!-- --></a>
Horizontal accuracy=20;
Vertical accuracy=30;
TimeToFix min=2;
TimeToFix max=7; 
Powerup time=3;
Longitude=11.34;
Latitude=57.11;
Speed=20;
Course=0;
Deterministic=7;
</pre>
 <p>When the PSY receives a location request, it generates its next position update at some time between 2 and 7 seconds from the time the request was received. The exception to this is for the first position request, when an additional delay specified by the <samp class="codeph">Powerup time</samp> value is added (in this case 3 seconds). </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-1B3FDBF4-4213-5242-A05C-11ADE6C1501A.html" title="The Simulation Positioning Module (Simulation PSY) enables application developers and device creators to test location-aware applications by providing location information without the need for a GPS module or a network connection.">Simulation Positioning Module</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-45F9389E-F31B-59DA-A4FE-E254EAEB2213.html">Simulation
                PSY Settings API</a></div>
<div><a href="GUID-1A9BA6A1-C6BB-5196-B2D8-355A78B79AE3.html" title="The Simulation Positioning PSY enables application developers and device creators to test Location Based Services enabled applications by providing simulated position updates without the need for a real GPS module or network connection.">Simulation
                PSY Overview</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>