<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CMmsAttachmentHandler"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-951EEA04-B2A9-3DC8-A1B8-0EC3B4626819"/>

<title>CMmsAttachmentHandler</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-951EEA04-B2A9-3DC8-A1B8-0EC3B4626819"><a name="GUID-951EEA04-B2A9-3DC8-A1B8-0EC3B4626819"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2437142 id2415693 id2416324 id2416329 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CMmsAttachmentHandler Class Reference</h1>
	<table class="signature"><tr><td>class CMmsAttachmentHandler : public CBase</td></tr></table><div class="section"><div>
			<p>Attachment handling functions that can be called from both client and server side</p>

			<div class="p">mmsgenutil.lib <dl class="since"><dt class="dlterm">Since</dt>
<dd>3.2 </dd>
</dl>
</div>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CMmsAttachmentHandler<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-8DC4E7F9-043D-330C-8783-31EBC051E185">~CMmsAttachmentHandler</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-E7D567C5-99F4-3476-BA8B-7AFAA186FB98">AttachmentsSizeL</a>(<a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-C3FDB605-819D-3216-9226-4C8B4620D5FF">CreateAttachmentL</a>(<a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp;, <a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;, <a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, <a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a>, <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-5DBC5C46-CB1F-36A2-91D3-12A96546D3C3.html">CMsvMimeHeaders</a> &amp;, <a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> *, <a href="GUID-BC9ADDA9-733C-33D3-B4D7-CE4C70F680B8.html">TMsvAttachmentId</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-516D99CE-ADFA-3D9F-92D5-A70BC3AC0B11">CreateTextAttachmentL</a>(<a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp;, <a href="GUID-BC9ADDA9-733C-33D3-B4D7-CE4C70F680B8.html">TMsvAttachmentId</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, <a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-D825BE1F-BA6D-3F19-9BC9-C1C2140B0C7F">CreateUTF8TextAttachmentFromFileL</a>(<a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp;, <a href="GUID-BC9ADDA9-733C-33D3-B4D7-CE4C70F680B8.html">TMsvAttachmentId</a> &amp;, <a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;, <a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, <a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-1FBFAEB5-0132-3F64-BFEC-2E5CC44FE4F6">IsValidFilename</a>(<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;, const <a href="GUID-8FE95467-D48B-3E61-9028-29C0F15F567E.html">TPtrC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-951EEA04-B2A9-3DC8-A1B8-0EC3B4626819.html">CMmsAttachmentHandler</a> *</td><td><a href="#GUID-DE42F8CF-090D-3598-9058-03B32A67DD42">NewL</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-A2A21D9C-F2A4-3552-82D3-A3B5F3629918">CMmsAttachmentHandler</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-D039A199-BED4-3EF7-AAFE-A23FFB6329FC">ConstructL</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-C57E6C5C-47AA-39A7-AC42-A6A4AA069599">RemoveAttachmentL</a>(<a href="GUID-BC9ADDA9-733C-33D3-B4D7-CE4C70F680B8.html">TMsvAttachmentId</a>, <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-A2A21D9C-F2A4-3552-82D3-A3B5F3629918"><a name="GUID-A2A21D9C-F2A4-3552-82D3-A3B5F3629918"><!-- --></a>
		<h2 class="topictitle2">CMmsAttachmentHandler()</h2>
		<table class="signature"><tr><td>CMmsAttachmentHandler</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>C++ constructor. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-8DC4E7F9-043D-330C-8783-31EBC051E185"><a name="GUID-8DC4E7F9-043D-330C-8783-31EBC051E185"><!-- --></a>
		<h2 class="topictitle2">~CMmsAttachmentHandler()</h2>
		<table class="signature"><tr><td>~CMmsAttachmentHandler</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Destructor. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-E7D567C5-99F4-3476-BA8B-7AFAA186FB98"><a name="GUID-E7D567C5-99F4-3476-BA8B-7AFAA186FB98"><!-- --></a>
		<h2 class="topictitle2">AttachmentsSizeL(CMsvStore &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>AttachmentsSizeL</td><td>(</td><td><a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp;</td><td>aStore</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Returns total size of all attachments including mime headers and binary attachment data. Linked attachments are included This function is needed to allocate the encoding buffer. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp; aStore</td><td>Read store for the message entry  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D039A199-BED4-3EF7-AAFE-A23FFB6329FC"><a name="GUID-D039A199-BED4-3EF7-AAFE-A23FFB6329FC"><!-- --></a>
		<h2 class="topictitle2">ConstructL()</h2>
		<table class="signature"><tr><td>void</td><td>ConstructL</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Constructor. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-C3FDB605-819D-3216-9226-4C8B4620D5FF"><a name="GUID-C3FDB605-819D-3216-9226-4C8B4620D5FF"><!-- --></a>
		<h2 class="topictitle2">CreateAttachmentL(CMsvStore &amp;, RFile &amp;, RFs &amp;, TDriveUnit, TDesC8 &amp;, CMsvMimeHeaders &amp;, CMsvAttachment *, TMsvAttachmentId &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>CreateAttachmentL</td><td>(</td><td><a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp;</td><td>aStore,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;</td><td>aFile,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td>aFs,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a></td><td>aMessageDrive,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aMimeType,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-5DBC5C46-CB1F-36A2-91D3-12A96546D3C3.html">CMsvMimeHeaders</a> &amp;</td><td>aMimeHeaders,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> *</td><td>aAttachmentInfo,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-BC9ADDA9-733C-33D3-B4D7-CE4C70F680B8.html">TMsvAttachmentId</a> &amp;</td><td>aAttaId</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Create attachment entry and copy specified file to binary file storage. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp; aStore</td><td>an open EditStore. Caller must commit store (several attachments can be added before committing store)  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp; aFile</td><td>opened file handle, source of the attachment. File must be in public location to be accessible. Caller must close the file afterwards.  </td></tr><tr><td class="parameter"><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp; aFs</td><td>File session handle. Needed to check disk space  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a> aMessageDrive</td><td>the drive the message store is on. (needed for disk space check)  </td></tr><tr><td class="parameter"><a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aMimeType</td><td>mime type of the attachmet.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-5DBC5C46-CB1F-36A2-91D3-12A96546D3C3.html">CMsvMimeHeaders</a> &amp; aMimeHeaders</td><td>mime headers for the attachment. If content type is not defined, function adds the mime type and subtype from aMimeType Suggested filename in mimeHeaders is used as attachment name  </td></tr><tr><td class="parameter"><a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html">CMsvAttachment</a> * aAttachmentInfo</td><td>must be initialized to a CMsvAttachment::EMsvFile on return contains data about the attachment. Ownership of attachmentinfo is transferred to attachment manager, it must not be deleted by caller. Attachment manager will be destroyed when store is deleted. After that aAttachmentInfo will no longer be available.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-BC9ADDA9-733C-33D3-B4D7-CE4C70F680B8.html">TMsvAttachmentId</a> &amp; aAttaId</td><td>attachment id of the newly created attachment  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-516D99CE-ADFA-3D9F-92D5-A70BC3AC0B11"><a name="GUID-516D99CE-ADFA-3D9F-92D5-A70BC3AC0B11"><!-- --></a>
		<h2 class="topictitle2">CreateTextAttachmentL(CMsvStore &amp;, TMsvAttachmentId &amp;, const TDesC &amp;, const TDesC &amp;, RFs &amp;, TDriveUnit, TBool)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>CreateTextAttachmentL</td><td>(</td><td><a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp;</td><td>aStore,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-BC9ADDA9-733C-33D3-B4D7-CE4C70F680B8.html">TMsvAttachmentId</a> &amp;</td><td>aAttachmentId,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aText,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aFile,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td>aFs,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a></td><td>aMessageDrive,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aConvertParagraphSeparator = ETrue</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Create text/plain attachment.  Creates a text attachment from descriptor. Has option to convert all unicode paragraph separator marks to line feeds. Converts text from unicode (ucs-2) to utf-8 before storing it. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp; aStore</td><td>an open EditStore. Caller must commit store (several attachments can be added before committing store)  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-BC9ADDA9-733C-33D3-B4D7-CE4C70F680B8.html">TMsvAttachmentId</a> &amp; aAttachmentId</td><td>returned ID of the new attachment entry  </td></tr><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aText</td><td>UNICODE text to be added as a text/plain attachment.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aFile</td><td>suggested filename for the attachment  </td></tr><tr><td class="parameter"><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp; aFs</td><td>File session handle. Needed to check disk space  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a> aMessageDrive</td><td>the drive the message store is on. (needed for disk space check)  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aConvertParagraphSeparator = ETrue</td><td>flag to tell if the function will search for all 0x2029 characters (Unicode paragraph separator) and replace them with 0x000a (line feed). aConvertParagraphSeparator == ETrue: convert aConvertParagraphSeparator == EFalse: do not convert  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D825BE1F-BA6D-3F19-9BC9-C1C2140B0C7F"><a name="GUID-D825BE1F-BA6D-3F19-9BC9-C1C2140B0C7F"><!-- --></a>
		<h2 class="topictitle2">CreateUTF8TextAttachmentFromFileL(CMsvStore &amp;, TMsvAttachmentId &amp;, RFile &amp;, RFs &amp;, TDriveUnit)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>CreateUTF8TextAttachmentFromFileL</td><td>(</td><td><a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp;</td><td>aStore,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-BC9ADDA9-733C-33D3-B4D7-CE4C70F680B8.html">TMsvAttachmentId</a> &amp;</td><td>aAttachmentId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;</td><td>aFile,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td>aFs,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a></td><td>aMessageDrive</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Create text/plain attachment.  Creates a text attachment from descriptor. Has option to convert all unicode paragraph separator marks to line feeds. Converts text from unicode (ucs-2) to utf-8 before storing it. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp; aStore</td><td>an open EditStore. Caller must commit store (several attachments can be added before committing store)  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-BC9ADDA9-733C-33D3-B4D7-CE4C70F680B8.html">TMsvAttachmentId</a> &amp; aAttachmentId</td><td>returned ID of the new attachment entry  </td></tr><tr><td class="parameter"><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp; aFile</td><td>open file read handle to unicode plain text file  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp; aFs</td><td>File session handle. Needed to check disk space  </td></tr><tr><td class="parameter"><a href="GUID-9BDD476C-04E1-3271-AFD9-8F86D818CE46.html">TDriveUnit</a> aMessageDrive</td><td>the drive the message store is on. (needed for disk space check)  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-1FBFAEB5-0132-3F64-BFEC-2E5CC44FE4F6"><a name="GUID-1FBFAEB5-0132-3F64-BFEC-2E5CC44FE4F6"><!-- --></a>
		<h2 class="topictitle2">IsValidFilename(RFs &amp;, const TPtrC &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>IsValidFilename</td><td>(</td><td><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td>aFs,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-8FE95467-D48B-3E61-9028-29C0F15F567E.html">TPtrC</a> &amp;</td><td>aFileName</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Check if aFileName would be a valid filename. Cannot use path because absolute path is not known. Only filename is checked </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp; aFs</td><td>open file system handle.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-8FE95467-D48B-3E61-9028-29C0F15F567E.html">TPtrC</a> &amp; aFileName</td><td>suggestion of a filename.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-DE42F8CF-090D-3598-9058-03B32A67DD42"><a name="GUID-DE42F8CF-090D-3598-9058-03B32A67DD42"><!-- --></a>
		<h2 class="topictitle2">NewL()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-951EEA04-B2A9-3DC8-A1B8-0EC3B4626819.html">CMmsAttachmentHandler</a> *</td><td>NewL</td><td>(</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Two-phased constructor. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-C57E6C5C-47AA-39A7-AC42-A6A4AA069599"><a name="GUID-C57E6C5C-47AA-39A7-AC42-A6A4AA069599"><!-- --></a>
		<h2 class="topictitle2">RemoveAttachmentL(TMsvAttachmentId, CMsvStore &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>RemoveAttachmentL</td><td>(</td><td><a href="GUID-BC9ADDA9-733C-33D3-B4D7-CE4C70F680B8.html">TMsvAttachmentId</a></td><td>aAttaId,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp;</td><td>aStore</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private, static]</td></tr></table><div class="section"><div>
				<p>Remove an attachment by attaId. Symbian synchronous attachment manager can only remove by index.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-BC9ADDA9-733C-33D3-B4D7-CE4C70F680B8.html">TMsvAttachmentId</a> aAttaId</td><td>id of the attachment to be removed  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html">CMsvStore</a> &amp; aStore</td><td>reference to open edit store  </td></tr></table></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>