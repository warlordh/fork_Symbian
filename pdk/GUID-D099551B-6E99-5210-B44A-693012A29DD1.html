<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Types of Storage for a Message Entry"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5CFA3F21-3E42-5B53-8EC1-BC0F7F0E8136.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B394A824-8745-505E-8429-8B9B6D418387.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-44CF5471-564E-5790-935B-51193A4978D6.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5CFA3F21-3E42-5B53-8EC1-BC0F7F0E8136.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-D099551B-6E99-5210-B44A-693012A29DD1"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Types of Storage for a Message Entry</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-D099551B-6E99-5210-B44A-693012A29DD1"><a name="GUID-D099551B-6E99-5210-B44A-693012A29DD1"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2404348 id2404397 id2404434 id2404448 id2404538 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html">Messaging Middleware Guide</a> &gt; <a href="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html">Messaging Framework</a> &gt; <a href="GUID-B394A824-8745-505E-8429-8B9B6D418387.html">Message Server and Store</a> &gt; <a href="GUID-44CF5471-564E-5790-935B-51193A4978D6.html" title="This section lists the concepts that are related to Message Server and Store.">Message Server and Store Concepts</a> &gt; <a href="GUID-5CFA3F21-3E42-5B53-8EC1-BC0F7F0E8136.html">Storage of Messages</a> &gt; </div>
<h1 class="topictitle1">Types of Storage for a Message Entry</h1>
<div><p>Message Server provides the following types of storage in the Message Store for each entry: </p>
 <ul><li id="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-7D143DE2-A1DF-572B-891D-885964743871"><a name="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-7D143DE2-A1DF-572B-891D-885964743871"><!-- --></a><p><a href="GUID-5E8AA6B6-38EB-5347-BA30-F9FF4BF7C107.html">Index</a>: The index contains state and generic message header information for an entry. Each index entry (and so each item) is uniquely identified by an ID field and uses <a href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html"><span class="apiname">TMsvEntry</span></a> to provide sufficient information for UI applications to display list views. </p>
 </li>
 <li id="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-A2FBDF11-68C1-5A93-9106-3813BF6BBA00"><a name="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-A2FBDF11-68C1-5A93-9106-3813BF6BBA00"><!-- --></a><p><a href="GUID-8390D842-B8A3-5042-952D-73240DB30D6B.html#GUID-8390D842-B8A3-5042-952D-73240DB30D6B__GUID-8E01ADD0-A706-54B2-8159-E65C33274C30">Dictionary file store</a>: Each entry can have an associated direct file stream store that holds message body text and protocol-specific data. To provide storage of streams of data associated with UIDs <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html"><span class="apiname">CMsvStore</span></a> is used. </p>
 </li>
 <li id="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-3E9D637F-F704-5B6C-85C1-29F0EB0A7B50"><a name="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-3E9D637F-F704-5B6C-85C1-29F0EB0A7B50"><!-- --></a><p>Binary files: This provides storage for attachments that are associated with the entry. </p>
 <p>Any entry can have binary files associated with it. These are stored in a directory, created by the Message Server that is unique to the entry. Before Symbian OS v9.0, clients used to read and write files directly into that directory. From v9.0 and onwards, clients use the API classes <a href="GUID-4E2B0CEA-1EDA-3452-895D-3CE1B59FD8FD.html"><span class="apiname">MMsvAttachmentManager</span></a> and <a href="GUID-8C2B9B89-D6B7-3622-AF26-658F53BCB70F.html"><span class="apiname">CMsvAttachment</span></a> to manage attachments. </p>
 </li>
 <li id="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-90C3A223-1BD5-5966-A42E-6AE65F8C6389"><a name="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-90C3A223-1BD5-5966-A42E-6AE65F8C6389"><!-- --></a><p><a href="GUID-7BB6C3A0-7FCF-5614-9940-B3630E5FC114.html">Removable storage device</a>: An external storage device, such as memory card, that is used to store messages. </p>
 </li>
 </ul>
 <p> <strong>Note:</strong> The index entry is always present in the message store but dictionary file stores and attachment directories are only used when required. </p>
 <div class="section"><h2 class="sectiontitle">Storage format</h2> <p>The following table summarises the format of a message entry. </p>
 
<div class="tablenoborder"><a name="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-D74586D5-7389-53D4-841C-1616B9670147"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-D74586D5-7389-53D4-841C-1616B9670147" frame="border" border="1" rules="all"><tbody><tr><td class="cellrowborder" valign="top"><p> <strong>Type</strong>  </p>
 </td>
 <td class="cellrowborder" valign="top"><p> <strong>Storage</strong>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top"><p>Generic header and message state information </p>
 </td>
 <td class="cellrowborder" valign="top"><p>Index entry </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top"><p>MTM-specific header information </p>
 </td>
 <td class="cellrowborder" valign="top"><p>MTM-specific stream in an associated Message Store </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top"><p>Message body </p>
 </td>
 <td class="cellrowborder" valign="top"><p>Default rich text object stream in the Message Store. Note that this can be empty if the message body contains no text. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top"><p>Attachments </p>
 </td>
 <td class="cellrowborder" valign="top"><p>Attachment files are stored in the Message Store, or can also be specified as links to files stored elsewhere on disk. </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 </div>
 <div class="section"><h2 class="sectiontitle">Storage abstractions</h2> <p>The abstractions through which applications access the various types of storage are key to Messaging Middleware. They are: </p>
 <ul><li id="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-22567588-A274-529C-A266-FFC9AD0E9D3E"><a name="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-22567588-A274-529C-A266-FFC9AD0E9D3E"><!-- --></a><p> <a href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html"><span class="apiname">CMsvEntry</span></a> is the highest level abstraction. It encapsulates actions to access, manipulate, create, delete, and move entries. </p>
 </li>
 <li id="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-B5F0AB9B-91D7-5D51-BF97-793574B54853"><a name="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-B5F0AB9B-91D7-5D51-BF97-793574B54853"><!-- --></a><p> <a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html"><span class="apiname">CMsvServerEntry</span></a> is similar to <a href="GUID-85BBE389-81F7-3E2F-A789-446D9BE2CC49.html"><span class="apiname">CMsvEntry</span></a>, but used only by server-side MTMs. </p>
 </li>
 <li id="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-43324599-F297-5E9F-AC2A-687FDBADC422"><a name="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-43324599-F297-5E9F-AC2A-687FDBADC422"><!-- --></a><p> <a href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html"><span class="apiname">TMsvEntry</span></a> encapsulates an index entry. </p>
 </li>
 <li id="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-97940064-D4EE-5F33-A810-6589D5BAFF60"><a name="GUID-D099551B-6E99-5210-B44A-693012A29DD1__GUID-97940064-D4EE-5F33-A810-6589D5BAFF60"><!-- --></a><p> <a href="GUID-8CB90FA2-A6CF-3FA2-81FF-7D22EFD9C2CE.html"><span class="apiname">CMsvStore</span></a> encapsulates an entryâ€™s Message Store. </p>
 </li>
 </ul>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-5CFA3F21-3E42-5B53-8EC1-BC0F7F0E8136.html">Storage of Messages</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>