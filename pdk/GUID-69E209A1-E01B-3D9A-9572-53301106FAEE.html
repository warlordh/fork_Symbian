<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="UserPromptService::RUpsSubsession"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-69E209A1-E01B-3D9A-9572-53301106FAEE"/>

<title>UserPromptService::RUpsSubsession</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-69E209A1-E01B-3D9A-9572-53301106FAEE"><a name="GUID-69E209A1-E01B-3D9A-9572-53301106FAEE"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2487220 id2487224 id2487229 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">UserPromptService::RUpsSubsession Class Reference</h1>
	<table class="signature"><tr><td>class UserPromptService::RUpsSubsession : public RScsClientSubsessionBase</td></tr></table><div class="section"><div>
			<p>System servers use this class to establish a connection to the UPS for a specific client. Before checking a request with the <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D">User</a> Prompt Service the Authorise method first checks whether authorisation from the <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D">User</a> Prompt Service is required. If authorisation is not required e.g. the client has the correct capabilities for the service then Authorise completes immediately. </p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">UserPromptService::RUpsSubsession<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-ED500FD3-37B1-39F0-942A-EA5227738753.html">RScsClientSubsessionBase</a><ul class="derivation"><li class="derivation-depth-2 "><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase</a></li></ul></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-414C5D58-AF06-3930-98B9-5711269DA68B">RUpsSubsession</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-97D9C4E4-1E65-3A65-BC41-DA1CAFC36156">Authorise</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, const <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TServiceId</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-34347F5B-8028-38C3-BC3A-3D3F49B60BC0.html">TUpsDecision</a> &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-2FDC9685-ED11-3F43-BCCB-6D99310F954C">Authorise</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, const <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TServiceId</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-34347F5B-8028-38C3-BC3A-3D3F49B60BC0.html">TUpsDecision</a> &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-0408D171-02CD-31EC-BCA7-DA1D823DE038">CancelPrompt</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-4F5C0B67-9317-3D19-BAF7-665FDA808F0B">Close</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-E551C622-4A54-302A-A477-B5AF7B598D28">Initialise</a>(<a href="GUID-C5A902A7-C0BA-3728-9848-743D5CA66AE4.html">RUpsSession</a> &amp;, const <a href="GUID-B0E661BC-4058-3256-B9C3-5A4FD52F6DE5.html">RThread</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-6132429D-4D53-3C6C-ACF0-B9D3FB96A9F5">AuthoriseInternal</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, const <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TServiceId</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-34347F5B-8028-38C3-BC3A-3D3F49B60BC0.html">TUpsDecision</a> &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-CD661904-DF6C-3768-A7D8-157B8362C5E5">CreateSubsession</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-C135050E-5D80-3C71-9A3C-FA8C1A38EE77">ExecutePrompt</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, <a href="GUID-34347F5B-8028-38C3-BC3A-3D3F49B60BC0.html">TUpsDecision</a> &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-A17D6A51-88CB-3158-95B7-B461B3900648">PreparePrompt</a>(const <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TServiceId</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-ED500FD3-37B1-39F0-942A-EA5227738753.html">RScsClientSubsessionBase::CallSubsessionFunction(TInt)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-ED500FD3-37B1-39F0-942A-EA5227738753.html">RScsClientSubsessionBase::CallSubsessionFunction(TInt,const TIpcArgs &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-ED500FD3-37B1-39F0-942A-EA5227738753.html">RScsClientSubsessionBase::CallSubsessionFunction(TInt,const TIpcArgs &amp;,TRequestStatus &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-ED500FD3-37B1-39F0-942A-EA5227738753.html">RScsClientSubsessionBase::CancelSubsessionFunction(TInt)const</a></td></tr><tr><td> </td><td><a href="GUID-ED500FD3-37B1-39F0-942A-EA5227738753.html">RScsClientSubsessionBase::CreateSubsession(const RScsClientBase &amp;,TInt,const TIpcArgs &amp;)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-ED500FD3-37B1-39F0-942A-EA5227738753.html">RScsClientSubsessionBase::RScsClientSubsessionBase()</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CloseSubSession(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CreateAutoCloseSubSession(RSessionBase &amp;,TInt,const TIpcArgs &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CreateSubSession(const RSessionBase &amp;,TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::CreateSubSession(const RSessionBase &amp;,TInt,const TIpcArgs &amp;)</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::RSubSessionBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::Send(TInt)const</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::Send(TInt,const TIpcArgs &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt)const</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt,TRequestStatus &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt,const TIpcArgs &amp;)const</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SendReceive(TInt,const TIpcArgs &amp;,TRequestStatus &amp;)const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::Session()const</a></td></tr><tr><td> </td><td><a href="GUID-1BBE1448-1DF8-33C4-BF9E-5A5F427AEE35.html">RSubSessionBase::SubSessionHandle()const</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a>
				</td><td><a href="#GUID-CD47A67C-CCF2-34A0-8575-5BA68178A939">iClientPid</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-E924490C-D174-3CE8-98BB-85A1D10BC90B.html">TSecureId</a>
				</td><td><a href="#GUID-D045266B-5268-326A-9369-46950F281228">iClientSid</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-0CBB58B2-3371-3A29-97FF-98E258C55B93.html">TThreadId</a>
				</td><td><a href="#GUID-A9A2602B-FD19-3F2B-9327-D78F9B9B3751">iClientTid</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-C0D29B11-1535-3D11-B318-B18D30A6120B.html">TPtr8</a>
				</td><td><a href="#GUID-039B22A0-B073-3BCB-9D3A-BAE9E2374199">iDecPtr</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-4C1C6E0C-9B7C-3D99-9032-9D78B6116F21">iSubsessionCreated</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-C5A902A7-C0BA-3728-9848-743D5CA66AE4.html">RUpsSession</a> *</td><td><a href="#GUID-4BAD3330-EB28-3EB4-822B-595BFDDDB839">iUpsSession</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-414C5D58-AF06-3930-98B9-5711269DA68B"><a name="GUID-414C5D58-AF06-3930-98B9-5711269DA68B"><!-- --></a>
		<h2 class="topictitle2">RUpsSubsession()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>RUpsSubsession</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>This constructor provides a single point of definition from which the superclass constructor is called. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-97D9C4E4-1E65-3A65-BC41-DA1CAFC36156"><a name="GUID-97D9C4E4-1E65-3A65-BC41-DA1CAFC36156"><!-- --></a>
		<h2 class="topictitle2">Authorise(TBool, const TServiceId &amp;, const TDesC &amp;, TUpsDecision &amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Authorise</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aServerCheckOk,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TServiceId</a> &amp;</td><td>aServiceId,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aDestination,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-34347F5B-8028-38C3-BC3A-3D3F49B60BC0.html">TUpsDecision</a> &amp;</td><td>aDecision,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Determines whether the system server should perform the service requested by the client application. Depending on licensee configuration this function will either complete immediately if the client passed the system servers security policy check. Alternatively, every request may require additional authorisation by the <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D">User</a> Prompt Service.</p>

				<div class="p">
					<a href="GUID-69E209A1-E01B-3D9A-9572-53301106FAEE.html#GUID-6132429D-4D53-3C6C-ACF0-B9D3FB96A9F5">RUpsSubsession::AuthoriseInternal</a>
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>ProtServ </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aServerCheckOk</td><td>Whether the client request passed the security check implemented by the system server e.g. does the client have the correct capabilities for the requested service.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TServiceId</a> &amp; aServiceId</td><td>Service which the client wants to use.  </td></tr><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aDestination</td><td>More information about the service, e.g. this could be a telephone number is the client wanted to make a call.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-34347F5B-8028-38C3-BC3A-3D3F49B60BC0.html">TUpsDecision</a> &amp; aDecision</td><td>When the request completes successfully, the verdict is written to this variable.  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>The server completes this request object when it has finished handling the request.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-2FDC9685-ED11-3F43-BCCB-6D99310F954C"><a name="GUID-2FDC9685-ED11-3F43-BCCB-6D99310F954C"><!-- --></a>
		<h2 class="topictitle2">Authorise(TBool, const TServiceId &amp;, const TDesC &amp;, const TDesC8 &amp;, TUpsDecision &amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Authorise</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aServerCheckOk,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TServiceId</a> &amp;</td><td>aServiceId,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aDestination,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aOpaqueData,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-34347F5B-8028-38C3-BC3A-3D3F49B60BC0.html">TUpsDecision</a> &amp;</td><td>aDecision,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Determines whether the system server should perform the service requested by the client application. Depending on licensee configuration this function will either complete immediately if the client passed the system servers security policy check. Alternatively, every request may require additional authorisation by the <a href="GUID-C197C9A7-EA05-3F24-9854-542E984C612D.html#GUID-C197C9A7-EA05-3F24-9854-542E984C612D">User</a> Prompt Service.</p>

				<div class="p">
					<a href="GUID-69E209A1-E01B-3D9A-9572-53301106FAEE.html#GUID-6132429D-4D53-3C6C-ACF0-B9D3FB96A9F5">RUpsSubsession::AuthoriseInternal</a>
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>ProtServ </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aServerCheckOk</td><td>Whether the client request passed the security check implemented by the system server e.g. does the client have the correct capabilities for the requested service.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TServiceId</a> &amp; aServiceId</td><td>Service which the client wants to use.  </td></tr><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aDestination</td><td>More information about the service, e.g. this could be a telephone number is the client wanted to make a call.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aOpaqueData</td><td>Additional information to describe the request.  </td></tr><tr><td class="parameter"><a href="GUID-34347F5B-8028-38C3-BC3A-3D3F49B60BC0.html">TUpsDecision</a> &amp; aDecision</td><td>When the request completes successfully, the verdict is written to this variable.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>The server completes this request object when it has finished handling the request.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-6132429D-4D53-3C6C-ACF0-B9D3FB96A9F5"><a name="GUID-6132429D-4D53-3C6C-ACF0-B9D3FB96A9F5"><!-- --></a>
		<h2 class="topictitle2">AuthoriseInternal(TBool, const TServiceId &amp;, const TDesC &amp;, const TDesC8 &amp;, TUpsDecision &amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>AuthoriseInternal</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aServerCheckOk,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TServiceId</a> &amp;</td><td>aServiceId,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aDestination,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aOpaqueData,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-34347F5B-8028-38C3-BC3A-3D3F49B60BC0.html">TUpsDecision</a> &amp;</td><td>aDecision,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>This helper function is called by the exported overloads of Authorise. It sends the data supplied by the SS to the UPS server.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>ProtServ </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aServerCheckOk</td><td>Did the system server checks pass?  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TServiceId</a> &amp; aServiceId</td><td>Service which the client wants to use.  </td></tr><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aDestination</td><td>More information about the service, e.g. this could be a telephone number is the client wanted to make a call.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aOpaqueData</td><td>Additional information to describe the request. This is KNullDesC8 if the SS used the Authorise overload which did not take opaque data.  </td></tr><tr><td class="parameter"><a href="GUID-34347F5B-8028-38C3-BC3A-3D3F49B60BC0.html">TUpsDecision</a> &amp; aDecision</td><td>When the request completes successfully, the verdict is written to this variable.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>The server completes this request object when it has finished handling the request.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-0408D171-02CD-31EC-BCA7-DA1D823DE038"><a name="GUID-0408D171-02CD-31EC-BCA7-DA1D823DE038"><!-- --></a>
		<h2 class="topictitle2">CancelPrompt()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>CancelPrompt</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Cancel the prompt request which was launched by calling Authorise.</p>

				<div class="p">This function has no effect if there is no outstanding request. <dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>ProtServ </dd>
</dl>
</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-4F5C0B67-9317-3D19-BAF7-665FDA808F0B"><a name="GUID-4F5C0B67-9317-3D19-BAF7-665FDA808F0B"><!-- --></a>
		<h2 class="topictitle2">Close()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Close and clean up this subsession object. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-CD661904-DF6C-3768-A7D8-157B8362C5E5"><a name="GUID-CD661904-DF6C-3768-A7D8-157B8362C5E5"><!-- --></a>
		<h2 class="topictitle2">CreateSubsession()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>CreateSubsession</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Create a subsession for a specific SS client over the supplied session.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>ProtServ </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-C135050E-5D80-3C71-9A3C-FA8C1A38EE77"><a name="GUID-C135050E-5D80-3C71-9A3C-FA8C1A38EE77"><!-- --></a>
		<h2 class="topictitle2">ExecutePrompt(TBool, TUpsDecision &amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>ExecutePrompt</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aServerCheckOk,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-34347F5B-8028-38C3-BC3A-3D3F49B60BC0.html">TUpsDecision</a> &amp;</td><td>aDecision,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>Ask the UPS to execute the request which was set up with PreparePrompt.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>ProtServ </dd>

						
					</dl>

					<a href="GUID-69E209A1-E01B-3D9A-9572-53301106FAEE.html#GUID-A17D6A51-88CB-3158-95B7-B461B3900648">PreparePrompt</a> </div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aServerCheckOk</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-34347F5B-8028-38C3-BC3A-3D3F49B60BC0.html">TUpsDecision</a> &amp; aDecision</td><td>When the request completes successfully, this argument is updated with the verdict.  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>The server completes this request object when it has finished handling the request.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-E551C622-4A54-302A-A477-B5AF7B598D28"><a name="GUID-E551C622-4A54-302A-A477-B5AF7B598D28"><!-- --></a>
		<h2 class="topictitle2">Initialise(RUpsSession &amp;, const RThread &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Initialise</td><td>(</td><td><a href="GUID-C5A902A7-C0BA-3728-9848-743D5CA66AE4.html">RUpsSession</a> &amp;</td><td>aSession,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-B0E661BC-4058-3256-B9C3-5A4FD52F6DE5.html">RThread</a> &amp;</td><td>aClient</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Saves the details required to create a subsession specific to the client thread.</p>

				<p>The actual subsession creation is defered until the subsession is required (which may be never if the policy says server checks are sufficient).</p>

				<p>Several <a href="GUID-69E209A1-E01B-3D9A-9572-53301106FAEE.html#GUID-69E209A1-E01B-3D9A-9572-53301106FAEE">RUpsSubsession</a> objects can share a single <a href="GUID-C5A902A7-C0BA-3728-9848-743D5CA66AE4.html#GUID-C5A902A7-C0BA-3728-9848-743D5CA66AE4">RUpsSession</a>.</p>

				<p>If any of the <a href="GUID-69E209A1-E01B-3D9A-9572-53301106FAEE.html#GUID-69E209A1-E01B-3D9A-9572-53301106FAEE">RUpsSubsession</a> objects are to be used in a different thread to the <a href="GUID-C5A902A7-C0BA-3728-9848-743D5CA66AE4.html#GUID-C5A902A7-C0BA-3728-9848-743D5CA66AE4">RUpsSession</a>, then ShareAuto() must be called on the <a href="GUID-C5A902A7-C0BA-3728-9848-743D5CA66AE4.html#GUID-C5A902A7-C0BA-3728-9848-743D5CA66AE4">RUpsSession</a>.</p>

				<p>RSubSessionBase::CreateSubsession</p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-C5A902A7-C0BA-3728-9848-743D5CA66AE4.html">RUpsSession</a> &amp; aSession</td><td>Connected session to the UPS server.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-B0E661BC-4058-3256-B9C3-5A4FD52F6DE5.html">RThread</a> &amp; aClient</td><td>SS client for whom this session is set up.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-A17D6A51-88CB-3158-95B7-B461B3900648"><a name="GUID-A17D6A51-88CB-3158-95B7-B461B3900648"><!-- --></a>
		<h2 class="topictitle2">PreparePrompt(const TServiceId &amp;, const TDesC &amp;, const TDesC8 &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>PreparePrompt</td><td>(</td><td>const <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TServiceId</a> &amp;</td><td>aServiceId,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aDestination,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aOpaqueData</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>Ask the UPS server to prepare to make a decision. This will be followed by a call to ExecutePrompt.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>ProtServ </dd>

						
					</dl>

					<a href="GUID-69E209A1-E01B-3D9A-9572-53301106FAEE.html#GUID-C135050E-5D80-3C71-9A3C-FA8C1A38EE77">ExecutePrompt</a> </div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TServiceId</a> &amp; aServiceId</td><td>Service which the client wants to use.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aDestination</td><td>More information about the service, e.g. this could be a telephone number is the client wanted to make a call.  </td></tr><tr><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aOpaqueData</td><td>Additional information to describe the request. This is KNullDesC8 if the SS used the Authorise overload which did not take opaque data.  </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-CD47A67C-CCF2-34A0-8575-5BA68178A939"><a name="GUID-CD47A67C-CCF2-34A0-8575-5BA68178A939"><!-- --></a>
		<h2 class="topictitle2">
					TProcessId
				 iClientPid</h2>
		<table class="signature"><tr><td>
					<a href="GUID-2B5DA16C-3FBA-36CE-8821-E68B1BE45B9F.html">TProcessId</a>
				</td><td>iClientPid</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-D045266B-5268-326A-9369-46950F281228"><a name="GUID-D045266B-5268-326A-9369-46950F281228"><!-- --></a>
		<h2 class="topictitle2">
					TSecureId
				 iClientSid</h2>
		<table class="signature"><tr><td>
					<a href="GUID-E924490C-D174-3CE8-98BB-85A1D10BC90B.html">TSecureId</a>
				</td><td>iClientSid</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-A9A2602B-FD19-3F2B-9327-D78F9B9B3751"><a name="GUID-A9A2602B-FD19-3F2B-9327-D78F9B9B3751"><!-- --></a>
		<h2 class="topictitle2">
					TThreadId
				 iClientTid</h2>
		<table class="signature"><tr><td>
					<a href="GUID-0CBB58B2-3371-3A29-97FF-98E258C55B93.html">TThreadId</a>
				</td><td>iClientTid</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-039B22A0-B073-3BCB-9D3A-BAE9E2374199"><a name="GUID-039B22A0-B073-3BCB-9D3A-BAE9E2374199"><!-- --></a>
		<h2 class="topictitle2">
					TPtr8
				 iDecPtr</h2>
		<table class="signature"><tr><td>
					<a href="GUID-C0D29B11-1535-3D11-B318-B18D30A6120B.html">TPtr8</a>
				</td><td>iDecPtr</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Describes the TUpsDecision reference passed into Authorise. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-4C1C6E0C-9B7C-3D99-9032-9D78B6116F21"><a name="GUID-4C1C6E0C-9B7C-3D99-9032-9D78B6116F21"><!-- --></a>
		<h2 class="topictitle2">
					TBool
				 iSubsessionCreated</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>iSubsessionCreated</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-4BAD3330-EB28-3EB4-822B-595BFDDDB839"><a name="GUID-4BAD3330-EB28-3EB4-822B-595BFDDDB839"><!-- --></a>
		<h2 class="topictitle2">
					RUpsSession * iUpsSession</h2>
		<table class="signature"><tr><td>
					<a href="GUID-C5A902A7-C0BA-3728-9848-743D5CA66AE4.html">RUpsSession</a> *</td><td>iUpsSession</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>