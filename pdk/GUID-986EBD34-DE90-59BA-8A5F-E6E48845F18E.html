<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="CAF Recogniser Config Overview"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E6C91CF2-A616-5E52-8BB2-630C42C8D540.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-315452C2-A1E2-5888-A694-6D2DE73A3F5E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E6C91CF2-A616-5E52-8BB2-630C42C8D540.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9993D750-9116-55B2-812A-7A92C50F467F.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-77578F7E-E6E0-5177-99B2-E586DD6DD0C6.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>CAF Recogniser Config Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E"><a name="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2858558 id2858692 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-315452C2-A1E2-5888-A694-6D2DE73A3F5E.html">OS Security Guide</a> &gt; <a href="GUID-E6C91CF2-A616-5E52-8BB2-630C42C8D540.html">Content Management</a> &gt; </div>
<h1 class="topictitle1">CAF
Recogniser Config Overview</h1>
<div>
<p> <em>CAF Recogniser Config</em> component includes a configuration file,
which contains the list of MIME types for the CAF Recogniser. Device creators
must configure this file to include all MIME types supported by CAF. </p>

<div class="section"><h2 class="sectiontitle">Purpose</h2> <p>The <em>CAF Recogniser Config</em> component
includes a configuration file for the CAF Recogniser. The CAF Recogniser is
a plug-in for the Apparc recogniser framework. It indicates to Apparc which
MIME types must be associated with CAF. The CAF Recogniser config file contains
the list of MIME types for the recogniser. </p>
 </div>

<div class="section" id="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E__GUID-6C1532E9-A711-51CD-895D-C8AAF194D581"><a name="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E__GUID-6C1532E9-A711-51CD-895D-C8AAF194D581"><!-- --></a><h2 class="sectiontitle">Key concepts</h2> <dl>

<dt class="dlterm">Recogniser</dt>

<dd><p>A recogniser is an <a href="GUID-9E92EE30-F2E2-5F28-BB2A-391C09EC69D2.html">ECom</a> plug-in
located under <span class="filepath">\sys\bin\</span> and loaded by the Application
Architecture (Apparc) server. It identifies the data type of a file or a stream
and associates it with an application that can handle the data. A data type
is known as a <em>MIME type</em>. For more information about MIME and recognisers,
see <a href="GUID-F18D0E06-2FB8-5339-AF31-02CC7D5A8010.html">MIME Recognition
Framework</a>. </p>
 <p>The CAF recogniser (<span class="filepath">reccaf.dll</span>)
determines whether data in a file or stream can be handled by CAF. </p>
 </dd>



<dt class="dlterm">Apparc</dt>

<dd><p>Apparc contains a plug-in recogniser framework which locates all installed
applications and associates them with the correct document and MIME types.
Each application is stored in its own directory under <samp class="codeph">\system\apps\</samp> along
with its associated icon, language-dependent binary resource file and application
information file (<span class="filepath">.AIF</span>). The <span class="filepath">.AIF</span> file
describes the application's capabilities and its UIDs. For more information,
see <a href="GUID-940F3F6E-BA9C-5E19-9AC5-D848B5E175FB.html">Apparc Overview</a>. </p>
 </dd>



<dt class="dlterm">Open Mobile Alliance (OMA) DRM</dt>

<dd><p>The OMA DRM is a specification for Digital Rights Management. The OMA
2.0 standards define formats for storing DRM protected content in archive
files. For more information, see <a href="http://www.openmobilealliance.org/" target="_blank">http://www.openmobilealliance.org/</a>  </p>
 </dd>


</dl>
 </div>

<div class="section"><h2 class="sectiontitle">Description</h2> <p>The <em>CAF Recogniser Config</em> is
a component which contains a single configuration file (<span class="filepath">RecCafMimeTypes.txt</span>)
for use by the CAF Recogniser (<span class="filepath">reccaf.dll</span>). The recogniser
uses this file and returns only MIME types listed in the file, when <a href="GUID-20935B91-B495-31F4-BD07-B91F442308BD.html#GUID-20935B91-B495-31F4-BD07-B91F442308BD__GUID-3DF0D6F3-BF82-319A-B3CA-61B86975FC4A"><span class="apiname">CApaCafRecognizer::SupportedDataTypeL()</span></a> is
called. </p>
 <p><strong>CAF Recogniser </strong> </p>
 <p>The CAF Recogniser determines
whether a file is recognized by CAF and if so, retrieves the file and content
MIME types. The mapping of these two MIME types returned by CAF to a single
APPARC MIME type is based on the following rules: </p>
 
<div class="tablenoborder"><a name="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E__GUID-C8A57904-F34E-5EBC-920C-2F80BF28BF83"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E__GUID-C8A57904-F34E-5EBC-920C-2F80BF28BF83" frame="border" border="1" rules="all">
<tbody>
<tr>
<td class="cellrowborder" valign="top"><p> <strong> Apparc MIME type</strong>  </p>
 </td>

<td class="cellrowborder" valign="top"><p> <strong> File MIME type</strong>  </p>
 </td>

<td class="cellrowborder" valign="top"><p> <strong> Content MIME type</strong>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top"><p> <samp class="codeph"> x-caf-ContentMimeType</samp>  </p>
 </td>

<td class="cellrowborder" valign="top"><p>Present </p>
 </td>

<td class="cellrowborder" valign="top"><p>Present </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top"><p> <samp class="codeph">FileMimeType</samp>  </p>
 </td>

<td class="cellrowborder" valign="top"><p>Present </p>
 </td>

<td class="cellrowborder" valign="top"><p>Not Present </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top"><p> <samp class="codeph">application/x-caf</samp>  </p>
 </td>

<td class="cellrowborder" valign="top"><p>Present </p>
 </td>

<td class="cellrowborder" valign="top"><p> <samp class="codeph">application/x-caf</samp>  </p>
 </td>

</tr>

</tbody>

</table>
</div>
 <p>For more information about determining the MIME type of files
used in Symbian platform, see <a href="GUID-9993D750-9116-55B2-812A-7A92C50F467F.html">Apparc
Recognizer for CAF</a>. </p>
 <p><strong>Application Registration Files</strong> </p>
 <p>Applications
must update their registration resource files (for example <span class="filepath">AppName_reg.rss</span>)
to include the new CAF MIME types. </p>
 <p>For example, an image viewer may
have only included <samp class="codeph">image/jpeg</samp> in the list of MIME types it
could open. If the application is updated to use CAF, it must support <samp class="codeph">image/jpeg</samp> and <samp class="codeph">x-caf-image/jpeg</samp> to
support both unprotected and protected content respectively. </p>
 <p><em>Registration
file that uses CAF</em></p>
 <pre class="codeblock" id="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E__GUID-F4EE47A4-D22F-56C5-9CF1-E302BBF65556"><a name="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E__GUID-F4EE47A4-D22F-56C5-9CF1-E302BBF65556"><!-- --></a>...
    datatype_list =     
    {           
    DATATYPE { priority= EDataTypePriorityHigh ; type="image/jpeg"; },         
    DATATYPE { priority= EDataTypePriorityHigh ; type="x-caf-image/jpeg"; },     
    }
...</pre>
 <p> <em>Registration file that does not use CAF</em></p>
 <pre class="codeblock" id="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E__GUID-6A721EC9-8761-5014-A6A1-EE9C17D9CE39"><a name="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E__GUID-6A721EC9-8761-5014-A6A1-EE9C17D9CE39"><!-- --></a>...
    datatype_list =     
    {           
    DATATYPE { priority= EDataTypePriorityHigh ; type="image/jpeg"; },         
    }
...</pre>
 <p>For more information see, <a href="GUID-9993D750-9116-55B2-812A-7A92C50F467F.html">Application
Registration Files</a>. </p>
 <p><strong>Configuration file</strong> </p>
 <p>The configuration
file is stored as <span class="filepath">\private\10003a3f\RecCaf\RecCafMimeTypes.txt</span> in
the Apparc server. The default implementation looks like this: </p>
 <pre class="codeblock" id="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E__GUID-E21645DB-CED8-5507-ACA7-DBA6F9BB7592"><a name="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E__GUID-E21645DB-CED8-5507-ACA7-DBA6F9BB7592"><!-- --></a>text/plain
text/html
image/jpeg
application/java-archive</pre>
 <p>Device creators must do the following
during ROM build time and also see <a href="GUID-2071FA59-36AE-5779-BFF2-2A5DAED915EE.html">Considerations
for Device Creators using CAF</a>. </p>
 <ul>
<li id="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E__GUID-0ECE86A8-39A6-55EC-BC59-F6DC4C8D6034"><a name="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E__GUID-0ECE86A8-39A6-55EC-BC59-F6DC4C8D6034"><!-- --></a><p>Customize the configuration
file to include all MIME types supported by CAF. </p>
 </li>

<li id="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E__GUID-170E6650-C8D7-50B3-9519-D3533CB3BC4E"><a name="GUID-986EBD34-DE90-59BA-8A5F-E6E48845F18E__GUID-170E6650-C8D7-50B3-9519-D3533CB3BC4E"><!-- --></a><p>Ensure all supported
MIME types are included in the file, when post-production agent plug-ins are
added in the CAF recogniser. </p>
 <p>By default, CAF loads all agents in the
ROM drive. If post-production agent plug-ins are to be included, configure
a macro <samp class="codeph">CAF_LOAD_POST_PRODUCTION_AGENTS</samp> at ROM build time.
This enables CAF to load all agents visible to ECom. For more information,
see <a href="GUID-5BD60B1B-CEB7-557A-A9DC-1BB64575F3E2.html">Content Access
Agent ECom Resource File</a>. </p>
 </li>

</ul>
 </div>

<div class="section"><h2 class="sectiontitle">Typical uses</h2> <p>CAF recogniser (<span class="filepath">reccaf.dll</span>)
for DRM-protected content uses this configuration file to get the list of
supported content MIME types. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-E6C91CF2-A616-5E52-8BB2-630C42C8D540.html">Content Management</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-9993D750-9116-55B2-812A-7A92C50F467F.html">APPARC Recognizer
for CAF</a></div>
<div><a href="GUID-77578F7E-E6E0-5177-99B2-E586DD6DD0C6.html">Implementation
Guidelines</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>