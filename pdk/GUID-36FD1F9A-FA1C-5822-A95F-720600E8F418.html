<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Contact Items Management"/>
<meta name="DC.Relation" scheme="URI" content="GUID-12D1EE2F-AF1E-4C53-ADC8-D8BC205BD063.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0522B178-0FD5-4416-B7FE-390749F7A13D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3AF6CE70-DDBE-53F3-ABB6-7E78A300F14B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-12D1EE2F-AF1E-4C53-ADC8-D8BC205BD063.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Contact Items Management</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418"><a name="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2518949 id2518958 id2518972 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-0522B178-0FD5-4416-B7FE-390749F7A13D.html">Contacts Guide</a> &gt; <a href="GUID-3AF6CE70-DDBE-53F3-ABB6-7E78A300F14B.html">Contacts Model</a> &gt; <a href="GUID-12D1EE2F-AF1E-4C53-ADC8-D8BC205BD063.html">Concepts</a> &gt; </div>
<h1 class="topictitle1">Contact Items Management</h1>
<div><p>A Contact Item is an element in a Contact Database. Contact Items can be added, read, edited and removed from the database. As the diagram below shows, a Contact Item can be: </p>
 <ul><li id="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418__GUID-39BF4108-CFC9-54CD-BC88-81C41984601E"><a name="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418__GUID-39BF4108-CFC9-54CD-BC88-81C41984601E"><!-- --></a><p>a contact card - either generic cards (<a href="GUID-CCE5DB7C-AD68-3F8C-8720-14CD1FC3D164.html"><span class="apiname">CContactCard</span></a>) or the device owner's card (<a href="GUID-942BB679-256F-3DD3-A027-6A40E1DE9C40.html"><span class="apiname">CContactOwnCard</span></a>) </p>
 </li>
 <li id="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418__GUID-06168476-8C2F-5944-A5FD-B37BB2ABB032"><a name="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418__GUID-06168476-8C2F-5944-A5FD-B37BB2ABB032"><!-- --></a><p>a template card (<a href="GUID-D144F6EE-B50D-3EC8-BAD7-A0E7590CD512.html"><span class="apiname">CContactTemplate</span></a>) - a card that sets the initial fields for other Contact Items </p>
 </li>
 <li id="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418__GUID-7C15AAFE-A236-5036-9C55-E647B6DF46C6"><a name="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418__GUID-7C15AAFE-A236-5036-9C55-E647B6DF46C6"><!-- --></a><p>a collection of Contact Items (<a href="GUID-98A3BF93-A1EF-32C3-B98C-680A515D9985.html"><span class="apiname">CContactItemPlusGroup</span></a>) - a group that holds a set of associated Contact Item IDs </p>
 </li>
 <li id="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418__GUID-21FAB277-889F-52F7-941C-06F803983319"><a name="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418__GUID-21FAB277-889F-52F7-941C-06F803983319"><!-- --></a><p>a contact which maps to the device's ICC (<a href="GUID-BEC62AFD-2CDA-387D-A290-2221D88FD2B8.html"><span class="apiname">CContactICCEntry</span></a>) or SIM (<a href="GUID-CCE5DB7C-AD68-3F8C-8720-14CD1FC3D164.html"><span class="apiname">CContactCard</span></a>). </p>
 </li>
 </ul>
 <p>Each Contact Item is uniquely identified in the database by a Contact Item ID (<a href="GUID-B1F75A76-9F02-3D88-B76F-1489319B7108.html"><span class="apiname">TContactItemId</span></a>). More than one Contact Item ID is referred to using a Contact Item ID array (<a href="GUID-7CACA76F-00E5-3A69-966E-1D40E64F0E27.html"><span class="apiname">CContactIdArray</span></a>). </p>
 <div class="fignone" id="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418__GUID-10046728-05A3-5A02-B9C0-A3AAF33AD8D5"><a name="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418__GUID-10046728-05A3-5A02-B9C0-A3AAF33AD8D5"><!-- --></a><span class="figcap">Figure 1. 
          CONTACT ITEM HIERARCHY 
        </span> <img src="GUID-16C323DC-B43F-5621-B617-C31FBB25379B_d0e154013_href.png"/></div>
 <p>Contact Items have an access count and attributes ('hidden', for example). The access count is a record of the number of objects referencing a Contact Item. A Contact Item cannot be fully deleted until its access count is zero. </p>
 <p>Note: Fields in a Contact Item also have attributes. Attribute values specified in the Contact Item override those in the contained fields. </p>
 <p>Contact Items are accessed through the <a href="GUID-6A6C7B3B-1E44-3731-956D-590A1122FF6E.html"><span class="apiname">CContactDatabase</span></a> class. Opening a Contact Item (using <a href="GUID-6A6C7B3B-1E44-3731-956D-590A1122FF6E.html#GUID-6A6C7B3B-1E44-3731-956D-590A1122FF6E__GUID-05A0BF3B-6F83-300C-A70D-3FEB069A3964"><span class="apiname">CContactDatabase::OpenContactL()</span></a>) locks it so that it cannot be edited by another client. Closing the Contact Item (using <a href="GUID-6A6C7B3B-1E44-3731-956D-590A1122FF6E.html#GUID-6A6C7B3B-1E44-3731-956D-590A1122FF6E__GUID-0D90CADE-D766-3A39-9928-F4E8936B52FB"><span class="apiname">CContactDatabase::CloseContactL()</span></a>) releases the lock on the item without saving any changes made to it. Committing the Contact Item (using <a href="GUID-6A6C7B3B-1E44-3731-956D-590A1122FF6E.html#GUID-6A6C7B3B-1E44-3731-956D-590A1122FF6E__GUID-35AD302C-659C-3705-961A-3730F2975B25"><span class="apiname">CContactDatabase::CommitContactL()</span></a>) releases the lock and saves any changes made to it. </p>
 <div class="section" id="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418__GUID-D41E051D-CA35-559C-803B-811008FD4089"><a name="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418__GUID-D41E051D-CA35-559C-803B-811008FD4089"><!-- --></a><h2 class="sectiontitle">Contact Item Fields</h2> <p>Each Contact Item contains a number of fields (<a href="GUID-8ECF9E69-5102-37C6-BF4F-E4C543026304.html"><span class="apiname">CContactItemFieldSet</span></a>). Each field (<a href="GUID-6466EF81-CAFC-3098-8E2F-D55AB77F2B99.html"><span class="apiname">CContactItemField</span></a>) in <a href="GUID-8ECF9E69-5102-37C6-BF4F-E4C543026304.html"><span class="apiname">CContactItemFieldSet</span></a> has a content type, (<a href="GUID-96249829-E053-3DB5-ABEC-77C9C8A0BB69.html"><span class="apiname">CContentType</span></a>), and a storage type, (<a href="GUID-35235317-4E31-3ED4-9798-1B2621F89265.html"><span class="apiname">TStorageType</span></a>) and the field data (<a href="GUID-429B1D62-189C-3DE1-AABD-C162B0593992.html"><span class="apiname">CContactTextField</span></a>, <a href="GUID-C44B4C53-417E-330F-A651-FEB97B3FE75F.html"><span class="apiname">CContactStoreField</span></a>, <a href="GUID-ABBBE7AC-F837-3039-B2A3-6A7B4E11F82D.html"><span class="apiname">CContactAgentField</span></a> or <a href="GUID-F7BC1DB1-C8AA-371A-B930-1DB9B7360949.html"><span class="apiname">CContactDateField</span></a>). </p>
 <p>A content type contains at least one UID, using <a href="GUID-84023E98-6C2C-31CE-9DDC-15D92650AC23.html"><span class="apiname">TFieldType</span></a>. A storage type identifies the type of data (text, binary, contact agent ID, date/time) stored in a Contact Item field. As numeric field data is not supported all numbers are stored as text. </p>
 <p>Each field can also have a label which identifies the field to a user, for example, first name, last name. Fields can have attributes assigned to them such as hidden, disabled, synchronised, read only, user added, template and speed dial. </p>
 </div>
 <div class="section" id="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418__GUID-C8B3F417-57B3-548B-8247-9171ABAECED9"><a name="GUID-36FD1F9A-FA1C-5822-A95F-720600E8F418__GUID-C8B3F417-57B3-548B-8247-9171ABAECED9"><!-- --></a><h2 class="sectiontitle">Contact Groups</h2> <p>A Contact Group (<a href="GUID-F823D586-386F-300B-82D2-8365695BA7A0.html"><span class="apiname">CContactGroup</span></a> class) is a Contact Item which holds a set of associated Contact Item IDs. The members of the group may be contact cards, own cards, or even other groups. The group has a label which identifies the group such as 'family', or 'colleagues' to users. The type of a Contact Group is <a href="GUID-7770D130-465B-3360-8BB4-0870F81EC8C9.html"><span class="apiname">KUidContactGroup</span></a>, as returned by <a href="GUID-F823D586-386F-300B-82D2-8365695BA7A0.html#GUID-F823D586-386F-300B-82D2-8365695BA7A0__GUID-BE8C8EBC-4402-3E04-ADD4-7843B65AB8A6"><span class="apiname">CContactGroup::Type()</span></a>. </p>
 <p>It is possible to construct a group using <a href="GUID-F823D586-386F-300B-82D2-8365695BA7A0.html#GUID-F823D586-386F-300B-82D2-8365695BA7A0__GUID-61DCBD98-BF07-3DB0-A02B-603A99C7DA58"><span class="apiname">CContactGroup::CreateContactGroupL()</span></a>. These functions create the group, optionally with a label, add it to the database, and return a pointer to it. To create an association between a card and a group, use <a href="GUID-6A6C7B3B-1E44-3731-956D-590A1122FF6E.html#GUID-6A6C7B3B-1E44-3731-956D-590A1122FF6E__GUID-38EEDF68-F1F8-3286-8525-24822B75FEBC"><span class="apiname">CContactDatabase::AddContactToGroupL()</span></a>. To remove the association, use <a href="GUID-6A6C7B3B-1E44-3731-956D-590A1122FF6E.html#GUID-6A6C7B3B-1E44-3731-956D-590A1122FF6E__GUID-981C88EC-2089-3CE0-8DDF-03F228EC75F7"><span class="apiname">CContactDatabase::RemoveContactFromGroupL()</span></a>. To find out which groups a card belongs to, use <a href="GUID-CCE5DB7C-AD68-3F8C-8720-14CD1FC3D164.html#GUID-CCE5DB7C-AD68-3F8C-8720-14CD1FC3D164__GUID-C67AAC3C-6925-3CE4-9F4D-C7B955A95A9A"><span class="apiname">CContactCard::GroupsJoinedLC()</span></a> or <a href="GUID-942BB679-256F-3DD3-A027-6A40E1DE9C40.html#GUID-942BB679-256F-3DD3-A027-6A40E1DE9C40__GUID-4162EB84-E4D1-387B-B92D-DFD4738C5734"><span class="apiname">CContactOwnCard::GroupsJoinedLC()</span></a>. </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-12D1EE2F-AF1E-4C53-ADC8-D8BC205BD063.html">Concepts</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>