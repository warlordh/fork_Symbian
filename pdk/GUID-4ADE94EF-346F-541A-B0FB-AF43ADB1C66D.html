<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="SMS Protocol Modules"/>
<meta name="abstract" content="This section describes the SMS protocol module of the SMS stack."/>
<meta name="description" content="This section describes the SMS protocol module of the SMS stack."/>
<meta name="DC.Relation" scheme="URI" content="GUID-30C21015-C433-5465-87A7-DA5A9C4AD7BD.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6BA58045-3864-599A-878E-0C7AE7E9741B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E0DA7DE7-FD5A-5C1D-A53C-870966F00445.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-30C21015-C433-5465-87A7-DA5A9C4AD7BD.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3D1E5144-00BC-51AF-8887-4C97167E73FB.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>SMS Protocol Modules</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D"><a name="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2563496 id2563002 id2563083 id2562974 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html" title="Cellular Baseband Services provide a common interface to telephony services for applications and higher level platform components. The framework is independent of the underlying network services.">Cellular Baseband Services Guide</a> &gt; <a href="GUID-6BA58045-3864-599A-878E-0C7AE7E9741B.html" title="This section describes the components related to the SMS protocols.">SMS Protocols</a> &gt; <a href="GUID-E0DA7DE7-FD5A-5C1D-A53C-870966F00445.html" title="This section provides the summary of concepts and tutorials related to the SMS stack for the GSM networks. The client applications can access the SMS stack using socket server APIs.">SMS Stack for GSM Networks</a> &gt; <a href="GUID-30C21015-C433-5465-87A7-DA5A9C4AD7BD.html" title="This section lists the concepts and architecture of the SMS Stack.">Concepts</a> &gt; </div>
<h1 class="topictitle1">SMS Protocol Modules</h1>
<div><p>This section describes the SMS protocol module of the SMS stack. </p>
<p>The SMS stack is created when the first request for a socket is received by the socket server. The socket server creates an instance of the <a href="GUID-F33BD666-FAE3-34B6-A8A7-ABF3B0728325.html"><span class="apiname">CSmsProtocol</span></a> system class, which co-ordinates the SMS stack activities. The SMS protocol does not publish any APIs for the client applications but internally it provides the methods to support the following functionality: </p>
 <ul><li id="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-24B0BFF5-0193-5BB6-A302-762C01F0E61D"><a name="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-24B0BFF5-0193-5BB6-A302-762C01F0E61D"><!-- --></a><p> <a href="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D.html#GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-B7D5B90F-57A4-522C-A2C6-DBE5CC615EB8">Send a message</a>  </p>
 </li>
 <li id="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-FCF1072A-872D-5036-BEA7-35EBB3E55EC4"><a name="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-FCF1072A-872D-5036-BEA7-35EBB3E55EC4"><!-- --></a><p> <a href="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D.html#GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-EC6DA4EE-264E-57CF-9D96-AC590DF4C7A4">Receive a message</a>  </p>
 </li>
 <li id="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-7CCC3D59-BB59-5FE3-B03A-B6B7E94E05C4"><a name="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-7CCC3D59-BB59-5FE3-B03A-B6B7E94E05C4"><!-- --></a><p> <a href="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D.html#GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-964CDB3F-F67E-5B52-8CFC-911FC469DE06">Write a message</a>  </p>
 </li>
 <li id="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-DBB0F679-16BC-5A9D-AA4A-82562106A969"><a name="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-DBB0F679-16BC-5A9D-AA4A-82562106A969"><!-- --></a><p> <a href="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D.html#GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-0A3A192E-A0BC-5C5B-B100-822ED4616BD8">Delete a message</a>  </p>
 </li>
 <li id="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-E0BD0F90-0899-5CD8-A9A6-71C32244183E"><a name="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-E0BD0F90-0899-5CD8-A9A6-71C32244183E"><!-- --></a><p> <a href="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D.html#GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-EB175A07-1EDE-54DD-AFEA-936C6E2CAD1A">Read a message</a>  </p>
 </li>
 <li id="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-6314B160-0C98-503C-B76C-4405EE26DB73"><a name="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-6314B160-0C98-503C-B76C-4405EE26DB73"><!-- --></a><p> <a href="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D.html#GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-6CD8735A-425A-548B-BECC-36D9C6719C8C">Read and write SMS parameters</a>  </p>
 </li>
 </ul>
 <p>The clients use the multimode telephony APIs to initiate the use cases, but the SMS protocol checks the stores before the clients can use them. The SMS protocol contains the observers and disk monitors. Refer to the <a href="GUID-102CD904-4217-53DA-A9F0-77D76C938FB5.html" title="The SMS stack provides two observers. Set SMS Bearer observer and Set Receive Mode observer. Both the observers are created and deleted by the SMS protocol class (SMSPROT).">SMS Stack Observers</a> and <a href="GUID-C74F8B29-0440-50FE-BF93-83AF7868B00D.html" title="This section describes the SMS stack disk monitors. The SMS stack stores the messages before segmentation and reassembly.">SMS Disk Monitor</a> for more details. The messaging clients calls the <a href="GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0.html#GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0__GUID-1DEB83AF-C681-30D4-951C-4C2A5572E59C"><span class="apiname">RSocket::Ioctl()</span></a> to perform the uses cases mentioned in this section. </p>
 <div class="section" id="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-B7D5B90F-57A4-522C-A2C6-DBE5CC615EB8"><a name="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-B7D5B90F-57A4-522C-A2C6-DBE5CC615EB8"><!-- --></a><h2 class="sectiontitle">Send a message</h2> <p>The SMS protocol send message provides the methods to send an SMS message to the network through the telephony system. The SMS protocol module splits the messages into one or more PDUs depending on the message data. The SMS stack processes the message. When the PDUs are created they are sent to the network. The SMS protocol module also enables the clients to resend a message if an earlier attempt to send fails. If the mobile is configured to receive delivery reports a SUBMIT REPORT is sent to the network to get the delivery report. The sent messages are logged in the log engine using a unique Log ID, if the Log engine is installed in the device. The messages are stored in the segmentation of the SMS stack before sending them to the network, which enables the clients to resend the messages in case of failures. The SMS stack only re-sends the message PDUs marker as 'unsent'. </p>
 </div>
 <div class="section" id="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-EC6DA4EE-264E-57CF-9D96-AC590DF4C7A4"><a name="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-EC6DA4EE-264E-57CF-9D96-AC590DF4C7A4"><!-- --></a><h2 class="sectiontitle">Receive a message 
          </h2> <p>The SMS protocol provides methods to receive incoming messages and status reports of the sent messages. The incoming messages are decoded and stored in the reassembly store for processing. When all the PDUs of a message are received the message is forwarded to the messaging client. The SMS protocol receives the status reports of the sent PDUs. The status report is compared to the original message in the segmentation store. When the status report of all the PDUs of a message is received, the SMS protocol notifies the messaging clients. The storage of PDUs in the SMS stack or the TSY depends on the receive mode configuration in the smswap.sms.esk file. </p>
 </div>
 <div class="section" id="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-964CDB3F-F67E-5B52-8CFC-911FC469DE06"><a name="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-964CDB3F-F67E-5B52-8CFC-911FC469DE06"><!-- --></a><h2 class="sectiontitle">Write a message</h2> <p>The SMS protocol provides methods for messaging clients to write messages in the phone stores. The module enables the clients to save the unread and draft messages in the phone stores. The messaging clients send a store name to store the messages, the SMS protocol searches for the requested store name and if the store supports 'WRITE' functionality the messages are stored. </p>
 </div>
 <div class="section" id="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-0A3A192E-A0BC-5C5B-B100-822ED4616BD8"><a name="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-0A3A192E-A0BC-5C5B-B100-822ED4616BD8"><!-- --></a><h2 class="sectiontitle">Delete a message</h2> <p>The SMS message provides methods for messaging clients to delete messages from the phone stores. The SMS protocol supports the messaging clients to delete incomplete messages as well. </p>
 </div>
 <div class="section" id="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-EB175A07-1EDE-54DD-AFEA-936C6E2CAD1A"><a name="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-EB175A07-1EDE-54DD-AFEA-936C6E2CAD1A"><!-- --></a><h2 class="sectiontitle">Read a message</h2> <p>The SMS protocol provides methods for messaging clients to read the messages from the phone stores. The phone store can be a internal memory or the memory in Subscriber Identity Module (SIM). The SMS protocol checks the phone stores during the initialisation process of the SMS stack. </p>
 </div>
 <div class="section" id="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-6CD8735A-425A-548B-BECC-36D9C6719C8C"><a name="GUID-4ADE94EF-346F-541A-B0FB-AF43ADB1C66D__GUID-6CD8735A-425A-548B-BECC-36D9C6719C8C"><!-- --></a><h2 class="sectiontitle">Read and write SMS parameters</h2> <p>The SMS protocol enables the messaging clients to read and write the SMS parameters such as default coding schemes, service centre address and the validity periods in the messages stored in the phone stores. </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-30C21015-C433-5465-87A7-DA5A9C4AD7BD.html" title="This section lists the concepts and architecture of the SMS Stack.">Concepts</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-3D1E5144-00BC-51AF-8887-4C97167E73FB.html" title="This tutorial describes how to send and receive messages using the SMS stack.">SMS Stack Tutorial</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>