<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="EGL Reference Implementation Component"/>
<meta name="abstract" content="The EGL Reference Implementation component implements the minimum EGL functionality to support OpenWF composition. It does not implement the EGL functionality required to support the use of the Khronos rendering APIs, such as OpenGL ES and OpenVG. Typically device creators replace the reference implementation with a fully functional implementation of their own."/>
<meta name="description" content="The EGL Reference Implementation component implements the minimum EGL functionality to support OpenWF composition. It does not implement the EGL functionality required to support the use of the Khronos rendering APIs, such as OpenGL ES and OpenVG. Typically device creators replace the reference implementation with a fully functional implementation of their own."/>
<meta name="DC.Relation" scheme="URI" content="GUID-8C6D4350-A38D-57A1-8C8D-C777EA7E8A3E.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8C6D4350-A38D-57A1-8C8D-C777EA7E8A3E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-DEA883D0-7C53-407A-AC5D-0A3208E667C7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A5914CFF-6F86-53E8-9928-36D3379835B1.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>EGL Reference Implementation Component</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B"><a name="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2384330 id2386999 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html">Graphics Guide</a> &gt; <a href="GUID-8C6D4350-A38D-57A1-8C8D-C777EA7E8A3E.html" title="The components within the EGL collection provide access to EGL on the Symbian platform. EGL, an open standard developed by the Khronos Group, provides an interface between rendering APIs such as OpenGL ES or OpenVG and an underlying native platform window system.">EGL Collection</a> &gt; </div>
<h1 class="topictitle1">EGL
Reference Implementation Component</h1>
<div><p>The EGL Reference Implementation component implements the minimum
EGL functionality to support OpenWF composition. It does not implement the
EGL functionality required to support the use of the Khronos rendering APIs,
such as OpenGL ES and OpenVG. Typically device creators replace the reference
implementation with a fully functional implementation of their own. </p>

<p><strong>Target audience</strong>: Device creators. </p>

<div class="section" id="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-3400F826-F4A6-4BCA-BF98-9CD941532B8A"><a name="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-3400F826-F4A6-4BCA-BF98-9CD941532B8A"><!-- --></a><h2 class="sectiontitle">Implemented
APIs</h2><p>The EGL Reference Implementation implements the following EGL
1.4 APIs: </p>
<ul>
<li><samp class="codeph">eglGetError()</samp></li>

<li><samp class="codeph">eglGetDisplay()</samp></li>

<li><samp class="codeph">eglInitialize()</samp></li>

<li><samp class="codeph">eglTerminate()</samp></li>

<li><samp class="codeph">eglReleaseThread()</samp></li>

<li><samp class="codeph">eglQueryString()</samp></li>

<li><samp class="codeph">eglGetProcAddress()</samp></li>

</ul>
<p>The EGL Reference Implementation also implements the following reusable
sync extension functions:</p>
<ul>
<li><samp class="codeph">eglCreateSyncKHR()</samp></li>

<li><samp class="codeph">eglDestroySyncKHR()</samp></li>

<li><samp class="codeph">eglClientWaitSyncKHR()</samp></li>

<li><samp class="codeph">eglSignalSyncKHR()</samp></li>

<li><samp class="codeph">eglGetSyncAttribKHR()</samp></li>

</ul>
<p>The Reference Implementation implements <samp class="codeph">eglGetProcAddress()</samp> ,
which supports retrieving OpenWF-C extension functions. </p>
<p>Calling any
of the unsupported APIs panics the client with the <samp class="codeph">EEglPanicNotSupported</samp> panic
code and the return value and EGL error code are undefined. This behavior
deliberately does not conform to the EGL specification. It is intended to
make it easy to detect errors in the platform configuration—for example, where
the intention was to use a fully-functional EGL implementation instead of
the Reference Implementation.</p>
</div>

<div class="section" id="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-264ED891-CB0A-4D6D-8640-8A11A9BD79A5"><a name="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-264ED891-CB0A-4D6D-8640-8A11A9BD79A5"><!-- --></a><h2 class="sectiontitle">Implementation-specific
information</h2><p>The Reference Implementation returns the following implementation-specific
strings: </p>

<div class="tablenoborder"><a name="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-EAEA383C-E4ED-4C11-A957-6EFFEECDE6BD"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-EAEA383C-E4ED-4C11-A957-6EFFEECDE6BD" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" id="d2270916e104">String</th>

<th class="cellrowborder" valign="top" id="d2270916e107">Value</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" headers="d2270916e104 ">EGL_CLIENT_APIS</td>

<td class="cellrowborder" valign="top" headers="d2270916e107 ">“”</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d2270916e104 ">EGL_EXTENSIONS</td>

<td class="cellrowborder" valign="top" headers="d2270916e107 ">“EGL_KHR_reusable_sync”</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d2270916e104 ">EGL_VENDOR</td>

<td class="cellrowborder" valign="top" headers="d2270916e107 ">“Nokia”</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d2270916e104 ">EGL_VERSION</td>

<td class="cellrowborder" valign="top" headers="d2270916e107 ">“1.4 Reference EGL”</td>

</tr>

</tbody>

</table>
</div>
</div>

<div class="section" id="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-CD9221D3-55FC-479B-A3DE-B28BBF32DAC0"><a name="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-CD9221D3-55FC-479B-A3DE-B28BBF32DAC0"><!-- --></a><h2 class="sectiontitle">Private
signaling function</h2><p>Both applications and middleware APIs, such as
OpenWF-C may need to signal on the EGL sync object. However, once the middleware
API calls the standard <samp class="codeph">eglSignalSyncKHR()</samp> signaling function
and obtains the error code using <samp class="codeph">eglGetError()</samp>, the error
code is not available to the application. </p>
<p>The EGL reference implementation
therefore has the following private signaling function, which returns the
error code instead of generating an EGL error. This enables the OpenWF implementation
to signal the sync object and get the error code without setting
the EGL error. This means that from the application level, the normal EGL
error behavior is maintained.</p>
<pre class="codeblock">EGLint egl_Private_SignalSyncNOK(
              EGLDisplay dpy,
              EGLSyncKHR sync,
              EGLenum mode)</pre>
<p>The extension name of this private
signal function is <samp class="codeph">EGL_NOK__private__signal_sync</samp>, which can
be obtained using <samp class="codeph">eglQueryString()</samp>. </p>
<p>When the same
vendor implements both EGL and OpenWF-C, the vendor might implement a different
solution.</p>
 </div>

<div class="section" id="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-8ED3006D-56A3-4512-A1A8-0E88149C236B"><a name="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-8ED3006D-56A3-4512-A1A8-0E88149C236B"><!-- --></a><h2 class="sectiontitle">Thread handling</h2><p>The
Reference Implementation allows the supported EGL APIs to be used from multiple
threads within the same process. The Reference Implementation maintains the
process and thread state in order to conform to the correct behavior described
in the EGL specification. Access to process-wide objects is serialized and
protected by mutex to prevent race conditions.</p>
<p>The Reference Implementation
uses its own heap to allow the creation, access and destruction of process-wide
objects from any thread. This includes the <samp class="codeph">EGLDisplay</samp> and <samp class="codeph">EGLSync</samp> objects.
 The heap is created in a local chunk.</p>
<p>For simplicity, the Reference
Implementation supports only one display: <samp class="codeph">EGL_DEFAULT_DISPLAY</samp>.
 A request to obtain any other <samp class="codeph">EGLDisplay</samp> returns <samp class="codeph">EGL_NO_DISPLAY</samp>. <samp class="codeph">EGLDisplay</samp> is
a process-wide resource that can be accessed from any thread. Its behavior
follows the EGL specification for <samp class="codeph">eglGetDisplay()</samp>, <samp class="codeph">eglInitialize()</samp> and <samp class="codeph">eglTerminate()</samp>.</p>
<p>Each
client thread can have its own EGL error. Error handling and thread state
management follows the EGL specification for <samp class="codeph">eglGetError()</samp> and <samp class="codeph">eglReleaseThread()</samp>.</p>
</div>

<div class="section" id="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-8B9FB71D-8DC8-4944-9DA8-AEC821C1041D"><a name="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-8B9FB71D-8DC8-4944-9DA8-AEC821C1041D"><!-- --></a><h2 class="sectiontitle">DLL summary</h2>
<div class="tablenoborder"><a name="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-80E05C78-5FD4-5489-A1DA-A759EB7F9530"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-80E05C78-5FD4-5489-A1DA-A759EB7F9530" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" id="d2270916e240">DLL</th>

<th class="cellrowborder" valign="top" id="d2270916e243">Description</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" headers="d2270916e240 "><span class="filepath">libegl_ref.dll</span> </td>

<td class="cellrowborder" valign="top" headers="d2270916e243 ">The EGL reference implementation. </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d2270916e240 "><span class="filepath">libEGL.dll</span></td>

<td class="cellrowborder" valign="top" headers="d2270916e243 ">In the emulator, this provides a mechanism that switches among different
EGL implementation DLLs used in different scenarios, including the Reference
Implementation mentioned above. For ARM builds, the file above is renamed
to this during the ROM build process. This is controlled by IBY files.</td>

</tr>

</tbody>

</table>
</div>
<p>To allow different EGL implementations to be used on a platform,
the Reference Implementation is built with a target name of <span class="filepath">libegl_ref.dll</span>.
However, EGL Clients should link their code against <span class="filepath">libEGL.lib</span>.</p>
</div>

<div class="section" id="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-0685C8AA-5F35-49B7-BF02-C147BCDCCE89"><a name="GUID-FFA5956E-0632-42F5-A2F9-0503888EF72B__GUID-0685C8AA-5F35-49B7-BF02-C147BCDCCE89"><!-- --></a><h2 class="sectiontitle">Enabling the
EGL Reference Implementation</h2><p><strong>Emulator</strong></p>
<p>To enable the
ScreenPlay OpenWF-C components and the EGL Reference Implementation in the
emulator, add the following lines to the <span class="filepath">\epoc32\data\epoc.ini</span> file:</p>
<pre class="codeblock">SYMBIAN_GRAPHICS_USE_OPENWF
SYMBIAN_GRAPHICS_USE_EGL_REF</pre>
<p><strong>PlatSim
and Hardware</strong></p>
<p>To build the EGL
Reference Implementation component in the ROM image for PlatSim or other hardware
platforms, use the following arguments to the <samp class="codeph">buildrom</samp> command:</p>
<pre class="codeblock">buildrom -DSYMBIAN_GRAPHICS_USE_OPENWF -DSYMBIAN_GRAPHICS_USE_EGL_REF ...</pre>
<p>Existing ROM build tools have a mechanism
to select a specific EGL implementation in a ROM image and rename it to <span class="filepath">libEGL.dll</span>.
The generic <span class="filepath">egl.iby</span> file which is part of EGL interface
component uses the <samp class="codeph">EGL_DRV</samp> macro to perform the selection.
 For more information, refer to <a href="GUID-946E64D6-3E5D-5264-AD5D-29D3AD296543.html" title="The Graphics package contains a number of adaptation and customization components. These are called adaptations in this topic. Symbian provides implementations of these components. However, device creators can create their own implementations—for example, to take advantage of the specific hardware that is available in a particular device. This topic describes how to select adaptations for inclusion in a ROM.">Selection
of Adaptations</a>. </p>
</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-8C6D4350-A38D-57A1-8C8D-C777EA7E8A3E.html" title="The components within the EGL collection provide access to EGL on the Symbian platform. EGL, an open standard developed by the Khronos Group, provides an interface between rendering APIs such as OpenGL ES or OpenVG and an underlying native platform window system.">EGL Collection</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-DEA883D0-7C53-407A-AC5D-0A3208E667C7.html" title="This topic describes the EGL reusable sync extension, which introduces sync objects into EGL. Sync objects provide a synchronization mechanism and represent events, whose completion can be tested or waited on.">EGL Reusable Sync Extension</a></div>
<div><a href="GUID-A5914CFF-6F86-53E8-9928-36D3379835B1.html" title="The EGL Interface component defines the interface to EGL on the Symbian platform. The component standardizes the source and binary interfaces by providing header and LIB/DSO files for EGL users as well as DEF files for EGL implementers.">EGL Interface
Overview</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>