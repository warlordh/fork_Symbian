<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Overview"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E339A683-94E2-54E8-BB2B-286B11B0FCE3.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6425B722-4095-56E3-9198-70BA3E06C617.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-057F1F82-56AF-5696-853E-79196A3D567E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E339A683-94E2-54E8-BB2B-286B11B0FCE3.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2397554 id2397680 id2397694 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-6425B722-4095-56E3-9198-70BA3E06C617.html">Multimedia Protocols Guide</a> &gt; <a href="GUID-057F1F82-56AF-5696-853E-79196A3D567E.html">SIP</a> &gt; <a href="GUID-E339A683-94E2-54E8-BB2B-286B11B0FCE3.html">SIP Client API</a> &gt; </div>
<h1 class="topictitle1">Overview</h1>
<div>
<p>The SIP Client API manages the multimedia sessions, subscribes to events,
and sends SIP messages. It also provides access to the basic services of the
SIP stack such as: </p>

<ul>
<li id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-E9BF6031-1DAF-5238-A306-C44F0F91682D"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-E9BF6031-1DAF-5238-A306-C44F0F91682D"><!-- --></a><p>Sending and receiving
of SIP messages </p>
 </li>

<li id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-C6A3FA97-1F09-587E-9504-9685D8306B04"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-C6A3FA97-1F09-587E-9504-9685D8306B04"><!-- --></a><p>Creating registrations </p>
 </li>

<li id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-A02F02C7-A903-53E0-A64E-F0B62C93A90F"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-A02F02C7-A903-53E0-A64E-F0B62C93A90F"><!-- --></a><p>Forming and tearing
down dialogs initiated by INVITE, REFER and SUBSCRIBE requests </p>
 </li>

</ul>

<div class="section" id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-8D3D5FB3-6037-5956-B3F0-DB14BD1BB17B"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-8D3D5FB3-6037-5956-B3F0-DB14BD1BB17B"><!-- --></a><h2 class="sectiontitle">Architectural
relationships</h2> <p>The SIP Client API uses the client-server mechanism
to interact with the SIP stack. This means more than one client can use the
SIP stack at the same time. The calls to the SIP Client API are synchronous.
The SIP Client API implements a set of callback functions to pass the events
back to the application. </p>
 <p><strong>Capability information</strong> </p>
 <p>The
following table describes the capabilities required to use the SIP Client
API and the conditions in which they are required: </p>
 
<div class="tablenoborder"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-B3DCF31A-C6D5-58B9-87FA-B2CD3E0ABA1F"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-B3DCF31A-C6D5-58B9-87FA-B2CD3E0ABA1F" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" id="d1504163e57">Capability </th>

<th class="cellrowborder" valign="top" id="d1504163e60">Reason needed </th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" headers="d1504163e57 "><p>NetworkServices </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1504163e60 "><p>to send or receive SIP messages </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d1504163e57 "><p>WriteDeviceData </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1504163e60 "><p>to create an instance of the <a href="GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html"><span class="apiname">CSIP</span></a> class </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d1504163e57 "><p>NetworkControl </p>
 <p>Location </p>
 <p>ReadDeviceData </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1504163e60 "><p>to use the function <samp class="codeph">CSIPConnection::SetOptL()</samp>  </p>
 </td>

</tr>

</tbody>

</table>
</div>
 <p><strong>Extending the API</strong> </p>
 <p>SIP Client API cannot be extended. </p>
 </div>

<div class="section" id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-E055BF09-9605-57E6-9502-CB3F4CAC29B8"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-E055BF09-9605-57E6-9502-CB3F4CAC29B8"><!-- --></a><h2 class="sectiontitle">SIP Client
API class structure</h2> <ul>
<li id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-3E500E7D-ECB9-50F8-B996-A212EE294E68"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-3E500E7D-ECB9-50F8-B996-A212EE294E68"><!-- --></a><p> <a href="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F.html#GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-581B8017-EAA0-59CB-A9CB-490370E0CEC9"> CSIP, MSIPObserver, CSIPConnection and MSIPConnectionObserver</a>  </p>
 </li>

<li id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-461F8201-ED85-582A-945C-7471F9BF27AA"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-461F8201-ED85-582A-945C-7471F9BF27AA"><!-- --></a><p> <a href="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F.html#GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-0E726099-31C4-5DD4-9AEA-67765589F462">Registration services</a>  </p>
 </li>

<li id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-F69AEAB7-0E13-5673-B696-843957CC4C72"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-F69AEAB7-0E13-5673-B696-843957CC4C72"><!-- --></a><p> <a href="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F.html#GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-80CE8929-9DFD-5DCA-A929-662BD996223B"> SIP dialog associations</a>  </p>
 </li>

<li id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-BFE257A7-EF1A-58BF-A047-00E0B11B1FD3"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-BFE257A7-EF1A-58BF-A047-00E0B11B1FD3"><!-- --></a><p> <a href="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F.html#GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-B0D208E4-D1F9-5C5F-B937-11118E778074">Requests sent to, and received from, the network</a>  </p>
 </li>

<li id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-D0AC4583-B181-501C-A97A-63F094AD4046"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-D0AC4583-B181-501C-A97A-63F094AD4046"><!-- --></a><p> <a href="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F.html#GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-0427709F-CD4B-5363-9377-10402B8A5819">SIP message related classes</a>  </p>
 </li>

<li id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-31ED307B-2285-5DE0-A83B-D0CB7A8C585D"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-31ED307B-2285-5DE0-A83B-D0CB7A8C585D"><!-- --></a><p> <a href="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F.html#GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-4E4FAFCA-0BF6-510C-B8E3-28A83936A154">Automatically refreshing a SIP request</a>  </p>
 </li>

<li id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-B6E46736-A250-5064-B4F8-595A20025478"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-B6E46736-A250-5064-B4F8-595A20025478"><!-- --></a><p> <a href="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F.html#GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-B71BC486-18C2-5E71-965E-0881FBA9CE85">Managing HTTP digest security settings</a>  </p>
 </li>

</ul>
 <p id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-581B8017-EAA0-59CB-A9CB-490370E0CEC9"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-581B8017-EAA0-59CB-A9CB-490370E0CEC9"><!-- --></a><strong> CSIP, MSIPObserver,
CSIPConnection and MSIPConnectionObserver </strong> </p>
 <div class="fignone" id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-0834012C-083F-5FA0-B29D-E3E852165528"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-0834012C-083F-5FA0-B29D-E3E852165528"><!-- --></a>
<img src="GUID-4381EA7F-BE75-5B43-BE97-C97D71D04377_d0e551998_href.png"/>
</div>
 <p>An application creates a single instance of the <a href="GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html"><span class="apiname">CSIP</span></a> class,
and implements the callback functions defined by <a href="GUID-C6FF4A83-0097-3A82-B4ED-802E1FEA05D1.html"><span class="apiname">MSIPObserver</span></a>.
The <samp class="codeph">CSIP</samp> uses the <samp class="codeph">MSIPObserver</samp> functions.
The <a href="GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html"><span class="apiname">CSIP</span></a> class asks the supported security mechanisms and
determines whether a <a href="GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html"><span class="apiname">CSIPConnection</span></a> object exists for a
given IAP. </p>
 <p>The <a href="GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html"><span class="apiname">CSIP</span></a> object creates an instance
of <a href="GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html"><span class="apiname">CSIPConnection</span></a> that allows you to send standalone SIP
requests and ask for the state of the network connection. Responses are received
through the <a href="GUID-B889A3FD-3B14-3785-90AE-3546F0C9A5D4.html"><span class="apiname">MSIPConnectionObserver</span></a> interface that defines
a set of callback functions that an application must implement. </p>
 <p>An
application can have many <a href="GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html"><span class="apiname">CSIPConnection</span></a> objects, but each
of them must have a different IAP. </p>
 <p id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-0E726099-31C4-5DD4-9AEA-67765589F462"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-0E726099-31C4-5DD4-9AEA-67765589F462"><!-- --></a><strong>Registration
services</strong> </p>
 <div class="fignone" id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-63E38B2E-975E-554C-8EDC-65B8BBA86838"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-63E38B2E-975E-554C-8EDC-65B8BBA86838"><!-- --></a>
<img src="GUID-E4543D60-A9D0-5121-9540-993BB15D3275_d0e552055_href.png"/>
</div>
 <p>An existing <a href="GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html"><span class="apiname">CSIPConnection</span></a> is required to create
an instance of <samp class="codeph">CSIPRegistrationBinding</samp>. The <a href="GUID-48AA01D5-CE7B-3C22-B2E0-529261121EC4.html"><span class="apiname">CSIPRegistrationBinding</span></a> class
provides services for registration, updating the registration, and deregistration.
This class also provides instructions to the SIP stack to automatically refresh
the registration, and to query and set the outbound proxy used by the registration. </p>
 <p id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-80CE8929-9DFD-5DCA-A929-662BD996223B"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-80CE8929-9DFD-5DCA-A929-662BD996223B"><!-- --></a><strong> SIP dialog
associations</strong> </p>
 <div class="fignone" id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-4870BE80-44B6-50F0-B77E-73FEAD136304"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-4870BE80-44B6-50F0-B77E-73FEAD136304"><!-- --></a>
<img src="GUID-17D1489B-F7F7-5CA7-9F81-850AA9ACEFEB_d0e552080_href.png"/>
</div>
 <p> <a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html"><span class="apiname">CSIPDialogAssocBase</span></a> is the base class for SIP
dialog associations, such as <a href="GUID-B4A2FBBD-2B5F-3E64-800D-C4E9203679A8.html"><span class="apiname">CSIPInviteDialogAssoc</span></a>, <a href="GUID-9539CAEE-28AE-3134-8415-EEBCBCDA4D18.html"><span class="apiname">CSIPSubscribeDialogAssoc</span></a>, <a href="GUID-2E7EF887-ED59-3E8A-B9A2-686DF879A16C.html"><span class="apiname">CSIPReferDialogAssoc</span></a> and <a href="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html"><span class="apiname">CSIPNotifyDialogAssoc</span></a>. The <a href="GUID-9841AF1A-B8CF-3BA1-8445-93064549AE8C.html"><span class="apiname">CSIPDialogAssocBase</span></a> class
is used to obtain the associated SIP dialog, for the associated <a href="GUID-382BC1BE-3CF3-3E81-B1FF-341EEF2B67EA.html"><span class="apiname">CSIPDialog</span></a> instance,
and for sending a non-target Refresh request within the dialog. </p>
 <p> <strong> Note: </strong> The
SIP Client API creates the <a href="GUID-382BC1BE-3CF3-3E81-B1FF-341EEF2B67EA.html"><span class="apiname">CSIPDialog</span></a> instance, it cannot
be created by the application. </p>
 <p>If any of the <a href="GUID-B4A2FBBD-2B5F-3E64-800D-C4E9203679A8.html"><span class="apiname">CSIPInviteDialogAssoc</span></a>, <a href="GUID-9539CAEE-28AE-3134-8415-EEBCBCDA4D18.html"><span class="apiname">CSIPSubscribeDialogAssoc</span></a>, <a href="GUID-2E7EF887-ED59-3E8A-B9A2-686DF879A16C.html"><span class="apiname">CSIPReferDialogAssoc</span></a> and <a href="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html"><span class="apiname">CSIPNotifyDialogAssoc</span></a> objects
are associated, they are bound to an existing <a href="GUID-382BC1BE-3CF3-3E81-B1FF-341EEF2B67EA.html"><span class="apiname">CSIPDialog</span></a> object,
or they can be used to create a new <samp class="codeph">CSIPDialog</samp> object. </p>
 <p> <strong>Note:</strong>  </p>
 <ul>
<li id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-6A085F6F-C243-53AD-B33C-F37D14DFE0A4"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-6A085F6F-C243-53AD-B33C-F37D14DFE0A4"><!-- --></a><p> <a href="GUID-B4A2FBBD-2B5F-3E64-800D-C4E9203679A8.html"><span class="apiname">CSIPInviteDialogAssoc</span></a> allows
an application to initiate a dialog and to send <samp class="codeph">INVITE</samp>,,<samp class="codeph">PRACK</samp>,,<samp class="codeph">ACK</samp>, <samp class="codeph">UPDATE,</samp> and <samp class="codeph">BYE</samp> requests related to the dialog. </p>
 </li>

<li id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-19C504F0-EAD5-524A-82E9-2D15BFA2A6D2"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-19C504F0-EAD5-524A-82E9-2D15BFA2A6D2"><!-- --></a><p> <a href="GUID-9539CAEE-28AE-3134-8415-EEBCBCDA4D18.html"><span class="apiname">CSIPSubscribeDialogAssoc</span></a> allows
an application to subscribe to different events by sending SUBSCRIBE and UNSUBSCRIBE
requests. It also orders the SIP stack to automatically refresh the SUBSCRIBE
request. </p>
 </li>

<li id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-C47B74D8-2251-5FCC-A356-1364EB61CF05"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-C47B74D8-2251-5FCC-A356-1364EB61CF05"><!-- --></a><p> <a href="GUID-2E7EF887-ED59-3E8A-B9A2-686DF879A16C.html"><span class="apiname">CSIPReferDialogAssoc</span></a> allows
an application to define and send REFER requests. </p>
 </li>

<li id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-18AD2000-2A37-5CD9-8118-8B3322211D28"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-18AD2000-2A37-5CD9-8118-8B3322211D28"><!-- --></a><p> <a href="GUID-72F96612-A95C-3066-BFF0-2E288C945A2A.html"><span class="apiname"> CSIPNotifyDialogAssoc</span></a> allows
an application to define and send NOTIFY requests. </p>
 </li>

</ul>
 <p id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-B0D208E4-D1F9-5C5F-B937-11118E778074"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-B0D208E4-D1F9-5C5F-B937-11118E778074"><!-- --></a><strong>Sent and received
network requests</strong> </p>
 <div class="fignone" id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-2E0C9020-1863-5644-BF7E-62B4DB9104D2"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-2E0C9020-1863-5644-BF7E-62B4DB9104D2"><!-- --></a>
<img src="GUID-F5A82F61-B93A-5652-93A4-B9CE877B4D4A_d0e552217_href.png"/>
</div>
 <p>When a SIP request is sent to the network, the SIP Client API implementation
creates a <a href="GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><span class="apiname">CSIPClientTransaction</span></a> object and returns it to
the application. A <samp class="codeph">CSIPClientTransaction</samp> object represents
the SIP transaction and consists of the SIP request and the SIP response.
After receiving a response, the application gets <a href="GUID-13F32052-70BE-3B4D-9F8B-DF2DABB896B0.html"><span class="apiname">CSIPResponseElements</span></a> from
the <samp class="codeph">CSIPClientTransaction</samp> object. <strong>Note:</strong> Some client
transactions can also be cancelled or refreshed. </p>
 <p>When a SIP request
is received from the network, it is passed to the application as a <a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><span class="apiname">CSIPServerTransaction</span></a> object.
The application gets <a href="GUID-19FB031A-CFA7-3C67-A627-CFF501060AA5.html"><span class="apiname">CSIPRequestElements</span></a> from the <samp class="codeph">CSIPServerTransaction</samp> object.
A <samp class="codeph">CSIPRequestElements</samp> object describes the kind of SIP request
received. After the application determines the type of response to send, it
uses the <a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><span class="apiname">CSIPServerTransaction</span></a> to send the responses. </p>
 <p> <a href="GUID-93256B64-49C9-37F1-9A4E-72C521759749.html"><span class="apiname">CSIPTransactionBase</span></a> is
the base class for <a href="GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><span class="apiname">CSIPClientTransaction</span></a> and <a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><span class="apiname">CSIPServerTransaction</span></a>.
It provides the functions to obtain the current state of the transaction and
the transaction type. Some operations are only allowed when the transaction
is in a certain state. <strong>Note:</strong> The SIP Client API creates instances of <a href="GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><span class="apiname">CSIPClientTransaction</span></a> and <a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><span class="apiname">CSIPServerTransaction</span></a> and they cannot be created by the application. </p>
 <p id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-0427709F-CD4B-5363-9377-10402B8A5819"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-0427709F-CD4B-5363-9377-10402B8A5819"><!-- --></a><strong>SIP
message related classes</strong> </p>
 <div class="fignone" id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-B99CF040-E91F-5281-8AAC-2151049C0EA8"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-B99CF040-E91F-5281-8AAC-2151049C0EA8"><!-- --></a>
<img src="GUID-6290D35A-7A41-5B9E-882A-E14F6D165ED7_d0e552294_href.png"/>
</div>
 <p>When a SIP request is sent to the network, the SIP Client API implementation
creates a <a href="GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><span class="apiname">CSIPClientTransaction</span></a> object and returns it to
the application. A <samp class="codeph">CSIPClientTransaction</samp> object represents
the SIP transaction and consists of the SIP request and the SIP response.
After receiving a response the application gets <a href="GUID-13F32052-70BE-3B4D-9F8B-DF2DABB896B0.html"><span class="apiname">CSIPResponseElements</span></a> from
the <samp class="codeph">CSIPClientTransaction</samp> object. <strong>Note:</strong> Some client
transactions can be cancelled or refreshed. </p>
 <p>When a SIP request is
received from the network, it is passed to the application as a <a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><span class="apiname">CSIPServerTransaction</span></a> object.
The application gets <a href="GUID-19FB031A-CFA7-3C67-A627-CFF501060AA5.html"><span class="apiname">CSIPRequestElements</span></a> from the <samp class="codeph">CSIPServerTransaction</samp> object.
A <samp class="codeph">CSIPRequestElements</samp> object describes the type of SIP request
received. After the application determines the type of response to send, it
uses the <samp class="codeph">CSIPServerTransaction</samp> to send the responses. </p>
 <p> <a href="GUID-93256B64-49C9-37F1-9A4E-72C521759749.html"><span class="apiname">CSIPTransactionBase</span></a> is
the base class for <a href="GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><span class="apiname">CSIPClientTransaction</span></a> and <a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><span class="apiname">CSIPServerTransaction</span></a>.
It provides functions to obtain the current state of the transaction and the
transaction type. Some operations are only allowed when the transaction is
in a certain state. <strong>Note:</strong> The SIP Client API creates instances of <a href="GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><span class="apiname">CSIPClientTransaction</span></a> and <a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><span class="apiname">CSIPServerTransaction</span></a> and they cannot be created by the application. </p>
 <p id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-4E4FAFCA-0BF6-510C-B8E3-28A83936A154"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-4E4FAFCA-0BF6-510C-B8E3-28A83936A154"><!-- --></a><strong> Automatically
refreshing a SIP request</strong> </p>
 <div class="fignone" id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-49ACB697-512C-5FCF-AD48-20D6AAB0FEFC"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-49ACB697-512C-5FCF-AD48-20D6AAB0FEFC"><!-- --></a>
<img src="GUID-6B9E5B8D-E2F7-5972-ABFB-49F7F466EBBD_d0e552370_href.png"/>
</div>
 <p>The SIP stack automatically refreshes a SIP request using the <a href="GUID-3C166C85-6E17-323B-9CD3-B3E2836DC1C3.html"><span class="apiname">CSIPRefresh</span></a> object. <samp class="codeph">REGISTER</samp>, <samp class="codeph">SUBSCRIBE</samp> and a request outside the dialog are refreshed. After
sending a refresh request, the application queries the state of the refresh
from <samp class="codeph">CSIPRefresh</samp>. </p>
 <p> <samp class="codeph">CSIPRefresh</samp> provides
functions for updating and terminating the refresh, for requests outside the
dialog. The <a href="GUID-48AA01D5-CE7B-3C22-B2E0-529261121EC4.html"><span class="apiname">CSIPRegistrationBinding</span></a> and <a href="GUID-9539CAEE-28AE-3134-8415-EEBCBCDA4D18.html"><span class="apiname">CSIPSubscribeDialogAssoc</span></a> classes
are used to update and terminate a refreshed <samp class="codeph">REGISTER</samp> or <samp class="codeph">SUBSCRIBE</samp>. </p>
 <p id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-B71BC486-18C2-5E71-965E-0881FBA9CE85"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-B71BC486-18C2-5E71-965E-0881FBA9CE85"><!-- --></a><strong> Managing HTTP digest security
settings </strong> </p>
 <div class="fignone" id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-7C296C1B-67E3-569F-A5E9-92A4F7922088"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-7C296C1B-67E3-569F-A5E9-92A4F7922088"><!-- --></a>
<img src="GUID-1704898B-7836-53C2-8743-F733836EDE7B_d0e552416_href.png"/>
</div>
 <p>An application must create an instance of the <a href="GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html"><span class="apiname">CSIP</span></a> class
to use <samp class="codeph">CSIPHttpDigest</samp>. The <a href="GUID-F9FBAFBE-A895-3FD3-A526-604A6C9E035D.html"><span class="apiname">CSIPHttpDigest</span></a> class
manages HTTP digest security settings and contains only static functions. </p>
 </div>

<div class="section" id="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-4195FAF9-D0D7-5046-BD62-9A314791BEFE"><a name="GUID-A29FD82C-B3CC-5862-8DAB-1398A61D8B1F__GUID-4195FAF9-D0D7-5046-BD62-9A314791BEFE"><!-- --></a><h2 class="sectiontitle">Memory used</h2> <p>After
the <a href="GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html"><span class="apiname">CSIP</span></a> and <a href="GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html"><span class="apiname">CSIPConnection</span></a> objects
are created, most of the memory consumed is by <a href="GUID-77CFD812-7238-3B84-80FF-475BD73C3506.html"><span class="apiname">CSIPMessageElements</span></a>, <a href="GUID-19FB031A-CFA7-3C67-A627-CFF501060AA5.html"><span class="apiname">CSIPRequestElements</span></a> and <a href="GUID-13F32052-70BE-3B4D-9F8B-DF2DABB896B0.html"><span class="apiname">CSIPResponseElements</span></a> classes. <a href="GUID-93256B64-49C9-37F1-9A4E-72C521759749.html"><span class="apiname">CSIPTransactionBase</span></a> holds the most recent SIP
response in a <a href="GUID-13F32052-70BE-3B4D-9F8B-DF2DABB896B0.html"><span class="apiname">CSIPResponseElements</span></a> object. When another
response is received, the previous <a href="GUID-13F32052-70BE-3B4D-9F8B-DF2DABB896B0.html"><span class="apiname">CSIPResponseElements</span></a> object
is deleted and a new one is created. </p>
 <p> <a href="GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><span class="apiname">CSIPClientTransaction</span></a> contains
a <a href="GUID-19FB031A-CFA7-3C67-A627-CFF501060AA5.html"><span class="apiname">CSIPRequestElements</span></a> object until the SIP request is transferred
to the server side of the SIP stack. <a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><span class="apiname">CSIPServerTransaction</span></a> contains
the SIP request as <a href="GUID-19FB031A-CFA7-3C67-A627-CFF501060AA5.html"><span class="apiname">CSIPRequestElements</span></a>. The application
owns the <a href="GUID-059F9C3A-EA04-3295-912F-50444F073CE7.html"><span class="apiname">CSIPClientTransaction</span></a> and <a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><span class="apiname">CSIPServerTransaction</span></a> objects.
When the transaction terminates, the application deletes these objects to
conserve memory. </p>
 <p>A non-<samp class="codeph">INVITE</samp>  <samp class="codeph">CSIPClientTransaction</samp> is
deleted when it has received a final response or when the <samp class="codeph">ErrorOccured()</samp> callback
is called. A non-<samp class="codeph">INVITE</samp> <samp class="codeph">CSIPServerTransaction</samp> is
deleted after the application sends a final response. </p>
 <p>The <samp class="codeph">INVITE</samp> related
transactions are deleted if the <samp class="codeph">ErrorOccured()</samp> callback function
is called. These transactions behave differently because of the presence of
an <samp class="codeph">ACK</samp>. </p>
 <p>When the application sends a 2xx response
to an <samp class="codeph">INVITE</samp> related <a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><span class="apiname">CSIPServerTransaction</span></a>,
it enters the <a href="GUID-93256B64-49C9-37F1-9A4E-72C521759749.html#GUID-93256B64-49C9-37F1-9A4E-72C521759749__GUID-DF7E4DCE-1F6D-3F2A-A638-5516A733AA9D"><span class="apiname">CSIPTransactionBase::ETerminated</span></a> state and
it is deleted at this point. A new <a href="GUID-7E54C95E-5155-30B1-8169-A59778774403.html"><span class="apiname">CSIPServerTransaction</span></a> object
receives the ACK. </p>
 <p>When the application sends an <samp class="codeph">INVITE</samp> request
and the <samp class="codeph">CSIPClientTransaction</samp> receives a 2xx response, the
transaction enters the <samp class="codeph">CSIPTransactionBase::ETerminated</samp> state.
The associated <samp class="codeph">CSIPClientTransaction</samp> must not be deleted
as it is required to send the <samp class="codeph">ACK</samp> and also to receive the <a href="GUID-B889A3FD-3B14-3785-90AE-3546F0C9A5D4.html#GUID-B889A3FD-3B14-3785-90AE-3546F0C9A5D4__GUID-2E76BDA0-CE87-3538-A791-963A90230FD4"><span class="apiname">MSIPConnectionObserver::InviteCompleted()</span></a> callback.
An <samp class="codeph">INVITE</samp> related <samp class="codeph">CSIPClientTransaction</samp> must
be deleted only after a <samp class="codeph">MSIPConnectionObserver::InviteCompleted</samp> or <a href="GUID-D14D6845-1C5E-3C15-8310-574A2A8C6C95.html#GUID-D14D6845-1C5E-3C15-8310-574A2A8C6C95__GUID-DED382FB-A6D5-37D7-B8E4-05262F690068"><span class="apiname">MSIPConnectionObserver
::ErrorOccured</span></a> event is received, or if the state of the associated <a href="GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html"><span class="apiname">CSIPConnection</span></a> goes
to <a href="GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html#GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94__GUID-68DD22DC-67E4-387B-BBE9-B9B96D9C9016"><span class="apiname">CSIPConnection::EInactive</span></a> or <a href="GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html#GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94__GUID-5963A947-BD5C-3B34-9D10-2CB5DC413774"><span class="apiname">CSIPConnection::EUnavailable</span></a>. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-E339A683-94E2-54E8-BB2B-286B11B0FCE3.html">SIP Client API</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>