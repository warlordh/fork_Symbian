<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Control Plane Cell Position Attempt Fallback to SUPL"/>
<meta name="abstract" content="Using the network to provide a SUPL cell-based position should a request based on the Control Plane fail."/>
<meta name="description" content="Using the network to provide a SUPL cell-based position should a request based on the Control Plane fail."/>
<meta name="DC.Relation" scheme="URI" content="GUID-816334A7-488B-5F91-8C2E-47076D875013.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-01C03839-C88B-5FC3-9E0E-686415888B63.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-816334A7-488B-5F91-8C2E-47076D875013.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-547161C2-BE55-4248-92EE-63612D64F480.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3E7FBDE5-B580-4C2D-9815-83E04B7D71E1.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Control Plane Cell Position Attempt Fallback to SUPL</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB"><a name="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2402590 id2403195 id2403262 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html">Location Based Services (LBS) Guide</a> &gt; <a href="GUID-01C03839-C88B-5FC3-9E0E-686415888B63.html" title="The Network Adaptation collection contains Protocol Module ECOM plug-ins that can be used by the Network Gateway to support location and privacy requests.">Network Adaptation</a> &gt; <a href="GUID-816334A7-488B-5F91-8C2E-47076D875013.html" title="The LBS subsystem contains a reference Network Protocol Module that supports the Open Mobile Alliance (OMA) SUPL V1.0 standard. This section contains documentation that describes the Symbian platform reference SUPL Protocol Module, its supporting components and APIs, its runtime behaviour and details about how it is configured by device creators.">SUPL Protocol Module</a> &gt; </div>
<h1 class="topictitle1">Control
Plane Cell Position Attempt Fallback to SUPL</h1>
<div><p>Using the network to provide a SUPL cell-based position should
a request based on the Control Plane fail.</p>

<div class="section" id="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-DAFB4B97-5906-4473-8D41-B2463AB5DCD5"><a name="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-DAFB4B97-5906-4473-8D41-B2463AB5DCD5"><!-- --></a>   
   <p>An application is able to receive a SUPL (Secure User Plane Location)
cell-based position when a previous request using the Control Plane is unsuccessful.
The client application is configured to use the Network Proxy PSY. However,
when a request is made the network is unable to produce the position. Instead
of the attempt failing completely the Location subsystem produces a fallback
cell-based position.</p>
 <p>The process is described in the steps below.</p>
 
   </div>

<a name="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-4DD07DEC-6017-4237-BE46-1D69E5FBD744-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2"><!-- --></a><ol id="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-4DD07DEC-6017-4237-BE46-1D69E5FBD744-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2"><li id="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-AEDA448D-E436-4B3F-BEF1-BAC739E389AC"><a name="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-AEDA448D-E436-4B3F-BEF1-BAC739E389AC"><!-- --></a><span>The client must
open a connection to the server by calling <a href="GUID-0ADC4654-7F7B-3B53-A2F9-7035670F501B.html#GUID-0ADC4654-7F7B-3B53-A2F9-7035670F501B__GUID-23285930-A1D5-3A97-AED4-E979BFA96FDD"><span class="apiname">RPositionServer::Connect()</span></a>.</span>
</li>
<li id="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-7E093F3A-3F22-4D9C-9218-1643900D99A5"><a name="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-7E093F3A-3F22-4D9C-9218-1643900D99A5"><!-- --></a><span>The client must
then open RPositioner by calling <a href="GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575.html#GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575__GUID-AF3D9B5F-8025-3AFF-A101-82025520EBD6"><span class="apiname">RPositioner::Open()</span></a> and
specify the UID of the Network Proxy PSY.</span>
</li>
<li id="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-9A69E5AD-E938-4092-A8C2-CB65C37C8962-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2-3"><a name="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-9A69E5AD-E938-4092-A8C2-CB65C37C8962-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2-3"><!-- --></a><span>The client application
sends a location request to the Location subsystem by calling <a href="GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575.html#GUID-1EAEB7EF-0AC7-37C7-B35F-C9B780FFC575__GUID-321F6046-3551-3ACE-B0A3-26D51FAEB477"><span class="apiname">RPositioner::NotifyPositionUpdate()</span></a>.</span>
</li>
<li id="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-FD076E9C-8A18-4692-920E-D3CAFD64A262-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2-4"><a name="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-FD076E9C-8A18-4692-920E-D3CAFD64A262-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2-4"><!-- --></a><span>The Location subsystem
forwards the location request to the Control Plane Protocol module by calling <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5__GUID-E52AC2F2-6E42-370B-93EB-48389E062E33"><span class="apiname">CLbsNetworkProtocolBase::RequestNetworkLocation()</span></a> (if Control Plane is the default in the default configuration).</span>
</li>
<li id="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-C91844EA-4E31-4EAD-981F-6C83EBDD3D67-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2-5"><a name="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-C91844EA-4E31-4EAD-981F-6C83EBDD3D67-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2-5"><!-- --></a><span>The Control Plane
protocol module communicates with the cellular network but the network is
unable to provide a cell-based location. </span>
</li>
<li id="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-C38775F8-AF05-48A0-99A5-AA0AD63055AB-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2-6"><a name="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-C38775F8-AF05-48A0-99A5-AA0AD63055AB-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2-6"><!-- --></a><span>The Control Protocol
Module completes the session by calling <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4__GUID-ACBFB09B-D4D1-36A0-A9D6-FD3207E93E30"><span class="apiname">MLbsNetworkProtocolObserver::ProcessSessionComplete()</span></a>.</span>
</li>
<li id="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-FD076E9C-8A18-4692-920E-D3CAFD64A262-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2-7"><a name="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-FD076E9C-8A18-4692-920E-D3CAFD64A262-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2-7"><!-- --></a><span>The Location subsystem
fallbacks to SUPL positioning and forwards the request to the SUPL Protocol
module by calling <a href="GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5.html#GUID-479C43CF-8787-3596-93ED-F03A8E5CA2F5__GUID-E52AC2F2-6E42-370B-93EB-48389E062E33"><span class="apiname">CLbsNetworkProtocolBase::RequestNetworkLocation()</span></a>.
(In the default configuration SUPL is used for cell-based positioning).</span>
</li>
<li id="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-C91844EA-4E31-4EAD-981F-6C83EBDD3D67-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2-8"><a name="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-C91844EA-4E31-4EAD-981F-6C83EBDD3D67-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2-8"><!-- --></a><span>The SUPL Protocol
module communicates with an external SUPL server and obtains a cell-based
location. </span>
</li>
<li id="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-C38775F8-AF05-48A0-99A5-AA0AD63055AB-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2-9"><a name="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-C38775F8-AF05-48A0-99A5-AA0AD63055AB-GENID-1-12-1-19-1-1-9-1-6-1-11-1-3-2-9"><!-- --></a><span>The SUPL Protocol
Module returns the cell-based position by calling <a href="GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4.html#GUID-A97ABAA7-46B0-3E26-97C6-123C92CCEEE4__GUID-CAB9645E-91AD-326B-8803-45F28505CCCC"><span class="apiname">MLbsNetworkProtocolObserver::ProcessLocationUpdate()</span></a>.</span>
</li>
<li id="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-D17075FA-847E-4489-84CB-7EB94554B051"><a name="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-D17075FA-847E-4489-84CB-7EB94554B051"><!-- --></a><span>The Location subsystem
completes the client request.</span>
</li>
</ol>

<div class="section" id="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-6DBB1D89-E60F-4BE6-8E8E-C6D4808DEEF4"><a name="GUID-299B6CAB-3D4C-4FA5-A00E-244D04F0B6AB__GUID-6DBB1D89-E60F-4BE6-8E8E-C6D4808DEEF4"><!-- --></a>       <p>The application
receives a cell-based position retrieved from the network using SUPL after
the request using the Control Plane fails.</p>
     </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-816334A7-488B-5F91-8C2E-47076D875013.html" title="The LBS subsystem contains a reference Network Protocol Module that supports the Open Mobile Alliance (OMA) SUPL V1.0 standard. This section contains documentation that describes the Symbian platform reference SUPL Protocol Module, its supporting components and APIs, its runtime behaviour and details about how it is configured by device creators.">SUPL Protocol Module</a></div>
</div>
<div class="relinfo reltasks"><strong>Related tasks</strong><br/>
<div><a href="GUID-547161C2-BE55-4248-92EE-63612D64F480.html" title="Using SUPL to request a cell-based position.">SUPL Cell
Based Positioning Request</a></div>
<div><a href="GUID-3E7FBDE5-B580-4C2D-9815-83E04B7D71E1.html" title="How to get an assisted GPS terminal-assisted position when the network positioning preference is SUPL.">Switching
from Cell ID to Terminal-Assisted Positioning</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>