<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CMsvScheduleSend"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-35CAC635-C0CE-328F-B10C-7FEB4503E8DB"/>

<title>CMsvScheduleSend</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-35CAC635-C0CE-328F-B10C-7FEB4503E8DB"><a name="GUID-35CAC635-C0CE-328F-B10C-7FEB4503E8DB"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2366708 id2382304 id2382309 id2382691 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CMsvScheduleSend Class Reference</h1>
	<table class="signature"><tr><td>class CMsvScheduleSend : public CBase</td></tr></table><div class="section"><div>
			<p>Provides a Server MTM's interface to the Task Scheduler for messaging scheduling.</p>

			<p>Server MTM's must provide a derived class that implements <a href="GUID-35CAC635-C0CE-328F-B10C-7FEB4503E8DB.html#GUID-114A1213-7C7A-349D-85E6-61BA56380EE3">GetMessageL()</a> to provide a factory for MTM-specific scheduling CMsvScheduledEntry-based objects.</p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CMsvScheduleSend<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-8D6A152A-7D5A-3394-BFB2-A1DF43791549">~CMsvScheduleSend</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-95828565-7389-381C-BD7E-B7F7B98A2487.html">CMsvSysAgentActions</a> &amp;</td><td><a href="#GUID-FBB234D1-4F28-3B3E-8BB5-2F23AD5B7DCF">AgentActions</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-77E50CE0-83EE-3476-8E15-61DF6CBD39CA">CheckScheduleL</a>(const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-E2E00C40-7BDC-3FAF-B4B5-53DD2E9F66B7">ConnectAndRegisterL</a>(<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp;, const <a href="GUID-3A9254B7-77C2-300A-9128-6A7BD45F8CBA.html">CMsvScheduleSettings</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-42EBEE3C-E862-31A0-B539-A8AADC60D63F">CreateScheduleL</a>(<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp;, const <a href="GUID-3A9254B7-77C2-300A-9128-6A7BD45F8CBA.html">CMsvScheduleSettings</a> &amp;, const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;, const <a href="GUID-69B33BE8-29E9-35A7-8385-E9610B0D25AA.html">TTimeIntervalMinutes</a> &amp;, <a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-686AFAB5-81A4-350D-AFCD-12705926420E">CreateScheduleL</a>(<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp;, const <a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-82EF4D72-71DD-3C64-9F1E-90FCE8BB0BF9.html">TTaskSchedulerCondition</a> &gt; &amp;, const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;, <a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-BE5E7AAA-590C-3BA8-9B39-6E2B10FD40ED">DeleteScheduleL</a>(const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-E2A36B20-67DF-312E-8FC2-E892F8D85844">FindScheduleL</a>(<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp;, const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;, <a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-FC7BC6D6-838D-3D13-B9C7-5D5513E168B1">FindScheduleL</a>(<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp;, const <a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-82EF4D72-71DD-3C64-9F1E-90FCE8BB0BF9.html">TTaskSchedulerCondition</a> &gt; &amp;, const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;, <a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-163000A4-1E50-338E-A01A-931DE9B9ED50">LoadScheduleSettingsL</a>(<a href="GUID-DEA618DF-D462-3B3E-A1E1-F21295AAFE78.html">CRepository</a> &amp;)</td></tr><tr><td align="right" class="code">
					<a href="GUID-E58A2F58-AF45-3D97-ACA6-6548FE507C3D.html">CMsvOffPeakTimes</a> &amp;</td><td><a href="#GUID-6C2D3B2C-C118-3682-876C-1709DE6380FF">OffPeakTimes</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-E6A4D28D-176A-399D-977B-7CA1A207B4EC">ReScheduleL</a>(const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;, const <a href="GUID-05E7AE17-D9B3-3D08-90E7-CC8FF5C21A99.html">TMsvSchedulePackage</a> &amp;, const <a href="GUID-4F039FEB-4821-3871-A5CF-0D453BF91EAD.html">TMsvSendErrorAction</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-87FC3A70-2AC3-3118-8DC4-7A895DFA2A6F">RoundUpToMinute</a>(<a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-BEFD953B-C2C5-313F-86E9-F50EEABEC1C3">ScheduleEntryL</a>(<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp;, const <a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;, const <a href="GUID-05E7AE17-D9B3-3D08-90E7-CC8FF5C21A99.html">TMsvSchedulePackage</a> &amp;, <a href="GUID-ACEB1944-5B06-32AD-9D55-3F02720F261E.html">TTaskInfo</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-B1EB0E28-BCBA-3FA5-8D99-F0D5FBC8314B">ScheduleL</a>(const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;, const <a href="GUID-05E7AE17-D9B3-3D08-90E7-CC8FF5C21A99.html">TMsvSchedulePackage</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-3A9254B7-77C2-300A-9128-6A7BD45F8CBA.html">CMsvScheduleSettings</a> &amp;</td><td><a href="#GUID-44E7DBBC-D56C-3DB6-8FDB-F8E6FFAB47FC">ScheduleSettings</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-BF841328-372B-3F68-8BC9-5CB8639650D0.html">CMsvSendErrorActions</a> &amp;</td><td><a href="#GUID-D893BDF8-D4A0-329E-8B65-4BAC958C44E8">SendErrorActions</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-19C68A41-1847-3646-B58A-9465F51545B5">SendingCompleteL</a>(<a href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html">TMsvEntry</a> &amp;, const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-D5AEE3AC-1C7B-346B-9433-447693F9725B">SendingCompleteL</a>(const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-1861711D-0586-339C-85F2-1F7F9FC5FAD1">UpdateEntryAfterSchedule</a>(const <a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;, const <a href="GUID-ACEB1944-5B06-32AD-9D55-3F02720F261E.html">TTaskInfo</a> &amp;, const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html">TMsvEntry</a> &amp;, <a href="GUID-CCE9B22A-F415-30DE-8656-4CFCB47DCE19.html">TMsvEntryScheduleData</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-C1F69FD5-888F-306B-8F4B-55417B6C88AA">CMsvScheduleSend</a>(<a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-B1EBBE3D-DD07-37E4-9CBB-33E7C8CC8BF9">ConstructL</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> *</td><td><a href="#GUID-114A1213-7C7A-349D-85E6-61BA56380EE3">GetMessageL</a>(const <a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-ADA2E16F-FB33-3E36-9F23-AD998950F02E">ConnectAndRegisterL</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-6498B3F7-37FB-3336-B55E-33E046CFE458">CreateScheduleL</a>(const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;, const <a href="GUID-69B33BE8-29E9-35A7-8385-E9610B0D25AA.html">TTimeIntervalMinutes</a> &amp;, const <a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-82EF4D72-71DD-3C64-9F1E-90FCE8BB0BF9.html">TTaskSchedulerCondition</a> &gt; &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, <a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-C32B1F70-F816-306B-B16D-61847BD00EE0">DeleteScheduleForEntryL</a>(<a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-162D4274-FC1A-3DA4-9F73-900F79A3E304">DoReScheduleL</a>(<a href="GUID-FCE7D958-96AA-346D-8D22-0EF24B9DB7CC.html">CMsvScheduledEntries</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-D6E8BAD5-8354-33E1-B540-A4F5F78B932A">DoScheduleL</a>(<a href="GUID-FCE7D958-96AA-346D-8D22-0EF24B9DB7CC.html">CMsvScheduledEntries</a> &amp;, const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-CDEFA896-0995-3BAA-9D9B-73A077CB4769">FLog</a>(<a href="GUID-5391E485-A019-358F-85D2-3B55BA439BD1.html">TRefByValue</a>&lt; const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &gt;, ...)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-E801BAFF-9447-3E29-B2BA-66076F0B9186">FLog</a>(<a href="GUID-5391E485-A019-358F-85D2-3B55BA439BD1.html">TRefByValue</a>&lt; const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &gt;, ...)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-DC9E7D5C-934F-3B5E-A519-86EDCF520ECA">FindScheduleL</a>(const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;, const <a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-82EF4D72-71DD-3C64-9F1E-90FCE8BB0BF9.html">TTaskSchedulerCondition</a> &gt; &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>, <a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;)</td></tr><tr><td align="right" class="code">
					<a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a>
				</td><td><a href="#GUID-A86A6467-2094-32E8-8C25-9299A1EB408B">GetMessageIdForTaskL</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-D7634E24-6CDF-3643-B869-C0BD67454F59">GetMessagesL</a>(const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;)</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-BCA0E8A4-857A-3FAD-A74F-54977169FB22">GetNextRetry</a>(<a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp;, const <a href="GUID-4F039FEB-4821-3871-A5CF-0D453BF91EAD.html">TMsvSendErrorAction</a> &amp;, <a href="GUID-F19F1E17-7362-3C0A-A339-C9E7D3872C5D.html">TTimeIntervalSeconds</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-AA45624B-8910-3A71-8864-35B5F5560C52">GetOffPeakL</a>(<a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a>, <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;, <a href="GUID-69B33BE8-29E9-35A7-8385-E9610B0D25AA.html">TTimeIntervalMinutes</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-E9085AD7-76EB-3B0C-81F6-CA43B27078A9">PopulateScheduleConditionsL</a>(<a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-82EF4D72-71DD-3C64-9F1E-90FCE8BB0BF9.html">TTaskSchedulerCondition</a> &gt; &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-6497F9AB-5C7F-30BF-B1EE-B8395BD9E7CB">ResetScheduleInfoForEntryL</a>(<a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp;, const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-124E1F66-4809-39D8-98B8-1A541FF95903">ScheduleEntryL</a>(<a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp;, const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;, const <a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-4F09567B-60CC-3B03-93A4-6ECB2C0A85C5">SendingCompleteL</a>(<a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp;, const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-2FFB323E-68F0-32CD-A9B9-AA26526CF876">SetMessageStartTime</a>(<a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp;, const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;, const <a href="GUID-4F039FEB-4821-3871-A5CF-0D453BF91EAD.html">TMsvSendErrorAction</a> *)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-D5031977-F0E0-39A3-98CB-63E69FECC41E">SortByDateAndPendingConditionsL</a>(<a href="GUID-FCE7D958-96AA-346D-8D22-0EF24B9DB7CC.html">CMsvScheduledEntries</a> &amp;)</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-F052282E-6705-329D-BB5C-8E74280A977C">TaskAndMessageMatchL</a>(const <a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-834D1B99-1638-3E04-9116-68A335109D1B">anonymous</a> { <a href="#GUID-6AB24FEE-1A4A-3D50-ABEA-0A5EC488A322">EDefaultTaskPriority</a> = 1, <a href="#GUID-78C523CC-E721-35E7-BF6F-09885CF640D9">EDefaultTaskRepeat</a> = 0 }</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-95828565-7389-381C-BD7E-B7F7B98A2487.html">CMsvSysAgentActions</a> *</td><td><a href="#GUID-98A346A2-510B-35D9-BE7B-6219F105D781">iAgentActions</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-BF841328-372B-3F68-8BC9-5CB8639650D0.html">CMsvSendErrorActions</a> *</td><td><a href="#GUID-B09FD476-9CCC-3656-B44F-A64D238B7EB2">iErrorActions</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-E58A2F58-AF45-3D97-ACA6-6548FE507C3D.html">CMsvOffPeakTimes</a> *</td><td><a href="#GUID-4986D029-42E6-31D1-82B8-77A847FB039C">iOffPeakTimes</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-05E7AE17-D9B3-3D08-90E7-CC8FF5C21A99.html">TMsvSchedulePackage</a>
				</td><td><a href="#GUID-29725ECA-4225-3FE6-B168-30B4DF308FA8">iPackage</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-989F6C53-1F0B-3C3B-9D51-B36EAFB1D66D">iRegistered</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-FCE7D958-96AA-346D-8D22-0EF24B9DB7CC.html">CMsvScheduledEntries</a> *</td><td><a href="#GUID-20A2841A-0D34-3BE4-A0A3-7EAC9B84C263">iSchEntries</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-EA5C4B46-AC42-3D0F-8C48-E182D0D30A12.html">TScheduleEntryInfo2</a> &gt; *</td><td><a href="#GUID-8845525E-15E2-3324-A7F6-8E37FDF3FD73">iSchEntryInfo</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-ACEB1944-5B06-32AD-9D55-3F02720F261E.html">TTaskInfo</a> &gt; *</td><td><a href="#GUID-CF780715-68DB-3FCE-8EC2-56E4B58A33F9">iSchTaskInfo</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a>
				</td><td><a href="#GUID-D0A0E86C-284F-3A48-BD4B-716E403FCB4A">iScheduler</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp;</td><td><a href="#GUID-4FF5F44D-4266-3450-85F8-791DDDD299F2">iServerEntry</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-3A9254B7-77C2-300A-9128-6A7BD45F8CBA.html">CMsvScheduleSettings</a> *</td><td><a href="#GUID-E9B546C6-CCFB-3B83-BF65-6D6412215229">iSettings</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-C1F69FD5-888F-306B-8F4B-55417B6C88AA"><a name="GUID-C1F69FD5-888F-306B-8F4B-55417B6C88AA"><!-- --></a>
		<h2 class="topictitle2">CMsvScheduleSend(CMsvServerEntry &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>CMsvScheduleSend</td><td>(</td><td><a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp;</td><td>aServerEntry</td><td>)</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>Constructor.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp; aServerEntry</td><td>The CMsvServerEntry of the server MTM of which this CMsvScheduleSend object is a member.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-8D6A152A-7D5A-3394-BFB2-A1DF43791549"><a name="GUID-8D6A152A-7D5A-3394-BFB2-A1DF43791549"><!-- --></a>
		<h2 class="topictitle2">~CMsvScheduleSend()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>~CMsvScheduleSend</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Destructor. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-FBB234D1-4F28-3B3E-8BB5-2F23AD5B7DCF"><a name="GUID-FBB234D1-4F28-3B3E-8BB5-2F23AD5B7DCF"><!-- --></a>
		<h2 class="topictitle2">AgentActions()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-95828565-7389-381C-BD7E-B7F7B98A2487.html">CMsvSysAgentActions</a> &amp;</td><td>AgentActions</td><td>(</td><td>)</td><td>const [inline]</td></tr></table><div class="section"><div>
				<p>Gets System Agent conditions that must be satisfied before a sending attempt.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-77E50CE0-83EE-3476-8E15-61DF6CBD39CA"><a name="GUID-77E50CE0-83EE-3476-8E15-61DF6CBD39CA"><!-- --></a>
		<h2 class="topictitle2">CheckScheduleL(const CMsvEntrySelection &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>CheckScheduleL</td><td>(</td><td>const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td>aSelection</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Verifies that the schedule information stored in specified messages is the same as that on the task scheduler.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>ScheduleSend-DLL 0 The array of message IDs is empty. Debug build only. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp; aSelection</td><td>Array of message IDs that need to be checked against the task scheduler. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-E2E00C40-7BDC-3FAF-B4B5-53DD2E9F66B7"><a name="GUID-E2E00C40-7BDC-3FAF-B4B5-53DD2E9F66B7"><!-- --></a>
		<h2 class="topictitle2">ConnectAndRegisterL(RScheduler &amp;, const CMsvScheduleSettings &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ConnectAndRegisterL</td><td>(</td><td><a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp;</td><td>aScheduler,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-3A9254B7-77C2-300A-9128-6A7BD45F8CBA.html">CMsvScheduleSettings</a> &amp;</td><td>aSettings</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Connects to and registers with the task scheduler.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Any error code <a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-F489CF74-C79E-3D8A-8A9B-927145425E5E">RScheduler::Connect()</a> returned an error.</dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Any error code <a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html#GUID-E471CC0E-A2D7-3159-87BB-B2E0D243CEE0">RFs::Connect()</a> returned an error.</dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrPathNotFound The .EXE file to be called by the Task Scheduler when messages are due to be sent cannot be found. The filename is part of the schedule settings.</dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Any error code <a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-168743EF-1663-30A1-AB01-84620B705B1E">RScheduler::Register()</a> returned an error. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp; aScheduler</td><td>Handle to the scheduler to connect to. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-3A9254B7-77C2-300A-9128-6A7BD45F8CBA.html">CMsvScheduleSettings</a> &amp; aSettings</td><td>Schedule settings. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-ADA2E16F-FB33-3E36-9F23-AD998950F02E"><a name="GUID-ADA2E16F-FB33-3E36-9F23-AD998950F02E"><!-- --></a>
		<h2 class="topictitle2">ConnectAndRegisterL()</h2>
		<table class="signature"><tr><td>void</td><td>ConnectAndRegisterL</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-B1EBBE3D-DD07-37E4-9CBB-33E7C8CC8BF9"><a name="GUID-B1EBBE3D-DD07-37E4-9CBB-33E7C8CC8BF9"><!-- --></a>
		<h2 class="topictitle2">ConstructL()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ConstructL</td><td>(</td><td>)</td><td>[protected, virtual]</td></tr></table><div class="section"><div>
				<p>Second phase constructor.</p>

				<p>This constructor creates instances of the following classes: <a href="GUID-3A9254B7-77C2-300A-9128-6A7BD45F8CBA.html#GUID-3A9254B7-77C2-300A-9128-6A7BD45F8CBA">CMsvScheduleSettings</a>, <a href="GUID-E58A2F58-AF45-3D97-ACA6-6548FE507C3D.html#GUID-E58A2F58-AF45-3D97-ACA6-6548FE507C3D">CMsvOffPeakTimes</a>, <a href="GUID-BF841328-372B-3F68-8BC9-5CB8639650D0.html#GUID-BF841328-372B-3F68-8BC9-5CB8639650D0">CMsvSendErrorActions</a>, <a href="GUID-95828565-7389-381C-BD7E-B7F7B98A2487.html#GUID-95828565-7389-381C-BD7E-B7F7B98A2487">CMsvSysAgentActions</a> and CMsvScheduledEntries. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-42EBEE3C-E862-31A0-B539-A8AADC60D63F"><a name="GUID-42EBEE3C-E862-31A0-B539-A8AADC60D63F"><!-- --></a>
		<h2 class="topictitle2">CreateScheduleL(RScheduler &amp;, const CMsvScheduleSettings &amp;, const TTime &amp;, const TTimeIntervalMinutes &amp;, TSchedulerItemRef &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>CreateScheduleL</td><td>(</td><td><a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp;</td><td>aScheduler,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-3A9254B7-77C2-300A-9128-6A7BD45F8CBA.html">CMsvScheduleSettings</a> &amp;</td><td>aSettings,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aStartTime,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-69B33BE8-29E9-35A7-8385-E9610B0D25AA.html">TTimeIntervalMinutes</a> &amp;</td><td>aValidityPeriod,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;</td><td>aRef</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Creates a new schedule on the task scheduler with which each message can be associated.</p>

				<p>The schedule is triggered by a start time being reached.</p>

				<p>
					<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-EF21F0BB-AE4D-3EED-9BCB-05A3514BFAA0">RScheduler::CreatePersistentSchedule</a>
				</p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp; aScheduler</td><td>Handle to scheduler to update. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-3A9254B7-77C2-300A-9128-6A7BD45F8CBA.html">CMsvScheduleSettings</a> &amp; aSettings</td><td>Scheduler settings. </td></tr><tr><td class="parameter">const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aStartTime</td><td>Schedule start time. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-69B33BE8-29E9-35A7-8385-E9610B0D25AA.html">TTimeIntervalMinutes</a> &amp; aValidityPeriod</td><td>Schedule validity period. </td></tr><tr><td class="parameter"><a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp; aRef</td><td>On return, the new schedule.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-686AFAB5-81A4-350D-AFCD-12705926420E"><a name="GUID-686AFAB5-81A4-350D-AFCD-12705926420E"><!-- --></a>
		<h2 class="topictitle2">CreateScheduleL(RScheduler &amp;, const CArrayFixFlat&lt; TTaskSchedulerCondition &gt; &amp;, const TTime &amp;, TSchedulerItemRef &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>CreateScheduleL</td><td>(</td><td><a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp;</td><td>aScheduler,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-82EF4D72-71DD-3C64-9F1E-90FCE8BB0BF9.html">TTaskSchedulerCondition</a> &gt; &amp;</td><td>aConditions,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aTimeout,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;</td><td>aRef</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Creates a new schedule on the task scheduler with which each message can be associated.</p>

				<p>The schedule is triggered by either a set of conditions being met or a timeout being reached.</p>

				<p>
					<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-EF21F0BB-AE4D-3EED-9BCB-05A3514BFAA0">RScheduler::CreatePersistentSchedule</a> TSysAgentCondition</p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp; aScheduler</td><td>Handle to scheduler to update. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-82EF4D72-71DD-3C64-9F1E-90FCE8BB0BF9.html">TTaskSchedulerCondition</a> &gt; &amp; aConditions</td><td>The set of System Agent conditions that are required to be met to trigger the schedule. </td></tr><tr><td class="parameter">const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aTimeout</td><td>The timeout value for the schedule. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp; aRef</td><td>On return, the new schedule.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-6498B3F7-37FB-3336-B55E-33E046CFE458"><a name="GUID-6498B3F7-37FB-3336-B55E-33E046CFE458"><!-- --></a>
		<h2 class="topictitle2">CreateScheduleL(const TTime &amp;, const TTimeIntervalMinutes &amp;, const CArrayFixFlat&lt; TTaskSchedulerCondition &gt; &amp;, TBool, TSchedulerItemRef &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>CreateScheduleL</td><td>(</td><td>const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aStartTime,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-69B33BE8-29E9-35A7-8385-E9610B0D25AA.html">TTimeIntervalMinutes</a> &amp;</td><td>aValidityPeriod,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-82EF4D72-71DD-3C64-9F1E-90FCE8BB0BF9.html">TTaskSchedulerCondition</a> &gt; &amp;</td><td>aSchConditions,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aPendingConditions,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;</td><td>aRef</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aStartTime</td><td> </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-69B33BE8-29E9-35A7-8385-E9610B0D25AA.html">TTimeIntervalMinutes</a> &amp; aValidityPeriod</td><td> </td></tr><tr><td class="parameter">const <a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-82EF4D72-71DD-3C64-9F1E-90FCE8BB0BF9.html">TTaskSchedulerCondition</a> &gt; &amp; aSchConditions</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aPendingConditions</td><td> </td></tr><tr><td class="parameter"><a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp; aRef</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-C32B1F70-F816-306B-B16D-61847BD00EE0"><a name="GUID-C32B1F70-F816-306B-B16D-61847BD00EE0"><!-- --></a>
		<h2 class="topictitle2">DeleteScheduleForEntryL(CMsvScheduledEntry &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>DeleteScheduleForEntryL</td><td>(</td><td><a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp;</td><td>aMessage</td><td>)</td><td>[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp; aMessage</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-BE5E7AAA-590C-3BA8-9B39-6E2B10FD40ED"><a name="GUID-BE5E7AAA-590C-3BA8-9B39-6E2B10FD40ED"><!-- --></a>
		<h2 class="topictitle2">DeleteScheduleL(const CMsvEntrySelection &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>DeleteScheduleL</td><td>(</td><td>const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td>aSelection</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Delete the schedules for the specified messages from the task scheduler.</p>

				<p>The messages themselves are not deleted.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Any error code Unable to connect and register with the scheduler.</dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Any error code but KErrLocked and KErrNotFound The method overloading CMsvScheduledEntry::GetMessageL() left with an error, i.e. the scheduling info of one of the messages from the selection could not be retrieved from the message server.</dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Any error code Unable to reset the previous scheduling info for a message. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp; aSelection</td><td>Array of message IDs that need to be deleted from the task scheduler. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-162D4274-FC1A-3DA4-9F73-900F79A3E304"><a name="GUID-162D4274-FC1A-3DA4-9F73-900F79A3E304"><!-- --></a>
		<h2 class="topictitle2">DoReScheduleL(CMsvScheduledEntries &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>DoReScheduleL</td><td>(</td><td><a href="GUID-FCE7D958-96AA-346D-8D22-0EF24B9DB7CC.html">CMsvScheduledEntries</a> &amp;</td><td>aSchEntries</td><td>)</td><td>[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FCE7D958-96AA-346D-8D22-0EF24B9DB7CC.html">CMsvScheduledEntries</a> &amp; aSchEntries</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D6E8BAD5-8354-33E1-B540-A4F5F78B932A"><a name="GUID-D6E8BAD5-8354-33E1-B540-A4F5F78B932A"><!-- --></a>
		<h2 class="topictitle2">DoScheduleL(CMsvScheduledEntries &amp;, const TInt, const TTime &amp;, TBool)</h2>
		<table class="signature"><tr><td>void</td><td>DoScheduleL</td><td>(</td><td><a href="GUID-FCE7D958-96AA-346D-8D22-0EF24B9DB7CC.html">CMsvScheduledEntries</a> &amp;</td><td>aSchEntries,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aFinalState,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aTime,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aPendingConditions</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>Does the actual scheduling of the supplied messages.</p>

				<p>This function is called by <a href="GUID-35CAC635-C0CE-328F-B10C-7FEB4503E8DB.html#GUID-B1EB0E28-BCBA-3FA5-8D99-F0D5FBC8314B">ScheduleL()</a> and <a href="GUID-35CAC635-C0CE-328F-B10C-7FEB4503E8DB.html#GUID-162D4274-FC1A-3DA4-9F73-900F79A3E304">DoReScheduleL()</a>. The supplied messages are assumed to have the values for the following data - MTM UID, off-peak flag, schedule date and pending conditions flag. In debug mode, if these info is matching in all the messages then a panic will occur.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FCE7D958-96AA-346D-8D22-0EF24B9DB7CC.html">CMsvScheduledEntries</a> &amp; aSchEntries</td><td>An array with the messages to be scheduled. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aFinalState</td><td>The sending state to set to the messages to if the message is successfully scheduled. </td></tr><tr><td class="parameter">const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aTime</td><td>For conditions-scheduled messages this is the timeout, for time-scheduled messages this is the scheduled time. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aPendingConditions</td><td>A flag indicating whether the schedule should be pending conditions.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-CDEFA896-0995-3BAA-9D9B-73A077CB4769"><a name="GUID-CDEFA896-0995-3BAA-9D9B-73A077CB4769"><!-- --></a>
		<h2 class="topictitle2">FLog(TRefByValue&lt; const TDesC &gt;, ...)</h2>
		<table class="signature"><tr><td>void</td><td>FLog</td><td>(</td><td><a href="GUID-5391E485-A019-358F-85D2-3B55BA439BD1.html">TRefByValue</a>&lt; const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &gt;</td><td>aFormat,</td></tr><tr><td colspan="3"> </td><td>...</td><td/></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-5391E485-A019-358F-85D2-3B55BA439BD1.html">TRefByValue</a>&lt; const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &gt; aFormat</td><td> </td></tr><tr class="bg"><td class="parameter">... </td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-E801BAFF-9447-3E29-B2BA-66076F0B9186"><a name="GUID-E801BAFF-9447-3E29-B2BA-66076F0B9186"><!-- --></a>
		<h2 class="topictitle2">FLog(TRefByValue&lt; const TDesC8 &gt;, ...)</h2>
		<table class="signature"><tr><td>void</td><td>FLog</td><td>(</td><td><a href="GUID-5391E485-A019-358F-85D2-3B55BA439BD1.html">TRefByValue</a>&lt; const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &gt;</td><td>aFormat,</td></tr><tr><td colspan="3"> </td><td>...</td><td/></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-5391E485-A019-358F-85D2-3B55BA439BD1.html">TRefByValue</a>&lt; const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &gt; aFormat</td><td> </td></tr><tr class="bg"><td class="parameter">... </td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-E2A36B20-67DF-312E-8FC2-E892F8D85844"><a name="GUID-E2A36B20-67DF-312E-8FC2-E892F8D85844"><!-- --></a>
		<h2 class="topictitle2">FindScheduleL(RScheduler &amp;, const TTime &amp;, TSchedulerItemRef &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>FindScheduleL</td><td>(</td><td><a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp;</td><td>aScheduler,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aStartTime,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;</td><td>aRef</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Searches the scheduler for an existing schedule item with a schedule time that matches with time supplied.</p>

				<div class="p">
					<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-B8DFDF02-38C9-37E4-B731-29BC0A1A05AE">RScheduler::GetScheduleL()</a>
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotFound No schedule found matching the schedule time. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp; aScheduler</td><td>Handle to the scheduler. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aStartTime</td><td>Schedule start time. </td></tr><tr><td class="parameter"><a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp; aRef</td><td>On return, the schedule item. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-FC7BC6D6-838D-3D13-B9C7-5D5513E168B1"><a name="GUID-FC7BC6D6-838D-3D13-B9C7-5D5513E168B1"><!-- --></a>
		<h2 class="topictitle2">FindScheduleL(RScheduler &amp;, const CArrayFixFlat&lt; TTaskSchedulerCondition &gt; &amp;, const TTime &amp;, TSchedulerItemRef &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>FindScheduleL</td><td>(</td><td><a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp;</td><td>aScheduler,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-82EF4D72-71DD-3C64-9F1E-90FCE8BB0BF9.html">TTaskSchedulerCondition</a> &gt; &amp;</td><td>aConditions,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aTimeout,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;</td><td>aRef</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Searches the scheduler for an existing conditions schedule item with a set of pending conditions and timeout value that matches with those supplied.</p>

				<div class="p">
					<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-B8DFDF02-38C9-37E4-B731-29BC0A1A05AE">RScheduler::GetScheduleL</a>
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotFound No schedule found matching the schedule conditions and timeout. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp; aScheduler</td><td>Handle to the scheduler. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-82EF4D72-71DD-3C64-9F1E-90FCE8BB0BF9.html">TTaskSchedulerCondition</a> &gt; &amp; aConditions</td><td>The set of System Agent conditions that are required to be met to trigger the schedule. </td></tr><tr><td class="parameter">const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aTimeout</td><td>The timeout value for the schedule. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp; aRef</td><td>On return, the schedule item. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-DC9E7D5C-934F-3B5E-A519-86EDCF520ECA"><a name="GUID-DC9E7D5C-934F-3B5E-A519-86EDCF520ECA"><!-- --></a>
		<h2 class="topictitle2">FindScheduleL(const TTime &amp;, const CArrayFixFlat&lt; TTaskSchedulerCondition &gt; &amp;, TBool, TSchedulerItemRef &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>FindScheduleL</td><td>(</td><td>const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aTime,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-82EF4D72-71DD-3C64-9F1E-90FCE8BB0BF9.html">TTaskSchedulerCondition</a> &gt; &amp;</td><td>aSchConditions,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aPendingConditions,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;</td><td>aRef</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aTime</td><td> </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-82EF4D72-71DD-3C64-9F1E-90FCE8BB0BF9.html">TTaskSchedulerCondition</a> &gt; &amp; aSchConditions</td><td> </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aPendingConditions</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp; aRef</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-A86A6467-2094-32E8-8C25-9299A1EB408B"><a name="GUID-A86A6467-2094-32E8-8C25-9299A1EB408B"><!-- --></a>
		<h2 class="topictitle2">GetMessageIdForTaskL(TInt)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a>
				</td><td>GetMessageIdForTaskL</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aTaskId</td><td>)</td><td>[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aTaskId</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-114A1213-7C7A-349D-85E6-61BA56380EE3"><a name="GUID-114A1213-7C7A-349D-85E6-61BA56380EE3"><!-- --></a>
		<h2 class="topictitle2">GetMessageL(const TMsvId)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> *</td><td>GetMessageL</td><td>(</td><td>const <a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a></td><td>aId</td><td>)</td><td>const [protected, pure virtual]</td></tr></table><div class="section"><div>
				<p>Gets the schedule data and recipients of a message.</p>

				<p>Recipient information is MTM-specific, so the server MTM must provide a derived class that implements <a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html#GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55">CMsvScheduledEntry</a>, and return objects of that type from this function.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-2E2E6172-7E37-3AC1-BC2F-7B482E06BC74.html">TMsvId</a> aId</td><td>The message ID. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D7634E24-6CDF-3643-B869-C0BD67454F59"><a name="GUID-D7634E24-6CDF-3643-B869-C0BD67454F59"><!-- --></a>
		<h2 class="topictitle2">GetMessagesL(const CMsvEntrySelection &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>GetMessagesL</td><td>(</td><td>const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td>aSelection</td><td>)</td><td>[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp; aSelection</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-BCA0E8A4-857A-3FAD-A74F-54977169FB22"><a name="GUID-BCA0E8A4-857A-3FAD-A74F-54977169FB22"><!-- --></a>
		<h2 class="topictitle2">GetNextRetry(CMsvScheduledEntry &amp;, const TMsvSendErrorAction &amp;, TTimeIntervalSeconds &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>GetNextRetry</td><td>(</td><td><a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp;</td><td>aMessage,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-4F039FEB-4821-3871-A5CF-0D453BF91EAD.html">TMsvSendErrorAction</a> &amp;</td><td>aErrorAction,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-F19F1E17-7362-3C0A-A339-C9E7D3872C5D.html">TTimeIntervalSeconds</a> &amp;</td><td>aInterval</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const [private]</td></tr></table><div class="section"><div>
				<p>Determines whether the message should be sent and if so the time interval (in seconds) that must elapse before aMessage should be sent.</p>

				<p>The time interval is determined by the error action supplied. In the case of an error action of ESendActionRetryConditionMet, the time interval indicates how long the message can be pending conditions to be met before the message is failed.</p>

				<p>The actual time period is defined in the iSettings object. This will be either iPendingConditionsTimeout, iShortInterval, iLongInterval or an element of iVariableIntervals.</p>

				<p>If the message should be sent then a value of ETrue is returned. A value of EFalse is returned if the message should not be sent. In this case the output argument aInterval is not valid.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp; aMessage</td><td>The message to be re-scheduled. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-4F039FEB-4821-3871-A5CF-0D453BF91EAD.html">TMsvSendErrorAction</a> &amp; aErrorAction</td><td>The error action that determines the re-schedule behaviour. </td></tr><tr><td class="parameter"><a href="GUID-F19F1E17-7362-3C0A-A339-C9E7D3872C5D.html">TTimeIntervalSeconds</a> &amp; aInterval</td><td>An output argument that holds the time interval to when the message should be re-sent or when the message should be failed. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-AA45624B-8910-3A71-8864-35B5F5560C52"><a name="GUID-AA45624B-8910-3A71-8864-35B5F5560C52"><!-- --></a>
		<h2 class="topictitle2">GetOffPeakL(TTime, TTime &amp;, TTimeIntervalMinutes &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>GetOffPeakL</td><td>(</td><td><a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a></td><td>aFromTime,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aStartTime,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-69B33BE8-29E9-35A7-8385-E9610B0D25AA.html">TTimeIntervalMinutes</a> &amp;</td><td>aValidityPeriod</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const [private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> aFromTime</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aStartTime</td><td> </td></tr><tr><td class="parameter"><a href="GUID-69B33BE8-29E9-35A7-8385-E9610B0D25AA.html">TTimeIntervalMinutes</a> &amp; aValidityPeriod</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-163000A4-1E50-338E-A01A-931DE9B9ED50"><a name="GUID-163000A4-1E50-338E-A01A-931DE9B9ED50"><!-- --></a>
		<h2 class="topictitle2">LoadScheduleSettingsL(CRepository &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>LoadScheduleSettingsL</td><td>(</td><td><a href="GUID-DEA618DF-D462-3B3E-A1E1-F21295AAFE78.html">CRepository</a> &amp;</td><td>aRepository</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Loads schedule settings from CenRep</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-DEA618DF-D462-3B3E-A1E1-F21295AAFE78.html">CRepository</a> &amp; aRepository</td><td>CenRep repository to load settings from  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-6C2D3B2C-C118-3682-876C-1709DE6380FF"><a name="GUID-6C2D3B2C-C118-3682-876C-1709DE6380FF"><!-- --></a>
		<h2 class="topictitle2">OffPeakTimes()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-E58A2F58-AF45-3D97-ACA6-6548FE507C3D.html">CMsvOffPeakTimes</a> &amp;</td><td>OffPeakTimes</td><td>(</td><td>)</td><td>const [inline]</td></tr></table><div class="section"><div>
				<p>Gets off-peak times settings.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-E9085AD7-76EB-3B0C-81F6-CA43B27078A9"><a name="GUID-E9085AD7-76EB-3B0C-81F6-CA43B27078A9"><!-- --></a>
		<h2 class="topictitle2">PopulateScheduleConditionsL(CArrayFixFlat&lt; TTaskSchedulerCondition &gt; &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>PopulateScheduleConditionsL</td><td>(</td><td><a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-82EF4D72-71DD-3C64-9F1E-90FCE8BB0BF9.html">TTaskSchedulerCondition</a> &gt; &amp;</td><td>aSchConditions</td><td>)</td><td>[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-82EF4D72-71DD-3C64-9F1E-90FCE8BB0BF9.html">TTaskSchedulerCondition</a> &gt; &amp; aSchConditions</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-E6A4D28D-176A-399D-977B-7CA1A207B4EC"><a name="GUID-E6A4D28D-176A-399D-977B-7CA1A207B4EC"><!-- --></a>
		<h2 class="topictitle2">ReScheduleL(const CMsvEntrySelection &amp;, const TMsvSchedulePackage &amp;, const TMsvSendErrorAction *)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ReScheduleL</td><td>(</td><td>const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td>aSelection,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-05E7AE17-D9B3-3D08-90E7-CC8FF5C21A99.html">TMsvSchedulePackage</a> &amp;</td><td>aPackage,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-4F039FEB-4821-3871-A5CF-0D453BF91EAD.html">TMsvSendErrorAction</a> *</td><td>aErrorAction = NULL</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Determines when the messages should be re-scheduled on the task scheduler, then schedules the messages at the new time(s).</p>

				<p>Messages that are successfully re-scheduled are updated. The pending conditions flag indicates whether the message has been schedule for a set of conditions being met (or a timeout occuring) or scheduled for a specified time/date.</p>

				<p>NOTE - conditions scheduling is only supoprted from 8.1 onwards.</p>

				<p>In the case of time-scheduling, the date field is the scheduled time/date. In the case of conditions-scheduling, the date field reflects the timeout value.</p>

				<p>There are several cases when messages are not re-scheduled. If all recipients have been sent to - in this case the message's sending state set to KMsvSendStateSent. If, more commonly, the message's maximum number of re-tries has been exceeded or the error action was ESendActionFail then the message is not changed.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>ScheduleSend-DLL 0 The array of message IDs is empty. Debug build only. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp; aSelection</td><td>Array of message IDs that need to be re-scheduled. This array cannot be empty. All the messages identified must belong to the same MTM. It is not a precondition that each message has already been scheduled on the task scheduler. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-05E7AE17-D9B3-3D08-90E7-CC8FF5C21A99.html">TMsvSchedulePackage</a> &amp; aPackage</td><td>Scheduling options. </td></tr><tr><td class="parameter">const <a href="GUID-4F039FEB-4821-3871-A5CF-0D453BF91EAD.html">TMsvSendErrorAction</a> * aErrorAction = NULL</td><td>The specific action to take with the messages. If this argument is omitted, then ReScheduleL() uses the iError member of each TMsvEntry to find the related TMsvSendErrorAction in iErrorActions. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-6497F9AB-5C7F-30BF-B1EE-B8395BD9E7CB"><a name="GUID-6497F9AB-5C7F-30BF-B1EE-B8395BD9E7CB"><!-- --></a>
		<h2 class="topictitle2">ResetScheduleInfoForEntryL(CMsvScheduledEntry &amp;, const TBool)</h2>
		<table class="signature"><tr><td>void</td><td>ResetScheduleInfoForEntryL</td><td>(</td><td><a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp;</td><td>aMessage,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aChangeEntry</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp; aMessage</td><td> </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aChangeEntry</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-87FC3A70-2AC3-3118-8DC4-7A895DFA2A6F"><a name="GUID-87FC3A70-2AC3-3118-8DC4-7A895DFA2A6F"><!-- --></a>
		<h2 class="topictitle2">RoundUpToMinute(TTime &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>RoundUpToMinute</td><td>(</td><td><a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aTime</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Utility function that rounds a specified time up to the nearest minute.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aTime</td><td>On return, the passed value rounded up to the nearest minute.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-BEFD953B-C2C5-313F-86E9-F50EEABEC1C3"><a name="GUID-BEFD953B-C2C5-313F-86E9-F50EEABEC1C3"><!-- --></a>
		<h2 class="topictitle2">ScheduleEntryL(RScheduler &amp;, const TSchedulerItemRef &amp;, const TMsvSchedulePackage &amp;, TTaskInfo &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ScheduleEntryL</td><td>(</td><td><a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp;</td><td>aScheduler,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;</td><td>aRef,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-05E7AE17-D9B3-3D08-90E7-CC8FF5C21A99.html">TMsvSchedulePackage</a> &amp;</td><td>aPackage,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-ACEB1944-5B06-32AD-9D55-3F02720F261E.html">TTaskInfo</a> &amp;</td><td>aInfo</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Adds an entry to an existing schedule.</p>

				<div class="p">
					<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html#GUID-6741BD0E-AA24-363D-9C95-A77A2B24DD9A">RScheduler::ScheduleTask()</a>
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotFound No existing schedule with the specified Id. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a> &amp; aScheduler</td><td>Scheduler to access. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp; aRef</td><td>Id of the schedule. </td></tr><tr><td class="parameter">const <a href="GUID-05E7AE17-D9B3-3D08-90E7-CC8FF5C21A99.html">TMsvSchedulePackage</a> &amp; aPackage</td><td>Scheduler settings. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-ACEB1944-5B06-32AD-9D55-3F02720F261E.html">TTaskInfo</a> &amp; aInfo</td><td>Information about the entry to be added to the schedule. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-124E1F66-4809-39D8-98B8-1A541FF95903"><a name="GUID-124E1F66-4809-39D8-98B8-1A541FF95903"><!-- --></a>
		<h2 class="topictitle2">ScheduleEntryL(CMsvScheduledEntry &amp;, const TInt, const TTime &amp;, const TSchedulerItemRef &amp;, TBool)</h2>
		<table class="signature"><tr><td>void</td><td>ScheduleEntryL</td><td>(</td><td><a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp;</td><td>aMessage,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aFinalState,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aStartTime,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;</td><td>aRef,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aPendingConditions</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>Schedules aMessage on the schedule referred to by aRef.</p>

				<p>Updates the message entry and the schedule data using the utility function <a href="GUID-35CAC635-C0CE-328F-B10C-7FEB4503E8DB.html#GUID-1861711D-0586-339C-85F2-1F7F9FC5FAD1">UpdateEntryAfterSchedule()</a>.</p>

				<p>
					<a href="GUID-35CAC635-C0CE-328F-B10C-7FEB4503E8DB.html#GUID-1861711D-0586-339C-85F2-1F7F9FC5FAD1">CMsvScheduleSend::UpdateEntryAfterSchedule</a>
				</p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp; aMessage</td><td>The message to be scheduled. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aFinalState</td><td>The sending state to set to the messages to if the message is successfully scheduled. </td></tr><tr><td class="parameter">const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aStartTime</td><td> </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp; aRef</td><td>The ID of the schedule to add this task to. </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aPendingConditions</td><td>A flag indicating whether this message is schedule for conditions.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B1EB0E28-BCBA-3FA5-8D99-F0D5FBC8314B"><a name="GUID-B1EB0E28-BCBA-3FA5-8D99-F0D5FBC8314B"><!-- --></a>
		<h2 class="topictitle2">ScheduleL(const CMsvEntrySelection &amp;, const TMsvSchedulePackage &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ScheduleL</td><td>(</td><td>const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td>aSelection,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-05E7AE17-D9B3-3D08-90E7-CC8FF5C21A99.html">TMsvSchedulePackage</a> &amp;</td><td>aPackage</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Schedules messages on the task scheduler.</p>

				<p>Messages that are successfully scheduled have their sending state set to KMsvSendStateScheduled.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Any error code but KErrLocked and KErrNotFound The method overloading CMsvScheduledEntry::GetMessageL() left with an error, i.e. the scheduling info of one of the messages from the selection could not be retrieved from the message server.</dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Any error code Unable to reset the previous scheduling info for a message.</dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>ScheduleSend-DLL 0 The array of message IDs is empty. Debug build only.</dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>ScheduleSend-DLL 1 At least one of the selected messages is scheduled for a different time as the others. Debug build only.</dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>ScheduleSend-DLL 2 At least one of the selected messages does not belong to the same MTM. Debug build only.</dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>ScheduleSend-DLL 3 At least one of the selected messages does not have the same off-peak settings as the others. Debug build only. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp; aSelection</td><td>Array of message IDs that need to be scheduled. This array cannot be empty. All the messages identified in the selection must belong to the same MTM; be scheduled for the same time; have the same setting for their OffPeak() flag; have the scheduled time stored in the iDate member of their corresponding TMsvEntry. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-05E7AE17-D9B3-3D08-90E7-CC8FF5C21A99.html">TMsvSchedulePackage</a> &amp; aPackage</td><td>Scheduling options </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-44E7DBBC-D56C-3DB6-8FDB-F8E6FFAB47FC"><a name="GUID-44E7DBBC-D56C-3DB6-8FDB-F8E6FFAB47FC"><!-- --></a>
		<h2 class="topictitle2">ScheduleSettings()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-3A9254B7-77C2-300A-9128-6A7BD45F8CBA.html">CMsvScheduleSettings</a> &amp;</td><td>ScheduleSettings</td><td>(</td><td>)</td><td>const [inline]</td></tr></table><div class="section"><div>
				<p>Gets scheduler settings.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-D893BDF8-D4A0-329E-8B65-4BAC958C44E8"><a name="GUID-D893BDF8-D4A0-329E-8B65-4BAC958C44E8"><!-- --></a>
		<h2 class="topictitle2">SendErrorActions()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-BF841328-372B-3F68-8BC9-5CB8639650D0.html">CMsvSendErrorActions</a> &amp;</td><td>SendErrorActions</td><td>(</td><td>)</td><td>const [inline]</td></tr></table><div class="section"><div>
				<p>Gets action-on-sending-error settings.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-19C68A41-1847-3646-B58A-9465F51545B5"><a name="GUID-19C68A41-1847-3646-B58A-9465F51545B5"><!-- --></a>
		<h2 class="topictitle2">SendingCompleteL(TMsvEntry &amp;, const TBool)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SendingCompleteL</td><td>(</td><td><a href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html">TMsvEntry</a> &amp;</td><td>aEntry,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aChangeEntry = EFalse</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Tells the scheduler that sending is complete.</p>

				<p>This function must be called when a message that had previously been scheduled is either sent or has failed. This function:</p>

				<p>1. Deletes the <a href="GUID-CCE9B22A-F415-30DE-8656-4CFCB47DCE19.html#GUID-CCE9B22A-F415-30DE-8656-4CFCB47DCE19">TMsvEntryScheduleData</a> associated with the message</p>

				<p>2. Sets the Scheduled flag to EFalse</p>

				<p>3. If required, calls ChangeEntry() on the message server entry</p>

				<p>Note: <a href="GUID-35CAC635-C0CE-328F-B10C-7FEB4503E8DB.html#GUID-19C68A41-1847-3646-B58A-9465F51545B5">SendingCompleteL()</a> does not change the sending state of each message, nor delete each message from the task scheduler.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>panic</strong>
							</dt>

							<dd>ScheduleSend-DLL 24 The server entry is not set to the correct entry. Debug build only. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html">TMsvEntry</a> &amp; aEntry</td><td>The message which was either successfully sent or which failed (all the attempts) to send. It is not a precondition that the message has already been scheduled on the task scheduler. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aChangeEntry = EFalse</td><td>If aChangeEntry is ETrue then SendingCompleteL() will call CMsvServerEntry::ChangeEntry() to update the message on the message server. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D5AEE3AC-1C7B-346B-9433-447693F9725B"><a name="GUID-D5AEE3AC-1C7B-346B-9433-447693F9725B"><!-- --></a>
		<h2 class="topictitle2">SendingCompleteL(const CMsvEntrySelection &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SendingCompleteL</td><td>(</td><td>const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp;</td><td>aSelection</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Tells the scheduler that sending is complete.</p>

				<p>This method sets the messages's scheduled flag to false, resets the schedule data associated with each message and the number of retries for each recipient and stores the data and recipients in a stream associated with the <a href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html#GUID-5A23B804-2C06-3407-9D48-1BFB212D699F">TMsvEntry</a>.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> &amp; aSelection</td><td>Messages that were either successfully sent or which failed all the attempts to send.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-4F09567B-60CC-3B03-93A4-6ECB2C0A85C5"><a name="GUID-4F09567B-60CC-3B03-93A4-6ECB2C0A85C5"><!-- --></a>
		<h2 class="topictitle2">SendingCompleteL(CMsvScheduledEntry &amp;, const TBool)</h2>
		<table class="signature"><tr><td>void</td><td>SendingCompleteL</td><td>(</td><td><a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp;</td><td>aScheduledEntry,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aChangeEntry</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp; aScheduledEntry</td><td> </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aChangeEntry</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-2FFB323E-68F0-32CD-A9B9-AA26526CF876"><a name="GUID-2FFB323E-68F0-32CD-A9B9-AA26526CF876"><!-- --></a>
		<h2 class="topictitle2">SetMessageStartTime(CMsvScheduledEntry &amp;, const TTime &amp;, const TMsvSendErrorAction *)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>SetMessageStartTime</td><td>(</td><td><a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp;</td><td>aMessage,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aFromTime,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-4F039FEB-4821-3871-A5CF-0D453BF91EAD.html">TMsvSendErrorAction</a> *</td><td>aErrorAction = NULL</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>Determines the schedule time for a message.</p>

				<p>The schedule time is determined by the error action. If no error action is supplied, then the error action is obtained from the iErrorActions. This is a list of error codes associated with an error action. The error code with which the message failed to be sent is used to determine the error action from this list.</p>

				<p>This function also increments the number of re-tries that the message has undergone.</p>

				<p>A value of ETrue is returned if the message can be sent or a value of EFalse if the message cannot be sent.</p>

				<p>If the message can be sent, then its schedule date and pending conditions flag are updated.</p>

				<p>
					<a href="GUID-35CAC635-C0CE-328F-B10C-7FEB4503E8DB.html#GUID-E6A4D28D-176A-399D-977B-7CA1A207B4EC">CMsvScheduleSend::ReScheduleL()</a>.</p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp; aMessage</td><td>The message to be re-scheduled. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aFromTime</td><td>The current time. Used to calculate the absolute schedule time once the interval has been established. </td></tr><tr><td class="parameter">const <a href="GUID-4F039FEB-4821-3871-A5CF-0D453BF91EAD.html">TMsvSendErrorAction</a> * aErrorAction = NULL</td><td>The error action applied to the message. This can be NULL in which case the error action is obtained from iErrorActions. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D5031977-F0E0-39A3-98CB-63E69FECC41E"><a name="GUID-D5031977-F0E0-39A3-98CB-63E69FECC41E"><!-- --></a>
		<h2 class="topictitle2">SortByDateAndPendingConditionsL(CMsvScheduledEntries &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>SortByDateAndPendingConditionsL</td><td>(</td><td><a href="GUID-FCE7D958-96AA-346D-8D22-0EF24B9DB7CC.html">CMsvScheduledEntries</a> &amp;</td><td>aScheduledEntries</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Sorts the supplied array of messages.</p>

				<p>The messages are sorted by their schedule date (held in the iEntry.iDate member of <a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html#GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55">CMsvScheduledEntry</a>). Messages with the same schedule time are then further sorted by if they to be scheduled for pending conditions.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FCE7D958-96AA-346D-8D22-0EF24B9DB7CC.html">CMsvScheduledEntries</a> &amp; aScheduledEntries</td><td>The input/output parameter that holds the messages to be sorted. This will contain the sorted list once the function completes.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-F052282E-6705-329D-BB5C-8E74280A977C"><a name="GUID-F052282E-6705-329D-BB5C-8E74280A977C"><!-- --></a>
		<h2 class="topictitle2">TaskAndMessageMatchL(const CMsvScheduledEntry &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>TaskAndMessageMatchL</td><td>(</td><td>const <a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp;</td><td>aMessage</td><td>)</td><td>[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-60D2AA5D-8E2A-3290-8FDB-BACE2E1B3D55.html">CMsvScheduledEntry</a> &amp; aMessage</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-1861711D-0586-339C-85F2-1F7F9FC5FAD1"><a name="GUID-1861711D-0586-339C-85F2-1F7F9FC5FAD1"><!-- --></a>
		<h2 class="topictitle2">UpdateEntryAfterSchedule(const TSchedulerItemRef &amp;, const TTaskInfo &amp;, const TTime &amp;, TInt, TMsvEntry &amp;, TMsvEntryScheduleData &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>UpdateEntryAfterSchedule</td><td>(</td><td>const <a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp;</td><td>aRef,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-ACEB1944-5B06-32AD-9D55-3F02720F261E.html">TTaskInfo</a> &amp;</td><td>aInfo,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aTime,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aFinalState,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html">TMsvEntry</a> &amp;</td><td>aEntry,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-CCE9B22A-F415-30DE-8656-4CFCB47DCE19.html">TMsvEntryScheduleData</a> &amp;</td><td>aData</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>Utility function that updates message index entry fields to reflect the message's scheduling.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-846E1470-CFA0-3C86-8A56-1CF079EBD230.html">TSchedulerItemRef</a> &amp; aRef</td><td>Scheduler item. </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-ACEB1944-5B06-32AD-9D55-3F02720F261E.html">TTaskInfo</a> &amp; aInfo</td><td>Scheduler task information. </td></tr><tr><td class="parameter">const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aTime</td><td>Schedule start time. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aFinalState</td><td>Sending state flag. </td></tr><tr><td class="parameter"><a href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html">TMsvEntry</a> &amp; aEntry</td><td>On return, updated index entry. </td></tr><tr class="bg"><td class="parameter"><a href="GUID-CCE9B22A-F415-30DE-8656-4CFCB47DCE19.html">TMsvEntryScheduleData</a> &amp; aData</td><td>On return, populated messaging scheduling data.  </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Enumerations Documentation</h1><div class="nested1" id="GUID-834D1B99-1638-3E04-9116-68A335109D1B"><a name="GUID-834D1B99-1638-3E04-9116-68A335109D1B"><!-- --></a>
		<h2 class="topictitle2">Enum anonymous</h2>
		<div class="section"></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">EDefaultTaskPriority = 1</td><td> </td></tr><tr class="bg"><td valign="top">EDefaultTaskRepeat = 0</td><td> </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-98A346A2-510B-35D9-BE7B-6219F105D781"><a name="GUID-98A346A2-510B-35D9-BE7B-6219F105D781"><!-- --></a>
		<h2 class="topictitle2">
					CMsvSysAgentActions * iAgentActions</h2>
		<table class="signature"><tr><td>
					<a href="GUID-95828565-7389-381C-BD7E-B7F7B98A2487.html">CMsvSysAgentActions</a> *</td><td>iAgentActions</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>The System Agent conditions that must be satisfied before a sending attempt. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-B09FD476-9CCC-3656-B44F-A64D238B7EB2"><a name="GUID-B09FD476-9CCC-3656-B44F-A64D238B7EB2"><!-- --></a>
		<h2 class="topictitle2">
					CMsvSendErrorActions * iErrorActions</h2>
		<table class="signature"><tr><td>
					<a href="GUID-BF841328-372B-3F68-8BC9-5CB8639650D0.html">CMsvSendErrorActions</a> *</td><td>iErrorActions</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>The Server MTM specific actions to take when particular errors occur during message sending. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-4986D029-42E6-31D1-82B8-77A847FB039C"><a name="GUID-4986D029-42E6-31D1-82B8-77A847FB039C"><!-- --></a>
		<h2 class="topictitle2">
					CMsvOffPeakTimes * iOffPeakTimes</h2>
		<table class="signature"><tr><td>
					<a href="GUID-E58A2F58-AF45-3D97-ACA6-6548FE507C3D.html">CMsvOffPeakTimes</a> *</td><td>iOffPeakTimes</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>The Server MTM specific off peak time periods. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-29725ECA-4225-3FE6-B168-30B4DF308FA8"><a name="GUID-29725ECA-4225-3FE6-B168-30B4DF308FA8"><!-- --></a>
		<h2 class="topictitle2">
					TMsvSchedulePackage
				 iPackage</h2>
		<table class="signature"><tr><td>
					<a href="GUID-05E7AE17-D9B3-3D08-90E7-CC8FF5C21A99.html">TMsvSchedulePackage</a>
				</td><td>iPackage</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>Scheduling options. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-989F6C53-1F0B-3C3B-9D51-B36EAFB1D66D"><a name="GUID-989F6C53-1F0B-3C3B-9D51-B36EAFB1D66D"><!-- --></a>
		<h2 class="topictitle2">
					TBool
				 iRegistered</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>iRegistered</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>Indicates if this has been registered with the Task Scheduler.</p>

				<p>Initially set to EFalse. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-20A2841A-0D34-3BE4-A0A3-7EAC9B84C263"><a name="GUID-20A2841A-0D34-3BE4-A0A3-7EAC9B84C263"><!-- --></a>
		<h2 class="topictitle2">
					CMsvScheduledEntries * iSchEntries</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FCE7D958-96AA-346D-8D22-0EF24B9DB7CC.html">CMsvScheduledEntries</a> *</td><td>iSchEntries</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>Array of message schedule data. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-8845525E-15E2-3324-A7F6-8E37FDF3FD73"><a name="GUID-8845525E-15E2-3324-A7F6-8E37FDF3FD73"><!-- --></a>
		<h2 class="topictitle2">
					CArrayFixFlat&lt; TScheduleEntryInfo2 &gt; * iSchEntryInfo</h2>
		<table class="signature"><tr><td>
					<a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-EA5C4B46-AC42-3D0F-8C48-E182D0D30A12.html">TScheduleEntryInfo2</a> &gt; *</td><td>iSchEntryInfo</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>Array of schedule entry data. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-CF780715-68DB-3FCE-8EC2-56E4B58A33F9"><a name="GUID-CF780715-68DB-3FCE-8EC2-56E4B58A33F9"><!-- --></a>
		<h2 class="topictitle2">
					CArrayFixFlat&lt; TTaskInfo &gt; * iSchTaskInfo</h2>
		<table class="signature"><tr><td>
					<a href="GUID-12C65B99-553E-35CA-B36F-2F77BFC972B3.html">CArrayFixFlat</a>&lt; <a href="GUID-ACEB1944-5B06-32AD-9D55-3F02720F261E.html">TTaskInfo</a> &gt; *</td><td>iSchTaskInfo</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>Array of schedule task data. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-D0A0E86C-284F-3A48-BD4B-716E403FCB4A"><a name="GUID-D0A0E86C-284F-3A48-BD4B-716E403FCB4A"><!-- --></a>
		<h2 class="topictitle2">
					RScheduler
				 iScheduler</h2>
		<table class="signature"><tr><td>
					<a href="GUID-6E138B87-ED51-3C72-9075-8D7F887FA7B1.html">RScheduler</a>
				</td><td>iScheduler</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>Provides an interface to the Task Scheduler. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-4FF5F44D-4266-3450-85F8-791DDDD299F2"><a name="GUID-4FF5F44D-4266-3450-85F8-791DDDD299F2"><!-- --></a>
		<h2 class="topictitle2">
					CMsvServerEntry &amp; iServerEntry</h2>
		<table class="signature"><tr><td>
					<a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp;</td><td>iServerEntry</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>The <a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html#GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D">CMsvServerEntry</a> of the server MTM. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-E9B546C6-CCFB-3B83-BF65-6D6412215229"><a name="GUID-E9B546C6-CCFB-3B83-BF65-6D6412215229"><!-- --></a>
		<h2 class="topictitle2">
					CMsvScheduleSettings * iSettings</h2>
		<table class="signature"><tr><td>
					<a href="GUID-3A9254B7-77C2-300A-9128-6A7BD45F8CBA.html">CMsvScheduleSettings</a> *</td><td>iSettings</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>The Server MTM specific scheduled message sending settings. </p>

			</div></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>