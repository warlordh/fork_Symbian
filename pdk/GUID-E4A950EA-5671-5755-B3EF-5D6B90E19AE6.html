<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Maintaining Log Events"/>
<meta name="abstract" content="This tutorial describes how to maintain events using Log Engine."/>
<meta name="description" content="This tutorial describes how to maintain events using Log Engine."/>
<meta name="DC.Relation" scheme="URI" content="GUID-132DBA2F-B913-5565-9720-015777630C22.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-45A03C42-652C-59BD-9A21-6346A96310DB.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5B63D14D-007D-566F-A065-1A25FE4B97A3.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-132DBA2F-B913-5565-9720-015777630C22.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-BE65B3A7-04E8-5406-B46A-09E2608E0F1F.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2022F702-9899-5798-8932-D70119C7177D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-55ECBCF5-FC29-5A4A-A3C6-1CB1C0D562CE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-BCB0E50F-B22E-5964-BB68-BEE1870D9C79.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Maintaining Log Events</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6"><a name="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2859821 id2860103 id2860112 id2860132 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html" title="Provides services to enable and support persistence.">Persistent Data Services Guide</a> &gt; <a href="GUID-45A03C42-652C-59BD-9A21-6346A96310DB.html" title="This section provides details about the Log Engine. The Log Engine records various events from operating system components.">Logging Services</a> &gt; <a href="GUID-5B63D14D-007D-566F-A065-1A25FE4B97A3.html" title="This section describes the Log Engine.">Log Engine</a> &gt; <a href="GUID-132DBA2F-B913-5565-9720-015777630C22.html" title="This topic provides tutorials about the log engine.">Log Engine Tutorials</a> &gt; </div>
<h1 class="topictitle1">Maintaining
Log Events </h1>
<div><p>This tutorial describes how to maintain events using Log Engine. </p>

<div class="section" id="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-9230A593-9E3C-52B2-81F3-6C54F7E6015E"><a name="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-9230A593-9E3C-52B2-81F3-6C54F7E6015E"><!-- --></a><p>You maintain a
log by adding, changing and deleting events with the appropriate calls to
the <a href="GUID-51C67545-12BA-326D-BD8F-662B24C68ED2.html"><span class="apiname">CLogClient</span></a> member of your application. When you are
adding or changing events, the arguments are a <a href="GUID-CDFB61A7-1C74-3F63-9FDF-5A3B8603A010.html"><span class="apiname">CLogEvent</span></a> and
a <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html"><span class="apiname">TRequestStatus</span></a> object to hold the return value. When
you are deleting, they are a <a href="GUID-CDFB61A7-1C74-3F63-9FDF-5A3B8603A010.html"><span class="apiname">CLogEvent</span></a> and a <a href="GUID-271367A8-DD4F-3A82-AD88-F3E94F2AA980.html"><span class="apiname">TLogId</span></a>. </p>
 <p>It
is sometimes necessary to create a custom event type. If you want to log events
of a custom created event type, you need to initialize a <a href="GUID-E7CCB043-770E-3722-B735-92B65CC7A0D8.html"><span class="apiname">CLogEventType</span></a> object
and add it to the log. You add the event type when you install your application,
and delete it if you uninstall the application. You add, change and delete
custom event types by calling the appropriate functions of a <a href="GUID-51C67545-12BA-326D-BD8F-662B24C68ED2.html"><span class="apiname">CLogClient</span></a> object: </p>
 <p> <samp class="codeph">iLogClient-&gt;AddEventType(*iLogEventType,
iStatus);</samp>  </p>
 <p> <samp class="codeph">iLogClient-&gt;ChangeEventType(*iLogEventType,
iStatus);</samp>  </p>
 <p> <samp class="codeph">iLogClient-&gt;DeleteEventType(aId, iStatus);</samp>  </p>
 <p>The
arguments are a <a href="GUID-E7CCB043-770E-3722-B735-92B65CC7A0D8.html"><span class="apiname">CLogEventType</span></a> (or <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html"><span class="apiname">TUid</span></a> when
deleting) and a <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html"><span class="apiname">TRequestStatus</span></a> object. </p>
<p> To maintain
log events, do the following:  </p>
 </div>

<a name="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-41BB11DF-8016-58A1-9291-674C9CE396C3"><!-- --></a><ol id="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-41BB11DF-8016-58A1-9291-674C9CE396C3"><li class="stepexpand" id="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-474DF156-F653-569E-B038-446B11A788A4"><a name="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-474DF156-F653-569E-B038-446B11A788A4"><!-- --></a><span>declare an event
as a member of your log client class </span>
 <pre class="codeblock" id="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-EA8E98C3-B225-5AFD-A107-5C62603F87D8"><a name="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-EA8E98C3-B225-5AFD-A107-5C62603F87D8"><!-- --></a>CLogEvent* iCurrentEvent;</pre>
 
</li>
<li class="stepexpand" id="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-09506C94-0251-503D-96CF-03F13296EB8E"><a name="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-09506C94-0251-503D-96CF-03F13296EB8E"><!-- --></a><span/><br/>
 initialize the event using its member functions 
 <pre class="codeblock" id="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-4300C98A-EEB4-5041-871F-5B76702D6061"><a name="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-4300C98A-EEB4-5041-871F-5B76702D6061"><!-- --></a>iCurrentLogEvent = CLogEvent::NewL();
...
iCurrentLogEvent-&gt;SetTime(time);</pre>
 
</li>
<li class="stepexpand" id="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-18909AB0-6248-5FE5-A7ED-397F611AD412"><a name="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-18909AB0-6248-5FE5-A7ED-397F611AD412"><!-- --></a><span/><br/>
 add an event to a log with the <a href="GUID-91804418-6DCC-3ACF-BA1E-399B112285A3.html"><span class="apiname">AddEvent()</span></a> function
of a <a href="GUID-51C67545-12BA-326D-BD8F-662B24C68ED2.html"><span class="apiname">CLogClient</span></a> object 
 <pre class="codeblock" id="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-8048721D-C397-5DE3-8B94-113DA2801605"><a name="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-8048721D-C397-5DE3-8B94-113DA2801605"><!-- --></a>iLogClient-&gt;AddEvent(*iLogEvent, iStatus);</pre>
 
  <a href="GUID-91804418-6DCC-3ACF-BA1E-399B112285A3.html"><span class="apiname">AddEvent()</span></a> creates an asynchronous request and no
other asynchronous request must be outstanding when you call it. For this
reason, the <a href="GUID-CDFB61A7-1C74-3F63-9FDF-5A3B8603A010.html"><span class="apiname">CLogEvent</span></a> argument is typically read off a
queue of events waiting to be processed. 
</li>
<li class="stepexpand" id="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-4AB54E42-D28E-5806-B8F4-2F2A7B69880B"><a name="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-4AB54E42-D28E-5806-B8F4-2F2A7B69880B"><!-- --></a><span/><br/>
 change an event record with the <a href="GUID-C8F2B567-6B68-3460-9799-6658DF3771A8.html"><span class="apiname">ChangeEvent()</span></a> function. 
 <pre class="codeblock" id="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-B9D07568-3A3B-5A1D-8F91-B470CB95281F"><a name="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-B9D07568-3A3B-5A1D-8F91-B470CB95281F"><!-- --></a>iLogClient-&gt;ChangeEvent(*iLogEvent, iStatus);</pre>
 
</li>
</ol>

<div class="section" id="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-306D0963-3299-59BB-BBCA-B0DDFD945F93"><a name="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-306D0963-3299-59BB-BBCA-B0DDFD945F93"><!-- --></a><p> Note that it is
not possible to change the event type of an event after  it has been added
to the log.  </p>
<p>The events specified by the log engine clients are maintained. </p>
 </div>

<div class="section" id="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-E9031A12-D139-5D86-A54D-99174D9A8012"><a name="GUID-E4A950EA-5671-5755-B3EF-5D6B90E19AE6__GUID-E9031A12-D139-5D86-A54D-99174D9A8012"><!-- --></a><p>You do not normally
need to delete an event. A log has a maximum size which the log engine maintains
automatically by deleting the oldest events when newly added events would
cause the maximum to be exceeded. If you want to delete an event for other
reasons you call the <samp class="codeph">DeleteEvent()</samp> function. <samp class="codeph">iLogClient-&gt;DeleteEvent(aLogId,
iStatus);</samp>  </p>
 <p>It is important to know that deleting an event
type and deleting the actual events of that type are two separate actions.
If you just delete the type and not the events, the events will remain in
the log but have no type. </p>
 <p> </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-132DBA2F-B913-5565-9720-015777630C22.html" title="This topic provides tutorials about the log engine.">Log Engine Tutorials</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-2022F702-9899-5798-8932-D70119C7177D.html" title="This tutorial describes how to set up a Log Engine client.">Setting Up
A Log Engine Client</a></div>
</div>
<div class="relinfo reltasks"><strong>Related tasks</strong><br/>
<div><a href="GUID-BE65B3A7-04E8-5406-B46A-09E2608E0F1F.html" title="This tutorial describes how to request notification from Log Engine.">Requesting
Log Engine Notifications</a></div>
<div><a href="GUID-55ECBCF5-FC29-5A4A-A3C6-1CB1C0D562CE.html" title="This tutorial describes how to display log events.">Displaying
Log Events</a></div>
<div><a href="GUID-BCB0E50F-B22E-5964-BB68-BEE1870D9C79.html" title="This tutorial describes how to configure Log Engine using TLogConfig class.">Configuring
Log Engine </a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>