<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Reporting on all Features on a Device Dynamically Using RFeatureControl"/>
<meta name="abstract" content="How to list all supported features on a device using RFeatureControl dynamically."/>
<meta name="description" content="How to list all supported features on a device using RFeatureControl dynamically."/>
<meta name="DC.Relation" scheme="URI" content="GUID-F2489DE2-18E2-5C5B-A174-49B5B7A64A7C.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7495B1C8-38B5-5A09-8231-25B3BBC09F51.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0CA63AEB-9A80-51C6-AE7F-E747D6B3B789.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F2489DE2-18E2-5C5B-A174-49B5B7A64A7C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-BE841768-0F22-5B9D-B783-B02C74E89AFB.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3C52315A-71CC-52B2-B809-F04E4078338D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B71AC5E3-8AA8-55AD-916F-9E873926011B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F2489DE2-18E2-5C5B-A174-49B5B7A64A7C.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Reporting on all Features on a Device Dynamically Using RFeatureControl</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2859821 id2859830 id2859850 id2860034 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html" title="Provides services to enable and support persistence.">Persistent Data Services Guide</a> &gt; <a href="GUID-7495B1C8-38B5-5A09-8231-25B3BBC09F51.html">Feature Management</a> &gt; <a href="GUID-0CA63AEB-9A80-51C6-AE7F-E747D6B3B789.html" title="The Feature Manager is used to customise software by manipulating feature flags.">Feature Manager</a> &gt; <a href="GUID-F2489DE2-18E2-5C5B-A174-49B5B7A64A7C.html" title="This document introduces tutorials on the use of Feature Manager to report on features.">Feature Manager Reporting Tutorials</a> &gt; </div>
<h1 class="topictitle1">Reporting
on all Features on a Device Dynamically Using RFeatureControl </h1>
<div><p>How to list all supported features on a device using <samp class="codeph">RFeatureControl</samp> dynamically. </p>

<div class="section" id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-66CE0C50-75D0-547E-869C-8D0BFEBE0974"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-66CE0C50-75D0-547E-869C-8D0BFEBE0974"><!-- --></a><p>To list all supported
features on a device using <a href="GUID-F6AAAC24-4A62-383A-86C6-2E46335C3FD4.html"><span class="apiname">RFeatureControl</span></a> dynamically,
take the following steps. </p>
 </div>

<a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-0C573781-0002-500B-A7F4-E44CC688A820"><!-- --></a><ol id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-0C573781-0002-500B-A7F4-E44CC688A820"><li class="stepexpand" id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-B65FF1CA-5A11-563E-B0A3-9DDD2E555276"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-B65FF1CA-5A11-563E-B0A3-9DDD2E555276"><!-- --></a><span/><br/>
 Create an instance of <a href="GUID-F6AAAC24-4A62-383A-86C6-2E46335C3FD4.html"><span class="apiname">RFeatureControl</span></a>, 
 <pre class="codeblock" id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-0F3730FF-00DC-5FCD-9A0C-CA205082A5B1"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-0F3730FF-00DC-5FCD-9A0C-CA205082A5B1"><!-- --></a>
// replace &lt;featureUID&gt; with a real Uid ) 
#include &lt;featurecontrol.h&gt;
#include &lt;featureinfo.h&gt; // for feature definitions
CMyClass::MyMethodL()
     {
     // Replace KFeatureUidx with real feature Uid.
     // Open() must be called before calling any other methods. 
     // Disconnect is done by calling the Close() method.
     RFeatureControl featureControl;
</pre>
 
</li>
<li class="stepexpand" id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-A4FEB01F-56A0-595C-85A5-5C2E435BD175"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-A4FEB01F-56A0-595C-85A5-5C2E435BD175"><!-- --></a><span/><br/>
 call its <a href="GUID-20D0D10F-3401-3F72-8AF6-DC35F6025DC2.html"><span class="apiname">Open()</span></a> function, 
 <pre class="codeblock" id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-61D3CB3F-1760-5747-8F55-6595BAF66AAB"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-61D3CB3F-1760-5747-8F55-6595BAF66AAB"><!-- --></a>
     TInt err = featureControl.Open();
</pre>
 
</li>
<li class="stepexpand" id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-DAFA2032-8535-5F63-AD1B-D83D843FB271"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-DAFA2032-8535-5F63-AD1B-D83D843FB271"><!-- --></a><span/><br/>
 create an instance of <a href="GUID-144E257F-A162-3680-B1C5-C28BEAA902BC.html"><span class="apiname">RFeatureArray</span></a> (an array of <a href="GUID-80C51259-F2C4-3877-97B4-EC0C85DE93DE.html"><span class="apiname">TFeatureEntry</span></a> objects), 
 <pre class="codeblock" id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-3CAE75C5-A1B6-51B9-AD2C-2E13AE53FD8E"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-3CAE75C5-A1B6-51B9-AD2C-2E13AE53FD8E"><!-- --></a>
         // List all supported features.

         // A client owned RFeatureUidArray array which will be filled with 
         // the UIDs of supported features. 
         RFeatureUidArray supportedFeatures;

</pre>
 
</li>
<li class="stepexpand" id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-9BD96024-5335-5A54-832A-0A87B293B24A"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-9BD96024-5335-5A54-832A-0A87B293B24A"><!-- --></a><span/><br/>
 call its <a href="GUID-5647EEB3-56CB-35C9-B9E1-1E348644A27A.html"><span class="apiname">ListSupportedFeatures()</span></a> function with a
reference to the <a href="GUID-144E257F-A162-3680-B1C5-C28BEAA902BC.html"><span class="apiname">RFeatureArray</span></a> as argument, 
 <pre class="codeblock" id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-6B1D8B91-76D2-575E-91AE-93727C75FA89"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-6B1D8B91-76D2-575E-91AE-93727C75FA89"><!-- --></a>
         // ListSupportedFeatures() returns one of the Symbian error codes.
         err = featureControl.ListSupportedFeatures( supportedFeatures );

         // do something

</pre>
 
</li>
<li class="stepexpand" id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-8BF96CBE-BB74-58A3-A63B-8AC32F71D78C"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-8BF96CBE-BB74-58A3-A63B-8AC32F71D78C"><!-- --></a><span/><br/>
 call its <a href="GUID-01D2AF56-21E1-3FF3-BF86-0C356A1658EF.html"><span class="apiname">Close()</span></a> function, 
 <pre class="codeblock" id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-C8126829-41FA-50B2-B462-9F92090B5146"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-C8126829-41FA-50B2-B462-9F92090B5146"><!-- --></a>
         // Closes the array and frees all memory allocated to the array.
         supportedFeatures.Close();
</pre>
 
</li>
<li class="stepexpand" id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-AAB93851-F12D-52A8-BAC5-00B78C09024C"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-AAB93851-F12D-52A8-BAC5-00B78C09024C"><!-- --></a><span/><br/>
 call the <a href="GUID-01D2AF56-21E1-3FF3-BF86-0C356A1658EF.html"><span class="apiname">Close()</span></a> function of the RFeatureArray object. 
 <pre class="codeblock" id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-475D7629-1E07-5269-8F11-75756C04FE26"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-475D7629-1E07-5269-8F11-75756C04FE26"><!-- --></a>
         // Remember to call CloseL after using RFeatureControl.
         // It disconnects the Feature Manager server.
         featureControl.Close();  
         }

     }
</pre>
 
</li>
</ol>

<div class="section" id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-2FDD0EEF-AE71-5078-8A53-2ECB603D30E8"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-2FDD0EEF-AE71-5078-8A53-2ECB603D30E8"><!-- --></a><p> <a href="GUID-5647EEB3-56CB-35C9-B9E1-1E348644A27A.html"><span class="apiname"> ListSupportedFeatures()</span></a> causes
the passed in array to be filled with the Uids of supported features. It returns: </p>
 <ul>
<li id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-8B1E55A0-20C0-5C72-93B4-2C1828633192"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-8B1E55A0-20C0-5C72-93B4-2C1828633192"><!-- --></a><p> <a href="GUID-6CA4F1ED-7947-3087-B618-D35858FAA3BC.html"><span class="apiname">KErrNone</span></a> if
the <a href="GUID-144E257F-A162-3680-B1C5-C28BEAA902BC.html"><span class="apiname">RFeatureArray</span></a> was successfully filled with Uids, </p>
 </li>

<li id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-AA416C1E-E619-5637-905B-27ADD3A09AD9"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-AA416C1E-E619-5637-905B-27ADD3A09AD9"><!-- --></a><p> <a href="GUID-E306B54A-1F34-3FB0-B515-90D647B7B822.html"><span class="apiname">KServerBusy</span></a> if
the call failed because features were being enabled or disabled (so creating
a lock), and </p>
 </li>

<li id="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-0462B50E-A799-562E-9B8E-8EA5C1DD1F8A"><a name="GUID-981C138C-1CF1-5D77-BEB5-81163AC71E44__GUID-0462B50E-A799-562E-9B8E-8EA5C1DD1F8A"><!-- --></a><p>otherwise returns an
error code. </p>
 </li>

</ul>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-F2489DE2-18E2-5C5B-A174-49B5B7A64A7C.html" title="This document introduces tutorials on the use of Feature Manager to report on features.">Feature Manager Reporting Tutorials</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-B71AC5E3-8AA8-55AD-916F-9E873926011B.html">Feature Manager
Collection Overview</a></div>
</div>
<div class="relinfo reltasks"><strong>Related tasks</strong><br/>
<div><a href="GUID-BE841768-0F22-5B9D-B783-B02C74E89AFB.html" title="How to report feature data using RFeatureControl dynamically.">Reporting
Feature Data for a Single                 Feature Dynamically Using RFeatureControl</a></div>
<div><a href="GUID-3C52315A-71CC-52B2-B809-F04E4078338D.html" title="How to query a feature set using RFeatureControl dynamically.">Reporting
on Several Features                 Dynamically Using RFeatureControl</a></div>
<div><a href="GUID-F2489DE2-18E2-5C5B-A174-49B5B7A64A7C.html" title="This document introduces tutorials on the use of Feature Manager to report on features.">Feature Manager
ReportingTutorials</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>