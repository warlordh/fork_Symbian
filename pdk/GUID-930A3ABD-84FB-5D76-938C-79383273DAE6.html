<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Processing System Events"/>
<meta name="DC.Relation" scheme="URI" content="GUID-08427065-B8E5-5194-B095-3B5213836BED.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-57A777A3-5D67-5CBB-B224-B7AD422A451B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0C4B86B5-530A-5839-86C1-46E7ABE281E0.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-DC5E8C7D-D697-53E8-87F4-344301430E61.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-08427065-B8E5-5194-B095-3B5213836BED.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B830A1F7-9220-5879-80BE-C494A4CD155B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B7FF0B9C-3A17-5AAA-A986-7BA4F44DBD41.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A51D3749-442A-54E8-8EB5-BF907694CD8C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E1E11C95-3400-548B-AEEE-577DA8FB9ECB.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Processing System Events</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6"><a name="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2384330 id2384499 id2384574 id2384588 id2384744 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html">Graphics Guide</a> &gt; <a href="GUID-57A777A3-5D67-5CBB-B224-B7AD422A451B.html" title="The Windowing collection contains two componentsâ€”the Window Server, which manages the use of the screen by applications, and the Window Server Plugins component.">Windowing Collection</a> &gt; <a href="GUID-0C4B86B5-530A-5839-86C1-46E7ABE281E0.html" title="The Window Server component manages the use of the screen by applications and handles key and pointer events.">Window Server Component</a> &gt; <a href="GUID-DC5E8C7D-D697-53E8-87F4-344301430E61.html" title="The Window Server client-side library provides client applications with access to the screen and input devices.">Window Server Client-Side Library</a> &gt; <a href="GUID-08427065-B8E5-5194-B095-3B5213836BED.html">Window Server Client-Side Events</a> &gt; </div>
<h1 class="topictitle1">Processing System Events</h1>
<div><p>The following examples give some suggestions about how to process events related to the whole system, rather than individual windows or window groups. </p>
 <p> <strong>Variant</strong>: <a href="GUID-D93978BE-11A3-5CE3-B110-1DEAA5AD566C.html" title="This topic provides an introduction to ScreenPlay and its architecture. ScreenPlay is a new graphics architecture, introduced in Symbian^3 (S^3). ScreenPlay enables device creators to take advantage of improved software performance, hardware acceleration and third party graphics engines. ScreenPlay is sometimes known as the New Graphics Architecture (NGA).">ScreenPlay</a> and <a href="GUID-F64E6551-670E-5E12-8103-DE504D3EC94F.html" title="ScreenPlay provides improved support for graphics hardware acceleration and some other new features. However, it is possible to use the Symbian platform without enabling ScreenPlay. This is called the non-ScreenPlay variant (sometimes referred to as the non-NGA variant). This topic provides an introduction to the graphics architecture when ScreenPlay is not enabled.">non-ScreenPlay</a>. <strong>Target audience</strong>: Application developers. </p>
 <div class="section"><h2 class="sectiontitle">Window group with focus changes</h2> <p>To detect if the window group with focus has changed, use the <samp class="codeph">EEventFocusGroupChanged</samp> event type. </p>
 <p>You can get the handle of the window group with focus by calling the <a href="GUID-643DDA78-C7A7-386D-AB3F-8710141DDDA9.html#GUID-643DDA78-C7A7-386D-AB3F-8710141DDDA9__GUID-1B9B5EE1-A999-3E5D-BAC5-96438BD27308"><span class="apiname">RWsSession::GetFocusWindowGroup()</span></a> function for the <samp class="codeph">iWs</samp> Window Server session. </p>
 <pre class="codeblock" id="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6__GUID-A1E0F429-D06C-57D7-8D40-F43114B7FD80"><a name="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6__GUID-A1E0F429-D06C-57D7-8D40-F43114B7FD80"><!-- --></a>    // Window group with focus changes
    case EEventFocusGroupChanged:
        {
        // Get the handle of the group with focus
        TInt handle = iWs.GetFocusWindowGroup();
        break;
    }</pre>
 </div>
 <div class="section"><h2 class="sectiontitle">Window group destroyed, or changes name</h2> <p>To detect if the window group has been destroyed or changed name, use the <samp class="codeph">EEventWindowGroupsChanged</samp> event type. </p>
 <p>You can get a list of identifiers of window groups in the Window Server session by calling <a href="GUID-643DDA78-C7A7-386D-AB3F-8710141DDDA9.html#GUID-643DDA78-C7A7-386D-AB3F-8710141DDDA9__GUID-8428FE72-E59F-3350-AE45-81ACB0463FAA"><span class="apiname">RWsSession::WindowGroupList()</span></a>. Call the <a href="GUID-643DDA78-C7A7-386D-AB3F-8710141DDDA9.html#GUID-643DDA78-C7A7-386D-AB3F-8710141DDDA9__GUID-D9A204BF-192D-3B94-803B-3DABC7E0E074"><span class="apiname">RWsSession::GetWindowGroupNameFromIdentifier()</span></a> function to get the window group name passed to it in the <samp class="codeph">windowName</samp> buffer. </p>
 <pre class="codeblock" id="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6__GUID-03531EA6-CAD6-5C75-9B7D-26A4EB66B164"><a name="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6__GUID-03531EA6-CAD6-5C75-9B7D-26A4EB66B164"><!-- --></a>    // Window group destroyed, or changes name
    case EEventWindowGroupsChanged:
        {
        // Get a list of the names and IDs of the all the window groups
        CArrayFixFlat&lt;Tint&gt;* windowList = new CArrayFixFlat&lt;TInt&gt;(4);
        CleanupStack::PushL(windowList);

        // Get a list of window group IDs
        User::LeaveIfError(iWs.WindowGroupList(windowList));
        TBuf&lt;50&gt;windowName;
        for (TInt I = 0; I&lt; windowList -&gt; Count(); I++)
            {
            // Get the window name for each window group ID
            iWs.GetWindowGroupNameFromIdentifier( (*windowList)[I], windowName );

            // do something with windowName...
            // ..
            }
            CleanupStack::PopAndDestroy(); // windowList
            break;
        }</pre>
 </div>
 <div class="section"><h2 class="sectiontitle">Screen size mode changed</h2> <p>To detect if screen size or mode changed event has been issued, use the <samp class="codeph">EEventScreenDeviceChanged</samp> event type. </p>
 <p>You can get the screen rotation and size by calling <a href="GUID-30479BE3-296E-3B4D-914D-B080ABD733E4.html#GUID-30479BE3-296E-3B4D-914D-B080ABD733E4__GUID-45FC8DC7-B17F-34E6-806C-B8BA585F4FD6"><span class="apiname">CWsScreenDevice::GetScreenModeSizeAndRotation()</span></a>. Pass as parameters the current screen mode and a <a href="GUID-1AC86B43-CEAF-337D-A56C-0FFC42D435FD.html"><span class="apiname">TPixelsTwipsAndRotation</span></a> object to get the orientation of the specified screen mode, and its size in both pixels and twips. </p>
 <pre class="codeblock" id="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6__GUID-63A5F00C-FA5D-5826-9217-C96087698394"><a name="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6__GUID-63A5F00C-FA5D-5826-9217-C96087698394"><!-- --></a>    // Screen size mode changed
    case EEventScreenDeviceChanged:
        {
        // Get the new screen mode and size
        TInt newMode = iScreen.CurrentScreenMode();
        TPixelsTwipsAndRotation sizeAndRotation;
        iScreen.GetScreenModeSizeAndRotation(newMode, sizeAndRotation);
        break;
        }</pre>
 <p>Note that for screen size mode changed events, often after having got the new size and rotation you would set it back on your screen device. </p>
 <p>In ScreenPlay this event is related to the <a href="GUID-6426E0A6-35F2-3704-962C-0A8AE8AF7226.html"><span class="apiname">EEventDisplayChanged</span></a> event. See <a href="GUID-B1CB6374-2C2B-5D6C-9A7C-6E49D8F235B8.html" title="ScreenPlay provides support for externally connected displays, such as TV-out. Previous versions of Symbian and the non-ScreenPlay variant consider the size of each display to be fixed, assuming it to be built into the phone. However, for High-Definition Multimedia Interface (HDMI) and composite video connectors, there is a range of resolutions that can change dynamically. ScreenPlay provides an optional feature that supports switching between resolutions at runtime and notifies Window Server clients when there are changes to the resolution and connectedness.">Display Control and Mapping in the Window Server Client</a> for more information. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">Power on/off events</h2> <p>To detect if power on/off events have been issued, use the <samp class="codeph">EEventSwitchOn</samp>, <samp class="codeph">EEventSwitchOff</samp> or <samp class="codeph">EEventKeySwitchOff</samp> event types. </p>
 <pre class="codeblock" id="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6__GUID-EDAEABB6-E46A-5B90-A3D1-288782AE2349"><a name="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6__GUID-EDAEABB6-E46A-5B90-A3D1-288782AE2349"><!-- --></a>    // Power on/off events
    case EEventSwitchOn:
    case EEventSwitchOff:
    case EEventKeySwitchOff:
        {
        break;
        }</pre>
 </div>
 <div class="section"><h2 class="sectiontitle">Case open/closed events</h2> <p>To detect if case open/closed events have been issued, use the <samp class="codeph">EEventCaseOpened</samp>, <samp class="codeph">EEventCaseClosed</samp> event types. </p>
 <pre class="codeblock" id="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6__GUID-4F3002C7-302F-5D3F-80D4-9B3425394E5A"><a name="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6__GUID-4F3002C7-302F-5D3F-80D4-9B3425394E5A"><!-- --></a>    // Case open/closed events
    case EEventCaseOpened:
    case EEventCaseClosed:
        {
        break;
        }</pre>
 </div>
 <div class="section"><h2 class="sectiontitle">A Window Server error event message</h2> <p>To detect if an error event message has been issued, use the <samp class="codeph">EEventErrorMessage</samp> event type. </p>
 <p>You can get information about the error event by calling the <a href="GUID-5D0B1595-1AC7-3C44-AC6B-0EFB5EABCF31.html#GUID-5D0B1595-1AC7-3C44-AC6B-0EFB5EABCF31__GUID-61587DF0-0AA7-3287-B398-C83E5902E8C4"><span class="apiname">TWsEvent::ErrorMessage()</span></a> function. </p>
 <pre class="codeblock" id="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6__GUID-6953396C-B619-5172-8146-6D555AF7DEA1"><a name="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6__GUID-6953396C-B619-5172-8146-6D555AF7DEA1"><!-- --></a>    // A Window Server error event message
    case EEventErrorMessage:
        {
        // Get error category and code
        TWsErrorMessage* msg = iWsEvent.ErrorMessage();
        TWsErrorMessage::TErrorCategory errorCategory = msg -&gt; iErrorCategory;
        TUint code = msg -&gt; iError;
        break;
        }</pre>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-08427065-B8E5-5194-B095-3B5213836BED.html">Window Server Client-Side Events</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-930A3ABD-84FB-5D76-938C-79383273DAE6.html">Handling General Events</a></div>
<div><a href="GUID-B830A1F7-9220-5879-80BE-C494A4CD155B.html">General Events</a></div>
<div><a href="GUID-B7FF0B9C-3A17-5AAA-A986-7BA4F44DBD41.html" title="The following example demonstrates how to declare an active object Window Server event handling class.">Declaring a
                Window Server Event-Handling Class</a></div>
<div><a href="GUID-A51D3749-442A-54E8-8EB5-BF907694CD8C.html">Processing Window-Group
                Events</a></div>
<div><a href="GUID-E1E11C95-3400-548B-AEEE-577DA8FB9ECB.html">Processing Window Events</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>