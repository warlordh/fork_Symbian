<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MSsmStatePolicy"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-A86FEEA6-7602-34A9-A200-E2521CB66BD4"/>

<title>MSsmStatePolicy</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-A86FEEA6-7602-34A9-A200-E2521CB66BD4"><a name="GUID-A86FEEA6-7602-34A9-A200-E2521CB66BD4"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2438551 id2652938 id2652982 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">MSsmStatePolicy Class Reference</h1>
	<table class="signature"><tr><td>class MSsmStatePolicy</td></tr></table><div class="section"><div>
			<p>The protocol for System State Policy DLLs. These are not ECOM DLLs because they need to work before the ECOM server is started.</p>

			<p>The first function in System State Policy DLLs must have an exported function with following signature that returns an instance of the <tt><a href="GUID-A86FEEA6-7602-34A9-A200-E2521CB66BD4.html#GUID-A86FEEA6-7602-34A9-A200-E2521CB66BD4">MSsmStatePolicy</a></tt> implementation:</p>

			<div class="p">
				<pre class="codeblock">IMPORT_C static MSsmStatePolicy* NewL();</pre>

			</div>

		</div></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">CSsmCommandList *</td><td><a href="#GUID-EFF0662A-E7CA-31BA-A7B5-AE37C750EF70">CommandList</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-49FD2CAC-5BCE-3E70-8F36-E43BA7C58B70">GetNextState</a>(<a href="GUID-59D9EDC7-6A51-38DD-A7FB-B849926D83F1.html">TSsmState</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-59D9EDC7-6A51-38DD-A7FB-B849926D83F1.html">TSsmState</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-AF422F80-C4FC-32B1-91F8-1A7A222F9545">Initialize</a>(<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-844E1947-17BD-322C-96E6-2F7F2D370CE9">InitializeCancel</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-5C3FB531-BBD1-305D-8462-B254176A8C81">PrepareCommandList</a>(<a href="GUID-59D9EDC7-6A51-38DD-A7FB-B849926D83F1.html">TSsmState</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-0B434411-2239-3841-983D-ECD589359E26">PrepareCommandListCancel</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-46DC24B9-A29C-3E6E-8E3B-DC2BDBADD579">Release</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-A86FEEA6-7602-34A9-A200-E2521CB66BD4.html">TResponse</a>
				</td><td><a href="#GUID-99D51F4B-D80A-37AA-AC66-E577BC51D79A">TransitionAllowed</a>(const <a href="GUID-CEBD45FB-5E0E-3EBA-B134-545B7F82EBEC.html">TSsmStateTransition</a> &amp;, <a href="GUID-CEBD45FB-5E0E-3EBA-B134-545B7F82EBEC.html">TSsmStateTransition</a> const *, <a href="GUID-CEBD45FB-5E0E-3EBA-B134-545B7F82EBEC.html">TSsmStateTransition</a> const *, const <a href="GUID-78E0DEDD-C020-3174-AD0A-E4C18C4C9213.html">RMessagePtr2</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-A5E68903-FB94-3083-8130-1EB4138111B7">MSsmStatePolicy_Reserved_1</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-AA9D879A-3078-3DE3-9712-2B239CB9A64B">MSsmStatePolicy_Reserved_2</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-2702D02A-85A3-3821-BA8B-2DC2298C48A2">MSsmStatePolicy_Reserved_3</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-6FD8CFA8-FD41-3E22-96C3-DA7FADC8DE8E">TResponse</a> { <a href="#GUID-BCACB503-B3DC-3682-BD3C-BB761C50EF60">ENotAllowed</a>, <a href="#GUID-2ECF4BFE-2381-392A-B51B-FD8CA4A03BED">EDefinitelyAllowed</a>, <a href="#GUID-7CFE027F-889B-36DC-8721-B177F762033E">ECurrentRemainReplaceQueued</a>, <a href="#GUID-F1EEA588-4280-351B-A875-E9A8F925986D">EReplaceCurrentClearQueue</a> }</td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-EFF0662A-E7CA-31BA-A7B5-AE37C750EF70"><a name="GUID-EFF0662A-E7CA-31BA-A7B5-AE37C750EF70"><!-- --></a>
		<h2 class="topictitle2">CommandList()</h2>
		<table class="signature"><tr><td>CSsmCommandList *</td><td>CommandList</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Used to retrieve the command list once the PrepareCommandList has completed. Ownership of the returned command list is transferred to the caller. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-49FD2CAC-5BCE-3E70-8F36-E43BA7C58B70"><a name="GUID-49FD2CAC-5BCE-3E70-8F36-E43BA7C58B70"><!-- --></a>
		<h2 class="topictitle2">GetNextState(TSsmState, TInt, TInt, TInt, TSsmState &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>GetNextState</td><td>(</td><td><a href="GUID-59D9EDC7-6A51-38DD-A7FB-B849926D83F1.html">TSsmState</a></td><td>aCurrentTransition,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aReason,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aError,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aSeverity,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-59D9EDC7-6A51-38DD-A7FB-B849926D83F1.html">TSsmState</a> &amp;</td><td>aNextState</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Used to determine the next sub state transition. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-59D9EDC7-6A51-38DD-A7FB-B849926D83F1.html">TSsmState</a> aCurrentTransition</td><td>Contains the last executed state transition.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aReason</td><td>Contains the reason as given by the request  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aError</td><td>Contains the completion code from the last executed sub-state transition  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aSeverity</td><td>Contains the severity of the failed command in case the sub-state transition ended with an error  </td></tr><tr><td class="parameter"><a href="GUID-59D9EDC7-6A51-38DD-A7FB-B849926D83F1.html">TSsmState</a> &amp; aNextState</td><td>The next System State to head for, if there is one  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-AF422F80-C4FC-32B1-91F8-1A7A222F9545"><a name="GUID-AF422F80-C4FC-32B1-91F8-1A7A222F9545"><!-- --></a>
		<h2 class="topictitle2">Initialize(TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>Initialize</td><td>(</td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<div class="p">This function is guaranteed to be called before this System State Policy is used. It is intended for e.g. opening resource files or if you need to initialize hardware or talk to a domestic OS. <pre class="codeblock">	//minimal implemementation of this function would be
	TRequestStatus* status = &amp;aStatus;
	User::RequestComplete(status, KErrNone);</pre>
 </div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>to complete when the initialization operation has finished  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-844E1947-17BD-322C-96E6-2F7F2D370CE9"><a name="GUID-844E1947-17BD-322C-96E6-2F7F2D370CE9"><!-- --></a>
		<h2 class="topictitle2">InitializeCancel()</h2>
		<table class="signature"><tr><td>void</td><td>InitializeCancel</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Used to inform the policy DLL to Cancel an asynchronous Initialize operation. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-A5E68903-FB94-3083-8130-1EB4138111B7"><a name="GUID-A5E68903-FB94-3083-8130-1EB4138111B7"><!-- --></a>
		<h2 class="topictitle2">MSsmStatePolicy_Reserved_1()</h2>
		<table class="signature"><tr><td>void</td><td>MSsmStatePolicy_Reserved_1</td><td>(</td><td>)</td><td>[private, inline, virtual]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-AA9D879A-3078-3DE3-9712-2B239CB9A64B"><a name="GUID-AA9D879A-3078-3DE3-9712-2B239CB9A64B"><!-- --></a>
		<h2 class="topictitle2">MSsmStatePolicy_Reserved_2()</h2>
		<table class="signature"><tr><td>void</td><td>MSsmStatePolicy_Reserved_2</td><td>(</td><td>)</td><td>[private, inline, virtual]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-2702D02A-85A3-3821-BA8B-2DC2298C48A2"><a name="GUID-2702D02A-85A3-3821-BA8B-2DC2298C48A2"><!-- --></a>
		<h2 class="topictitle2">MSsmStatePolicy_Reserved_3()</h2>
		<table class="signature"><tr><td>void</td><td>MSsmStatePolicy_Reserved_3</td><td>(</td><td>)</td><td>[private, inline, virtual]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-5C3FB531-BBD1-305D-8462-B254176A8C81"><a name="GUID-5C3FB531-BBD1-305D-8462-B254176A8C81"><!-- --></a>
		<h2 class="topictitle2">PrepareCommandList(TSsmState, TInt, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>PrepareCommandList</td><td>(</td><td><a href="GUID-59D9EDC7-6A51-38DD-A7FB-B849926D83F1.html">TSsmState</a></td><td>aState,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aReason,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Used to create the command list associated with a sub state transition. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-59D9EDC7-6A51-38DD-A7FB-B849926D83F1.html">TSsmState</a> aState</td><td>Contains the state that identifies the command list to create  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aReason</td><td>Contains the reason as given by the request  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>to complete when the operation has finished  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-0B434411-2239-3841-983D-ECD589359E26"><a name="GUID-0B434411-2239-3841-983D-ECD589359E26"><!-- --></a>
		<h2 class="topictitle2">PrepareCommandListCancel()</h2>
		<table class="signature"><tr><td>void</td><td>PrepareCommandListCancel</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Used to inform the policy DLL that the pending asynchronous PrepareCommandList operation needs to be cancelled. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-46DC24B9-A29C-3E6E-8E3B-DC2BDBADD579"><a name="GUID-46DC24B9-A29C-3E6E-8E3B-DC2BDBADD579"><!-- --></a>
		<h2 class="topictitle2">Release()</h2>
		<table class="signature"><tr><td>void</td><td>Release</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>It is expected that Release will usually just call "delete this" on the object, but this will depend on the implementation of each policy. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-99D51F4B-D80A-37AA-AC66-E577BC51D79A"><a name="GUID-99D51F4B-D80A-37AA-AC66-E577BC51D79A"><!-- --></a>
		<h2 class="topictitle2">TransitionAllowed(const TSsmStateTransition &amp;, TSsmStateTransition const *, TSsmStateTransition const *, const RMessagePtr2 &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-A86FEEA6-7602-34A9-A200-E2521CB66BD4.html">TResponse</a>
				</td><td>TransitionAllowed</td><td>(</td><td>const <a href="GUID-CEBD45FB-5E0E-3EBA-B134-545B7F82EBEC.html">TSsmStateTransition</a> &amp;</td><td>aRequest,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-CEBD45FB-5E0E-3EBA-B134-545B7F82EBEC.html">TSsmStateTransition</a> const *</td><td>aCurrent,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-CEBD45FB-5E0E-3EBA-B134-545B7F82EBEC.html">TSsmStateTransition</a> const *</td><td>aQueued,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-78E0DEDD-C020-3174-AD0A-E4C18C4C9213.html">RMessagePtr2</a> &amp;</td><td>aMessage</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Used to determine if an incoming request should be accepted or rejected. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-CEBD45FB-5E0E-3EBA-B134-545B7F82EBEC.html">TSsmStateTransition</a> &amp; aRequest</td><td>Contains information about the new request  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-CEBD45FB-5E0E-3EBA-B134-545B7F82EBEC.html">TSsmStateTransition</a> const * aCurrent</td><td>Contains NULL or the first accepted but not yet completed transition request  </td></tr><tr><td class="parameter"><a href="GUID-CEBD45FB-5E0E-3EBA-B134-545B7F82EBEC.html">TSsmStateTransition</a> const * aQueued</td><td>Contains NULL or a second accepted but not yet started transition request  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-78E0DEDD-C020-3174-AD0A-E4C18C4C9213.html">RMessagePtr2</a> &amp; aMessage</td><td>Contains information about the requesting client process. DLLs should not call RMessagePtr2::Complete.  </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Enumerations Documentation</h1><div class="nested1" id="GUID-6FD8CFA8-FD41-3E22-96C3-DA7FADC8DE8E"><a name="GUID-6FD8CFA8-FD41-3E22-96C3-DA7FADC8DE8E"><!-- --></a>
		<h2 class="topictitle2">Enum TResponse</h2>
		<div class="section"></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">ENotAllowed</td><td> </td></tr><tr class="bg"><td valign="top">EDefinitelyAllowed</td><td> </td></tr><tr><td valign="top">ECurrentRemainReplaceQueued</td><td> </td></tr><tr class="bg"><td valign="top">EReplaceCurrentClearQueue</td><td> </td></tr></table></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>