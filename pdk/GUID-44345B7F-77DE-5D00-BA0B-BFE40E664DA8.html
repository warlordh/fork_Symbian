<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Certificate Application Framework"/>
<meta name="abstract" content="Certificate applications (certapps) framework provides interfaces for implementing certapp stores. A certapps store holds a list of clients that trust the certificates (root certificate) stored in the certificate store (certstore). For example, certificates associated with TLS are held in certstore and applications that trust these certificates are held in certapps store."/>
<meta name="description" content="Certificate applications (certapps) framework provides interfaces for implementing certapp stores. A certapps store holds a list of clients that trust the certificates (root certificate) stored in the certificate store (certstore). For example, certificates associated with TLS are held in certstore and applications that trust these certificates are held in certapps store."/>
<meta name="DC.Relation" scheme="URI" content="GUID-B89AA86B-F7E9-50DF-9DA5-6D3A21469EA8.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-315452C2-A1E2-5888-A694-6D2DE73A3F5E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-861D7EC2-63BD-5C71-AA48-A76C40D04E1F.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A6FF1073-AA55-588D-8DC1-0A8C16864891.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B89AA86B-F7E9-50DF-9DA5-6D3A21469EA8.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-39B459CD-8210-59B5-95F4-85CE36676735.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C7150120-74C2-5FF1-99F0-0A267393E342.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Certificate Application Framework</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8"><a name="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2858558 id2859120 id2859129 id2859143 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-315452C2-A1E2-5888-A694-6D2DE73A3F5E.html">OS Security Guide</a> &gt; <a href="GUID-861D7EC2-63BD-5C71-AA48-A76C40D04E1F.html">Crypto Management Libraries</a> &gt; <a href="GUID-A6FF1073-AA55-588D-8DC1-0A8C16864891.html">CryptoToken Framework</a> &gt; <a href="GUID-B89AA86B-F7E9-50DF-9DA5-6D3A21469EA8.html">CryptoToken Framework Concepts</a> &gt; </div>
<h1 class="topictitle1">Certificate
Application Framework</h1>
<div><p>Certificate applications (certapps) framework provides interfaces
for implementing certapp stores. A certapps store holds a list of clients
that trust the certificates (root certificate) stored in the certificate store
(certstore). For example, certificates associated with TLS are held in certstore
and applications that trust these certificates are held in certapps store. </p>

<div class="section" id="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-B433DE89-5B53-50F2-923C-52DAA5650CB9"><a name="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-B433DE89-5B53-50F2-923C-52DAA5650CB9"><!-- --></a><h2 class="sectiontitle">Description</h2> <p>The
certapps framework is an extension of <a href="GUID-C7150120-74C2-5FF1-99F0-0A267393E342.html">Crypto
token Framework</a>. It provides interface that must be implemented to
retrieve clients of certificate management. </p>
 <ul>
<li id="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-283EBC79-1361-50AE-97DF-CEFC62C93834"><a name="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-283EBC79-1361-50AE-97DF-CEFC62C93834"><!-- --></a><p>Each client consists
of a UID and a human-readable name, and represents an application. </p>
 </li>

<li id="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-108F5001-D7A3-5E2A-B548-8AAEF30EC1B2"><a name="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-108F5001-D7A3-5E2A-B548-8AAEF30EC1B2"><!-- --></a><p>Each certificate is
marked as trusted by one or more of the UIDs indicating that it is trusted
by a particular application, and making it a root certificate for that application. </p>
 </li>

<li id="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-629C668A-7E2A-5B55-BBF5-4BE58E8D133A"><a name="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-629C668A-7E2A-5B55-BBF5-4BE58E8D133A"><!-- --></a><p>Different clients trust
different certificates, For example, TLS might trust VeriSign's secure server
root, but Software Install may not trust. </p>
 </li>

</ul>
 <p><strong>TCertificateAppInfo</strong> </p>
 <p>The framework includes <a href="GUID-D81D035F-EB2F-3A6C-A0C9-17473160A3CE.html"><span class="apiname">TCertificateAppInfo</span></a> class
that provides information such as name and UID of the certificate application
used as a token. The UID does not have to be the application UID, but must
be unique. It can be set through the standard UID allocation scheme. </p>
 <div class="fignone" id="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-164B67F3-ED8A-5FBE-9503-466651D00A82"><a name="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-164B67F3-ED8A-5FBE-9503-466651D00A82"><!-- --></a><span class="figcap">Figure 1. Symbian Certapps Implementation               </span>

<img src="GUID-3D4D96AB-4A77-5EC1-9C2F-9BADF76209D1_d0e590709_href.jpg"/>
</div>
 <p><strong>CCertificateAppInfoManager </strong> </p>
 <p>The Symbian implementation
of file based certstore uses certapps store. <a href="GUID-D81D035F-EB2F-3A6C-A0C9-17473160A3CE.html"><span class="apiname">CCertificateAppInfoManager</span></a> provides
functions to add, remove and list these UID/name pairs. An application can
retrieve the UID/name pairs for all clients of certificate management. The <a href="GUID-D81D035F-EB2F-3A6C-A0C9-17473160A3CE.html"><span class="apiname">TCertificateAppInfo</span></a> class
encapsulates the UID/name pairs. </p>
 <ul>
<li id="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-9ABCA787-0D50-5199-9957-CF57A2ACA935"><a name="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-9ABCA787-0D50-5199-9957-CF57A2ACA935"><!-- --></a><p> <strong>Add a new client </strong> </p>
 <pre class="codeblock" id="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-1E9E1ED6-C62B-53FB-A242-2DEF9A9A8B21"><a name="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-1E9E1ED6-C62B-53FB-A242-2DEF9A9A8B21"><!-- --></a>IMPORT_C void AddL(const TCertificateAppInfo&amp; aClient);</pre>
 <p>Leaves
with <samp class="codeph">KErrPermissionDenied</samp> if the caller does not have the
required capability </p>
 </li>

<li id="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-FFAA12F7-DB9D-59ED-852F-E8245099BAFF"><a name="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-FFAA12F7-DB9D-59ED-852F-E8245099BAFF"><!-- --></a><p> <strong>Remove an existing
client </strong> </p>
 <pre class="codeblock" id="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-76226067-8A45-5E58-BFF0-375129AA3745"><a name="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-76226067-8A45-5E58-BFF0-375129AA3745"><!-- --></a>IMPORT_C void RemoveL(const TUid&amp; aUid);</pre>
 <p>Leaves
with <samp class="codeph">KErrNotFound</samp> if the client does not exist, and KErrPermissionDenied
if the caller does not have the required capability </p>
 </li>

<li id="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-E5011DDA-CE0E-5835-83E3-50EE29A7E207"><a name="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-E5011DDA-CE0E-5835-83E3-50EE29A7E207"><!-- --></a><p> <strong>List the registered
clients </strong> </p>
 <pre class="codeblock" id="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-AEB5A34D-A321-5D3A-92A0-6C08C7444345"><a name="GUID-44345B7F-77DE-5D00-BA0B-BFE40E664DA8__GUID-AEB5A34D-A321-5D3A-92A0-6C08C7444345"><!-- --></a>IMPORT_C const RArray&lt;TCertificateAppInfo&gt;&amp; Applications() const;</pre>
 <p>The returned array becomes the property of the caller who is responsible
for its destruction. </p>
 </li>

</ul>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-B89AA86B-F7E9-50DF-9DA5-6D3A21469EA8.html">CryptoToken Framework Concepts</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-39B459CD-8210-59B5-95F4-85CE36676735.html">Unified Store</a></div>
<div><a href="GUID-C7150120-74C2-5FF1-99F0-0A267393E342.html">CryptoToken
Framework Overview</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>