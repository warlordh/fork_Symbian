<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Starting Audio Record"/>
<meta name="abstract" content="This document describes how to start recording audio data."/>
<meta name="description" content="This document describes how to start recording audio data."/>
<meta name="DC.Relation" scheme="URI" content="GUID-A7498DE3-E9A1-5921-9867-4254685CAC18.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-EC4CE675-3EE7-58F7-A872-E72548B0C9A5.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-170A1D9C-12CB-502A-BCB3-9E2AEBB207FA.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C05374FC-CF33-58C2-9442-B9EE78C81A4F.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-89EDF464-8DC5-5A2A-9135-3FE82EF40FF4.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A7498DE3-E9A1-5921-9867-4254685CAC18.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-96B8657D-FC07-5D5C-8ADE-3B2167A9229E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D67D6147-ECE1-576C-A64C-120F32AE2AA2.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D0CD890F-36DB-5265-B2C1-8D632EAF736B.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Starting Audio Record</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC"><a name="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2405098 id2397272 id2397376 id2397385 id2397399 id2397454 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html">Multimedia Guide</a> &gt; <a href="GUID-EC4CE675-3EE7-58F7-A872-E72548B0C9A5.html" title="The Sound Device collection provides a common interface for all audio functionality. Key audio components in the Sound Device collection are the Advanced Audio Adaptation Framework (A3F) DevSound and Audio Component Framework.">Sound Device Collection</a> &gt; <a href="GUID-170A1D9C-12CB-502A-BCB3-9E2AEBB207FA.html" title="The A3F DevSound component provides hardware accelerated access to audio functionality on the Symbian platform.">A3F DevSound Component</a> &gt; <a href="GUID-C05374FC-CF33-58C2-9442-B9EE78C81A4F.html" title="This section describes the DevSound library.">DevSound Library</a> &gt; <a href="GUID-89EDF464-8DC5-5A2A-9135-3FE82EF40FF4.html" title="This section describes how to use the DevSound library functionality.">DevSound Library Tutorials</a> &gt; <a href="GUID-A7498DE3-E9A1-5921-9867-4254685CAC18.html" title="This section introduces how to record audio using various functionality:">Recording Audio</a> &gt; </div>
<h1 class="topictitle1">Starting Audio Record </h1>
<div><p>This document describes how to start recording audio data. </p>
<div class="section" id="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-85C74D40-680A-53B4-B4FF-04EAF246E903"><a name="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-85C74D40-680A-53B4-B4FF-04EAF246E903"><!-- --></a><h2 class="sectiontitle">Introduction</h2> <p>To record audio data, do the following: </p>
 <ul><li id="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-6D97CCB8-64E9-5654-AFCB-1C78D8EB28AC"><a name="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-6D97CCB8-64E9-5654-AFCB-1C78D8EB28AC"><!-- --></a><p><a href="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC.html#GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-E3F29A89-2FBC-59DC-970E-6507CF970F8A">Constructing and initializing</a>  </p>
 </li>
 <li id="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-5F77CB18-512B-5C9C-A91F-4057E516ADD4"><a name="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-5F77CB18-512B-5C9C-A91F-4057E516ADD4"><!-- --></a><p><a href="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC.html#GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-24F9ED80-AA8D-5F74-9EFB-905BD6F9F0BC">Configuring</a> </p>
 </li>
 </ul>
 <p><strong>Constructing and initializing</strong> </p>
 <p>Use the <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD__GUID-088CC167-C46D-3A2B-BE00-D7AEB98254AE"><span class="apiname">CMMFDevSound::NewL()</span></a> method to construct a new instance of DevSound. </p>
 <p>After construction, use an <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD__GUID-CBBB4A4E-0705-37E2-9832-A55861ACF299"><span class="apiname">CMMFDevSound::InitializeL()</span></a> method to initialize DevSound to record audio. This method requires that you specify the DevSound observer class to handle callbacks. </p>
 <p>Once initialization has completed, successfully or otherwise, DevSound calls the <a href="GUID-D0F3F385-68C9-331D-865F-DA36589BE9FD.html#GUID-D0F3F385-68C9-331D-865F-DA36589BE9FD__GUID-089CF9C1-92EF-3F40-8669-A5EF5C064AD4"><span class="apiname">MDevSoundObserver::InitializeComplete()</span></a> function. </p>
 <p><strong>Configuring</strong> </p>
 <p>The following settings can be configured before or during recording: </p>
 <ul><li id="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-CB735E74-53A2-54C5-94B6-FC9CA95B0B66"><a name="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-CB735E74-53A2-54C5-94B6-FC9CA95B0B66"><!-- --></a><p>To set the gain of the recording device to a specific value, use the <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD__GUID-039E5508-8205-31FA-9D9B-37E1753F2018"><span class="apiname">CMMFDevSound::SetGain()</span></a> function. The gain can be set to any value from 0 to <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD__GUID-60B1493B-90E8-3E26-B744-7FD95DB0E910"><span class="apiname">CMMFDevSound::MaxGain()</span></a>. </p>
 </li>
 <li id="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-99B40B9A-3C39-5607-AD8F-E30A004AFD6C"><a name="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-99B40B9A-3C39-5607-AD8F-E30A004AFD6C"><!-- --></a><p>To set the microphone gain balance, use the <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD__GUID-F36461AE-6774-3E13-9BED-E871789895AB"><span class="apiname">CMMFDevSound::SetRecordBalanceL()</span></a> function. This function has two parameters: </p>
 <ul><li id="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-DA8BB066-587A-56C5-B8F9-A9030F917D6C"><a name="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-DA8BB066-587A-56C5-B8F9-A9030F917D6C"><!-- --></a><p> <samp class="codeph">aLeftPercentage</samp> - the left microphone gain percentage. </p>
 </li>
 <li id="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-90A89BE3-5485-526D-8BF8-334BDF73F026"><a name="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-90A89BE3-5485-526D-8BF8-334BDF73F026"><!-- --></a><p> <samp class="codeph">aRightPercentage</samp> - the right microphone gain percentage. </p>
 </li>
 </ul>
 </li>
 <li id="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-37000BA6-D486-595C-A8D8-00B092DC8229"><a name="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-37000BA6-D486-595C-A8D8-00B092DC8229"><!-- --></a><p>To set the priority setting for this instance of DevSound to access the audio device, use the <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD__GUID-1B3B1694-EED8-3B33-B424-C48DDAFBE75A"><span class="apiname">CMMFDevSound::SetPrioritySettings()</span></a> method. Priority settings are used by the Audio Policy component to resolve multiple requests to access the audio hardware. </p>
 </li>
 </ul>
 </div>
 <div class="section"><h2 class="sectiontitle">Procedure</h2> <a name="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-54ADBD8A-7482-543F-BD5D-85F234CEEB93"><!-- --></a><ul id="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-54ADBD8A-7482-543F-BD5D-85F234CEEB93"><li id="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-9A5E2779-ED37-576C-BF8A-CCF53351CB18"><a name="GUID-769CD1E7-8545-5223-A195-43E72AAF5DDC__GUID-9A5E2779-ED37-576C-BF8A-CCF53351CB18"><!-- --></a><p>Call the <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD__GUID-ECC978D1-B45A-35E4-9A40-F285152023FE"><span class="apiname">CMMFDevSound::RecordInitL()</span></a> function to start audio recording. </p>
 <p>Once started, audio data is recorded incrementally into a buffer. When there is data in the buffer, use the <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD__GUID-C6E50479-4E8F-33EE-B298-C5D8DE7E3879"><span class="apiname">CMMFDevSound::RecordData()</span></a> method to record the data: </p>
 <p>Once the buffer is filled with recorded data, DevSound calls the <a href="GUID-D0F3F385-68C9-331D-865F-DA36589BE9FD.html#GUID-D0F3F385-68C9-331D-865F-DA36589BE9FD__GUID-0E4EB9DB-B802-3CE0-979A-F41767BFD017"><span class="apiname">MDevSoundObserver::BufferToBeEmptied()</span></a> function. When the recorded data has been read from the buffer, again use the <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD__GUID-C6E50479-4E8F-33EE-B298-C5D8DE7E3879"><span class="apiname">CMMFDevSound::RecordData()</span></a> method. The client must accept audio data through the buffers at a sufficient rate to avoid buffer overflow. </p>
 </li>
 </ul>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-A7498DE3-E9A1-5921-9867-4254685CAC18.html" title="This section introduces how to record audio using various functionality:">Recording Audio</a></div>
</div>
<div class="relinfo reltasks"><strong>Related tasks</strong><br/>
<div><a href="GUID-96B8657D-FC07-5D5C-8ADE-3B2167A9229E.html" title="The Pause() function stops recording audio, without stopping the buffer traffic. If the Resume() function is supported, you can then use it to continue recording. The buffer traffic continues because the Pause() function does not terminate the MMMFAudioDataConsumer::BufferToBeEmptied(MMMFBufferSink *,CMMFBuffer *) RecordData() cycle.">Pausing and
                Resuming Audio Record</a></div>
<div><a href="GUID-D67D6147-ECE1-576C-A64C-120F32AE2AA2.html" title="This section describes how to use the DevSound library while stopping the audio record functionality.">Stopping Audio
                Record</a></div>
<div><a href="GUID-D0CD890F-36DB-5265-B2C1-8D632EAF736B.html" title="This tutorial describes how to retrieve the number of samples used while recording audio.">Retrieving Audio
                Record Samples</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>