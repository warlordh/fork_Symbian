<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Device Variant Using Multiple Keyspace Files"/>
<meta name="DC.Relation" scheme="URI" content="GUID-50BA6AEB-E968-5CCA-8F5D-A65969263D90.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F8824165-4B33-50D1-9706-BD2438B5A2EE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-50BA6AEB-E968-5CCA-8F5D-A65969263D90.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E3BE62B2-9625-5F79-84A4-0248A3F36225.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1C683226-C142-5C7B-BD20-060058352B08.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3D152CC5-AF20-520A-AB67-457F956A5551.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Device Variant Using Multiple Keyspace Files</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35"><a name="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2859821 id2860178 id2860209 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html" title="Provides services to enable and support persistence.">Persistent Data Services Guide</a> &gt; <a href="GUID-F8824165-4B33-50D1-9706-BD2438B5A2EE.html" title="The persistent storage collection.">Persistent Storage</a> &gt; <a href="GUID-50BA6AEB-E968-5CCA-8F5D-A65969263D90.html" title="Provides persistance for application data, such as default filenames, locale settings and user preferences, between sessions.">Central Repository</a> &gt; </div>
<h1 class="topictitle1">Device
Variant Using Multiple Keyspace Files</h1>
<div>
<p>This topic describes the use of multiple keyspace files on multiple ROFS
layers to create a device variant. </p>

<div class="section"><h2 class="sectiontitle">Introduction</h2> <p>The central respository consists of
keyspaces used to store application settings. The device variant creators
need to modify these settings for every variant of the device. </p>
 <p>In
the older method the variant engineer has to branch out the exisiting keyspace
files , modify the settings and reflash the device with the new keyspace files.
The disadvantage of the older method is that the variant engineer has to maintain
multiple keyspace files. The modified keyspace must have the same files name
as the existing one. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Multiple ROFS layers </h2> <p>The central repository now
supports keyspace that is composed of multiple files. A new keyspace file
is created for a new ROFS layer. This enables the variant engineers to modify
a specific setting in the keyspace in one layer and merge the repository with
the new settings. The new feature to modify specific settings of a keyspace
reduces the time to create different variants. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Merge the settings</h2> <p>The figure below shows how a
specific setting is modified in the new meachnism. In the example below the
keyspace d is modified in the new ROFS layer to create a variant. The central
repository reads the keyspace files and merges the modified settings of <samp class="codeph">keyspace
d</samp>. The settings in the higher ROFS layer get the priority of the
settings. The higher ROFS layers cannot modify the global properties of the
keyspaces like metadata, owner information and the access control information. </p>
 <div class="fignone" id="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-BABA2027-0E54-575A-8A59-EB771CF46529"><a name="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-BABA2027-0E54-575A-8A59-EB771CF46529"><!-- --></a><span class="figcap">Figure 1.               Central repository - Modify a setting            </span>

<img src="GUID-D7179664-C442-5253-9925-994CA0C63B50_d0e615744_href.png"/>
</div>
 <p>The figure below shows how a new setting is added to the central
repository keyspace. </p>
 <div class="fignone" id="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-B1ED9F5D-4490-5F61-A084-44C8C6C0978C"><a name="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-B1ED9F5D-4490-5F61-A084-44C8C6C0978C"><!-- --></a><span class="figcap">Figure 2.               Central repository - Add a new setting            </span>

<img src="GUID-3A07445A-1CD4-5556-BE65-553A4A251789_d0e615755_href.png"/>
</div>
 </div>

<div class="section"><h2 class="sectiontitle">Advantages</h2> <p>The advantages of using
multiple ROFS layer to create device variant are: </p>
 <ul>
<li id="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-EED83088-C966-5206-94B3-4B9B693F6CF7"><a name="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-EED83088-C966-5206-94B3-4B9B693F6CF7"><!-- --></a><p>variant engineers can
modify selective settings in a keyspace </p>
 </li>

<li id="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-5FCD32A3-8780-5B5C-BE29-0A6BAA068EF6"><a name="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-5FCD32A3-8780-5B5C-BE29-0A6BAA068EF6"><!-- --></a><p>no need to branch and
maintain multiple keyspace files for each variant created </p>
 </li>

<li id="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-89B96F5E-F33D-5512-889A-98D6A9A35033"><a name="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-89B96F5E-F33D-5512-889A-98D6A9A35033"><!-- --></a><p>central repository can
detect the multiple keyspace files at run time and merge the settings as one
keyspace </p>
 </li>

</ul>
 </div>

<div class="section"><h2 class="sectiontitle">Guidelines</h2> <p>The following are some guidelines to
use the multiple ROFS layers to create device variant: </p>
 <ul>
<li id="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-2D54FF98-37FE-554A-9C33-A9E60FFA6EF8"><a name="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-2D54FF98-37FE-554A-9C33-A9E60FFA6EF8"><!-- --></a><p>Use the binary files
(CRE) or text files to initialise the keyspaces </p>
 </li>

<li id="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-97C5701A-58A5-57FD-A1F6-B36CB169D073"><a name="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-97C5701A-58A5-57FD-A1F6-B36CB169D073"><!-- --></a><p>Do not use the combination
of text and binary files for a keyspace. Use one format of the initialisation
files. </p>
 </li>

<li id="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-1A5774F2-9CD9-509C-B17C-83990C51973F"><a name="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-1A5774F2-9CD9-509C-B17C-83990C51973F"><!-- --></a><p>The keyspace files in
higher ROFS layers must not modify the global properties such as metadata,
owner information and access control information. </p>
 </li>

</ul>
 </div>

<div class="section"><h2 class="sectiontitle">Errors</h2> <p>The following table shows the possible errors
that may occur in use of multiple ROFS layers for device variant creation: </p>
 
<div class="tablenoborder"><a name="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-78196B5E-6474-5C23-9488-10290CA7D3D0"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-C86A7929-DC0F-50FA-93CB-662A22C4CD35__GUID-78196B5E-6474-5C23-9488-10290CA7D3D0" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" id="d1815683e133">Error</th>

<th class="cellrowborder" valign="top" id="d1815683e136">Reason for the error</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" headers="d1815683e133 "><p> <samp class="codeph">CENREPCLI: Panic 8</samp>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1815683e136 "><p>The binary files (CRE) must be converted with the new central repository
conversion tool. </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d1815683e133 "><p> <samp class="codeph">CENREPCLI: Panic 9</samp>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1815683e136 "><p>The keyspace files in the higher layer is trying to modify a global
property </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d1815683e133 "><p> <samp class="codeph">CENREPCLI: Panic 10</samp>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1815683e136 "><p>Higher layer keyspace file is trying to modify a type of a setting
in the lower layer </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d1815683e133 "><p> <samp class="codeph">CENREPCLI: Panic 11</samp>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1815683e136 "><p>The default ROFS layer file is associated with <samp class="codeph">exattrib=u
                  </samp> attribute </p>
 </td>

</tr>

</tbody>

</table>
</div>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-50BA6AEB-E968-5CCA-8F5D-A65969263D90.html" title="Provides persistance for application data, such as default filenames, locale settings and user preferences, between sessions.">Central Repository</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-E3BE62B2-9625-5F79-84A4-0248A3F36225.html" title="This section describes how to make an application read and modify a repository at runtime from function calls in its application code."> Central
Repository Access Guide</a></div>
<div><a href="GUID-1C683226-C142-5C7B-BD20-060058352B08.html">Central Repository
Guide </a></div>
</div>
<div class="relinfo"><strong>Related information</strong><br/>
<div><a href="GUID-3D152CC5-AF20-520A-AB67-457F956A5551.html">Device Variant
With Multiple ROFS Layers                 Tutorial </a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>