<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MKeyStore"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-E6D7ADFE-1E80-36FB-8253-FA96145D3327"/>

<title>MKeyStore</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-E6D7ADFE-1E80-36FB-8253-FA96145D3327"><a name="GUID-E6D7ADFE-1E80-36FB-8253-FA96145D3327"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2487220 id2488660 id2488664 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">MKeyStore Class Reference</h1>
	<table class="signature"><tr><td>class MKeyStore</td></tr></table><div class="section"><div>
			<p>Defines the interface for a read-only key store.</p>

			<p>This prvides the API for the client to query the keys and open objects allowing crypto operations to be performed.</p>

			<p>This documentation describes the security policy that must be enforced by implementations of the interface. </p>

		</div></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-5374400D-8D30-3CD6-AC7D-3A75CE6193B5">CancelExportPublic</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-D145B3D6-C3A7-3387-9780-45D32415B855">CancelGetKeyInfo</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-01C16F2B-E90E-3053-BD19-FB23E082E900">CancelList</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-E9AD66C1-AC11-327F-BF85-F03D30862529">CancelOpen</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-D6CECAE0-4500-3B00-8824-2EF21E50D29B">ExportPublic</a>(const <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> &amp;, <a href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *&amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-24BA9AA1-3ED9-391E-BD54-87587EDA5913">GetKeyInfo</a>(<a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a>, <a href="GUID-7AE17C42-BAD8-3BE9-88A9-D0B066D171F2.html">CCTKeyInfo</a> *&amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-B6202D84-EB06-3110-BFC0-47EE90655A0C">List</a>(<a href="GUID-56A582D3-D0E7-38B8-8ECE-A536DE98131E.html">RMPointerArray</a>&lt; <a href="GUID-7AE17C42-BAD8-3BE9-88A9-D0B066D171F2.html">CCTKeyInfo</a> &gt; &amp;, const <a href="GUID-FACCA923-6444-333F-A432-D8838B9F056D.html">TCTKeyAttributeFilter</a> &amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-307BD30B-0E0B-34F3-BDE5-7C5A0B970D15">Open</a>(const <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> &amp;, <a href="GUID-40FE41EF-82DD-380D-BAEE-5BB0A48DD7E9.html">MRSASigner</a> *&amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-A40C0ADB-7ED9-33E7-9D17-F7D320F884EB">Open</a>(const <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> &amp;, <a href="GUID-40FE41EF-82DD-380D-BAEE-5BB0A48DD7E9.html">MDSASigner</a> *&amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-66E35778-B584-3346-9528-2B181EF3A9F7">Open</a>(const <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> &amp;, <a href="GUID-18F64A95-D5E0-342A-9ECB-D94B8B4D5B0F.html">MCTDecryptor</a> *&amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-B64752BE-64E1-3A45-838A-47BB8777FAF3">Open</a>(const <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> &amp;, <a href="GUID-3F8D8EF9-C4A6-387A-87CC-79DF76A997A9.html">MCTDH</a> *&amp;, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-5374400D-8D30-3CD6-AC7D-3A75CE6193B5"><a name="GUID-5374400D-8D30-3CD6-AC7D-3A75CE6193B5"><!-- --></a>
		<h2 class="topictitle2">CancelExportPublic()</h2>
		<table class="signature"><tr><td>void</td><td>CancelExportPublic</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Cancels an ongoing <a href="GUID-E6D7ADFE-1E80-36FB-8253-FA96145D3327.html#GUID-D6CECAE0-4500-3B00-8824-2EF21E50D29B">ExportPublic()</a> operation </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-D145B3D6-C3A7-3387-9780-45D32415B855"><a name="GUID-D145B3D6-C3A7-3387-9780-45D32415B855"><!-- --></a>
		<h2 class="topictitle2">CancelGetKeyInfo()</h2>
		<table class="signature"><tr><td>void</td><td>CancelGetKeyInfo</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Cancel an ongoing <a href="GUID-E6D7ADFE-1E80-36FB-8253-FA96145D3327.html#GUID-24BA9AA1-3ED9-391E-BD54-87587EDA5913">GetKeyInfo()</a> operation </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-01C16F2B-E90E-3053-BD19-FB23E082E900"><a name="GUID-01C16F2B-E90E-3053-BD19-FB23E082E900"><!-- --></a>
		<h2 class="topictitle2">CancelList()</h2>
		<table class="signature"><tr><td>void</td><td>CancelList</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Cancel an ongoing <a href="GUID-E6D7ADFE-1E80-36FB-8253-FA96145D3327.html#GUID-B6202D84-EB06-3110-BFC0-47EE90655A0C">List()</a> operation </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-E9AD66C1-AC11-327F-BF85-F03D30862529"><a name="GUID-E9AD66C1-AC11-327F-BF85-F03D30862529"><!-- --></a>
		<h2 class="topictitle2">CancelOpen()</h2>
		<table class="signature"><tr><td>void</td><td>CancelOpen</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Cancels an ongoing <a href="GUID-E6D7ADFE-1E80-36FB-8253-FA96145D3327.html#GUID-307BD30B-0E0B-34F3-BDE5-7C5A0B970D15">Open()</a> operation </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-D6CECAE0-4500-3B00-8824-2EF21E50D29B"><a name="GUID-D6CECAE0-4500-3B00-8824-2EF21E50D29B"><!-- --></a>
		<h2 class="topictitle2">ExportPublic(const TCTTokenObjectHandle &amp;, HBufC8 *&amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>ExportPublic</td><td>(</td><td>const <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> &amp;</td><td>aHandle,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *&amp;</td><td>aPublicKey,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Exporting keys Get the public half of a key pair.</p>

				<p>The key is returned in DER-encoded ASN-1. The format is that of the X509 SubjectPublicKeyInfo type.</p>

				<div class="p">For RSA keys, the format is: <pre class="pre">
 SEQUENCE-OF
     SEQUENCE-OF
         OID of the encryption algorithm (KRSA)
         NULL
     BIT STRING encoded public key.
 </pre>
</div>

				<div class="p">For DSA keys, the format is: <pre class="pre">
 SEQUENCE-OF
     SEQUENCE-OF
         OID dsa (1.2.840.10040.4.1)
         SEQUENCE-OF
             INTEGER p
             INTEGER q
             INTEGER g
     BIT STRING
         INTEGER public value (y)
 </pre>
</div>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Dependent Requires the caller to have any capabilities specified in the key use security policy. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrPermissionDenied If the caller does not conform to the key use security policy. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotFound If the key the handle referes to does not exist. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrKeyAlgorithm If the key is not an RSA or DSA key. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> &amp; aHandle</td><td>The handle of the key.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-2A528453-0279-3E47-838C-F8A8D29B88F1.html">HBufC8</a> *&amp; aPublicKey</td><td>A pointer to a buffer. This will be set to a newly created buffer containing the exported key data. The caller is responsible for deleting the buffer.  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-24BA9AA1-3ED9-391E-BD54-87587EDA5913"><a name="GUID-24BA9AA1-3ED9-391E-BD54-87587EDA5913"><!-- --></a>
		<h2 class="topictitle2">GetKeyInfo(TCTTokenObjectHandle, CCTKeyInfo *&amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>GetKeyInfo</td><td>(</td><td><a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a></td><td>aHandle,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-7AE17C42-BAD8-3BE9-88A9-D0B066D171F2.html">CCTKeyInfo</a> *&amp;</td><td>aInfo,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Getting a key given a <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html#GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326">TCTTokenObjectHandle</a> Retrieves a key given its handle.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Dependent Requires the caller to have any capabilities specified in the key use security policy. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrPermissionDenied If the caller does not conform to the key use security policy. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotFound If the key the handle referes to does not exist. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> aHandle</td><td>The handle of the required key  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-7AE17C42-BAD8-3BE9-88A9-D0B066D171F2.html">CCTKeyInfo</a> *&amp; aInfo</td><td>The returned key info  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Async request notification  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B6202D84-EB06-3110-BFC0-47EE90655A0C"><a name="GUID-B6202D84-EB06-3110-BFC0-47EE90655A0C"><!-- --></a>
		<h2 class="topictitle2">List(RMPointerArray&lt; CCTKeyInfo &gt; &amp;, const TCTKeyAttributeFilter &amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>List</td><td>(</td><td><a href="GUID-56A582D3-D0E7-38B8-8ECE-A536DE98131E.html">RMPointerArray</a>&lt; <a href="GUID-7AE17C42-BAD8-3BE9-88A9-D0B066D171F2.html">CCTKeyInfo</a> &gt; &amp;</td><td>aKeys,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FACCA923-6444-333F-A432-D8838B9F056D.html">TCTKeyAttributeFilter</a> &amp;</td><td>aFilter,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Listing keys List all the keys in the store that match the filter.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>ReadUserData requires the caller to have ReadUserData capability </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrPermissionDenied if the caller does not have ReadUserData capability </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-56A582D3-D0E7-38B8-8ECE-A536DE98131E.html">RMPointerArray</a>&lt; <a href="GUID-7AE17C42-BAD8-3BE9-88A9-D0B066D171F2.html">CCTKeyInfo</a> &gt; &amp; aKeys</td><td>An array to which the returned keys are appended  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-FACCA923-6444-333F-A432-D8838B9F056D.html">TCTKeyAttributeFilter</a> &amp; aFilter</td><td>a filter controlling which keys are returned  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>This will be completed with the final status code  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-307BD30B-0E0B-34F3-BDE5-7C5A0B970D15"><a name="GUID-307BD30B-0E0B-34F3-BDE5-7C5A0B970D15"><!-- --></a>
		<h2 class="topictitle2">Open(const TCTTokenObjectHandle &amp;, MRSASigner *&amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>Open</td><td>(</td><td>const <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> &amp;</td><td>aHandle,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-40FE41EF-82DD-380D-BAEE-5BB0A48DD7E9.html">MRSASigner</a> *&amp;</td><td>aSigner,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Opening keys Open an RSA key for signing</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Dependent Requires the caller to have any capabilities specified in the key use security policy. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrPermissionDenied If the caller does not conform to the key use security policy. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotFound If the key the handle referes to does not exist. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrKeyAlgorithm If the key is not an RSA key. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrKeyUsage If the key doesn't have sign usage. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrKeyValidity If the key is not currently valid. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> &amp; aHandle</td><td>The handle of the key to be opened. This must be the handle of an RSA key on this store that is usable for signing by this process or the operation will fail.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-40FE41EF-82DD-380D-BAEE-5BB0A48DD7E9.html">MRSASigner</a> *&amp; aSigner</td><td>The returned signer object.  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Asynchronous request notification.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-A40C0ADB-7ED9-33E7-9D17-F7D320F884EB"><a name="GUID-A40C0ADB-7ED9-33E7-9D17-F7D320F884EB"><!-- --></a>
		<h2 class="topictitle2">Open(const TCTTokenObjectHandle &amp;, MDSASigner *&amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>Open</td><td>(</td><td>const <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> &amp;</td><td>aHandle,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-40FE41EF-82DD-380D-BAEE-5BB0A48DD7E9.html">MDSASigner</a> *&amp;</td><td>aSigner,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Open a DSA key for signing</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Dependent Requires the caller to have any capabilities specified in the key use security policy. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrPermissionDenied If the caller does not conform to the key use security policy. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotFound If the key the handle referes to does not exist. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrKeyAlgorithm If the key is not a DSA key. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrKeyUsage If the key doesn't have sign usage. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrKeyValidity If the key is not currently valid. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> &amp; aHandle</td><td>The handle of the key to be opened. This must be the handle of a DSA key on this store that is usable by this process for signing or the operation will fail.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-40FE41EF-82DD-380D-BAEE-5BB0A48DD7E9.html">MDSASigner</a> *&amp; aSigner</td><td>The returned signer object  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Asynchronous request notification. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-66E35778-B584-3346-9528-2B181EF3A9F7"><a name="GUID-66E35778-B584-3346-9528-2B181EF3A9F7"><!-- --></a>
		<h2 class="topictitle2">Open(const TCTTokenObjectHandle &amp;, MCTDecryptor *&amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>Open</td><td>(</td><td>const <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> &amp;</td><td>aHandle,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-18F64A95-D5E0-342A-9ECB-D94B8B4D5B0F.html">MCTDecryptor</a> *&amp;</td><td>aDecryptor,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Open a RSA key for private decryption</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Dependent Requires the caller to have any capabilities specified in the key use security policy. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrPermissionDenied If the caller does not conform to the key use security policy. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotFound If the key the handle referes to does not exist. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrKeyAlgorithm If the key is not an RSA key. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrKeyUsage If the key doesn't have decrypt usage. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrKeyValidity If the key is not currently valid. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> &amp; aHandle</td><td>The handle of the key to be opened. This must be the handle of a RSA key on this store that is usable by this process for decryption or the operation will fail.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-18F64A95-D5E0-342A-9ECB-D94B8B4D5B0F.html">MCTDecryptor</a> *&amp; aDecryptor</td><td>The returned decryptor object  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Asynchronous request notification. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B64752BE-64E1-3A45-838A-47BB8777FAF3"><a name="GUID-B64752BE-64E1-3A45-838A-47BB8777FAF3"><!-- --></a>
		<h2 class="topictitle2">Open(const TCTTokenObjectHandle &amp;, MCTDH *&amp;, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>Open</td><td>(</td><td>const <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> &amp;</td><td>aHandle,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-3F8D8EF9-C4A6-387A-87CC-79DF76A997A9.html">MCTDH</a> *&amp;</td><td>aDH,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Open a DH key for key agreement</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>Dependent Requires the caller to have any capabilities specified in the key use security policy. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrPermissionDenied If the caller does not conform to the key use security policy. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotFound If the key the handle referes to does not exist. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrKeyAlgorithm If the key is not a DH key. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrKeyUsage If the key doesn't have derive usage. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrKeyValidity If the key is not currently valid. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-F50AF007-8E37-3DA4-82E3-BA7D29102326.html">TCTTokenObjectHandle</a> &amp; aHandle</td><td>The handle of the key to be opened. This must be the handle of a DH key on this store that is usable by this process for decryption or the operation will fail.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-3F8D8EF9-C4A6-387A-87CC-79DF76A997A9.html">MCTDH</a> *&amp; aDH</td><td>The returned agreement object  </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aStatus</td><td>Asynchronous request notification. </td></tr></table></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>