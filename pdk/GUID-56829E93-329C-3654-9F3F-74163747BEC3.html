<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MhspsInstallationService"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-56829E93-329C-3654-9F3F-74163747BEC3"/>

<title>MhspsInstallationService</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-56829E93-329C-3654-9F3F-74163747BEC3"><a name="GUID-56829E93-329C-3654-9F3F-74163747BEC3"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2366708 id2886779 id2887013 id2887018 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">MhspsInstallationService Class Reference</h1>
	<table class="signature"><tr><td>class MhspsInstallationService</td></tr></table><div class="section"><div>
			<p>Part of HSPS Plugin Configuration Management Service APIs. <a href="GUID-56829E93-329C-3654-9F3F-74163747BEC3.html#GUID-56829E93-329C-3654-9F3F-74163747BEC3">MhspsInstallationService</a>. API-definition for HSPS Plugin Installation Service. HSPS Plugin Installation Service is intended to serve Homescreen as well as S60 legacy applications - expecially the Personalisation Application - with the Homescreen Application Configuartion installation functionality. Implementation of this interface will offer high- and low-level API-functionality. High-level and low-level calls are diffrentiated by their parametrization. High-level parametrization is directed to the be used by applications which need human readable data and offer a user interface. Low-level parametrization is directed to the machine-originated requestors like OTA Push or DM (Device Management) sub-systems where data is not needed to understand semanticly.</p>

			<p>Processing a installation task works in asynchronous mode, howvere, synchronous mode is applied everytime the installation is initiated. After checking installation rights and files valididies, hsps Theme Server will allow actual installation. Client application must call actual installation by commencing next phase execution explicitly. First call of installation returns the ODT-header of the teme to be installed. This is to enable previewing information about a theme to be installed. In this point, user can accept or decline the installation. Installation preview feature is useful expecially in OTA-service cases when user acception on theme installation might be selected a a part of user policy settings. A theme can include resources that can be imported to the target system as such like some audio files etc., however, most of the images must be fitted on to the target device's color depth and pixel density. In these cases, the needed conversions will be executed asynchronously on server-side. Asynchronous installation is executed in phases - resource by resource. Installation phases are promoted automaticly, however, client application can control and monitor installation phases, and also cancel installation at any time. If installation is canceled, hspsThemeServer initiates roll-back functionality removing inconsistent installation.</p>

			<p>Client application must call hspsInstallNextPhase() after testing that the synchronous call <a href="GUID-56829E93-329C-3654-9F3F-74163747BEC3.html#GUID-56E6B928-6613-301D-A41F-F78E54BBEE39">hspsInstallTheme()</a> has returned EhspsInstallPhaseSuccess return code signalling that actual installation is allowed. The rest of the installation phases will be executed automatically, however, installation can be interrupted by calling <a href="GUID-56829E93-329C-3654-9F3F-74163747BEC3.html#GUID-736BC8C4-7148-3FD5-A828-8F57374D79EB">hspsCancelInstallTheme()</a> at any time. If installation is canceled, hspsThemeServer initiates roll-back functionality removing inconsistent installation. Installation service uses specific manifest-file format to get informed about the xml, css, dtd, and resource files to be installed. Resource files might be locale-specific or generic as well. hspsThemeServer takes care of saving everything on their appropriate places in the target device's user disk. Theme storage is located in hspsThemeServer's private-folder. Locales are instructed in manifest file also. Manifest file's file-extension must be .dat, but actually, the file-name can be whatever, however, when low-level parametrization is used, the name must be "manifest.dat" and it must be the last file extracted from the installation package. For more information of manifest-file format, see "Xuikon Manifest File User Guide.doc".</p>

			<div class="p">Installation functions can return one of the following ThspsServiceCompletedMessage-codes:<ul><li><p>EhspsInstallThemeSuccess,</p>
</li>
<li><p>EhspsInstallPhaseSuccess, or</p>
</li>
<li><p>EhspsInstallThemeFailed.</p>
</li>
</ul>
</div>

			<div class="p">Client application must implement MhspsThemeManagementServiceObserver-interface and listen these messages mentionaed. Let it be emphasised that both synchronous and asynchronous calls can return the codes above. Installation functions may also return one of the following codes:<ul><li><p>EhspsServiceRequestSheduled, or</p>
</li>
<li><p>EhspsServiceRequestError.</p>
</li>
</ul>
</div>

			<p>For explanation of the meanings of these messages, see ThspsServiceCompletedMessage-documentation.</p>

			<div class="p">
				<dl class="since">
					
						<dt class="dlterm">Since</dt>

						<dd>S60 5.0 </dd>

					
				</dl>

			</div>

		</div></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">
					<a href="GUID-D988810C-58CB-31C6-901C-F08C7A067456.html">ThspsServiceCompletedMessage</a>
				</td><td><a href="#GUID-736BC8C4-7148-3FD5-A828-8F57374D79EB">hspsCancelInstallTheme</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-D988810C-58CB-31C6-901C-F08C7A067456.html">ThspsServiceCompletedMessage</a>
				</td><td><a href="#GUID-21C6BBE7-DADE-3717-9384-CE92B551520B">hspsInstallNextPhaseL</a>(<a href="GUID-268AB2C8-9E61-362E-97CF-4E00B9184A14.html">ChspsODT</a> &amp;)</td></tr><tr><td align="right" class="code">
					<a href="GUID-D988810C-58CB-31C6-901C-F08C7A067456.html">ThspsServiceCompletedMessage</a>
				</td><td><a href="#GUID-BEE1A5FF-A0CD-3C5B-8B84-0091F2393A7D">hspsInstallNextPhaseL</a>(<a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-D988810C-58CB-31C6-901C-F08C7A067456.html">ThspsServiceCompletedMessage</a>
				</td><td><a href="#GUID-56E6B928-6613-301D-A41F-F78E54BBEE39">hspsInstallTheme</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-268AB2C8-9E61-362E-97CF-4E00B9184A14.html">ChspsODT</a> &amp;)</td></tr><tr><td align="right" class="code">
					<a href="GUID-D988810C-58CB-31C6-901C-F08C7A067456.html">ThspsServiceCompletedMessage</a>
				</td><td><a href="#GUID-F6424988-0C97-388C-9BAE-4CFF8C4F95C6">hspsInstallTheme</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, <a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;)</td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-736BC8C4-7148-3FD5-A828-8F57374D79EB"><a name="GUID-736BC8C4-7148-3FD5-A828-8F57374D79EB"><!-- --></a>
		<h2 class="topictitle2">hspsCancelInstallTheme()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-D988810C-58CB-31C6-901C-F08C7A067456.html">ThspsServiceCompletedMessage</a>
				</td><td>hspsCancelInstallTheme</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>hspsCancelInstallTheme</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-21C6BBE7-DADE-3717-9384-CE92B551520B"><a name="GUID-21C6BBE7-DADE-3717-9384-CE92B551520B"><!-- --></a>
		<h2 class="topictitle2">hspsInstallNextPhaseL(ChspsODT &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-D988810C-58CB-31C6-901C-F08C7A067456.html">ThspsServiceCompletedMessage</a>
				</td><td>hspsInstallNextPhaseL</td><td>(</td><td><a href="GUID-268AB2C8-9E61-362E-97CF-4E00B9184A14.html">ChspsODT</a> &amp;</td><td>aHeader</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>hspsInstallNextPhase</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-268AB2C8-9E61-362E-97CF-4E00B9184A14.html">ChspsODT</a> &amp; aHeader</td><td>is an empty ChspsODT-object in which a valid ODT-header of the latest installation phase completed if the request was successful. The use of ChspsODT-type parameter follow the high-level parametrization schema.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-BEE1A5FF-A0CD-3C5B-8B84-0091F2393A7D"><a name="GUID-BEE1A5FF-A0CD-3C5B-8B84-0091F2393A7D"><!-- --></a>
		<h2 class="topictitle2">hspsInstallNextPhaseL(TDes8 &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-D988810C-58CB-31C6-901C-F08C7A067456.html">ThspsServiceCompletedMessage</a>
				</td><td>hspsInstallNextPhaseL</td><td>(</td><td><a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td>aHeaderData</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>hspsInstallNextPhase</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp; aHeaderData</td><td>will return ODT-header of the latest installation phase in serialized (i.e. marshalled) data mode. This follows the low-level parametrization schema.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-56E6B928-6613-301D-A41F-F78E54BBEE39"><a name="GUID-56E6B928-6613-301D-A41F-F78E54BBEE39"><!-- --></a>
		<h2 class="topictitle2">hspsInstallTheme(const TDesC &amp;, ChspsODT &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-D988810C-58CB-31C6-901C-F08C7A067456.html">ThspsServiceCompletedMessage</a>
				</td><td>hspsInstallTheme</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aManifestFileName,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-268AB2C8-9E61-362E-97CF-4E00B9184A14.html">ChspsODT</a> &amp;</td><td>aHeader</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>hspsInstallTheme</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aManifestFileName</td><td>is the full path to the installation script file - a manifest file.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-268AB2C8-9E61-362E-97CF-4E00B9184A14.html">ChspsODT</a> &amp; aHeader</td><td>is an empty ChspsODT-object in which a valid ODT-header of the newly installed theme will be returned if the request is successful. The use of ChspsODT-type parameter follows the high-level parametrization schema.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-F6424988-0C97-388C-9BAE-4CFF8C4F95C6"><a name="GUID-F6424988-0C97-388C-9BAE-4CFF8C4F95C6"><!-- --></a>
		<h2 class="topictitle2">hspsInstallTheme(const TDesC &amp;, TDes8 &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-D988810C-58CB-31C6-901C-F08C7A067456.html">ThspsServiceCompletedMessage</a>
				</td><td>hspsInstallTheme</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aManifestFileName,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp;</td><td>aHeaderData</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>hspsInstallTheme</p>

				<div class="p">
					<dl class="since">
						
							<dt class="dlterm">Since</dt>

							<dd>S60 5.0 </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aManifestFileName</td><td>is full path of the installation script file - a manifest file  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-445B19E5-E2EE-32E2-8D6C-C7D6A9B3C507.html">TDes8</a> &amp; aHeaderData</td><td>will return ODT-header of the newly installed theme in serialized (i.e. marshalled) data mode. This follows the low-level parametrization schema.  </td></tr></table></div>

	</div>

	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>