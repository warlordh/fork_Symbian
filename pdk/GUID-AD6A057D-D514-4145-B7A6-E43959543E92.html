<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="HTTP Proxy Property"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F9184A82-A467-5022-B02F-2FDF52258618.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C0D38954-2FC5-4E8B-BC11-229464DCF16C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1E8904E3-43AC-5332-A2EF-F11F5728DBE8.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B4A54501-4AA4-5ACB-96D7-4427C7752639.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F9184A82-A467-5022-B02F-2FDF52258618.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-AD6A057D-D514-4145-B7A6-E43959543E92"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>HTTP Proxy Property</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-AD6A057D-D514-4145-B7A6-E43959543E92"><a name="GUID-AD6A057D-D514-4145-B7A6-E43959543E92"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387372 id2387380 id2387389 id2387421 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C0D38954-2FC5-4E8B-BC11-229464DCF16C.html">High Level Internet Protocols Guide</a> &gt; <a href="GUID-1E8904E3-43AC-5332-A2EF-F11F5728DBE8.html">Application Layer Protocols</a> &gt; <a href="GUID-B4A54501-4AA4-5ACB-96D7-4427C7752639.html">Using HTTP Client</a> &gt; <a href="GUID-F9184A82-A467-5022-B02F-2FDF52258618.html">Session Properties</a> &gt; </div>
<h1 class="topictitle1">HTTP
Proxy Property</h1>
<div>
<p>By default, a new <samp class="codeph">RHTTPSession</samp> is set to make direct connections
to an origin server. To switch it to use a proxy, the following two properties
must be set: <samp class="codeph">HTTP::EProxyUsage</samp> and <samp class="codeph">HTTP::EProxyAddress</samp>. </p>

<ul>
<li id="GUID-AD6A057D-D514-4145-B7A6-E43959543E92__GUID-6E1C24B1-590B-5FFE-8C00-FDF030B22B19"><a name="GUID-AD6A057D-D514-4145-B7A6-E43959543E92__GUID-6E1C24B1-590B-5FFE-8C00-FDF030B22B19"><!-- --></a><p> <samp class="codeph">HTTP::EProxyUsage</samp> can
take the values <samp class="codeph">HTTP::EDoNotUseProxy</samp> (the default) or <samp class="codeph">HTTP::EUseProxy</samp>. </p>
 </li>

<li id="GUID-AD6A057D-D514-4145-B7A6-E43959543E92__GUID-DDAE87A1-A5E8-53CD-A6C7-464066930AB8"><a name="GUID-AD6A057D-D514-4145-B7A6-E43959543E92__GUID-DDAE87A1-A5E8-53CD-A6C7-464066930AB8"><!-- --></a><p> <samp class="codeph">HTTP::EProxyAddress</samp> must
be set using an <a href="GUID-B886F0AA-DB9C-356C-9B96-33252820F93E.html"><span class="apiname">RStringF</span></a> value that contains the proxy
address as an IP Address and port number separated by a colon, for example,
"10.158.7.4:9003". </p>
 </li>

</ul>

<pre class="codeblock" id="GUID-AD6A057D-D514-4145-B7A6-E43959543E92__GUID-D7CF5B00-1F32-5424-8B81-1C1B53E4E6D7"><a name="GUID-AD6A057D-D514-4145-B7A6-E43959543E92__GUID-D7CF5B00-1F32-5424-8B81-1C1B53E4E6D7"><!-- --></a>void CHttpClient::SetProxyL(RStringF aProxyAddr)
    {
    RHTTPConnectionInfo connInfo = iSess.ConnectionInfo();
    THTTPHdrVal proxyUsage(iSess.StringPool().StringF(HTTP::EUseProxy,RHTTPSession::GetTable()));
    connInfo.SetPropertyL(iSess.StringPool().StringF(HTTP::EProxyUsage,RHTTPSession::GetTable()), proxyUsage);

    THTTPHdrVal proxyAddr(aProxyAddr);
    connInfo.SetPropertyL(iSess.StringPool().StringF(HTTP::EProxyAddress,RHTTPSession::GetTable()), aProxyAddr);

    Printf(_L("Proxy set to:%S\n\n"), &amp;iProxyName);
    }</pre>

<p>Changes made to the proxy settings will affect only new transactions opened
on the session, and not any currently in progress. </p>

<div class="section" id="GUID-AD6A057D-D514-4145-B7A6-E43959543E92__GUID-AEA826D4-0F86-4817-8B06-BB0FA0799525"><a name="GUID-AD6A057D-D514-4145-B7A6-E43959543E92__GUID-AEA826D4-0F86-4817-8B06-BB0FA0799525"><!-- --></a><h2 class="sectiontitle">Transaction proxy properties</h2><p>A proxy setting can
be set for an individual transaction by setting the proxy properties on the
transaction. Proxy properties set on the transaction override any proxy properties
set on the session. </p>
</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-F9184A82-A467-5022-B02F-2FDF52258618.html">Session Properties</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>