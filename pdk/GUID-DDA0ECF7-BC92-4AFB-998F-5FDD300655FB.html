<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Getting a Nearest Equivalent Language"/>
<meta name="DC.Relation" scheme="URI" content="GUID-FC929B37-20E1-5DA7-91A7-CBBED2E69A6E.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D02B5AF1-B1C3-560D-9654-971A5CC1A904.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C8BD333E-8384-534B-822B-F61B2F7C8B9F.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-85AA0FD4-3BD1-50A7-B241-AE3908ACCF30.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-FC929B37-20E1-5DA7-91A7-CBBED2E69A6E.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Getting a Nearest Equivalent Language</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB"><a name="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2383459 id2383734 id2383771 id2383844 id2383877 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html">Low Level Libraries and Frameworks</a> &gt; <a href="GUID-D02B5AF1-B1C3-560D-9654-971A5CC1A904.html">Application Utilities</a> &gt; <a href="GUID-C8BD333E-8384-534B-822B-F61B2F7C8B9F.html">Basic Application Framework Library</a> &gt; <a href="GUID-85AA0FD4-3BD1-50A7-B241-AE3908ACCF30.html" title="This section explains the tasks that can performed using Basic Application Framework Library.">Basic Application Framework Library Tutorials</a> &gt; <a href="GUID-FC929B37-20E1-5DA7-91A7-CBBED2E69A6E.html" title="This section describes how to call functions of BaflUtils to get an equivalent language list and a nearest equivalent language.">Getting Equivalent and Nearest Equivalent Languages</a> &gt; </div>
<h1 class="topictitle1">Getting
a Nearest Equivalent Language</h1>
<div><div><p>In this example, the system language is <samp class="codeph">ELangCanadianEnglish</samp> and
there is no exact match of the resource file on the system. The application
calls <a href="GUID-5F9CAA3E-D8BF-3488-9797-3B9FB4452930.html#GUID-5F9CAA3E-D8BF-3488-9797-3B9FB4452930__GUID-EA0690FF-419D-353C-BBED-95000E21F843"><span class="apiname">BaflUtils::NearestLanguageFileV2()</span></a> to get the closest
match. There are three available resource files: </p>
 <ul>
<li id="GUID-3CBF0BF9-04E1-5211-B2CF-53B40FEF7FF4"><a name="GUID-3CBF0BF9-04E1-5211-B2CF-53B40FEF7FF4"><!-- --></a><p> <span class="filepath">c:\FileMenu.rsc</span> is
the language-neutral resource file. </p>
 </li>

<li id="GUID-406A6D60-19B9-5233-BE6F-28EF10E70C1F"><a name="GUID-406A6D60-19B9-5233-BE6F-28EF10E70C1F"><!-- --></a><p> <span class="filepath">c:\FileMenu.r01</span> is
for <samp class="codeph">ELangEnglish</samp>. </p>
 </li>

<li id="GUID-22C5F02D-2D36-5C51-BDFC-498BDB717059"><a name="GUID-22C5F02D-2D36-5C51-BDFC-498BDB717059"><!-- --></a><p> <span class="filepath">c:\FileMenu.r10</span> is
for <samp class="codeph">ELangAmerican</samp>. </p>
 </li>

</ul>
 </div>

<a name="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-4DD07DEC-6017-4237-BE46-1D69E5FBD744-GENID-1-12-1-14-1-1-8-1-5-1-5-1-5-1-8-1-5-1-3-1"><!-- --></a><ol id="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-4DD07DEC-6017-4237-BE46-1D69E5FBD744-GENID-1-12-1-14-1-1-8-1-5-1-5-1-5-1-8-1-5-1-3-1"><li class="stepexpand" id="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-9A69E5AD-E938-4092-A8C2-CB65C37C8962-GENID-1-12-1-14-1-1-8-1-5-1-5-1-5-1-8-1-5-1-3-1-1"><a name="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-9A69E5AD-E938-4092-A8C2-CB65C37C8962-GENID-1-12-1-14-1-1-8-1-5-1-5-1-5-1-8-1-5-1-3-1-1"><!-- --></a><span/><br/>
 <p>In the application, define a string with the neutral-language resource
file name. </p>
 <pre class="codeblock" id="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-438C8582-247E-5109-9E3B-ABC38818E6E2"><a name="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-438C8582-247E-5109-9E3B-ABC38818E6E2"><!-- --></a>_LIT(KRscFilename, "C:\\FileMenu.rsc"); </pre>

</li>
<li class="stepexpand" id="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-9E49C0AD-8007-461A-A019-AC792ACA9997"><a name="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-9E49C0AD-8007-461A-A019-AC792ACA9997"><!-- --></a><span/><br/>
 <div class="p">Create a session with the File Server to search the file system for
available resource files.  <pre class="codeblock" id="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-D1DD087E-ECE9-5BD6-984F-B427AA96E838"><a name="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-D1DD087E-ECE9-5BD6-984F-B427AA96E838"><!-- --></a>RFs fileServerSession;
CleanupClosePushL(fileServerSession);
User::LeaveIfError(fileServerSession.Connect());</pre>
</div>

</li>
<li class="stepexpand" id="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-3D9B43BD-E641-441E-8795-0CEF53BD231C"><a name="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-3D9B43BD-E641-441E-8795-0CEF53BD231C"><!-- --></a><span/><br/>
 <div class="p">Construct a buffer to save a resource file name. The buffer takes
the neutral-language resource file name as a input parameter to <a href="GUID-5F9CAA3E-D8BF-3488-9797-3B9FB4452930.html#GUID-5F9CAA3E-D8BF-3488-9797-3B9FB4452930__GUID-EA0690FF-419D-353C-BBED-95000E21F843"><span class="apiname">BaflUtils::NearestLanguageFileV2()</span></a>.
It will be updated with a new value after the call.  <pre class="codeblock" id="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-4CB6F88B-E26B-54C6-919A-BB812913947D"><a name="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-4CB6F88B-E26B-54C6-919A-BB812913947D"><!-- --></a>TBuf&lt;256&gt; filename;
filename.Copy(KRscFilename);</pre>
</div>

</li>
<li class="stepexpand" id="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-C785E5AD-EB3A-4A76-9D27-E564F5CB970D"><a name="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-C785E5AD-EB3A-4A76-9D27-E564F5CB970D"><!-- --></a><span/><br/>
 <div class="p">Define a <a href="GUID-698538DF-DCDC-347B-BD32-DD9EB896BAFB.html"><span class="apiname">TLanguage</span></a> as a return parameter for the
nearest equivalent language.  <pre class="codeblock" id="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-5D7ABE60-B9D7-5A33-A219-A6144C539817"><a name="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-5D7ABE60-B9D7-5A33-A219-A6144C539817"><!-- --></a>TLanguage lang=ELangNone;</pre>
</div>

</li>
<li class="stepexpand" id="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-C3A49C71-5071-40DA-91D8-012CD47D3BD8"><a name="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-C3A49C71-5071-40DA-91D8-012CD47D3BD8"><!-- --></a><span/><br/>
 <div class="p">Get the nearest language.  <pre class="codeblock" id="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-B9F41C54-782A-5650-AAD9-EB3291B6E6BA"><a name="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-B9F41C54-782A-5650-AAD9-EB3291B6E6BA"><!-- --></a>BaflUtils::NearestLanguageFileV2(fileServerSession, filename, lang);
...</pre>
</div>

</li>
<li class="stepexpand" id="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-C8A8A118-B7F8-4F6D-AD9A-33FBD61D9C33"><a name="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-C8A8A118-B7F8-4F6D-AD9A-33FBD61D9C33"><!-- --></a><span/><br/>
 <div class="p">Close the session with the File Server.  <pre class="codeblock" id="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-DA7D701D-2BA6-536C-B4A2-3FDCA5DD23C3"><a name="GUID-DDA0ECF7-BC92-4AFB-998F-5FDD300655FB__GUID-DA7D701D-2BA6-536C-B4A2-3FDCA5DD23C3"><!-- --></a>CleanupStack::PopAndDestroy (&amp;fileServerSession);</pre>
</div>

</li>
</ol>

<div class="section">       <p> The <samp class="codeph">filename</samp> parameter is updated as <span class="filepath">"c:\\FileMenu.r10"</span> which
is the closest resource file for <samp class="codeph">ELangCanadianEnglish</samp>. The <samp class="codeph">lang</samp> parameter
is returned as <samp class="codeph">ELangAmerican</samp> (value 10) which is the nearest
equivalent language. </p>
     </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-FC929B37-20E1-5DA7-91A7-CBBED2E69A6E.html" title="This section describes how to call functions of BaflUtils to get an equivalent language list and a nearest equivalent language.">Getting Equivalent and Nearest Equivalent Languages</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>