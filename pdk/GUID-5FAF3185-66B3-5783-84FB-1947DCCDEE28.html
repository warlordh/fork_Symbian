<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Positioning Indicator API"/>
<meta name="abstract" content="The Positioning Indicator API defines P&amp;S keys for publishing and subscribing for the current status of positioning hardware in the mobile device. The API is deprecated."/>
<meta name="description" content="The Positioning Indicator API defines P&amp;S keys for publishing and subscribing for the current status of positioning hardware in the mobile device. The API is deprecated."/>
<meta name="DC.Relation" scheme="URI" content="GUID-45980E0C-4DA4-5AC1-8721-490442DA7F3C.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-55F5F029-6A00-5894-8892-90836DE4BA40.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-45980E0C-4DA4-5AC1-8721-490442DA7F3C.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Positioning Indicator API</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2402590 id2402946 id2402960 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html">Location Based Services (LBS) Guide</a> &gt; <a href="GUID-55F5F029-6A00-5894-8892-90836DE4BA40.html" title="The Location Management collection contains components to manage location requests and to interface with a network. It also contains several common core LBS libraries that are used by many components of the LBS subsystem.">Location Management</a> &gt; <a href="GUID-45980E0C-4DA4-5AC1-8721-490442DA7F3C.html" title="Location Admin is an LBS component that contains several common LBS libraries grouped for convenience in a single system component.">Location Admin</a> &gt; </div>
<h1 class="topictitle1">Positioning Indicator API</h1>
<div><p>The Positioning Indicator API defines P&amp;S keys for publishing and subscribing for the current status of positioning hardware in the mobile device. The API is deprecated. </p>
<p>It was intended for use by UI components (such as the UI status bar) that require updates of that status of positioning hardware. The <a href="GUID-EB914A6D-9B61-5789-9546-8E466A0988D1.html">Integrated GPS Hardware Status API</a> now contains an observer class that allows UI components to receive hardware status updates. </p>
 <div class="section"><h2 class="sectiontitle">Contents</h2> <ul><li id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-2129C0C5-1C66-58AD-82C7-8990B2B4D5CA"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-2129C0C5-1C66-58AD-82C7-8990B2B4D5CA"><!-- --></a><p><a href="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28.html#GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-CBCF690A-3FBE-5A8C-9AAC-E12A4565C6B2">Purpose</a>  </p>
 </li>
 <li id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-69DCEBEE-1F8E-550A-BF02-C5E2AC7C4A08"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-69DCEBEE-1F8E-550A-BF02-C5E2AC7C4A08"><!-- --></a><p><a href="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28.html#GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-8D6F0FC2-CE3F-576F-BDE6-3015CF1A5B4F">API description</a>  </p>
 </li>
 <li id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-FFA6E3D6-2554-5A05-8DF2-AD8F33FB0423"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-FFA6E3D6-2554-5A05-8DF2-AD8F33FB0423"><!-- --></a><p><a href="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28.html#GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-A0B6F0BC-3F89-5985-95C4-3955DF0FFF59">API summary</a>  </p>
 </li>
 <li id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-A83AAD17-B67B-5F75-A8FF-4CB2ACB9875A"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-A83AAD17-B67B-5F75-A8FF-4CB2ACB9875A"><!-- --></a><p><a href="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28.html#GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-9A9A272B-955E-5478-AD11-443F5889F842">Using the API</a>  </p>
 <ul><li id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-E46D8FD4-1A7D-58CA-A1E7-545BDB27AC91"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-E46D8FD4-1A7D-58CA-A1E7-545BDB27AC91"><!-- --></a><p><a href="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28.html#GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-2E136F4D-158C-5FC3-95AD-353C9873D9D3">Updating the state of a </a> <a href="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28.html#GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-2E136F4D-158C-5FC3-95AD-353C9873D9D3">positioning UI indicator</a>  </p>
 </li>
 </ul>
 </li>
 <li id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-00C55B66-2194-511D-9031-7D32D78149D4"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-00C55B66-2194-511D-9031-7D32D78149D4"><!-- --></a><p><a href="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28.html#GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-E54337E0-5384-5E7A-B166-5D8FA5F173C7">Error handling</a>  </p>
 </li>
 <li id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-907D007F-69A0-56E2-AC10-5478579D51E2"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-907D007F-69A0-56E2-AC10-5478579D51E2"><!-- --></a><p><a href="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28.html#GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-C360B60B-3394-5B1A-92DD-097B4915B3DE">See also</a>  </p>
 </li>
 </ul>
 </div>
 <div class="section" id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-CBCF690A-3FBE-5A8C-9AAC-E12A4565C6B2"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-CBCF690A-3FBE-5A8C-9AAC-E12A4565C6B2"><!-- --></a><h2 class="sectiontitle">Purpose</h2> <p>This document describes the Positioning Indicator API. It defines <a href="GUID-A81C65CF-CF4E-571C-8080-9D387F46AAD6.html" title="This section explains the publish and subscribe concepts.">Publish and Subscribe</a> (P&amp;S) keys for properties for notifying of changes to GPS hardware status. </p>
 <p>The API is deprecated. It was intended for use by UI components. The <a href="GUID-EB914A6D-9B61-5789-9546-8E466A0988D1.html">Integrated GPS Hardware Status API</a> is the recommended way of updating UI components with the GPS hardware status. </p>
 </div>
 <div class="section" id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-8D6F0FC2-CE3F-576F-BDE6-3015CF1A5B4F"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-8D6F0FC2-CE3F-576F-BDE6-3015CF1A5B4F"><!-- --></a><h2 class="sectiontitle">API description</h2> <p>The API can be used to update UI components when the status of GPS hardware changes. </p>
 </div>
 <div class="section" id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-A0B6F0BC-3F89-5985-95C4-3955DF0FFF59"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-A0B6F0BC-3F89-5985-95C4-3955DF0FFF59"><!-- --></a><h2 class="sectiontitle">API summary</h2> <p>The API defines no classes. It defines only global constants which are the Positioning UI Indicator P&amp;S category (<a href="GUID-73D84B07-DECC-371C-9C83-ED58359C4B0B.html"><span class="apiname">KPosIndicatorCategory</span></a>) and key (<a href="GUID-5296D5A3-35E5-35CC-AE76-915D73CC4A65.html"><span class="apiname">KPosIntGpsHwStatus</span></a>) and an enumeration <a href="GUID-78564085-1706-3B1D-AE74-9E6E0BC8F799.html"><span class="apiname">TPosIntGpsHwState</span></a> that defines the values that the P&amp;S property can take. </p>
 <p>The definitions are in <span class="filepath">locationfwdomainpsKey.h</span> are summarised in table 1. </p>
 
<div class="tablenoborder"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-CAA47900-3E3F-5A10-BEE5-7F60C196315F"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-CAA47900-3E3F-5A10-BEE5-7F60C196315F" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d934618e152">Constant Name</th>
 <th class="cellrowborder" valign="top" id="d934618e155">Description</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d934618e152 "><p> <a href="GUID-73D84B07-DECC-371C-9C83-ED58359C4B0B.html"><span class="apiname">KPosIndicatorCategory</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d934618e155 "><p>The UID of Positioning Indicator P&amp;S keys category. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d934618e152 "><p> <a href="GUID-5296D5A3-35E5-35CC-AE76-915D73CC4A65.html"><span class="apiname">KPosIntGpsHwStatus</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d934618e155 "><p>The ID of the Integrated GPS HW status key. It contain values defined by <a href="GUID-F948CC28-06B2-3C47-95B0-D1445C37839E.html"><span class="apiname">TPosIntGpsHwIndicatorState</span></a>. </p>
 <p>The default value (i.e. when this key is not found) is <a href="GUID-37710FB3-E772-348B-8551-A8DFB5A565CB.html"><span class="apiname">EPosIntGpsHwIndicatorOff</span></a>. </p>
 <p>If it contains any value other than one defined in <a href="GUID-78564085-1706-3B1D-AE74-9E6E0BC8F799.html"><span class="apiname">TPosIntGpsHwState</span></a>, the value must be ignored and <a href="GUID-AE301331-5CE9-39D8-B690-4A03FBCF59E3.html#GUID-AE301331-5CE9-39D8-B690-4A03FBCF59E3__GUID-5C833EDB-6A2C-3BBE-A99C-EB30CC46E3C2"><span class="apiname">TPosIndicatorState::EPosIntGpsHwIndicatorOff</span></a> must be assumed. </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 <p> <em>Table 1. Positioning IndicatorP&amp;S category and key definitions.</em>  </p>
 <p><strong>Libraries </strong> </p>
 <p>The P&amp;S keys of the Positioning Indicator API are defined in <span class="filepath">locationfwdomainpsKey.h</span>. This API uses the Publish and Subscribe API and there are no additional libraries required by a client. </p>
 <p><strong>Capabilities </strong> </p>
 <p>An API client does not require any capabilities to read the property value. </p>
 </div>
 <div class="section" id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-9A9A272B-955E-5478-AD11-443F5889F842"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-9A9A272B-955E-5478-AD11-443F5889F842"><!-- --></a><h2 class="sectiontitle">Using the API</h2> <p>This API supports only one typical use case: </p>
 <p id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-2E136F4D-158C-5FC3-95AD-353C9873D9D3"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-2E136F4D-158C-5FC3-95AD-353C9873D9D3"><!-- --></a><strong>Updating the state of a positioning UI indicator</strong> </p>
 <p>The API client (a component responsible for updating the status of a UI indicator component) reads the current state of integrated GPS hardware using Publish &amp; Subscribe API (see <a href="GUID-C4776034-D190-3FC4-AF45-C7F195093AC3.html"><span class="apiname">RProperty</span></a> for details). </p>
 <p>The client subscribes for changes in <a href="GUID-5296D5A3-35E5-35CC-AE76-915D73CC4A65.html"><span class="apiname">KPosIntGpsHwStatus</span></a> P&amp;S key from <a href="GUID-73D84B07-DECC-371C-9C83-ED58359C4B0B.html"><span class="apiname">KPosIndicatorCategory</span></a> category. When a state change is reported, a client reads the new value and update UI indicator accordingly. </p>
 <p>The <a href="GUID-78564085-1706-3B1D-AE74-9E6E0BC8F799.html"><span class="apiname">TPosIntGpsHwState</span></a> enumeration defines the possible values of the <a href="GUID-5296D5A3-35E5-35CC-AE76-915D73CC4A65.html"><span class="apiname">KPosIntGpsHwStatus</span></a> property. If any other value is retrieved it must be ignored and the value <a href="GUID-AE301331-5CE9-39D8-B690-4A03FBCF59E3.html#GUID-AE301331-5CE9-39D8-B690-4A03FBCF59E3__GUID-5C833EDB-6A2C-3BBE-A99C-EB30CC46E3C2"><span class="apiname">TPosIndicatorState::EPosIntGpsHwIndicatorOff</span></a> assumed. If the key is not found, then <samp class="codeph">EPosIntGpsHwIndicatorOff</samp> must be assumed as its value. </p>
 <p>Figure 1 shows how a client reads and updates UI indicator based on the states of Positioning Indicator P&amp;S key. </p>
 <div class="fignone" id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-CE95624C-1E4C-5C3E-A28E-17B45E2CA742"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-CE95624C-1E4C-5C3E-A28E-17B45E2CA742"><!-- --></a><span class="figcap">Figure 1. 
                Figure 1. Updating the state of Positioning UI Indicator sequence
                diagram 
             </span> <img src="GUID-504C5CD8-DF83-5657-9D38-E94151C84802_d0e452206_href.png"/></div>
 <p>Refer to <a href="GUID-C4776034-D190-3FC4-AF45-C7F195093AC3.html"><span class="apiname">RProperty</span></a> class description in the Symbian platform Reference and "Publish and Subscribe" article in Symbian Guide for further details on using P&amp;S keys. </p>
 <p>The following table describes the mapping of <a href="GUID-5296D5A3-35E5-35CC-AE76-915D73CC4A65.html"><span class="apiname">KPosIntGpsHwStatus</span></a> key values and status of the UI indicator that should be set: </p>
 
<div class="tablenoborder"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-8E49701A-F83C-59A1-A5FA-89DEE4A24186"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-8E49701A-F83C-59A1-A5FA-89DEE4A24186" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d934618e338">Key value</th>
 <th class="cellrowborder" valign="top" id="d934618e341">Indicator state</th>
 <th class="cellrowborder" valign="top" id="d934618e344">Comment</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d934618e338 "><p> <samp class="codeph">TPosIndicatorState::EPosIntGpsHwOff</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d934618e341 "><p>Hidden </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d934618e344 "><p>GPS hardware is OFF and indicator should be hidden. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d934618e338 "><p> <samp class="codeph">TPosIndicatorState::EPosIntGpsHwOn</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d934618e341 "><p>Shown </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d934618e344 "><p>GPS hardware is ON and indicator should be shown. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d934618e338 "><p> <samp class="codeph">TPosIndicatorState::EPosIntGpsHwIntermediate</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d934618e341 "><p>Animated </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d934618e344 "><p>GPS hardware in intermediate state. UI indicator is shown in intermediate (possibly animated) state. </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 </div>
 <div class="section" id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-E54337E0-5384-5E7A-B166-5D8FA5F173C7"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-E54337E0-5384-5E7A-B166-5D8FA5F173C7"><!-- --></a><h2 class="sectiontitle">Error handling</h2> <p>This API does not define or use any error codes. </p>
 <p>Refer to <a href="GUID-C4776034-D190-3FC4-AF45-C7F195093AC3.html"><span class="apiname">RProperty</span></a> class description in the Symbian platform Reference for further details on error handling in Publish &amp; Subscribe API. </p>
 </div>
 <div class="section" id="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-C360B60B-3394-5B1A-92DD-097B4915B3DE"><a name="GUID-5FAF3185-66B3-5783-84FB-1947DCCDEE28__GUID-C360B60B-3394-5B1A-92DD-097B4915B3DE"><!-- --></a><h2 class="sectiontitle">See also</h2> <p><a href="GUID-EB914A6D-9B61-5789-9546-8E466A0988D1.html">Integrated GPS Hardware Status API</a>  </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-45980E0C-4DA4-5AC1-8721-490442DA7F3C.html" title="Location Admin is an LBS component that contains several common LBS libraries grouped for convenience in a single system component.">Location Admin</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>