<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Building and Running the MiniGUI Tutorial"/>
<meta name="abstract" content="This topic describes how to build a MiniGUI ROM image and how to run the MiniGUI in the emulator."/>
<meta name="description" content="This topic describes how to build a MiniGUI ROM image and how to run the MiniGUI in the emulator."/>
<meta name="DC.Relation" scheme="URI" content="GUID-8659E1EC-7744-5F93-AC56-C3000A2232CB.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-57A777A3-5D67-5CBB-B224-B7AD422A451B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0C4B86B5-530A-5839-86C1-46E7ABE281E0.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8659E1EC-7744-5F93-AC56-C3000A2232CB.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6D8A1FC7-095B-587E-8274-23C132978C53.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-85E1E45B-DD05-5B7D-84E7-9911E0A3E3CC.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Building and Running the MiniGUI Tutorial</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F"><a name="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2384330 id2384499 id2384574 id2385067 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html">Graphics Guide</a> &gt; <a href="GUID-57A777A3-5D67-5CBB-B224-B7AD422A451B.html" title="The Windowing collection contains two componentsâ€”the Window Server, which manages the use of the screen by applications, and the Window Server Plugins component.">Windowing Collection</a> &gt; <a href="GUID-0C4B86B5-530A-5839-86C1-46E7ABE281E0.html" title="The Window Server component manages the use of the screen by applications and handles key and pointer events.">Window Server Component</a> &gt; <a href="GUID-8659E1EC-7744-5F93-AC56-C3000A2232CB.html" title="This section introduces the MiniGUI environment which is intended for ease of base porting and testing under the ScreenPlay architecture.">MiniGUI Environment</a> &gt; </div>
<h1 class="topictitle1">Building
and Running the MiniGUI Tutorial</h1>
<div><p>This topic describes how to build a MiniGUI ROM image and how to
run the MiniGUI in the emulator. </p>

<p> <strong>Variant</strong>: ScreenPlay. <strong>Target audience</strong>: Device creators. </p>

<p>This topic builds on the introduction in the <a href="GUID-E09F74E2-B5A2-51F8-BD9E-882BE2661D5C.html">MiniGUI
Environment Overview</a> and the ROM Tools Guide. </p>

<div class="section"><h2 class="sectiontitle">Building a MiniGUI ROM image</h2> <a name="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-AAD227D8-8D67-5951-B359-715D4A0AD33B"><!-- --></a><ol id="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-AAD227D8-8D67-5951-B359-715D4A0AD33B">
<li id="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-9921FB78-9201-5337-95D4-CB62BEFA4C32"><a name="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-9921FB78-9201-5337-95D4-CB62BEFA4C32"><!-- --></a><p>Use a text editor to
edit the Window Server configuration file, <span class="filepath">\epoc32\data\z\wsini_minigui.ini</span>. </p>
 <p>Note:
This file must be created or saved in Unicode instead of ASCII. </p>
 </li>

<li id="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-43452758-28A2-5095-88FB-07C2964F49CB"><a name="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-43452758-28A2-5095-88FB-07C2964F49CB"><!-- --></a><p>Add the following lines
to the <span class="filepath">wsini_minigui.ini</span> file to start ESHELL as the
system shell in the specified screen mode. </p>
 <pre class="codeblock" id="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-21B815C5-1BE1-5905-87C6-BA14DA659C8B"><a name="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-21B815C5-1BE1-5905-87C6-BA14DA659C8B"><!-- --></a>STARTUP ESHELL
SCREENMODE COLOR16MAP</pre>
 <p>Refer to <a href="GUID-1D529BDC-6665-58E2-AB3F-7023D8A84F69.html" title="This topic provides a reference to the wsini.ini file parameters. Some of the parameters are general, some are screen-specific and some are specific to individual plug-ins.">The
wsini.ini File Reference</a> for more information about the parameters. </p>
 </li>

<li id="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-CC5687DF-9863-51C6-B348-D10C10868DAD"><a name="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-CC5687DF-9863-51C6-B348-D10C10868DAD"><!-- --></a><p>Make sure that the ROM
image description file, <span class="filepath">minigui.oby</span>, exists under <span class="filepath">\epoc32\rom\include\</span>.
This OBY file is the input file to the <span class="filepath">BUILDROM</span> tool. </p>
 <p>This
file contains a statement that refers to the <span class="filepath">wsini_minigui.ini</span> file. </p>
 <pre class="codeblock" id="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-82D32D6F-A2A2-56A0-8AF9-6C021CC3E321"><a name="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-82D32D6F-A2A2-56A0-8AF9-6C021CC3E321"><!-- --></a>data=DATAZ_\wsini_minigui.ini    system\data\wsini.ini</pre>
 </li>

<li id="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-C3015F0E-CDE7-5940-9088-9DBE34468277"><a name="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-C3015F0E-CDE7-5940-9088-9DBE34468277"><!-- --></a><p>Build a MiniGUI ROM
image from a command prompt. </p>
 <p>The following commands build a ROM image
for H4: </p>
 <p>&gt; cd d:\Symbian\epoc32\rom </p>
 <p>&gt; buildrom -nosymbols h4hrp
minigui </p>
 <p>The following commands build a ROM image for H6: </p>
 <p>&gt;
cd d:\Symbian\epoc32\rom </p>
 <p>&gt; buildrom -nosymbols 34xx_sdp minigui </p>
 <p>Where <span class="filepath">minigui</span> stands
for the <span class="filepath">minigui.oby</span> file. The <samp class="codeph">-nosymbols</samp> directive
means do not generate the symbol file which contains the ROM building information
for debugging purpose. </p>
 </li>

</ol>
 <p> <strong>Result</strong>: The MiniGUI ROM image is generated in the current
directory: <span class="filepath">d:\Symbian\epoc32\rom</span>. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Running the MiniGUI in the emulator</h2> <a name="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-DC6EB5D4-FDE5-5464-B2CE-0D272F4AAD61"><!-- --></a><ol id="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-DC6EB5D4-FDE5-5464-B2CE-0D272F4AAD61">
<li id="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-B6913759-85BE-5480-B3A2-F0D52D7E40B7"><a name="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-B6913759-85BE-5480-B3A2-F0D52D7E40B7"><!-- --></a><p>Make sure that ScreenPlay
is enabled and add the following line to the <span class="filepath">\epoc32\data\epoc.ini</span> file: </p>
 <pre class="codeblock" id="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-EE4BD889-EB25-5259-9183-7F96BF419794"><a name="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-EE4BD889-EB25-5259-9183-7F96BF419794"><!-- --></a>minigui</pre>
 <p>For
more information about enabling ScreenPlay, refer to <a href="GUID-6D8A1FC7-095B-587E-8274-23C132978C53.html" title="There are two variants of the graphics architecture. These are referred to as the ScreenPlay and the Non-ScreenPlay variants, respectively. This topic describes how to build and enable these two variants.">Enabling
the Graphics Architecture Variants</a>. </p>
 </li>

<li id="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-B866EB6F-7817-55F1-9631-ED0B7122B048"><a name="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-B866EB6F-7817-55F1-9631-ED0B7122B048"><!-- --></a><p>Add the following lines
to the <span class="filepath">\epoc32\release\winscw\udeb\z\system\data\wsini.ini</span> to
start ESHELL as the system shell in the specified screen mode: </p>
 <pre class="codeblock" id="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-7ECA751A-5C25-5774-ACBD-DA5D861C125D"><a name="GUID-ED20B02A-C146-5E28-A102-D3AE11D9015F__GUID-7ECA751A-5C25-5774-ACBD-DA5D861C125D"><!-- --></a>startup eshell
screenmode color16map</pre>
 </li>

</ol>
 <p>Launch the emulator to verify that MiniGUI configuration works. It
boots into the black and white ESHELL. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-8659E1EC-7744-5F93-AC56-C3000A2232CB.html" title="This section introduces the MiniGUI environment which is intended for ease of base porting and testing under the ScreenPlay architecture.">MiniGUI Environment</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-6D8A1FC7-095B-587E-8274-23C132978C53.html" title="There are two variants of the graphics architecture. These are referred to as the ScreenPlay and the Non-ScreenPlay variants, respectively. This topic describes how to build and enable these two variants.">Enabling
the Graphics Architecture  Variants</a></div>
<div><a href="GUID-85E1E45B-DD05-5B7D-84E7-9911E0A3E3CC.html">The wsini.ini
File</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>