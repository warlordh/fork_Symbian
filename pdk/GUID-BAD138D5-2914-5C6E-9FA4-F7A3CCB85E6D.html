<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="MTM Capabilities"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8B843382-D27A-5E36-8F60-304903F3AA41.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B394A824-8745-505E-8429-8B9B6D418387.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-44CF5471-564E-5790-935B-51193A4978D6.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-8B843382-D27A-5E36-8F60-304903F3AA41.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>MTM Capabilities</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D"><a name="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2404348 id2404397 id2404434 id2404448 id2404463 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5DD1010C-1648-5086-BA80-BC25F3C7A2C4.html">Messaging Middleware Guide</a> &gt; <a href="GUID-C290FA5E-8E41-5D19-B8C1-F88491EE6388.html">Messaging Framework</a> &gt; <a href="GUID-B394A824-8745-505E-8429-8B9B6D418387.html">Message Server and Store</a> &gt; <a href="GUID-44CF5471-564E-5790-935B-51193A4978D6.html" title="This section lists the concepts that are related to Message Server and Store.">Message Server and Store Concepts</a> &gt; <a href="GUID-8B843382-D27A-5E36-8F60-304903F3AA41.html">Message Type Module</a> &gt; </div>
<h1 class="topictitle1">MTM
Capabilities</h1>
<div>
<p>This section provides guidelines to the MTM implementors for assigning
the capability set for different types of MTMs. </p>

<div class="section" id="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-4E471C88-ECAD-4146-8B68-F0AA19F9D726"><a name="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-4E471C88-ECAD-4146-8B68-F0AA19F9D726"><!-- --></a><h2 class="sectiontitle">Description</h2> <p>MTMs are implemented as DLLs. According
to the Symbian platform security model a DLL can be loaded by a process only
if the DLL has a capability set equal to or greater than the capability set
of the process loading it. </p>
 <p>The characteristics of a plug-in module
are described by its set of capabilities. The standard capabilities are characteristics,
such as the maximum message body size, the maximum total size of a message,
the character widths supported by a message type, presence or absence of support
for attachments, presence or absence of support for the subject field, folders
and so on. Capabilities are referenced by unique identifiers, which are managed
by Symbian. </p>
 <p>The capability set is defined in the MMP files of the
MTMs. The following sections list the capability set required by the Symbian
platform for each type of MTM. </p>
 </div>

<div class="section" id="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-73371E92-1175-45D5-827B-B83FEE2EA4D6"><a name="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-73371E92-1175-45D5-827B-B83FEE2EA4D6"><!-- --></a><h2 class="sectiontitle">Server MTM</h2> <p>A Server MTM is always loaded by the
Messaging Server. It is therefore necessary for the Server MTMs to have the
following capability set assigned. </p>
 <p> <samp class="codeph">ReadDeviceData WriteDeviceData
ProtServ NetworkControl           NetworkServices LocalServices ReadUserData
WriteUserData</samp>  </p>
 </div>

<div class="section" id="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-61FBEBAA-B470-455F-9FC9-7D78225A1337"><a name="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-61FBEBAA-B470-455F-9FC9-7D78225A1337"><!-- --></a><h2 class="sectiontitle">Client MTMs, UI MTMs and UI Data MTMs</h2> <p>These MTMs
are used by modules both within and outside of the Messaging Framework. If
a Client MTM is to provide all the supported Messaging functionality it must
have at least the minimum capabilities listed below. </p>
 <p> <samp class="codeph">ReadDeviceData
WriteDeviceData NetworkServices LocalServices           ReadUserData WriteUserData</samp>  </p>
 <p>If
a Client MTM does not need to provide the complete set of Messaging functionality
then a subset of the capabilities mentioned above may be selected. For example,
if a Client MTM communicates over a local connection, such as IR or Bluetooth,
it needs the <samp class="codeph">LocalServices</samp> capability only and does not need
the <samp class="codeph">NetworkServices</samp> capability. Refer to the Platform Security
Engineering Guide to understand the requirements for each capability recommended
above. </p>
 <p>Authors of Client MTMs that are loaded by the standard Messaging
applications must give their MTMs the capabilities that those applications
have, that is, the capabilities of Client MTMs are determined by the processes
that load them. </p>
 <p>The capabilities that need to be selected for applications
that use Client MTMs depends on the functionality that those applications
provide. If the Client MTM does not have those capabilities, the application
will not be able to load the MTM. It is up to the creator of the MTM to make
sure that it is assigned enough capabilities to be loaded into applications
that require that MTM. </p>
 </div>

<div class="section" id="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-ED8C15BD-A2C9-564B-8339-36C6C9C508D1"><a name="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-ED8C15BD-A2C9-564B-8339-36C6C9C508D1"><!-- --></a><h2 class="sectiontitle">Security capability
specification</h2> <p>With the introduction of platform security, individual
MTMs are required to specify the additional security capabilities that Messaging
client applications require in order to send messages by that MTM. These capabilities
must be set in the <a href="GUID-92D6CC11-C597-5D00-AAE5-866289B7462F.html">MTM
resource file</a> that describes the MTM's properties. </p>
 <p>This is
done using the resource structure <samp class="codeph">MTM_SECURITY_CAPABILITY_SET</samp>.
This has a single array member capabilities that specifies the required capabilities:
each value must be a capability as defined in <samp class="codeph">TCapability</samp>.
For example, this resource specifies that the client must have the local services
(for example, Bluetooth) capability: </p>
 <pre class="codeblock" id="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-B19B4A70-BB61-5492-98DA-CE8E44D1AF8E"><a name="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-B19B4A70-BB61-5492-98DA-CE8E44D1AF8E"><!-- --></a>
RESOURCE MTM_SECURITY_CAPABILITY_SET 
    {
    capabilities = { ECapabilityLocalServices }; 
    }</pre>
 <p>An <samp class="codeph">MTM_SECURITY_CAPABILITY_SET</samp> must
be the third resource in the resource file (following the <samp class="codeph">MTM_INFO_FILE</samp> and <samp class="codeph">MTM_CAPABILITIES</samp> resources),
even if the MTM requires no additional capabilities to be defined. </p>
 <p> <samp class="codeph">MTM_CAPABILITIES</samp> has
nothing to do with platform security, but specifies flags used by <samp class="codeph">SendAs</samp>.
If the MTM can support <samp class="codeph">SendAs</samp>, it should define the resource
as: </p>
 <pre class="codeblock" id="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-CC28EEDB-2CD0-57BB-A66E-FA1B73C1D596"><a name="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-CC28EEDB-2CD0-57BB-A66E-FA1B73C1D596"><!-- --></a>
RESOURCE MTM_CAPABILITIES 
    {
    send_capability=1; 
    body_capability=1; 
    }</pre>
 <p>If the MTM does not support SendAs, use the following: </p>
 <pre class="codeblock" id="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-BD133C80-D048-5E49-BBB2-66BD6D6A80D2"><a name="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-BD133C80-D048-5E49-BBB2-66BD6D6A80D2"><!-- --></a>
RESOURCE MTM_CAPABILITIES 
    {
    }</pre>
 </div>

<div class="section" id="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-19478D49-AFD6-4130-9B4D-6C531A36D9C4"><a name="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-19478D49-AFD6-4130-9B4D-6C531A36D9C4"><!-- --></a><h2 class="sectiontitle">Specifying the capability set</h2> <p>Developers are advised
that keywords such as <samp class="codeph">ReadDeviceData</samp> are case sensitive,
and care should be taken when specifying them in the MMP file. For example
a server side MTM will have the capability set defined in the MMP file as
follows: </p>
 <p> <samp class="codeph">CAPABILITY ReadDeviceData WriteDeviceData ProtServ
NetworkControl           NetworkServices LocalServices ReadUserData WriteUserData </samp>  </p>
 </div>

<div class="section" id="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-D9D4A690-CB0D-4855-A4AE-E5BC46801DA8"><a name="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-D9D4A690-CB0D-4855-A4AE-E5BC46801DA8"><!-- --></a><h2 class="sectiontitle">Example</h2> <pre class="codeblock" id="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-DEF8AF54-2EA9-541F-A8D5-10C7C4690D1F"><a name="GUID-BAD138D5-2914-5C6E-9FA4-F7A3CCB85E6D__GUID-DEF8AF54-2EA9-541F-A8D5-10C7C4690D1F"><!-- --></a>// TXUT.MMP
//
// Copyright © 2000 Symbian Ltd.  All rights reserved.

target          TXUT.dll
targettype      dll
uid      0x1000008d 0x10003C75
VENDORID 0x70000001
CAPABILITY   ReadDeviceData WriteDeviceData ProtServ NetworkControl NetworkServices LocalServices ReadUserData WriteUserData LocalServices ReaduserData WriteUserData

source          txut.cpp txutdll.cpp

userinclude     .
systeminclude   \Epoc32\include

library         euser.lib estor.lib msgs.lib efsrv.lib 
library         centralrepository.lib  

// v2 def files

#if defined(WINS)
    deffile .\txutWINS.def
#else
    deffile .\txutEABI.def    
#endif

nostrictdef</pre>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-8B843382-D27A-5E36-8F60-304903F3AA41.html">Message Type Module</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>