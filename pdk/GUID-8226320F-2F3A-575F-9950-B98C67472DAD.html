<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Privacy Query and Notification Notifiers"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9EB08688-7A16-585B-B2B0-C142AF754D2A.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-710BC22B-E4F0-5E16-B970-E2D21F5571FC.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-CE970F0F-C922-516F-9D7E-EA1F4754A205.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-CDE5CC9D-F6DE-5A21-97C3-59A2F3398A15.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9EB08688-7A16-585B-B2B0-C142AF754D2A.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-8226320F-2F3A-575F-9950-B98C67472DAD"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Privacy Query and Notification Notifiers</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2402590 id2402671 id2402731 id2402745 id2402754 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html">Location Based Services (LBS) Guide</a> &gt; <a href="GUID-710BC22B-E4F0-5E16-B970-E2D21F5571FC.html" title="The Location Request Management collection contains components that handle requests for location request information both from installed applications and from the network.">Location Request Management</a> &gt; <a href="GUID-CE970F0F-C922-516F-9D7E-EA1F4754A205.html" title="The Network Request Handler processes privacy and location requests received from the network.">Network Request Handler</a> &gt; <a href="GUID-CDE5CC9D-F6DE-5A21-97C3-59A2F3398A15.html" title="A privacy request is a request for permission to obtain the mobile device's location. Privacy requests are usually sent from the network to the mobile device as part of an MT-LR.">Privacy Requests</a> &gt; <a href="GUID-9EB08688-7A16-585B-B2B0-C142AF754D2A.html" title="This section contains documents the describe privacy request concepts and the components that licensees create to handle them.">Privacy Request Concepts</a> &gt; </div>
<h1 class="topictitle1">Privacy Query and Notification Notifiers</h1>
<div><div class="section"><h2 class="sectiontitle">Purpose</h2> <p>  This document describes Privacy Query and Notification (Q&amp;N) Notifiers and the Privacy Query and Notification API: a framework API that licensees can use to create a notifier for LBS privacy requests. </p>
 <p> <em>Note that the Privacy Query and Notification API is deprecated</em>. It is documented here as it is now part of the Symbian platform LBS subsystem (it was formerly part of the S60 Privacy Framework). It is supported in Symbian LBS in order to allow licensees who have previously created Privacy Q&amp;N Notifiers for the S60 Privacy Framework to continue to use them with the Symbian LBS subsystem. </p>
 <p>Licensees who are developing new notifiers for LBS are encouraged to use the Symbian <a href="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23.html#GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-DC80984B-7B46-5C2D-A1EF-EDBB0983159D">LBS Privacy Notifiers</a>. </p>
 <p>The Privacy Q&amp;N API depends on the <a href="GUID-E049772D-A96F-592F-AF59-C9B69E8D24C1-GENID-1-12-1-4-1-1-4-1-4-1.html">Extended Notifier Framework</a> and on the <a href="GUID-3170E641-E3A9-58D5-82B9-391A2F5AC140.html#GUID-3170E641-E3A9-58D5-82B9-391A2F5AC140__GUID-86A9DF94-B242-51D5-924A-68A0D526078B">Privacy Data Types</a> to pass data between the notifiers and the LBS subsystem. </p>
 <p>See <a href="GUID-2E565B8E-D262-5769-96E6-A532154D57E6.html" title="This document provides background information on privacy requests which are sent to LBS to obtain permission to send the device location to another party.">Privacy Requests Overview</a> for an explanation of privacy request concepts. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">Contents</h2> <ul><li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-2E6265D0-FD64-5CF2-A2FE-4508A7781F5B"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-2E6265D0-FD64-5CF2-A2FE-4508A7781F5B"><!-- --></a><p><a href="GUID-8226320F-2F3A-575F-9950-B98C67472DAD.html#GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-C05316EE-C228-5CEC-B940-8EEAFDA578B1">Introduction</a>  </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-CE1623CD-ED32-5D93-88B7-09B4CC2266D5"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-CE1623CD-ED32-5D93-88B7-09B4CC2266D5"><!-- --></a><p><a href="GUID-8226320F-2F3A-575F-9950-B98C67472DAD.html#GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-ACB911D4-077C-55B4-914E-D34E4CC4E274">API description</a>  </p>
 <ul><li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-CF471AD6-487E-5ECD-8E8B-BCB2457009B1"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-CF471AD6-487E-5ECD-8E8B-BCB2457009B1"><!-- --></a><p><a href="GUID-8226320F-2F3A-575F-9950-B98C67472DAD.html#GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-615C9AEE-8B20-54F7-90A9-D6F8AD0B99A4">CPosPrivacyNotifier</a> </p>
 </li>
 </ul>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-A12481B5-516C-5A21-9846-68B9B97FC7CA"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-A12481B5-516C-5A21-9846-68B9B97FC7CA"><!-- --></a><p><a href="GUID-8226320F-2F3A-575F-9950-B98C67472DAD.html#GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-5F8226BA-9918-52A9-97B9-6186F197A8AD">See also</a>  </p>
 </li>
 </ul>
 </div>
 <div class="section" id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-C05316EE-C228-5CEC-B940-8EEAFDA578B1"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-C05316EE-C228-5CEC-B940-8EEAFDA578B1"><!-- --></a><h2 class="sectiontitle">Introduction</h2> <p>Figure 1 shows the Privacy Q&amp;N API and related LBS subsystem components in the <a href="GUID-A898867E-0C50-583E-979F-132504C24C9A.html" title="This topic describes the steps necessary to configure the LBS subsystem on the Symbian platform.">Full LBS configuration</a>. </p>
 <div class="fignone" id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-71DEA395-E082-5CD2-9C88-B9FC94C023BB"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-71DEA395-E082-5CD2-9C88-B9FC94C023BB"><!-- --></a><span class="figcap">Figure 1. 
             Figure 1. The Privacy Q&amp;N Notifier API and related LBS subsystem
             components. 
          </span> <img src="GUID-6EAC30BC-B8F6-5007-A672-DF1D4895599F_d0e434514_href.png"/></div>
 </div>
 <div class="section" id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-ACB911D4-077C-55B4-914E-D34E4CC4E274"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-ACB911D4-077C-55B4-914E-D34E4CC4E274"><!-- --></a><h2 class="sectiontitle">API description</h2> <p>This section describes the classes of the LBS Privacy Q&amp;N Notification API. </p>
 <p><strong>Privacy Query and Notification API class diagram </strong> </p>
 <p>Figure 2 shows the <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html"><span class="apiname">CPosPrivacyNotifier</span></a> class of the Privacy Q&amp;N Notifiers API. This is the only class defined in the API and is the base class for a Privacy Q&amp;N Notifier implementation. <samp class="codeph">CPosPrivacyNotifier</samp> contains virtual methods that must be implemented by a notifier implementation in order to receive notifications of privacy requests. Figure 2 also shows the enumerated types from the <a href="GUID-3170E641-E3A9-58D5-82B9-391A2F5AC140.html#GUID-3170E641-E3A9-58D5-82B9-391A2F5AC140__GUID-86A9DF94-B242-51D5-924A-68A0D526078B">Privacy Data Types</a> that are used to pass data between the LBS subsystem and a Privacy Q&amp;N Notifier. </p>
 <p>The Privacy Query and Notification API uses the Symbian <a href="GUID-E049772D-A96F-592F-AF59-C9B69E8D24C1-GENID-1-12-1-4-1-1-4-1-4-1.html">Extended Notifier Framework</a>. A notifier implementation must be wrapped in an ECOM plug-in class that contains a factory method to register the notifier with the framework. An <a href="GUID-DE445C4B-22EF-3A1F-8A69-57CB703BFAD0.html"><span class="apiname">MEikSrvNotifierBase2</span></a> interface can be obtained from <samp class="codeph">CPosPrivacyNotifier</samp> that allows the notifier to be registered. This is explained in more detail in <a href="GUID-D4AB2D70-D49E-5F59-80F6-3D90F1D76BD5.html#GUID-D4AB2D70-D49E-5F59-80F6-3D90F1D76BD5__GUID-AEE162B1-706D-56E6-9703-D54D1CC29F35">How to use the Privacy Query and Notification API.</a>  </p>
 <div class="fignone" id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-1E30EE82-3504-54D2-925D-DCFAD55333D8"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-1E30EE82-3504-54D2-925D-DCFAD55333D8"><!-- --></a><span class="figcap">Figure 2. 
             Figure 2. Classes and types of the Privacy Q&amp;N Notifiers. 
          </span> <img src="GUID-CB82C5D5-5714-5F31-A24F-E2259E6E9BD6_d0e434562_href.png"/></div>
 <p><strong>Privacy Data Types classes and types </strong> </p>
 <p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html"><span class="apiname">CPosPrivacyNotifier</span></a> is the only class of the API and is the base class of Privacy Q&amp;N Notifiers. It is defined in <span class="filepath">EPos_CPosPrivacyNotifier.h</span>. </p>
 <p>The implementation UID that should be used for licensee Privacy Q&amp;N Notifiers is <samp class="codeph">KPosPrivacyNotifierImplUid</samp> and is defined in <span class="filepath">EPos_PrivacyNotifier.hrh</span>. </p>
 <p>The Privacy Query and Notification API classes and types have <samp class="codeph">publishedPartner</samp> interface access. </p>
 <p><strong>Libraries </strong> </p>
 <p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html"><span class="apiname">CPosPrivacyNotifier</span></a> is packaged in <span class="filepath">eposprvqnif.dll</span>. A Privacy Q&amp;N Notifier links to <span class="filepath">eposprvqnif.lib</span>. It must also link to <span class="filepath">eposprvtyp.lib</span> to use the <a href="GUID-3170E641-E3A9-58D5-82B9-391A2F5AC140.html#GUID-3170E641-E3A9-58D5-82B9-391A2F5AC140__GUID-86A9DF94-B242-51D5-924A-68A0D526078B">Privacy Data Types</a> on which the Privacy Q&amp;N API depends. </p>
 <p><strong>Capabilities </strong> </p>
 <p>As for all notifiers that use the Extended Notifier Framework, the licensee notifier ECom plug-in must be built with <samp class="codeph">TrustedUI</samp> and <samp class="codeph">ProtServ</samp> capabilities. The capabilities are specified in the plug-in's MMP file. See <a href="GUID-D4AB2D70-D49E-5F59-80F6-3D90F1D76BD5.html#GUID-D4AB2D70-D49E-5F59-80F6-3D90F1D76BD5__GUID-AEE162B1-706D-56E6-9703-D54D1CC29F35">How to use the Privacy Query and Notification API</a> for more details. </p>
 <p><strong>LBS Configuration </strong> </p>
 <p>The LBS Administration setting <samp class="codeph">KLbsSettingPrivacyHandler</samp> must be set to <samp class="codeph">CLbsAdmin::EPrivacyHandleByAdvancedNotifier</samp> to configure LBS to use Privacy Q&amp;N Notifiers. See <a href="GUID-23BBC1D8-B3A0-5148-A4F1-22ECF3043E4E.html" title="The documents in this section explain how to configure LBS by using the LBS Administration API or by using a repository initialisation file.">LBS Administration</a> for details of how to configure this setting either through the LBS Administration API or in the LBS central repository initialisation file. </p>
 <p> <strong>Sequential processing of privacy requests</strong>  </p>
 <p>The LBS subsystem sends privacy requests sequentially to Privacy Notifiers. If multiple privacy requests are received how they are handled depends on the interface via which the privacy request was received: </p>
 <ul><li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-4B682EA4-4D4E-5DE1-B39C-EC29879A9D90"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-4B682EA4-4D4E-5DE1-B39C-EC29879A9D90"><!-- --></a><p>Request received from a <a href="GUID-CB6B4D1A-ACB9-5571-8C23-4BC095209782.html" title="This document describes the Network Protocol Module API that device creators use to develop their own Network Protocol Modules.">Network Protocol Module</a>  </p>
 <p>A second privacy request forces LBS to cancel an outstanding privacy request (but not emergency requests). The Privacy Notifier in use for the first privacy request is cancelled. The Privacy Notifier is then restarted to handle the second privacy request. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-06FEFD8F-1639-535B-933C-D0CEB0A2A009"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-06FEFD8F-1639-535B-933C-D0CEB0A2A009"><!-- --></a><p>Request received via the <a href="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726.html" title="The Network Privacy API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Network Privacy API</a> or the <a href="GUID-E1710E40-B8F5-5CF8-B9FE-698869A1770F.html" title="The Privacy Request API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Privacy Request API</a>  </p>
 <p>Privacy notification and verification requests are sent sequentially to Privacy Notifiers. A Privacy Notifier must have responded to one privacy request (or LBS must have sent a timeout response) before the next request can be sent to the notifier. The maximum number of privacy requests that can be outstanding in the LBS subsystem is defined by the LBS administration setting <samp class="codeph">KLbsSettingMaximumExternalLocateRequests</samp>. Further requests are rejected by the LBS subsystem if the number of outstanding privacy requests exceeds <samp class="codeph">KLbsSettingMaximumExternalLocateRequests</samp>. </p>
 </li>
 </ul>
 <p id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-615C9AEE-8B20-54F7-90A9-D6F8AD0B99A4"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-615C9AEE-8B20-54F7-90A9-D6F8AD0B99A4"><!-- --></a><strong>CPosPrivacyNotifier</strong> </p>
 <p><strong>Purpose </strong> </p>
 <p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html"><span class="apiname">CPosPrivacyNotifier</span></a> is the base class for a Privacy Q&amp;N Notifier. It defines the interface between the LBS subsystem and a Privacy Q&amp;N Notifier. A licensee Privacy Q&amp;N Notifier must derive from this class. </p>
 <p> <strong>Note that a licensee should create one single derived notifier class to handle both privacy verification requests and privacy notification requests.</strong> <samp class="codeph"/>  </p>
 <p> <samp class="codeph">CPosPrivacyNotifier</samp> defines two types of methods: </p>
 <a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-2C60765F-6317-5CB5-8CE9-EDBC9FA55FD0"><!-- --></a><ol id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-2C60765F-6317-5CB5-8CE9-EDBC9FA55FD0"><li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-94A892D7-FB2B-504A-A838-61C19BD2F7CB"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-94A892D7-FB2B-504A-A838-61C19BD2F7CB"><!-- --></a><p>Pure virtual event methods that must be implemented by the Privacy Q&amp;N Notifier implementation in order to receive information from the LBS subsystem about privacy requests: </p>
 <ul><li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-0B38A251-9F94-5A1C-BA89-681B2207721A"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-0B38A251-9F94-5A1C-BA89-681B2207721A"><!-- --></a><p> <samp class="codeph">CPosPrivacyNotifier::HandleNewRequestL()</samp>  </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-594DC6CA-CB9C-5440-9E53-4FF82CC6B639"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-594DC6CA-CB9C-5440-9E53-4FF82CC6B639"><!-- --></a><p> <samp class="codeph">CPosPrivacyNotifier::HandleRequestCancelledL()</samp>  </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-F71DCD70-6FF4-543C-8827-46DDD7D4A3E0"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-F71DCD70-6FF4-543C-8827-46DDD7D4A3E0"><!-- --></a><p> <samp class="codeph">CPosPrivacyNotifier::HandleAllRequestsCancelled()</samp> </p>
 </li>
 </ul>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-E4B9B5C1-A85A-514A-BBF1-E8FFE778E06A"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-E4B9B5C1-A85A-514A-BBF1-E8FFE778E06A"><!-- --></a><p>Methods for obtaining information about a request and for responding to it. </p>
 </li>
 </ol>
 <p><strong>Usage </strong> </p>
 <p>A licensee creates a single Privacy Q&amp;N Notifier class that derives from <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html"><span class="apiname">CPosPrivacyNotifier</span></a> to handle both privacy verification requests and privacy notification requests. </p>
 <p><strong>Implementing the virtual event methods </strong> </p>
 <p>The following are the pure virtual event methods defined in <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html"><span class="apiname">CPosPrivacyNotifier</span></a> that a licensee notifier must implement. Links can be followed to API reference documentation for full descriptions of method parameters and return types. </p>
 <ul><li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-CBDBB056-DE90-58D4-A194-DD3B9BC8BFCC"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-CBDBB056-DE90-58D4-A194-DD3B9BC8BFCC"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-33E317F9-A8C0-34AF-B17A-72D46B2E4DBD"><span class="apiname">CPosPrivacyNotifier::HandleNewRequestL()</span></a>  </p>
 <p>This method is called when a new privacy request is sent from the LBS subsystem to the notifier. It takes a <samp class="codeph">TPosQNRequestId</samp> parameter that specifies the unique ID for the request. The ID can be used to identify the request in other method calls, such as to cancel the request at some later time. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-81FF507E-105B-54E9-BC45-EF8F9F4D01E5"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-81FF507E-105B-54E9-BC45-EF8F9F4D01E5"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-3417B07B-DE69-3719-8634-B979CBA77AFE"><span class="apiname">CPosPrivacyNotifier::HandleRequestCancelled()</span></a> </p>
 <p>This method is called by the LBS subsystem to cancel a specified outstanding request. The method takes a <samp class="codeph">TPosQNRequestId</samp> parameter that specifies the ID of the request to be cancelled. It is not necessary to call <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-57739A9E-F6CD-3079-8B6F-9B80AAFE4D8B"><span class="apiname">CPosPrivacyNotifier::CompleteRequest()</span></a> for a request that was cancelled by calling this method. </p>
 <p>When this method is called the Privacy Q&amp;N Notifier can check the reason why the request was cancelled by calling <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-54EB2437-9070-376D-8FCD-C1D4758113E6"><span class="apiname">CPosPrivacyNotifier::CancelReason()</span></a>. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-5632A47C-8574-5144-A5D2-4962C12482A9"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-5632A47C-8574-5144-A5D2-4962C12482A9"><!-- --></a><p> <samp class="codeph">CPosPrivacyNotifier::HandleAllRequestsCancelled()</samp> </p>
 <p>This method is called by the LBS subsystem to cancel all outstanding requests. </p>
 </li>
 </ul>
 <p>See <a href="GUID-D4AB2D70-D49E-5F59-80F6-3D90F1D76BD5.html#GUID-D4AB2D70-D49E-5F59-80F6-3D90F1D76BD5__GUID-AEE162B1-706D-56E6-9703-D54D1CC29F35">How to use the Privacy Query and Notification API</a> for examples of how to implement these methods. </p>
 <p><strong>Other methods </strong> </p>
 <p>The following is a list of the other (non pure virtual) methods defined by the Privacy Query and Notification API. Links can be followed to API reference documentation for full descriptions of the method parameters and return types. </p>
 <ul><li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-7F25BF0F-CC1C-5092-975A-B0CB1F443214"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-7F25BF0F-CC1C-5092-975A-B0CB1F443214"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-5E946C2A-0AC5-3B37-B1D7-06C73C934F48"><span class="apiname">CPosPrivacyNotifier::NotifierBase()</span></a>  </p>
 <p>This method returns an <a href="GUID-DE445C4B-22EF-3A1F-8A69-57CB703BFAD0.html"><span class="apiname">MEikSrvNotifierBase2</span></a> pointer. When a developer writes the notifier ECom plug-in wrapper class factory method, this method should be called to return an <samp class="codeph">MEikSrvNotifierBase2</samp> pointer. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-296C9712-978D-5084-943D-3DA1F1F7EEB1"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-296C9712-978D-5084-943D-3DA1F1F7EEB1"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-BB214179-0B04-33CB-82CD-AAEABE36DAA1"><span class="apiname">CPosPrivacyNotifier::CheckClientSecureId()</span></a>  </p>
 <p>This method should be used in a notifier implementation to check the SID of the client process that is making the request. The method takes a <a href="GUID-E924490C-D174-3CE8-98BB-85A1D10BC90B.html"><span class="apiname">TSecureId</span></a> parameter and compares it to the <samp class="codeph">TSecureId</samp> of the process that is making the request. It returns true if the two are the same. </p>
 <p>A licensee notifier should call this method in its implementation of <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-33E317F9-A8C0-34AF-B17A-72D46B2E4DBD"><span class="apiname">CPosPrivacyNotifier::HandleNewRequestL()</span></a> as a validation check. The SID of the LBS Network Request Handler process that sends requests to the notifier is <samp class="codeph">0x10281D45</samp>. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-2C6BF144-3686-5FE7-8AA6-A2FC6C4EE751"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-2C6BF144-3686-5FE7-8AA6-A2FC6C4EE751"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-54EB2437-9070-376D-8FCD-C1D4758113E6"><span class="apiname">CPosPrivacyNotifier::CancelReason()</span></a>  </p>
 <p>This method can be used to check the reason why a request was cancelled. This method can be called while one of the methods <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-3417B07B-DE69-3719-8634-B979CBA77AFE"><span class="apiname">CPosPrivacyNotifier::HandleRequestCancelled()</span></a> or <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-2AFB10BF-DEAC-3BC5-B280-47BABF83A767"><span class="apiname">CPosPrivacyNotifier::HandleAllRequestsComplete()</span></a> is running. </p>
 <p>The return value is of type <a href="GUID-8E445582-5821-36B3-A8FB-EE706D7C40EF.html"><span class="apiname">TPosVerifyCancelReason</span></a> and specifies the reason why a request was cancelled. An unknown value should be treated as <a href="GUID-A77356B9-0126-37E6-9583-6B2165E4C8F6.html"><span class="apiname">EPosCancelReasonNotAvailable</span></a>. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-1DD588A1-0BA8-50E4-8045-09843000C85A"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-1DD588A1-0BA8-50E4-8045-09843000C85A"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-1EC8EC6A-C6BF-377E-B50A-AD8668A2EDDD"><span class="apiname">CPosPrivacyNotifier::BaseConstructL()</span></a>  </p>
 <p>This method must be called first in the <samp class="codeph">ConstructL()</samp> of the licensee notifier implementation. The method takes a channel UID and a priority as parameters which are used by the Extended Notifier Framework. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-2F7BAA9F-2F94-51AE-8F25-188A79EBB67B"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-2F7BAA9F-2F94-51AE-8F25-188A79EBB67B"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-4E117090-89E5-33DA-AC4B-494906B4BAF9"><span class="apiname">CPosPrivacyNotifier::GetRequestsL()</span></a>  </p>
 <p>This method returns a list of all of the outstanding privacy verification requests (query requests) and notification requests. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-23F97EBA-1F1A-5BFB-A1A3-B06BB9EDF182"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-23F97EBA-1F1A-5BFB-A1A3-B06BB9EDF182"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-5F934A37-B937-3AE4-AC1D-817D1BBA10B9"><span class="apiname">CPosPrivacyNotifier::RequestTypeL()</span></a>  </p>
 <p>This method is called to find out whether a request is a privacy verification request (a query request) or a notification request. If a privacy request with the specified ID does not exist, the method leaves with the error code <samp class="codeph">KErrNotFound</samp>. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-DC8FC238-9597-5DE3-A1FE-984A3A1B273D"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-DC8FC238-9597-5DE3-A1FE-984A3A1B273D"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-A041F06C-8A22-37D3-B634-894AFE9B7FF0"><span class="apiname">CPosPrivacyNotifier::SetCurrentRequestL()</span></a>  </p>
 <p>The current request is the request that is currently being handled. </p>
 <p>In order to read detailed information (the requesters) about a request, it must be set as current.This is achieved by calling this method. If a request with the specified ID does not exist, the method leaves with the error code <samp class="codeph">KErrNotFound</samp>. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-BF050576-CE40-52E9-9D04-7D66B73FB740"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-BF050576-CE40-52E9-9D04-7D66B73FB740"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-2576115E-8E73-3E2C-A7CF-A978C13E3542"><span class="apiname">CPosPrivacyNotifier::CurrentRequest()</span></a>  </p>
 <p>This method gets the request that is set as current. If no request is set as current, or if the current request has been completed, <samp class="codeph">KPosNullQNRequestId</samp> is returned. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-4C204154-2C45-5CD0-839C-307B51E873A5"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-4C204154-2C45-5CD0-839C-307B51E873A5"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-73244BA6-E796-383B-BA9F-507B25AA98EA"><span class="apiname">CPosPrivacyNotifier::QueryTimeoutStrategy()</span></a>  </p>
 <p>For a privacy verification request, a timeout strategy may be provided. The timeout strategy specifies whether the location request will be accepted or rejected if the privacy request times out. If no timeout strategy is provided, <samp class="codeph">EPosDecisionNotAvailable</samp> will be returned. </p>
 <p>Note that a timeout strategy is only available for privacy queries, never for notifications. If this method is called for a notification, it will always return <samp class="codeph">EPosDecisionNotAvailable</samp>. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-85C3BF4D-D5CC-5A30-AEDF-4F275C78B2EC"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-85C3BF4D-D5CC-5A30-AEDF-4F275C78B2EC"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-4EFE3E2B-92A4-3DC2-A02B-4AEE260DD682"><span class="apiname">CPosPrivacyNotifier::RequestSource()</span></a>  </p>
 <p>The notifier can find out the source by calling this method. The request source enumeration <a href="GUID-B2BA5881-DCF9-305B-A192-9F90CBA6BD55.html"><span class="apiname">TPosRequestSource</span></a> is defined by the <a href="GUID-3170E641-E3A9-58D5-82B9-391A2F5AC140.html#GUID-3170E641-E3A9-58D5-82B9-391A2F5AC140__GUID-86A9DF94-B242-51D5-924A-68A0D526078B">Privacy Data Types</a>. </p>
 <p>If a request source is not defined, <samp class="codeph">EPosRequestSourceNotAvailable</samp> is be returned. </p>
 <p>Note that <a href="GUID-B2BA5881-DCF9-305B-A192-9F90CBA6BD55.html"><span class="apiname">TPosRequestSource</span></a> may be extended in the future. Therefore, any unknown value must be treated as <samp class="codeph">EPosRequestSourceNotAvailable</samp>. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-641A20DA-3D44-58C1-B9A8-833267B4A553"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-641A20DA-3D44-58C1-B9A8-833267B4A553"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-DDAC932E-1093-38AB-8CA6-3B2B06CC2BC0"><span class="apiname">CPosPrivacyNotifier::LocationRequestDecision()</span></a> </p>
 <p>This method returns whether the privacy request was accepted or rejected. </p>
 <p>This information is mainly used in notification requests. The request decision enumeration <a href="GUID-5836362B-C341-311E-ABBE-D403DFA0DD62.html"><span class="apiname">TPosRequestDecision</span></a> is defined by the <a href="GUID-3170E641-E3A9-58D5-82B9-391A2F5AC140.html#GUID-3170E641-E3A9-58D5-82B9-391A2F5AC140__GUID-86A9DF94-B242-51D5-924A-68A0D526078B">Privacy Data Types</a>. </p>
 <p>For privacy verification queries, this method returns <samp class="codeph">EPosDecisionNotAvailable</samp>. </p>
 <p>If the request decision is unknown in a notification request, <samp class="codeph">EPosDecisionNotAvailable</samp> is returned. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-D5C1CB9F-B395-57DE-A22D-BCEFD47988B2"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-D5C1CB9F-B395-57DE-A22D-BCEFD47988B2"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-22FFC3B2-A6B9-3501-AD89-1DB31027F53C"><span class="apiname">CPosPrivacyNotifier::NotificationReason()</span></a>  </p>
 <p>For notification requests, this method returns the reason for notification, for example the request verification timed out. </p>
 <p>The notification reason enumeration <a href="GUID-E4C7354B-3F7F-3279-AD6E-BA9574AD3A47.html"><span class="apiname">TPosNotificationReason</span></a> is defined by the <a href="GUID-3170E641-E3A9-58D5-82B9-391A2F5AC140.html#GUID-3170E641-E3A9-58D5-82B9-391A2F5AC140__GUID-86A9DF94-B242-51D5-924A-68A0D526078B">Privacy Data Types</a>. If the reason for the notification request is not provided, this method returns <samp class="codeph">EPosNotificationReasonNotAvailable</samp>. </p>
 <p>Note that the notification reason enumeration <a href="GUID-E4C7354B-3F7F-3279-AD6E-BA9574AD3A47.html"><span class="apiname">TPosNotificationReason</span></a> may be extended in the future. Therefore, any unknown value must be treated as <samp class="codeph">EPosNotificationReasonNotAvailable</samp>. </p>
 <p>If the notification reason is unknown by the notifier, the notification request should be completed with the error code <samp class="codeph">KErrNotSupported</samp>, i.e. <samp class="codeph">CompleteRequest(KErrNotSupported)</samp> should be called. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-E1FAD90F-22B2-5D86-A758-424E55586952"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-E1FAD90F-22B2-5D86-A758-424E55586952"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-E9CE021E-6971-39CC-B535-4A2367E93239"><span class="apiname">CPosPrivacyNotifier::RequestorCountL()</span></a>  </p>
 <p>This method returns the number of requesters in the current request. A requester is a contact or service, which is the originator or a proxy for the position request. If no request is set as current, or if the current request has been completed, this method leaves with the error code <samp class="codeph">KErrNotFound</samp>. </p>
 <p>Note that the requester count can be zero if there is no requestor information available. In this case, the notifier should consider showing an alternative message. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-1A5A239A-1579-5761-AC28-930B47110AC5"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-1A5A239A-1579-5761-AC28-930B47110AC5"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-3A1AFEE8-0905-3567-A3B3-FCF0FFFEC124"><span class="apiname">CPosPrivacyNotifier::RequestorLC()</span></a>  </p>
 <p>This method reads information about a requester from the request that is set as current by <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-A041F06C-8A22-37D3-B634-894AFE9B7FF0"><span class="apiname">CPosPrivacyNotifier::SetCurrentRequestL()</span></a>. </p>
 <p>The notifier specifies which requestor to read by index. The index must be a number between 0 and RequestorCountL() – 1. If an invalid index is passed to this method, it leaves with the error code <samp class="codeph">KErrArgument</samp>. If no request is set as current, or if the current request has been completed, this method leaves with the error code <samp class="codeph">KErrNotFound</samp>. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-D4765257-9499-596A-A962-1761294CA105"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-D4765257-9499-596A-A962-1761294CA105"><!-- --></a><p> <a href="GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C.html#GUID-56C8D5AB-7D9A-3B20-B699-07F17A87A61C__GUID-57739A9E-F6CD-3079-8B6F-9B80AAFE4D8B"><span class="apiname">CPosPrivacyNotifier::CompleteRequest()</span></a>  </p>
 <p>The Privacy UI must call this method when a request has been handled. The ID of the privacy request to complete and the completion code are passed as input parameters. If there is no outstanding privacy request with the specified ID, the call is ignored. The completion code can be any system wide error code. </p>
 <p>A few completion codes have specific meanings. For query requests, the following completion codes should be noted: </p>
 <ul><li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-DEBCFBF7-4E2B-54FE-AC06-738513424BA4"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-DEBCFBF7-4E2B-54FE-AC06-738513424BA4"><!-- --></a><p> <samp class="codeph">KErrNone</samp> if the phone user accepts the query. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-957FB682-65E6-503A-A98D-1A4D3900B425"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-957FB682-65E6-503A-A98D-1A4D3900B425"><!-- --></a><p> <samp class="codeph">KErrAccessDenied</samp> if the phone user rejects the query. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-A8D9965E-6797-5454-9D16-8E9A84AA0D65"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-A8D9965E-6797-5454-9D16-8E9A84AA0D65"><!-- --></a><p> <samp class="codeph">KErrTimedOut</samp> if the query times out. The notifier should use a timer and abort it if the phone user does not respond to the dialog. </p>
 </li>
 </ul>
 <p>For notification requests, the following completion codes should be noted: </p>
 <ul><li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-506B8EB8-0592-56A4-B365-4C1E427F24CC"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-506B8EB8-0592-56A4-B365-4C1E427F24CC"><!-- --></a><p> <samp class="codeph">KErrNone</samp> if the phone user dismisses the dialog. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-A1DF6E1E-FA71-5F37-A830-2B3EC8C055EA"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-A1DF6E1E-FA71-5F37-A830-2B3EC8C055EA"><!-- --></a><p> <samp class="codeph">KErrTimedOut</samp> if the notification request times out. The notifier should implement a timeout if the phone user does not respond to the dialog. </p>
 </li>
 <li id="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-3E8145FF-8960-524C-B5F3-E23C6B3D1BC5"><a name="GUID-8226320F-2F3A-575F-9950-B98C67472DAD__GUID-3E8145FF-8960-524C-B5F3-E23C6B3D1BC5"><!-- --></a><p> <samp class="codeph">KErrNotSupported</samp> if the notification reason is not known by the Privacy UI. </p>
 </li>
 </ul>
 </li>
 </ul>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-9EB08688-7A16-585B-B2B0-C142AF754D2A.html" title="This section contains documents the describe privacy request concepts and the components that licensees create to handle them.">Privacy Request Concepts</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>