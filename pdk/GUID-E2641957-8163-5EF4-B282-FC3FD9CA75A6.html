<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Sound Driver Technology"/>
<meta name="abstract" content="Describes the technology concepts that are used in the Sound Driver."/>
<meta name="description" content="Describes the technology concepts that are used in the Sound Driver."/>
<meta name="DC.Relation" scheme="URI" content="GUID-6D75968E-53CF-5436-8390-54CA12BCFDE9.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-52371DAB-A231-558C-B3E6-220DAAEE566B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-669C77A3-89BA-5321-ABB1-4356A5FE478C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6D75968E-53CF-5436-8390-54CA12BCFDE9.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Sound Driver Technology</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6"><a name="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387835 id2400778 id2402156 id2402170 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">Kernel and Hardware Services Guide</a> &gt; <a href="GUID-52371DAB-A231-558C-B3E6-220DAAEE566B.html" title="Provides software components that implement the interface between Symbian platform and peripherals.">Logical Device Drivers</a> &gt; <a href="GUID-669C77A3-89BA-5321-ABB1-4356A5FE478C.html" title="Describes how to create a port of the sound driver for your phone hardware.">Sound Driver</a> &gt; <a href="GUID-6D75968E-53CF-5436-8390-54CA12BCFDE9.html" title="Describes the technology, architecture, and behaviour of the Sound Driver.">Concepts</a> &gt; </div>
<h1 class="topictitle1">Sound
Driver Technology</h1>
<div><p>Describes the technology concepts that are used in the Sound Driver. </p>

<div class="section" id="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-CBC17614-34B3-52A1-9C74-F7093A175398"><a name="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-CBC17614-34B3-52A1-9C74-F7093A175398"><!-- --></a><h2 class="sectiontitle">Audio hardware
device</h2> <p>An audio hardware device is an individual hardware codec
device together with any associated controller hardware that allows the CPU
to communicate with it. </p>
 <p>A basic audio hardware device typically provides
two communication paths: an input path for the audio recording and an output
path for audio playback. </p>
 <p>Most basic audio hardware devices support
full duplex data transfer although some are only half-duplex or maybe just
simplex. Each input or output path may be used to transfer mono data or stereo
data. In the case of stereo this consists of two audio channels, the left
and the right; mono data consists of just a single audio channel. </p>
 <p>A
more complex audio hardware device could be an AC 97 codec or similar, plus
its associated controller, which can support multiple input and output paths.
Each input or output path may be used to transfer mono data, stereo data or
'multichannel data'. For example, left, right, centre, left and right surround
and Low-Frequency Effects (LFE). </p>
 </div>

<div class="section" id="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-7C8FF32F-2E84-57B1-8962-9EDB4D51FEE6"><a name="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-7C8FF32F-2E84-57B1-8962-9EDB4D51FEE6"><!-- --></a><h2 class="sectiontitle">Unit</h2> <p>Units
are used to provide access to the various audio hardware devices. Each unit
supports just one communication path this is either input or output. </p>
 <p>Clients
of the audio hardware system can open a separate connection to each unit.
The mapping between the units on a given phone and the audio hardware devices
themselves is platform specific; this is determined by the implementer of
the Sound Driver PDD for that platform. </p>
 <p>A basic full-duplex audio
hardware device is presented as two units, one input/record unit and one output/playback
unit. A more complex audio hardware device such as an AC 97 codec may be represented
to the rest of the OS as a number of audio input and output units. </p>
 </div>

<div class="section" id="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-74B14664-8D9D-57D2-B090-709136FEB5E3"><a name="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-74B14664-8D9D-57D2-B090-709136FEB5E3"><!-- --></a><h2 class="sectiontitle">Audio channel</h2> <p>An
audio channel is a data stream between a client and an audio unit. There are
one or more audio channels per driver channel. </p>
 </div>

<div class="section" id="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-4D6A01FE-47E7-5A6F-9DFE-F612B880165B"><a name="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-4D6A01FE-47E7-5A6F-9DFE-F612B880165B"><!-- --></a><h2 class="sectiontitle">Driver channel</h2> <p>A
driver channel is a session between a client and an audio unit. A client may
have driver channels open on more than one unit. </p>
 <div class="p"><div class="note"><span class="notetitle">Note:</span>  The difference
between a driver channel and an audio channel. A driver channel is a session
between the client and an audio device which can consist of one or more audio
channels. An audio channel refers to the audio stream, for example, left or
right output.</div>
 </div>
 <div class="fignone" id="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-C3B51755-EDB0-5518-83D1-886E9148D65A"><a name="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-C3B51755-EDB0-5518-83D1-886E9148D65A"><!-- --></a><span class="figcap">Figure 1.               The relationship between audio channels and device channels.
           </span>

<img src="GUID-2D98DB88-BA48-5EF8-A5F9-0CB8688B0B63_d0e412149_href.png"/>
</div>
 </div>

<div class="section" id="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-5C66667B-55C0-521D-86E3-67593DB381C9"><a name="GUID-E2641957-8163-5EF4-B282-FC3FD9CA75A6__GUID-5C66667B-55C0-521D-86E3-67593DB381C9"><!-- --></a><h2 class="sectiontitle">Mono to stereo
conversion</h2> <p>Many codecs that support stereo playback can only accept
audio data that is delivered with the samples for each of the channels interleaved,
for example, LRLRLR. For these audio hardware devices, in order to operate
the channel in mono mode and to play audio data which contains only samples
for a single channel it is necessary to perform mono-to-stereo conversion
on the audio data before delivering it to the codec. So, for a section of
mono audio data that contains three samples, lets call them S1, S2 and S3,
each sample is duplicated, so we have S1,S1,S2,S2,S3,S3, with identical samples
being delivered to each channel. </p>
 <p>Unfortunately, the only way for the
PDD to implement this conversion is for it to allocate a conversion buffer
and to copy each sample twice into this buffer. The PDD has to allocate a
separate conversion buffer for each simultaneous transfer operation it supports,
for example, for the template playback driver, a conversion buffer count equal
to <a href="GUID-EE69DF4F-3341-355A-837A-5DA1C8A20A67.html"><span class="apiname">KTemplateMaxTxDmaRequests</span></a>. </p>
 <p>When performing conversion
in this manner, the maximum transfer size that the PDD can accept from the
LDD becomes half the size of each conversion buffer, and when configured in
this mode, the value returned to the LDD in response to <a href="GUID-61CC68CB-A01D-3CA0-93D9-F3717ABD6424.html#GUID-61CC68CB-A01D-3CA0-93D9-F3717ABD6424__GUID-A47005E5-36B4-3795-A4C0-CB67B43802B5"><span class="apiname">DSoundScPdd::MaxTransferLen</span></a> must
equal this value. </p>
 <p>Likewise, the record data may be delivered by the
audio hardware device only in stereo format with the data samples for each
channel interleaved. If the driver channel is configured in mono record mode,
stereo to mono conversion has to be performed in the PDD to discard each alternate
sample. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-6D75968E-53CF-5436-8390-54CA12BCFDE9.html" title="Describes the technology, architecture, and behaviour of the Sound Driver.">Concepts</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>