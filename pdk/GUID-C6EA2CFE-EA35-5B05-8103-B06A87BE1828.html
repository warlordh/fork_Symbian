<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="MTP Data Types Overview"/>
<meta name="abstract" content="The MTP Data Types library implements the MTP data types. The implemented data types closely represent the raw MTP data streaming encoding and are optimized for the streaming performance."/>
<meta name="description" content="The MTP Data Types library implements the MTP data types. The implemented data types closely represent the raw MTP data streaming encoding and are optimized for the streaming performance."/>
<meta name="DC.Relation" scheme="URI" content="GUID-7FEEA034-1D9E-5142-AA35-A351A8137FCA.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A0D4B6EC-8FA7-5FD9-AE5A-E811D876D585.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-98ACB508-ED32-5193-9E30-BCDF7E921788.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0463683C-9E9A-55ED-836D-0826E8EFCA73.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7FEEA034-1D9E-5142-AA35-A351A8137FCA.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>MTP Data Types Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828"><a name="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2534806 id2534929 id2534938 id2535020 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-A0D4B6EC-8FA7-5FD9-AE5A-E811D876D585.html">Remote Connectivity Guide</a> &gt; <a href="GUID-98ACB508-ED32-5193-9E30-BCDF7E921788.html">MTP Frameworks</a> &gt; <a href="GUID-0463683C-9E9A-55ED-836D-0826E8EFCA73.html">MTP Framework</a> &gt; <a href="GUID-7FEEA034-1D9E-5142-AA35-A351A8137FCA.html">MTP Data Types Library</a> &gt; </div>
<h1 class="topictitle1">MTP Data Types Overview</h1>
<div><p>The MTP Data Types library implements the MTP data types. The implemented data types closely represent the raw MTP data streaming encoding and are optimized for the streaming performance. </p>
<div class="section"><h2 class="sectiontitle">MTP Data Types library details</h2> <p>The DLL that provides the functionality and the library to which your code must link is identified below. </p>
 
<div class="tablenoborder"><a name="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-D6364FB8-5982-5DA0-AF63-31F6F526B716"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-D6364FB8-5982-5DA0-AF63-31F6F526B716" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d1802874e26">DLL</th>
 <th class="cellrowborder" valign="top" id="d1802874e29">LIB</th>
 <th class="cellrowborder" valign="top" id="d1802874e32">Short description</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d1802874e26 "><p> <span class="filepath">mtpdatatypes.dll</span>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1802874e29 "><p> <span class="filepath">mtpdatatypes.lib</span>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1802874e32 "><p>This file is used to represent the MTP data types or provide a common interface for writing new data types. </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 </div>
 <div class="section"><h2 class="sectiontitle">Description</h2> <p>There are two kinds of MTP data defined in the MTP specification: </p>
 <ul><li id="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-2E3EBB0D-22AB-57CE-9CFD-A1488FEC8D01"><a name="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-2E3EBB0D-22AB-57CE-9CFD-A1488FEC8D01"><!-- --></a><p> <strong>Data</strong> used in MTP operations, responses or events. It can be data passed as a parameter to an MTP operation, response or event, or dataset transferred for an operation request. For example, if a host PC sends the <samp class="codeph">GetServiceInfo</samp> operation request to a device, the host PC expects the <samp class="codeph">ServiceInfo</samp> dataset from the device. </p>
 </li>
 <li id="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-9FA2573C-09C6-588E-9CE7-44334D7A3156"><a name="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-9FA2573C-09C6-588E-9CE7-44334D7A3156"><!-- --></a><p> <strong>Media data file</strong> transferred between an initiator and a responder. The MTP specification refers it to as binary object data or object data. The <samp class="codeph">GetObject</samp> operation and <samp class="codeph">SendObject</samp> operations transfer the object binary data. </p>
 </li>
 </ul>
 <p>The MTP Data Types library supports the above kinds of MTP data. When the Symbian MTP Framework receives a request (from a host PC or a device) for MTP data, it loads the corresponding <a href="GUID-EA9D7B60-C4EA-5D29-9296-3E4C8B973F59.html">data providers</a>. The data providers process the dataset or binary data file using the Data Types library and pass it to the Framework. The Framework can then transfer the data to the host PC, or use it as a parameter in an operation, response or event. </p>
 <p>The Data Types library provides four types of data: Simple, Flat, Complex and Compound. Simple data type implements MTP integer data types while Flat, Complex and Compound data types implement <a href="GUID-FD2BCFE4-27DC-3E6E-96E3-5E5EE7B9EDBD.html"><span class="apiname">MMTPType</span></a> interface. </p>
 <p> <strong>Note</strong>: Binary object data is represented by <a href="GUID-E9359E92-6521-3438-B32B-0285B4863A61.html"><span class="apiname">CMTPTypeFile</span></a> which is a complex data type. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">APIs</h2> <p> <strong> Simple data type</strong> –a single integer value. </p>
 
<div class="tablenoborder"><a name="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-9E407A3E-8A6C-5E89-90FB-E6764AE485EB"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-9E407A3E-8A6C-5E89-90FB-E6764AE485EB" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d1802874e145">API</th>
 <th class="cellrowborder" valign="top" id="d1802874e148">Description</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d1802874e145 "><p> <a href="GUID-5775EA1E-364F-31E0-9E90-5F872D345DD1.html"><span class="apiname">TMTPTypeInt8</span></a>, </p>
 <p> <a href="GUID-B703DB95-CEB8-32D2-B096-A4F435E44D9A.html"><span class="apiname">TMTPTypeInt16</span></a>, </p>
 <p> <a href="GUID-D09E696D-CCCC-35BB-AB41-22B49935B07C.html"><span class="apiname">TMTPTypeInt32</span></a>, </p>
 <p> <a href="GUID-AF1326F6-F908-3E96-BAF0-741149C6CA61.html"><span class="apiname">TMTPTypeInt64</span></a>, </p>
 <p> <a href="GUID-CDB84775-DA1D-3B04-ABD3-2E3F07CF545B.html"><span class="apiname">TMTPTypeInt128</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1802874e148 "><p>Implements the MTP signed 8, 16, 32, 64, and 128-bit integer data types respectively. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d1802874e145 "><p> <a href="GUID-74FAE9F6-F485-3BFC-A2A4-5D1B2E364547.html"><span class="apiname">TMTPTypeUint8</span></a>, </p>
 <p> <a href="GUID-459E3806-39BF-3670-906F-3DC1E6B52532.html"><span class="apiname">TMTPTypeUint16</span></a>, </p>
 <p> <a href="GUID-E9C7ADF5-1024-3AB1-AA49-ED2F871377B1.html"><span class="apiname">TMTPTypeUint32</span></a>, </p>
 <p> <a href="GUID-97111086-198D-3602-B8EE-793A46FDD63E.html"><span class="apiname">TMTPTypeUint64</span></a>, </p>
 <p> <a href="GUID-BC423A03-5D06-3A24-938E-8E2659F73A79.html"><span class="apiname">TMTPTypeUint128</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1802874e148 "><p>Implements the MTP unsigned 8, 16, 32, 64, and 128-bit integer data types respectively. </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 <p> <strong> Flat data type</strong> –a fixed-length collection of simple descrete data values. For example,<a href="GUID-22FA2C54-7FC1-3973-AE71-A43386D44D9A.html"><span class="apiname">TMTPTypeEvent</span></a> consists of seven elements. Each is a simple data type which can be different. </p>
 <pre class="codeblock" id="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-F76A42BF-7542-5CA0-B0DA-A4FC566336B3"><a name="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-F76A42BF-7542-5CA0-B0DA-A4FC566336B3"><!-- --></a>class TMTPTypeEvent : public TMTPTypeFlatBase
    {    
public: 
    /**
    MTP event dataset element identifiers.
    */
    enum TElements
        {        
        /**
        Event Code, 
        */
        EEventCode,  //TMTPTypeUint32 
        
        /**
        SessionID.
        */
        EEventSessionID,  //TMTPTypeUint32
        
        /**
        TransactionID  
        */
        EEventTransactionID,  //TMTPTypeUint32
        
        /**
        Parameter 1.
        */
        EEventParameter1,  //TMTPTypeUint32
        
        /**
        Parameter 2.
        */
        EEventParameter2,  //TMTPTypeUint32
        
        /**
        Parameter 3.
        */
        EEventParameter3,  //TMTPTypeUint32
        
        /**
        The number of dataset elements.
        */
        ENumElements,  //TMTPTypeUint32
        };
</pre>
 <p>The following diagram shows the flat classes and their relationships. </p>
 <div class="fignone" id="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-1FB1AF83-3A53-564E-9997-5C4AC4AFB4EA"><a name="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-1FB1AF83-3A53-564E-9997-5C4AC4AFB4EA"><!-- --></a><span class="figcap">Figure 1. 
             Flat data type 
          </span> <img src="GUID-10936B26-D4F3-5EC6-BBBA-009AA27045F7_d0e636367_href.jpg"/></div>
 
<div class="tablenoborder"><a name="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-80FCAA03-DF25-5F0C-9958-3CEBF739AEA5"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-80FCAA03-DF25-5F0C-9958-3CEBF739AEA5" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d1802874e285">API</th>
 <th class="cellrowborder" valign="top" id="d1802874e288">Description</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d1802874e285 "><p> <a href="GUID-1ABB0CFA-A678-37F4-A315-D99C9FCC5321.html"><span class="apiname">TMTPTypeFlatBase </span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1802874e288 "><p>The base class of MTP flat data types. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d1802874e285 "><p> <a href="GUID-22FA2C54-7FC1-3973-AE71-A43386D44D9A.html"><span class="apiname">TMTPTypeEvent</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1802874e288 "><p>Represents MTP event dataset. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d1802874e285 "><p> <a href="GUID-E6DEAAFF-8F6D-3AED-AD94-ECF4B0C72E89.html"><span class="apiname">TMTPTypeRequest</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1802874e288 "><p>Represents MTP operation request dataset. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d1802874e285 "><p> <a href="GUID-E828F5A9-AFFA-3452-B5C3-7FFD4C4422AF.html"><span class="apiname">TMTPTypeResponse</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1802874e288 "><p>Represents MTP operation response dataset. </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 <p> <strong> Complex data type</strong> –a variable-length contiguous array or string. The following diagram shows the complex classes and their relationships. </p>
 <div class="fignone" id="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-147EF226-9C6B-523B-BB92-7FE9395C3639"><a name="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-147EF226-9C6B-523B-BB92-7FE9395C3639"><!-- --></a><span class="figcap">Figure 2. 
             Complex data type 
          </span> <img src="GUID-4666DC80-EF7D-5761-9B6B-B2D14BDAB762_d0e636461_href.jpg"/></div>
 
<div class="tablenoborder"><a name="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-E7D6EC73-7607-55E1-BBFD-8477F4A133B5"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-E7D6EC73-7607-55E1-BBFD-8477F4A133B5" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d1802874e383">API</th>
 <th class="cellrowborder" valign="top" id="d1802874e386">Description</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d1802874e383 "><p> <a href="GUID-FF497532-C4AD-387D-87D5-3898EE6E6691.html"><span class="apiname">CMTPTypeArray</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1802874e386 "><p>Represents MTP array data type. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d1802874e383 "><p> <a href="GUID-E9359E92-6521-3438-B32B-0285B4863A61.html"><span class="apiname">CMTPTypeFile</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1802874e386 "><p>Represents MTP binary object data type. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d1802874e383 "><p> <a href="GUID-415619B7-BAC7-31BC-BA18-5A33CCA79F4B.html"><span class="apiname">CMTPTypeString</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1802874e386 "><p>Represents MTP string data type. </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 <p> <strong> Compound data type</strong> –a mixed sequence of simple, flat, complex and compound types. </p>
 <p>Compound classes were initially derived from <a href="GUID-30FD4C57-0B74-36B6-9F93-49FD816DDA11.html"><span class="apiname">CMTPTypeCompoundBase</span></a>. The derived class can represent a list dataset or an element of a list dataset. For example, <a href="GUID-DF980D13-2A8D-3863-A45D-4E44AD04E78A.html"><span class="apiname">CMTPTypeObjectPropListElement</span></a> is an element of <a href="GUID-0A1A998F-3E6C-362D-A1A2-6B32339380FB.html"><span class="apiname">CMTPTypeObjectPropList</span></a>. They are both derived from <a href="GUID-30FD4C57-0B74-36B6-9F93-49FD816DDA11.html"><span class="apiname">CMTPTypeCompoundBase</span></a>. </p>
 <p> <a href="GUID-F678E2AD-5F1F-3C47-8157-3412B5C6DF8C.html"><span class="apiname">CMTTypeList</span></a> is then added to represent list dataset. It derives from <a href="GUID-30FD4C57-0B74-36B6-9F93-49FD816DDA11.html"><span class="apiname">CMTPTypeCompoundBase</span></a>. The list classes added later are derived from <a href="GUID-F678E2AD-5F1F-3C47-8157-3412B5C6DF8C.html"><span class="apiname">CMTTypeList</span></a>. For example, <a href="GUID-A055345B-D7A5-3A30-A16A-27302A956CF5.html"><span class="apiname">CMTPTypeServicePropertyList</span></a> is derived from <a href="GUID-F678E2AD-5F1F-3C47-8157-3412B5C6DF8C.html"><span class="apiname">CMTTypeList</span></a> and its elment <a href="GUID-242F6B40-ADAD-34DC-854D-36B03048D9AE.html"><span class="apiname">CMTPTypeServicePropertyElement</span></a> is derived from <a href="GUID-30FD4C57-0B74-36B6-9F93-49FD816DDA11.html"><span class="apiname">CMTPTypeCompoundBase</span></a>. </p>
 <p> <strong>Note</strong>:<samp class="codeph">CMTPTypeCompoundBase::ChunkAppendL()</samp> can be used to append any <a href="GUID-FD2BCFE4-27DC-3E6E-96E3-5E5EE7B9EDBD.html"><span class="apiname">MMTPType</span></a> data types to the compound data. </p>
 <p>The following diagram and table describe the compound base classes. For a complete set of the derived classes, refer the MTP API references. </p>
 <div class="fignone" id="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-F0884369-56D9-5F49-8C2D-A774856E54DC"><a name="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-F0884369-56D9-5F49-8C2D-A774856E54DC"><!-- --></a><span class="figcap">Figure 3. 
             Compound data type-base classes 
          </span> <img src="GUID-A4559463-7665-5733-9AEB-2316C991AE76_d0e636605_href.jpg"/></div>
 
<div class="tablenoborder"><a name="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-89D28F17-CF5D-541B-A70D-E2483DDA72E5"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-C6EA2CFE-EA35-5B05-8103-B06A87BE1828__GUID-89D28F17-CF5D-541B-A70D-E2483DDA72E5" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d1802874e544">API</th>
 <th class="cellrowborder" valign="top" id="d1802874e547">Description</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d1802874e544 "><p> <a href="GUID-30FD4C57-0B74-36B6-9F93-49FD816DDA11.html"><span class="apiname">CMTPTypeCompoundBase</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1802874e547 "><p>The base class of MTP compound data types. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d1802874e544 "><p> <a href="GUID-98C9BE6A-6336-36FF-BE4A-26B34D7F878B.html"><span class="apiname">CMTPTypeList</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1802874e547 "><p>The base class of MTP list dataset. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d1802874e544 "><p> <a href="GUID-0FAC3211-78C5-38E2-AC4D-30AFAEB09265.html"><span class="apiname">RMTPType</span></a>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d1802874e547 "><p>The general class for containing, accessing, and manipulating a reference to any <a href="GUID-FD2BCFE4-27DC-3E6E-96E3-5E5EE7B9EDBD.html"><span class="apiname">MMTPType</span></a> -derived data type. </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
 </div>
 <div class="section"><h2 class="sectiontitle">Using MTP Data Types library</h2> <p>MTP data providers use the MTP Data Types library to process datasets for MTP operations and events. Device creators can provide their extended data types. </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-7FEEA034-1D9E-5142-AA35-A351A8137FCA.html">MTP Data Types Library</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>