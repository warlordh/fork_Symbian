<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Call Forward Settings Tutorial"/>
<meta name="abstract" content="This tutorial describes how to get and set the call forward settings in a Symbian platform device."/>
<meta name="description" content="This tutorial describes how to get and set the call forward settings in a Symbian platform device."/>
<meta name="DC.Relation" scheme="URI" content="GUID-3A834117-B5DC-54F4-96D4-61A6CADBC6DF.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D49696D1-4B84-56B5-909D-A15F599F4B6D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-BBF6E33F-2E9C-5BB1-8404-87289EC73BFF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3A834117-B5DC-54F4-96D4-61A6CADBC6DF.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-7772EA92-14DD-55A2-B365-C0A5130F2693"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Call Forward Settings Tutorial</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-7772EA92-14DD-55A2-B365-C0A5130F2693"><a name="GUID-7772EA92-14DD-55A2-B365-C0A5130F2693"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2563496 id2563017 id2562829 id2562738 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html" title="Cellular Baseband Services provide a common interface to telephony services for applications and higher level platform components. The framework is independent of the underlying network services.">Cellular Baseband Services Guide</a> &gt; <a href="GUID-D49696D1-4B84-56B5-909D-A15F599F4B6D.html">Telephony Server</a> &gt; <a href="GUID-BBF6E33F-2E9C-5BB1-8404-87289EC73BFF.html" title="The ETel multimode API enables access to common mobile telephony services for a number of air-interface cellular standards or modes. It also enables access to specialised services within the GSM and CDMA IS-95 standards and provides an API that allows switching between supported modes. Currently, GSM, CDMA (IS-95 and cdma2000) and WCDMA (3GPP rel '99) modes are the fully supported modes.">Multimode Telephony</a> &gt; <a href="GUID-3A834117-B5DC-54F4-96D4-61A6CADBC6DF.html" title="This section describes how to implement different multimode phone sub-session tasks.">Multimode Phone Sub-session Tutorials</a> &gt; </div>
<h1 class="topictitle1">Call
Forward Settings Tutorial</h1>
<div><p>This tutorial describes how to get and set the call forward settings
in a Symbian platform device. </p>

<ul><li class="stepexpand" id="GUID-7772EA92-14DD-55A2-B365-C0A5130F2693__GUID-83C98B37-60FE-5BBD-9DBF-83148517271A"><a name="GUID-7772EA92-14DD-55A2-B365-C0A5130F2693__GUID-83C98B37-60FE-5BBD-9DBF-83148517271A"><!-- --></a><span>Use <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">CRetrieveMobilePhoneCFList</span></a> to
get the list in a <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">CMobilePhoneCFList</span></a> object. </span>

 The list contains the details of call forward information for one or
more call forwarding conditions. For example the condition can be call forwarding
when there is no reply. Conditions are enumerated in <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone::TMobilePhoneCFCondition</span></a>. 

 A list is required as there can be different forwarded numbers for different
service groups such as voice, fax, data and auxiliary voice. Each entry in
the list is a <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone::TMobilePhoneCFInfoEntryV1</span></a> object,
recording the condition, service group, status, number, and timeout values. 
</li>
<li class="stepexpand" id="GUID-7772EA92-14DD-55A2-B365-C0A5130F2693__GUID-0A2E50EB-2A9B-51CF-92C2-2081C5F748C4"><a name="GUID-7772EA92-14DD-55A2-B365-C0A5130F2693__GUID-0A2E50EB-2A9B-51CF-92C2-2081C5F748C4"><!-- --></a><span>Set the status and
registered information of the various call forwarding services using <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone::SetCallForwardingStatus()</span></a>. </span>

 The change is described in a <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone::TMobilePhoneCFChangeV1</span></a> object. 

 This is possible in a CDMA mode if the feature code strings are programmed
for the call forwarding service, See <a href="GUID-EE8660B7-DAC2-5A57-BDEA-418900BAE421.html" title="This tutorial describes how to send the supplementary service and feature code strings to the network.">Call
Supplementary Services Tutorials</a> for more information. 
</li>
<li class="stepexpand" id="GUID-7772EA92-14DD-55A2-B365-C0A5130F2693__GUID-0CF0AC4E-861D-5E83-8C8B-83E58A242614"><a name="GUID-7772EA92-14DD-55A2-B365-C0A5130F2693__GUID-0CF0AC4E-861D-5E83-8C8B-83E58A242614"><!-- --></a><span>Use <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone::NotifyCallForwardingStatusChange()</span></a> to get the notification of any changes to the status of a call forwarding
service. </span>
</li>
<li class="stepexpand" id="GUID-7772EA92-14DD-55A2-B365-C0A5130F2693__GUID-CF27DDE9-12C5-51AE-BBC5-125345848E81"><a name="GUID-7772EA92-14DD-55A2-B365-C0A5130F2693__GUID-CF27DDE9-12C5-51AE-BBC5-125345848E81"><!-- --></a><span>Use <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone::NotifyCallForwardingActive()</span></a> to
get the notification of any call made on a line that has active call forwarding. </span>
</li>
</ul>

<div class="example"><h2 class="sectiontitle">Call forward settings example</h2> <p>The following code
gets the list of call forwarding numbers that are used when the call is forwarded
because the number is busy. It checks the list and prints each number. </p>
 <p>The
code assumes <samp class="codeph">iMobilePhone</samp> is an <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone</span></a> object. </p>
 <pre class="codeblock" id="GUID-7772EA92-14DD-55A2-B365-C0A5130F2693__GUID-0C6BC8BC-08A1-556C-8010-4FE2949D26C2"><a name="GUID-7772EA92-14DD-55A2-B365-C0A5130F2693__GUID-0C6BC8BC-08A1-556C-8010-4FE2949D26C2"><!-- --></a>void CClientApp::CallForwardingL()
    {

    // Create and start CF number retriever for forward-when-busy numbers
    CRetrieveMobilePhoneCFList* retrieveCFList = CRetrieveMobilePhoneCFList::NewL(iMobilePhone);

    CleanupStack::PushL(retrieveCFList);
    TRequestStatus status;

    retrieveCFList-&gt;Start(status, RMobilePhone::ECallForwardingBusy);
    User::WaitForRequest(status);
    User::LeaveIfError(status.Int());

    // Get the list of numbers
    CMobilePhoneCFList* cfList = retrieveCFList-&gt;RetrieveListL();
    CleanupStack::PushL(cfList);

    // Print each number
    TInt nEntries = cfList-&gt;Enumerate();
    RMobilePhone::TMobilePhoneCFInfoEntryV1 cfEntry;

    for (TInt i=0; i&lt;=nEntries; i++)
        {
         cfEntry = cfList-&gt;GetEntryL(i);
         console-&gt;Printf(_L("%S\n"),cfEntry.iNumber);
        }

    // Clean up
    CleanupStack::PopAndDestroy(2); // cfList, retrieveCFList    

    }</pre>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-3A834117-B5DC-54F4-96D4-61A6CADBC6DF.html" title="This section describes how to implement different multimode phone sub-session tasks.">Multimode Phone Sub-session Tutorials</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>