<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="ROM Compression of Executable Files"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>
<meta name="DC.Relation" scheme="URI" content="GUID-BE85E2A9-510E-5E8E-954F-1278E30D55CC.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A91C6359-E547-51AD-AA8C-45BCAFBA98AC.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-37F387FD-65EE-5968-A1E1-9C19AF8EB9EA.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-BE85E2A9-510E-5E8E-954F-1278E30D55CC.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-684F99F3-7C7D-5B50-8EC0-BE14E22C33BE"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>ROM Compression of Executable Files</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-684F99F3-7C7D-5B50-8EC0-BE14E22C33BE"><a name="GUID-684F99F3-7C7D-5B50-8EC0-BE14E22C33BE"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387835 id2399872 id2400240 id2400254 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C14B2552-43A7-4499-ABFE-1725128DA6EF.html" title="Kernel and Hardware Services performs the fundamental operating system tasks of managing access to device resources.">Kernel and Hardware Services Guide</a> &gt; <a href="GUID-A91C6359-E547-51AD-AA8C-45BCAFBA98AC.html" title="EKA2 is the principal Hardware and Kernel Services module. It manages the CPU and memory resources of a phone, and provides an architecture for device drivers to manage other hardware resources.">Kernel Architecture (EKA2)</a> &gt; <a href="GUID-37F387FD-65EE-5968-A1E1-9C19AF8EB9EA.html">Migration Tutorials</a> &gt; <a href="GUID-BE85E2A9-510E-5E8E-954F-1278E30D55CC.html">Migration Tutorial: EKA1 to Kernel Architecture 2</a> &gt; </div>
<h1 class="topictitle1">ROM
Compression of Executable Files</h1>
<div><p/>

<p>Both EKA1 and EKA2 both allow compression of files in non-XIP ROM images.
EKA2 can also compress executables in XIP ROM images. </p>

<p>When an executable file is built into the release directory, it is either
in a compressed or an uncompressed state, depending on whether the <samp class="codeph">compresstarget</samp> or <samp class="codeph">uncompresstarget</samp> keyword
is specified in the <span class="filepath">.mmp</span> file that describes how the
executable is built. This does not change in EKA2. </p>

<div class="section" id="GUID-684F99F3-7C7D-5B50-8EC0-BE14E22C33BE__GUID-A1E4CBAE-46A8-5CCE-8C87-EC2E44CB4F7E"><a name="GUID-684F99F3-7C7D-5B50-8EC0-BE14E22C33BE__GUID-A1E4CBAE-46A8-5CCE-8C87-EC2E44CB4F7E"><!-- --></a><h2 class="sectiontitle">Non-XIP ROM
image</h2> <p>The general rule for an executable file in a non-XIP ROM
image is the same in both EKA1 and EKA2, i.e. the file is in the same state
as in the release directory, unless it is overridden by specifying the <a href="GUID-D9FA2894-D7B6-58EE-AEE3-39E6BECF144E.html">compress</a> option on
the <samp class="codeph">ROM_IMAGE</samp> keyword in the <span class="filepath">.oby</span> file
that you pass to <samp class="codeph">BUILDROM</samp>. (Note that this gets translated
to the command line option <samp class="codeph">â€‘compress</samp>, and passed to the appropriate
tool: <a href="GUID-77C17C57-6BC7-5C9F-9F2C-7DC57B45F774.html">rombuild or rofs
build</a> . </p>
 </div>

<div class="section" id="GUID-684F99F3-7C7D-5B50-8EC0-BE14E22C33BE__GUID-566898A8-4655-598F-8430-9E54B440F21E"><a name="GUID-684F99F3-7C7D-5B50-8EC0-BE14E22C33BE__GUID-566898A8-4655-598F-8430-9E54B440F21E"><!-- --></a><h2 class="sectiontitle">XIP ROM image</h2> <p><strong>EKA1</strong> </p>
 <p>In EKA1, an executable file is always uncompressed in
a XIP ROM image. The uncompressed file has had all of its symbols resolved,
and can only be executed in its location within the XIP ROM. Files are specified
by using the <samp class="codeph">file</samp> keyword in the <span class="filepath">.oby</span> file.
The following diagram summarises the situation for EKA1. </p>
 <div class="fignone" id="GUID-684F99F3-7C7D-5B50-8EC0-BE14E22C33BE__GUID-F781B307-B816-5E86-A92F-81A96D513451"><a name="GUID-684F99F3-7C7D-5B50-8EC0-BE14E22C33BE__GUID-F781B307-B816-5E86-A92F-81A96D513451"><!-- --></a>
<img src="GUID-6E4BA263-5A75-5E8F-9E3A-5517C52DF67E_d0e388473_href.png"/>
</div>
 <p><strong>EKA2</strong> </p>
 <p>In
EKA2, executables can be placed in the ROM in: </p>
 <ul>
<li id="GUID-684F99F3-7C7D-5B50-8EC0-BE14E22C33BE__GUID-6830D039-F67A-5409-9805-ACC34C5AF9C4"><a name="GUID-684F99F3-7C7D-5B50-8EC0-BE14E22C33BE__GUID-6830D039-F67A-5409-9805-ACC34C5AF9C4"><!-- --></a><p> <em>uncompressed</em> form
with all of its symbols resolved, and able to be executed in its location
within the XIP ROM. The executable is usually specified by using the <samp class="codeph">file</samp> keyword
in the <span class="filepath">.oby</span> file. </p>
 </li>

<li id="GUID-684F99F3-7C7D-5B50-8EC0-BE14E22C33BE__GUID-6C573DBF-BF29-5BC7-A427-4818DB00A768"><a name="GUID-684F99F3-7C7D-5B50-8EC0-BE14E22C33BE__GUID-6C573DBF-BF29-5BC7-A427-4818DB00A768"><!-- --></a><p>in <em>uncompressed</em> form,
but with all of its relocatable information still present; this is specified
by using the new <samp class="codeph">fileuncompress</samp> keyword in the <span class="filepath">.oby</span> file. </p>
 </li>

<li id="GUID-684F99F3-7C7D-5B50-8EC0-BE14E22C33BE__GUID-1E6EEA8B-9AAD-5B77-A8CB-317F57F35266"><a name="GUID-684F99F3-7C7D-5B50-8EC0-BE14E22C33BE__GUID-1E6EEA8B-9AAD-5B77-A8CB-317F57F35266"><!-- --></a><p>in <em>compressed</em> form,
but with all of its relocatable information still present; this is specified
by using the <samp class="codeph">filecompress</samp> keyword in the <span class="filepath">.oby</span> file. </p>
 </li>

</ul>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-BE85E2A9-510E-5E8E-954F-1278E30D55CC.html">Migration Tutorial: EKA1 to Kernel Architecture 2</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>