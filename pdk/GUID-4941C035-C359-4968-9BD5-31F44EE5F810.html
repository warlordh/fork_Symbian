<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Commands"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-4941C035-C359-4968-9BD5-31F44EE5F810"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Commands</title>

     
<?php     
   include_once ($_SERVER["DOCUMENT_ROOT"]. '/includes/skin_constants.php');
   include_once (CURRENT_SKIN_PATH.'/sdl_head.html');
?>

     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-4941C035-C359-4968-9BD5-31F44EE5F810"><a name="GUID-4941C035-C359-4968-9BD5-31F44EE5F810"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0;
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"/>
<h1 class="topictitle1">Commands</h1>
<div>
<p>The term command refers to events that are received when a device user
selects an option in the <strong>Options</strong> menu or presses a softkey (for more
information, see <a href="Chunk671183801.html">UI concepts</a>).
The device user input results in the application framework returning a command
ID that corresponds to the softkey or <strong>Options</strong> menu selection. Command
IDs are mapped to the selection options in the <a href="Chunk256935172.html">CBA</a> and <a href="Chunk2010698482.html">Menu bar</a> resource
definitions. You can use either custom command IDs, which must be defined
in your application <a href="Chunk607540789.html"><span class="parmname">hrh</span></a> resource
file, or <a href="Chunk762833586.html">precompiled
values available from the Symbian platform</a> in your resource definitions.
At runtime, the application framework catches the command ID values and passes
them to the application that has focus for handling. The following commands
have special requirements:</p>

<ul>
<li><p><span class="parmname">EEikCmdExit</span>, which is sent by the application
framework to exit open applications. This command ID must not be used in the
resource file definitions, as it is reserved for the application framework.
For more information on the special requirements for handling this command,
see <a href="Chunk352051747.html">Handling
EEikCmdExit</a>.</p>

</li>

<li><p><span class="parmname">EAknSoftKeyBack</span>, which is delivered
in response to a device user pressing the <span class="parmname">Back</span> softkey.
The behavior required in response to this command depends on the context,
but if an exit is required it needs to be handled in the same manner as with
the <span class="parmname">EEikCmdExit</span> command.</p>
</li>

<li><p><span class="parmname">EAknSoftkeyOptions</span>, which is associated
with the <span class="parmname">Options</span> softkey, is handled by the application
framework directly and results in the <span class="parmname">Options</span> menu being
presented to the device user.</p>
</li>

</ul>

<p>For more information on resource files, see <a href="Chunk257993989.html">Managing resource files</a>.</p>

<p>For an example of a resource file, see <a href="Chunk1605564636.html">Resource
management example: HelloWorldBasic</a>.</p>

<div class="fignone" id="GUID-4941C035-C359-4968-9BD5-31F44EE5F810__GUID-9BA6CBBE-E2F5-4C23-A528-F49A9467F542"><a name="GUID-4941C035-C359-4968-9BD5-31F44EE5F810__GUID-9BA6CBBE-E2F5-4C23-A528-F49A9467F542"><!-- --></a><span class="figcap">Figure 1. Options menu</span><img src="GUID-8BA0D643-5ED1-4DC4-82EC-C8AA392DCBC4_d0e66626_href.png"/></div>

<p>Commands are passed to the object with which the menu is associated.
The object that receives the command should handle the command if it is specific
to the object. If the command is relevant to another object, then it should
be passed onto the other application object. The actual implementation depends
on the design of your application.</p>

<p>If the application above uses an <a href="Chunk2074082206.html">Symbian
view architecture</a>, then the command handling functions as follows.</p>

<ul>
<li><p>If a device user selects <span class="parmname">Create New</span>,
then the application framework returns the command associated with that menu
item to the <a href="Chunk2055871322.html">view controller</a> for
the view indicated by the first tab.</p>
</li>

<li><p>Since this command is unique to this view, the command must
be handled in the view controller for this view.</p>
</li>

<li><p>If there was an <span class="parmname">Exit</span> menu item that
was applicable for the application generally, then you must pass the command
for this menu item to the <a href="Chunk400370443.html">UI
controller</a> and handle the command there.</p>
</li>

</ul>

<p>To handle commands, you must override <a href="GUID-1185F595-0488-3E93-8D60-6B3A1A3AC32E.html#GUID-1185F595-0488-3E93-8D60-6B3A1A3AC32E__GUID-D6E5C363-CF39-3E56-B717-57CCEE8DC96F"><span class="apiname">CEikAppUi::HandleCommandL()</span></a> .</p>

<p>The options are as follows:</p>

<ul>
<li><p>In a <a href="Chunk1948514200.html">traditional
Symbian UI application architecture</a>, the command needs to be handled
in the <a href="Chunk400370443.html">UI controller</a>.
An example of an implementation is as follows:</p>


<pre class="codeblock" id="GUID-4941C035-C359-4968-9BD5-31F44EE5F810__GUID-29CD264C-D073-4145-9FF5-41C7D3FFA40C"><a name="GUID-4941C035-C359-4968-9BD5-31F44EE5F810__GUID-29CD264C-D073-4145-9FF5-41C7D3FFA40C"><!-- --></a>void CMyCommandHandlingAppUi::HandleCommandL(TInt aCommand)
    {
    switch(aCommand)
        {
        case EEikCmdExit:
        case EAknSoftkeyExit:
            {
            Exit();
            break;
            }

        case EMyCommandID1:
           {
           //do something
           }
           break;
            
       default:
           break;
       }
   }</pre>

<p>where <span class="parmname">EEikCmdExit</span> is provided from the application
framework, <span class="parmname">EAknSoftkeyExit</span> is the command ID that the
application framework returns when a device user presses the <span class="parmname">Back</span> softkey,
and <span class="parmname">EMyCommandID1</span> is a command ID from your application <span class="parmname">hrh</span> file.</p>

<p>For more information on the handling of the exit command IDs, see <a href="Chunk352051747.html">Handling
EEikCmdExit</a>.</p>


</li>

<li><p>In an <a href="Chunk2074082206.html">Symbian
view architecture</a>, the command is received by the active <a href="Chunk2055871322.html">view</a>.
It should be handled by the view if the command is view specific, otherwise
it should be passed to the UI controller <a href="GUID-2DBA2DA9-3DA7-381C-842C-9F6FEEDF973E.html"><span class="apiname">CAknViewAppUi</span></a>(-derived
class). For an example of view-specific command handling, see the following: </p>


<pre class="codeblock" id="GUID-4941C035-C359-4968-9BD5-31F44EE5F810__GUID-C55E09E4-08A9-4997-B198-E00B61D24508"><a name="GUID-4941C035-C359-4968-9BD5-31F44EE5F810__GUID-C55E09E4-08A9-4997-B198-E00B61D24508"><!-- --></a>void CMyCommandHandlingViewClass::HandleCommandL(TInt aCommand)
    {   
    switch ( aCommand )
        {
        case EAknSoftkeyExit:
            {
            AppUi()-&gt;HandleCommandL(EEikCmdExit);
            break;
            }

        case EMyCommandID1:
            {
            // Do something.
            break;
            }

        default:
            {
            AppUi()-&gt;HandleCommandL( aCommand );
            break;
            }
        }
    }
</pre>

<p>where <span class="parmname">EEikCmdExit</span> is provided from the application
framework, <span class="parmname">EAknSoftkeyExit</span> is the command ID that the
application framework returns when a device user presses the <span class="parmname">Back</span> softkey,
and <span class="parmname">EMyCommandID1</span> is a command ID from your application <span class="parmname">hrh</span> file.</p>

<p>In this example, the last case (default) hands over unhandled commands
to the UI controller.</p>

<p>For more information on the handling of the exit command IDs, see:</p>


</li>

</ul>

</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>