<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Writing the Version 3 Registration Resource File"/>
<meta name="abstract" content="The version 3 registration resource file is an evolution of the version 2 . This version is evolved to accommodate extended interfaces."/>
<meta name="description" content="The version 3 registration resource file is an evolution of the version 2 . This version is evolved to accommodate extended interfaces."/>
<meta name="DC.Relation" scheme="URI" content="GUID-9A9103E4-27B0-5CF3-855A-DCD44795A5C0.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9E92EE30-F2E2-5F28-BB2A-391C09EC69D2.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-110A0151-5719-51BC-8506-C18BE57FB400.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-57F29787-B425-53EA-9DB4-372B77543584.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9A9103E4-27B0-5CF3-855A-DCD44795A5C0.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B541BD01-29BE-4CB7-9420-ABEE0BDC9BA4.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-64D62DD8-3D9C-4659-9658-C0B4D74D6E69.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-39186342-960A-46A4-BC35-851F53665FA8"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Writing the Version 3 Registration Resource File</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-39186342-960A-46A4-BC35-851F53665FA8"><a name="GUID-39186342-960A-46A4-BC35-851F53665FA8"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2383459 id2383473 id2383529 id2383584 id2383604 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html">Low Level Libraries and Frameworks</a> &gt; <a href="GUID-9E92EE30-F2E2-5F28-BB2A-391C09EC69D2.html">Plug-in Framework</a> &gt; <a href="GUID-110A0151-5719-51BC-8506-C18BE57FB400.html">Plug-in Framework Tutorials</a> &gt; <a href="GUID-57F29787-B425-53EA-9DB4-372B77543584.html">Plug-in Writer's Tutorial</a> &gt; <a href="GUID-9A9103E4-27B0-5CF3-855A-DCD44795A5C0.html" title="The properties of the implementation are published in a compiled resource file. This file is known as the registration resource file of the implementation and has a.rss extension. The plug-in framework reads the resource files to find the interface implementations available on the system. In case of an implementation collection, the collection has one registration resource file and the properties of all the implementations of the collection are described in the file.">Creating a Registration Resource File</a> &gt; </div>
<h1 class="topictitle1">Writing
the Version 3 Registration Resource File</h1>
<div><p>The version 3 registration resource file is an evolution of the
version 2 . This version is evolved to accommodate extended interfaces. </p>

<a name="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-4DD07DEC-6017-4237-BE46-1D69E5FBD744-GENID-1-12-1-14-1-1-8-1-4-1-5-1-4-1-5-1-6-1-3-1"><!-- --></a><ol id="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-4DD07DEC-6017-4237-BE46-1D69E5FBD744-GENID-1-12-1-14-1-1-8-1-4-1-5-1-4-1-5-1-6-1-3-1"><li class="stepexpand" id="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-9A69E5AD-E938-4092-A8C2-CB65C37C8962-GENID-1-12-1-14-1-1-8-1-4-1-5-1-4-1-5-1-6-1-3-1-1"><a name="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-9A69E5AD-E938-4092-A8C2-CB65C37C8962-GENID-1-12-1-14-1-1-8-1-4-1-5-1-4-1-5-1-6-1-3-1-1"><!-- --></a><span>Set Info_format
to the type of info record that is, <samp class="codeph">IMPLEMENTATION_INFO</samp> or <samp class="codeph">BINARY_IMPLEMENTATION_INFO</samp>.
 </span>
</li>
<li class="stepexpand" id="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-BCDAAECA-1C25-4D09-A495-97949B5EF2C8"><a name="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-BCDAAECA-1C25-4D09-A495-97949B5EF2C8"><!-- --></a><span><samp class="codeph">default_data</samp>:
The data identifier field used by the resolver to determine if the implementation
matches a client request.</span>
 <p>In <samp class="codeph">IMPLEMENTATION_INFO</samp> structure, the data type
is changed to accommodate maximum 2 strings with 255 bytes each. </p>
<p>In <samp class="codeph">BINARY_IMPLEMENTATION_INFO</samp>,
the data type is changed to accommodate a maximum 512 bytes.  </p>

</li>
<li class="stepexpand" id="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-7892DD48-0E0A-4209-B463-5DDA71F8021D"><a name="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-7892DD48-0E0A-4209-B463-5DDA71F8021D"><!-- --></a><span><samp class="codeph">opaque_data</samp>:
A binary data field that can contain additional data. This additional data
can be used by the custom resolvers.  </span>
 <p>In <samp class="codeph">IMPLEMENTATION_INFO</samp> structure, the data type
is changed to accommodate maximum 2 strings with 255 bytes each. </p>
<p>In <samp class="codeph">BINARY_IMPLEMENTATION_INFO</samp> structure,
the data type is changed to accommodate a maximum 512 bytes.  </p>

</li>
<li class="stepexpand" id="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-3A4E66EE-31A6-4717-A6A6-14C4881E962C"><a name="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-3A4E66EE-31A6-4717-A6A6-14C4881E962C"><!-- --></a><span><samp class="codeph">extended_interfaces</samp> a
maximum 8 UID's extended interfaces for both <samp class="codeph">IMPLEMENTATION_INFO</samp> structure
and <samp class="codeph">BINARY_IMPLEMENTATION_INFO</samp> structure.  </span>
</li>
<li class="stepexpand" id="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-76A1CE8A-169C-43A2-9231-B310FDF8EEC2"><a name="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-76A1CE8A-169C-43A2-9231-B310FDF8EEC2"><!-- --></a><span><samp class="codeph">FLAG_ROM_ONLY</samp> changed
from bool data type to bit flag.  </span>
 <p><samp class="codeph">rom_only</samp> set to 1 indicates the ROM-only implementation
must be used.  </p>
<p><samp class="codeph">rom_only</samp> set to 0 indicates the ROM-only
implementation can be overidden.</p>

</li>
<li class="stepexpand" id="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-AF2EFD83-7116-472A-A1AE-4043236EA238"><a name="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-AF2EFD83-7116-472A-A1AE-4043236EA238"><!-- --></a><span>In <samp class="codeph">REGISTRY_INFO</samp> structure,
the resource_format_version must be <samp class="codeph">RESOURCE_FORMAT_VERSION_3</samp> .
 </span>
</li>
<li class="stepexpand" id="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-668E4137-3339-4C40-8721-9F9109C936A1"><a name="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-668E4137-3339-4C40-8721-9F9109C936A1"><!-- --></a><span>In I<samp class="codeph">NTERFACE_INFOstructure</samp>,
the <samp class="codeph">interface_uid</samp> is renamed to <samp class="codeph">instantiation_interface_uid</samp>. </span>
</li>
<li class="stepexpand" id="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-C4B7C81E-0472-4401-8CA2-EC46D5E48EC5"><a name="GUID-39186342-960A-46A4-BC35-851F53665FA8__GUID-C4B7C81E-0472-4401-8CA2-EC46D5E48EC5"><!-- --></a><span>In <samp class="codeph">REGISTRY_INFO</samp> structure,
the <samp class="codeph">resource_format_version</samp> must be <samp class="codeph">RESOURCE_FORMAT_VERSION_3</samp>.
 </span>
</li>
</ol>

<div class="example"><pre class="codeblock">#define IMPLEMENTATION_INFO_RECORD_TYPE1 1
STRUCT IMPLEMENTATION_INFO
	{
	BYTE		info_format;		// = IMPLEMENTATION_INFO_RECORD_TYPE1
	LONG   		implementation_uid;
	BYTE   		version_no;
	LTEXT  		display_name;
	LEN BYTE LTEXT8  default_data[];		// maximum 2 strings with 255 bytes each	
	LEN BYTE LTEXT8  opaque_data[];		// maximum 2 strings with 255 bytes each
	LONG   		extended_interfaces[]; 	// maximum 8 extended interfaces 
	BYTE		flags;			
	}

#define IMPLEMENTATION_INFO_RECORD_TYPE2 2
STRUCT BINARY_IMPLEMENTATION_INFO
	{
	BYTE	  info_format;		        // = IMPLEMENTATION_INFO_RECORD_TYPE2
	LONG	  implementation_uid;
	BYTE	  version_no;
	LTEXT	  display_name;
	BYTE      default_data[];			// maximum 512 bytes
	BYTE 	  opaque_data[];			// maximum 512 bytes
	LONG	  extended_interfaces[];		// maximum 8 extended interfaces 
	BYTE	  flags;			
	}

STRUCT INTERFACE_INFO
	{
	LONG	instantiation_interface_uid;
	STRUCT	implementations[];		// maximum 8 implementations for each interface
	}

STRUCT REGISTRY_INFO
	{
	LONG	resource_format_version;    	// Use RESOURCE_FORMAT_VERSION_3
	LONG	dll_uid;
	STRUCT	interfaces[];			// maximum 4 interfaces
	} </pre>
</div>

<div class="section"><div class="p"><ul>
<li><p>Maximum of four<samp class="codeph">INTERFACE_INFO</samp> structures can be defined
in one resource file.  </p>
</li>

<li><p>Maximum of eight <samp class="codeph">IMPLEMENTATION_INFO</samp> or <samp class="codeph">BINARY_IMPLEMENTATION_INFO</samp> structures
in each <samp class="codeph">INTERFACE_INFO</samp> . Totally eight structures can be
defined.  </p>
</li>

<li><p>Maximum eight extended interfaces in each<samp class="codeph"> IMPLEMENTATION_INFO</samp> record. </p>
</li>

<li><p>In a <samp class="codeph">IMPLEMENTATION_INFO</samp> record a maximum of two strings
with 255 bytes each can be used for <samp class="codeph">default_data</samp> or<samp class="codeph">opaque_data</samp> definitions. </p>
</li>

<li><p>In a <samp class="codeph">BINARY_IMPLEMENTATION_INFO</samp> record, a maximum
of 512 bytes each for <samp class="codeph">default_data</samp> or <samp class="codeph">opaque_data</samp> definitions.
 </p>
</li>

</ul>
</div>
</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-9A9103E4-27B0-5CF3-855A-DCD44795A5C0.html" title="The properties of the implementation are published in a compiled resource file. This file is known as the registration resource file of the implementation and has a.rss extension. The plug-in framework reads the resource files to find the interface implementations available on the system. In case of an implementation collection, the collection has one registration resource file and the properties of all the implementations of the collection are described in the file.">Creating a Registration Resource File</a></div>
</div>
<div class="relinfo reltasks"><strong>Related tasks</strong><br/>
<div><a href="GUID-B541BD01-29BE-4CB7-9420-ABEE0BDC9BA4.html" title="For Symbian OS V9.1 and onwards, the name of the standard registration resource file must be the same as that of the executable with .rss extension. All the registration resource structure types are defined in RegistryInfo.rh. This file has to be included in the registration resource file.">Writing a
Standard Registration Resource File</a></div>
<div><a href="GUID-64D62DD8-3D9C-4659-9658-C0B4D74D6E69.html" title="Writing a version 2 registration resource file is similar to writing a standard registration resource file.">Writing the
Version 2 Registration Resource File</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>