<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Performing Low-level Configuration"/>
<meta name="abstract" content="The Bluetooth specification defines commands and options that can be used with the various layers of the protocol."/>
<meta name="description" content="The Bluetooth specification defines commands and options that can be used with the various layers of the protocol."/>
<meta name="DC.Relation" scheme="URI" content="GUID-5FE7D4DB-B853-57C4-8A90-16DF92F6231A.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-DD13AA8E-BDAD-57EC-81EC-49C8D6D30A86.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6CE12919-FF81-5254-BA12-385F589FEA44.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5FE7D4DB-B853-57C4-8A90-16DF92F6231A.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Performing Low-level Configuration</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6"><a name="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2535271 id2535486 id2535569 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-DD13AA8E-BDAD-57EC-81EC-49C8D6D30A86.html" title="The Short Link Services module enables licensees to implement Bluetooth, USB, Infrared and OBEX on Symbian platform devices.">Short Link Services Guide</a> &gt; <a href="GUID-6CE12919-FF81-5254-BA12-385F589FEA44.html" title="The Bluetooth Management collection contains the Bluetooth Manager and Bluetooth Client components.">Bluetooth Management Collection</a> &gt; <a href="GUID-5FE7D4DB-B853-57C4-8A90-16DF92F6231A.html">Bluetooth User Tutorials</a> &gt; </div>
<h1 class="topictitle1">Performing
Low-level Configuration</h1>
<div><p>The Bluetooth specification defines commands and options that can
be used with the various layers of the protocol.</p>

<div class="section" id="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-47A19C59-20EE-4125-B17A-298CB833F00B"><a name="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-47A19C59-20EE-4125-B17A-298CB833F00B"><!-- --></a><h2 class="sectiontitle">How to perform low-level configuration</h2> <p>The Bluetooth
Sockets API provides some of the commands and options for configuring Sockets
at various layers as described below: </p>
 <p><strong>Socket
Configuration Options</strong> </p>
 <p>The following Socket configuration options
are provided by the Bluetooth Sockets API: </p>
 <a name="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-B0C63411-0EE7-5307-9E5A-E2CDF05CC6C4"><!-- --></a><ol id="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-B0C63411-0EE7-5307-9E5A-E2CDF05CC6C4">
<li id="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-7BF0FF43-8ABE-5026-8632-D710D0B9EF97"><a name="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-7BF0FF43-8ABE-5026-8632-D710D0B9EF97"><!-- --></a><p> <strong>Host Controller
Interface (HCI) commands</strong>: provide a command interface to the baseband
controller and link manager. These are provided through asynchronous I/O control
(ioctl) commands on an L2CAP or RFCOMM socket, as there is no direct Symbian
platform interface to the HCI. Ioctls are issued through <a href="GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0.html#GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0__GUID-1DEB83AF-C681-30D4-951C-4C2A5572E59C"><span class="apiname">RSocket::Ioctl()</span></a>.
For details, see the reference for the <samp class="codeph">KHCIxxx</samp> constants,
such as <a href="GUID-754AB23A-BA33-384C-81CF-FC6A84B94D16.html"><span class="apiname">KHCIAddSCOConnIoctl</span></a>. </p>
 </li>

<li id="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-42F05040-48EE-522D-8358-F0E290F60B17"><a name="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-42F05040-48EE-522D-8358-F0E290F60B17"><!-- --></a><p> <strong>L2CAP-level options</strong>:
these are also issued through ioctls on an L2CAP socket. For details, see
the reference for the <samp class="codeph">KL2CAPxxx</samp> constants, such as <a href="GUID-8E3F3CDF-078E-3E0A-B5E1-5B5D64E12F50.html"><span class="apiname">KL2CAPEchoRequestIoctl</span></a>. </p>
 </li>

<li id="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-DD573402-37EC-5597-A5B2-D90AF33A15C1"><a name="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-DD573402-37EC-5597-A5B2-D90AF33A15C1"><!-- --></a><p> <strong>RFCOMM commands
and options</strong>: these are issued through ioctls on an RFCOMM socket, and
sockets option settings (<a href="GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0.html#GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0__GUID-F6BB908A-2E57-3259-8F7F-AC089C6D0C56"><span class="apiname">RSocket::GetOpt()</span></a> and <a href="GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0.html#GUID-D4F08503-F1EF-3531-9C3C-4AF24A6255F0__GUID-F6BB908A-2E57-3259-8F7F-AC089C6D0C56"><span class="apiname">RSocket::GetOpt()</span></a>).
For details, see the reference for the <samp class="codeph">KRFCOMMxxx</samp> constants,
such as <a href="GUID-4C9AAC3D-12A1-3DFC-837F-97BE009B24A9.html"><span class="apiname">KRFCOMMModemStatusCmdIoctl</span></a>. </p>
 </li>

</ol>
 <p><strong>Example:
Reading L2CAP Socket Class of Device</strong> </p>
 <p>The following example shows
the HCI command Read_Class_of_Device being issued on an L2CAP socket. The
ioctl for this is <a href="GUID-BFFD4B1A-78F6-346C-A195-D34317382A47.html"><span class="apiname">KHCIReadDeviceClassIoctl</span></a>, which returns
a <a href="GUID-A20B8F64-51BC-31C8-AC43-80AA6F3C5BBE.html"><span class="apiname">THCIDeviceClassIoctl</span></a> object packaged in a <a href="GUID-6649CEA7-2307-32E3-8474-346B11E57DEE.html"><span class="apiname">THCIDeviceClassBuf</span></a> package
buffer. The example extracts the device class into a variable <samp class="codeph">majorClass</samp>. </p>
 <pre class="codeblock" id="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-EEF819B3-DFA3-5FA4-B1B3-BC6975433656"><a name="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-EEF819B3-DFA3-5FA4-B1B3-BC6975433656"><!-- --></a>THCIDeviceClassBuf codbuf;
TRequestStatus status;
socket.Ioctl(KHCIReadDeviceClassIoctl, status, &amp;codbuf, KSolBtHCI);
User::WaitForRequest(status);
TUint16 majorClass = codbuf().iMajorDeviceClass;
</pre>
 </div>

<div class="section" id="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-A898AD98-AADB-4965-858E-8BBD7412F428"><a name="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-A898AD98-AADB-4965-858E-8BBD7412F428"><!-- --></a><h2 class="sectiontitle">Where Next?</h2> <p>This tutorial set takes you through
all the steps involved in setting up and communicating over a Bluetooth connection. </p>
 <ul>
<li id="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-7C78114A-C780-54D0-916C-179B63BFDA17"><a name="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-7C78114A-C780-54D0-916C-179B63BFDA17"><!-- --></a><p> <a href="GUID-70339E6A-63CD-5A74-846C-50771FDAC763.html">Listening
for Incoming Bluetooth Connections</a>  </p>
 </li>

<li id="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-D502FBFF-0B64-53E8-8CDE-58E75BF921A0"><a name="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-D502FBFF-0B64-53E8-8CDE-58E75BF921A0"><!-- --></a><p> <a href="GUID-834BD3BB-B39C-5EE9-8A62-9DC435930F95.html">Handling
the Local Device Name</a>  </p>
 </li>

<li id="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-F6417852-20EF-5287-AE48-A7A3CBD07502"><a name="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-F6417852-20EF-5287-AE48-A7A3CBD07502"><!-- --></a><p> <strong>Performing Low-level
Configuration</strong> - This document </p>
 </li>

<li id="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-51BBC780-11ED-57E9-A9F5-F6A202400FF7"><a name="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-51BBC780-11ED-57E9-A9F5-F6A202400FF7"><!-- --></a><p> <a href="GUID-5C63EF5C-826D-5838-BB7E-12FF4EA1DFCE.html" title="Describes how to debug the host controller.">Debugging
the Host Controller</a>  </p>
 </li>

<li id="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-699728A1-AE3F-5BA4-9B16-12EDC458E215"><a name="GUID-FDA7B932-B9C6-502D-8699-C18C8D86BCC6__GUID-699728A1-AE3F-5BA4-9B16-12EDC458E215"><!-- --></a><p> <a href="GUID-01A0682A-50B1-57AB-9939-6CC8FCCD782D.html">Disconnecting
ACL links</a>  </p>
 </li>

</ul>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-5FE7D4DB-B853-57C4-8A90-16DF92F6231A.html">Bluetooth User Tutorials</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>