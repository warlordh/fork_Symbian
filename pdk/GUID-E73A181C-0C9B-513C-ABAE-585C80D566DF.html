<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Bluetooth GPS PSY Overview"/>
<meta name="abstract" content="This describes the Bluetooth GPS PSY, which connects the Location Server (eposserver.exe) to external Bluetooth GPS devices. The audience is device creators and developers who want to integrate the Bluetooth GPS PSY into their products."/>
<meta name="description" content="This describes the Bluetooth GPS PSY, which connects the Location Server (eposserver.exe) to external Bluetooth GPS devices. The audience is device creators and developers who want to integrate the Bluetooth GPS PSY into their products."/>
<meta name="DC.Relation" scheme="URI" content="GUID-5454AFE9-ADC2-5980-85FC-3FF457B638D0.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5CBF9CB3-1914-571C-B634-715EAF1272DA.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5454AFE9-ADC2-5980-85FC-3FF457B638D0.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-90D938EA-E46A-512A-85E3-B8ADF81BC4D3.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F84E7419-7F31-5E18-8854-27CB1F9F890E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1D81831A-FFC9-50E7-9FA1-EC0958060588.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2A137918-D949-5017-BB00-B93CFA8AA65F.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-CD8BF818-ED63-5504-8382-346776D3B78F.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7CE5CF4C-7661-5FE1-87CA-CC4EB1CECE34.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D0318BB6-0B9F-5A1C-AB0B-61BA22D28661.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Bluetooth GPS PSY Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2402590 id2403469 id2403500 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html">Location Based Services (LBS) Guide</a> &gt; <a href="GUID-5CBF9CB3-1914-571C-B634-715EAF1272DA.html" title="The Data Source Modules collection contains components that enable the LBS subsystem to obtain position data.">Data Source Modules</a> &gt; <a href="GUID-5454AFE9-ADC2-5980-85FC-3FF457B638D0.html" title="The Bluetooth GPS Positioning Module (Bluetooth GPS PSY) connects the LBS subsystem to an external Bluetooth GPS device.">Bluetooth GPS Positioning Module</a> &gt; </div>
<h1 class="topictitle1">Bluetooth GPS PSY Overview</h1>
<div><p>This describes the Bluetooth GPS PSY, which connects the Location Server (<samp class="codeph">eposserver.exe</samp>) to external Bluetooth GPS devices. The audience is device creators and developers who want to integrate the Bluetooth GPS PSY into their products. </p>
<div class="section"><h2 class="sectiontitle">Purpose</h2> <p>The Bluetooth GPS PSY is used by the Location Server (<samp class="codeph">eposserver.exe</samp>) to obtain position fixes from external Bluetooth GPS devices. The PSY uses the Bluetooth APIs to pair with an external Bluetooth GPS device. The PSY obtains position fixes from the Bluetooth GPS device. If the Bluetooth GPS PSY is installed, a mobile device without an internal GPS chipset can obtain GPS position fixes from external Bluetooth GPS hardware. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">Required background </h2> <p>A knowledge of the material covered in the following is useful to understanding how this component fits into the LBS architecture: </p>
 <ul><li id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-6280ECC6-A9DA-5C68-8646-9F4DF4C2E76B"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-6280ECC6-A9DA-5C68-8646-9F4DF4C2E76B"><!-- --></a><p><a href="GUID-7233BC33-6060-5D6B-A5D2-01135F059337.html" title="This document describes the major components and interfaces of the Symbian platform Location Based Services (LBS) subsystem. It is intended to give device creators an appreciation of the LBS subsystem architecture. It also provides links to other documentation that provides more detailed information about the LBS components and APIs.">LBS Architecture Overview</a>  </p>
 </li>
 <li id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-619A1ABD-19E9-5955-BE5D-F2ACBB700E7D"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-619A1ABD-19E9-5955-BE5D-F2ACBB700E7D"><!-- --></a><p><a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">LBS Integration and Configuration Guide</a>  </p>
 </li>
 </ul>
 </div>
 <div class="section"><h2 class="sectiontitle">Key concepts and terms</h2> <dl><dt class="dlterm">Bluetooth</dt>
 <dd><p>A wireless protocol for data exchange over small distances. </p>
 </dd>
  <dt class="dlterm">PSY</dt>
 <dd><p>A Positioning Plug-in. The Bluetooth GPS PSY implements the Positioning Plug-in API to interface with the Location Server. It uses the Positioning Plug-in Information API to register itself with the Location Server. </p>
 </dd>
  <dt class="dlterm">NMEA</dt>
 <dd><p>In this context, an abbreviation of the NMEA (National Maritime Electronics Association) 0183 standard. This defines an electrical and data exchange protocol for marine electronic devices (including GPS receivers). The Bluetooth GPS PSY supports devices that use the NMEA 0183 standard and also devices that support PNOK NMEA extensions. </p>
 </dd>
  <dt class="dlterm">PNOK</dt>
 <dd><p>Nokia proprietary extension to the NMEA 0183 standard. It defines additional messages that give extra information about the status of a Bluetooth GPS device that supports PNOK. The Bluetooth GPS PSY supports PNOK. </p>
 </dd>
  <dt class="dlterm">RFCOMM</dt>
 <dd><p>A Bluetooth protocol that provides simulated serial communications over a wireless connection. It is used by the Bluetooth stack to support data exchange with the Bluetooth GPS device on behalf of the Bluetooth GPS PSY. </p>
 </dd>
  </dl>
 </div>
 <div class="section"><h2 class="sectiontitle">Architecture</h2> <p>Figure 1 shows the Bluetooth GPS PSY component with associated LBS components. </p>
 <div class="fignone" id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-32FFD99F-B574-5730-9152-FA33D4FE6647"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-32FFD99F-B574-5730-9152-FA33D4FE6647"><!-- --></a><span class="figcap">Figure 1. 
             Figure 1. Bluetooth GPS PSY and related components. 
          </span> <img src="GUID-9C2421E6-FA53-5E3C-B073-57FB9F3591DD_d0e463699_href.png"/></div>
 <p>The Bluetooth GPS PSY implements the Positioning Plug-in API. It also uses the Positioning Plug-in Information API to register itself with the LBS subsystem. The PSY provides three APIs (described in more detail later in this document). </p>
 <p>The PSY uses the Bluetooth APIs to pair with a Bluetooth GPS device. Bluetooth uses the RFCOMM protocols to connect with the Bluetooth GPS device. </p>
 <p><strong>Supported features</strong> </p>
 <p>The Bluetooth GPS PSY provides the following features: </p>
 <ul><li id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-3B7B0DF4-623D-52EE-A22F-CEA3961ECF67"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-3B7B0DF4-623D-52EE-A22F-CEA3961ECF67"><!-- --></a><p>Support for devices that use the NMEA 0183 protocol. </p>
 <p>A Bluetooth device must support NMEA 0183 to be compatible with the Bluetooth GPS PSY. </p>
 </li>
 <li id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-3928BB6F-D157-5C0D-A2E8-9D1FFE3EF53B"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-3928BB6F-D157-5C0D-A2E8-9D1FFE3EF53B"><!-- --></a><p>Support for devices that implement the PNOK NMEA 0183 extensions. </p>
 <p>These proprietary extensions support additional information about the paired Bluetooth GPS device. </p>
 </li>
 <li id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-21F6D346-9374-54F8-8F94-0886BDEE84F4"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-21F6D346-9374-54F8-8F94-0886BDEE84F4"><!-- --></a><p>Support for multiple simultaneous client requests for position fixes. </p>
 <p>The PSY uses the target time specified as part of the client request to decide if multiple client requests can be bundled into a single request to the Bluetooth subsystem. Bundling requests improves efficiency and reduces the power requirements of using an external Bluetooth GPS device. </p>
 </li>
 <li id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-F7E4E357-4052-53C0-82D5-CA89156F92F6"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-F7E4E357-4052-53C0-82D5-CA89156F92F6"><!-- --></a><p>Support for tracking. </p>
 <p>Tracking is the process of returning periodic position updates with a constant time interval between them. This feature is typically used by navigation applications. </p>
 </li>
 <li id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-7A83C4AE-4090-5B89-B11E-A1A5EE5C28B2"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-7A83C4AE-4090-5B89-B11E-A1A5EE5C28B2"><!-- --></a><p>Support for multiple Bluetooth GPS devices. </p>
 <p>The Bluetooth protocols can discover more than one Bluetooth GPS device (for example a mobile phone may be able to connect with both a standalone Bluetooth GPS device and an in-car device). </p>
 <p>It is useful to be able to try to connect to more than one Bluetooth GPS device. One example use-case is when the mobile device is used for in-car navigation. GPS reception may be limited inside a vehicle, but there may be access to an in-car Bluetooth GPS device with an external aerial. The Bluetooth protocols can discover all available Bluetooth GPS devices and ask the user which one to pair with their mobile. The PSY then connects to the chosen Bluetooth GPS device. </p>
 <p>It is not necessary for a user to follow this manual pairing procedure each time LBS decides it needs to use a Bluetooth GPS device. The PSY maintains its own ordered list of Bluetooth GPS devices. It tries to connect to each of the devices in succession and pairs with the first device to which it can successfully connect. The details of this device are stored by the PSY and are automatically used the next time the mobile must be paired with Bluetooth GPS hardware. Note that the PSY can only be paired with one Bluetooth GPS device at any time. </p>
 </li>
 </ul>
 <p><strong>PSY libraries and installation</strong> </p>
 <p>Most of the Bluetooth GPS PSY is packaged in <span class="filepath">nlabtgpspsy.dll</span>. The Bluetooth GPS PSY Configuration API (see below) is packaged as a separate library <span class="filepath">lbsbtgpsconfig.dll</span>. </p>
 <p>The PSY can be installed in one of two ways: </p>
 <ul><li id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-DAFBC288-94A4-5C15-892E-EE7F790940D2"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-DAFBC288-94A4-5C15-892E-EE7F790940D2"><!-- --></a><p>By a device creator at ROM build time by using a ROM build macro. </p>
 </li>
 <li id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-A27C38E7-1280-5AC8-B5DA-5E0F639D1C94"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-A27C38E7-1280-5AC8-B5DA-5E0F639D1C94"><!-- --></a><p>In a SIS file, which can be installed by the mobile device user. </p>
 </li>
 </ul>
 <p>See <a href="GUID-90D938EA-E46A-512A-85E3-B8ADF81BC4D3.html" title="These tutorials describe how to configure and use the Bluetooth GPS PSY.">Bluetooth GPS PSY Tutorial</a> for more information about these installation options. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">APIs</h2> <p>The Bluetooth GPS PSY provides three APIs: </p>
 <ul><li id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-1EA3EFF4-51B8-5A98-BD5C-9657ED9CBF93"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-1EA3EFF4-51B8-5A98-BD5C-9657ED9CBF93"><!-- --></a><p><a href="GUID-F84E7419-7F31-5E18-8854-27CB1F9F890E.html" title="The Bluetooth GPS PSY Settings Storage API defines Central Repository keys for storing and retrieving the settings of the Bluetooth GPS PSY. The API is for developers who write applications to get and set Bluetooth GPS PSY settings.">Bluetooth GPS PSY Settings Storage API</a>  </p>
 <p>A client can use this API to get the properties of the Bluetooth GPS device paired with the Bluetooth GPS PSY. If the device supports PNOK, some properties can also be set. </p>
 <p>A client is typically a Bluetooth GPS settings application developed by a device creator. </p>
 </li>
 <li id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-BAD8578D-A2D7-5BDE-938E-AF8ABB3E9288"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-BAD8578D-A2D7-5BDE-938E-AF8ABB3E9288"><!-- --></a><p><a href="GUID-1D81831A-FFC9-50E7-9FA1-EC0958060588.html" title="The Bluetooth GPS PSY Events API uses the Publish and Subscribe (P&amp;S) service to notify clients about the state of the PSY and the connected Bluetooth GPS device. The API is for developers who write components to notify users of changes in the Bluetooth GPS PSY state.">Bluetooth GPS PSY Events API</a>  </p>
 <p>A client can use this API to get information about the paired Bluetooth GPS device. If the device supports PNOK, the client can subscribe for notification of some Bluetooth device events (such as device status changes). </p>
 <p>A client is typically a UI component, such as a notifier, that informs a user of Bluetooth GPS device events. </p>
 </li>
 <li id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-A482EAF9-B74B-5A95-84F3-45B222B459CC"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-A482EAF9-B74B-5A95-84F3-45B222B459CC"><!-- --></a><p><a href="GUID-2A137918-D949-5017-BB00-B93CFA8AA65F.html" title="The Bluetooth GPS PSY Configuration API enables client applications to manage a list of Bluetooth GPS devices.">Bluetooth GPS PSY Configuration API</a>  </p>
 <p>This API allows a user to manage an ordered list of Bluetooth GPS device details. The PSY tries to connect with each of the devices in the list in succession and stops when it is successful. </p>
 </li>
 </ul>
 </div>
 <div class="section"><h2 class="sectiontitle">Typical uses</h2> <p>The PSY can be used to obtain a location fix one of two ways: </p>
 <ul><li id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-7796E32E-163C-59D8-A874-77915806FE2D"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-7796E32E-163C-59D8-A874-77915806FE2D"><!-- --></a><p>A Location Acquisition API client can select the PSY by default by opening a session with the Default PSY. The Default PSY always tries to use the Bluetooth GPS PSY first to obtain a location fix, and then tries to use other PSYs if the Bluetooth GPS PSY cannot provide a position fix. </p>
 </li>
 <li id="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-926342AB-70E0-510E-84D7-F298EC83D84E"><a name="GUID-E73A181C-0C9B-513C-ABAE-585C80D566DF__GUID-926342AB-70E0-510E-84D7-F298EC83D84E"><!-- --></a><p>A Location Acquisition API client can select the PSY explicitly by opening a session with the Location Server. The client application must specify the implementation UID of the Bluetooth GPS PSY (<samp class="codeph">0x101FE999</samp>). </p>
 </li>
 </ul>
 <p>The PSY can also report the status of a Bluetooth GPS device through the Bluetooth GPS PSY Events API. </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-5454AFE9-ADC2-5980-85FC-3FF457B638D0.html" title="The Bluetooth GPS Positioning Module (Bluetooth GPS PSY) connects the LBS subsystem to an external Bluetooth GPS device.">Bluetooth GPS Positioning Module</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-90D938EA-E46A-512A-85E3-B8ADF81BC4D3.html" title="These tutorials describe how to configure and use the Bluetooth GPS PSY.">Bluetooth GPS PSY
                Tutorial</a></div>
<div><a href="GUID-F84E7419-7F31-5E18-8854-27CB1F9F890E.html" title="The Bluetooth GPS PSY Settings Storage API defines Central Repository keys for storing and retrieving the settings of the Bluetooth GPS PSY. The API is for developers who write applications to get and set Bluetooth GPS PSY settings.">Bluetooth
                GPS PSY Settings Storage API</a></div>
<div><a href="GUID-1D81831A-FFC9-50E7-9FA1-EC0958060588.html" title="The Bluetooth GPS PSY Events API uses the Publish and Subscribe (P&amp;S) service to notify clients about the state of the PSY and the connected Bluetooth GPS device. The API is for developers who write components to notify users of changes in the Bluetooth GPS PSY state.">Bluetooth
                GPS PSY Events API</a></div>
<div><a href="GUID-2A137918-D949-5017-BB00-B93CFA8AA65F.html" title="The Bluetooth GPS PSY Configuration API enables client applications to manage a list of Bluetooth GPS devices.">Bluetooth
                GPS PSY Configuration API</a></div>
<div><a href="GUID-CD8BF818-ED63-5504-8382-346776D3B78F.html" title="These documents describe NMEA and PNOK messages supported by the Bluetooth GPS PSY.">Bluetooth GPS
                PSY Reference</a></div>
<div><a href="GUID-7CE5CF4C-7661-5FE1-87CA-CC4EB1CECE34.html" title="The Default Positioning Module is a proxy PSY used by the Location Server (eposserver.exe) to select a PSY when a Location Acquisition API client opens a session without specifying a PSY ID.">Default
                Positioning Module</a></div>
<div><a href="GUID-D0318BB6-0B9F-5A1C-AB0B-61BA22D28661.html" title="Client applications use the Location Acquisition API to obtain the position of the mobile device from the LBS subsystem.">Location Acquisition API</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>