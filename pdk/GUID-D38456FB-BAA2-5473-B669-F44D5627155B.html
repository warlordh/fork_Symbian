<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Video Player 2 Tutorial"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B54E84A4-2F81-57C2-BEDC-48C6B3F6A023.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-DDE1A8A9-1D67-53BF-8A65-340F139AD4AB.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0EE3180B-4814-517E-A6DD-748136C17D55.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F370A917-6963-58F6-8876-160A1DC42040.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B54E84A4-2F81-57C2-BEDC-48C6B3F6A023.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-D38456FB-BAA2-5473-B669-F44D5627155B"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Video Player 2 Tutorial</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2405098 id2405245 id2405934 id2406156 id2406170 id2406238 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html">Multimedia Guide</a> &gt; <a href="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html">Multimedia APIs and Frameworks Collection</a> &gt; <a href="GUID-DDE1A8A9-1D67-53BF-8A65-340F139AD4AB.html">Multimedia Framework Component</a> &gt; <a href="GUID-0EE3180B-4814-517E-A6DD-748136C17D55.html">Video Client Library</a> &gt; <a href="GUID-F370A917-6963-58F6-8876-160A1DC42040.html">Video Client Library Tutorials</a> &gt; <a href="GUID-B54E84A4-2F81-57C2-BEDC-48C6B3F6A023.html">Video Player Utility 2 Tutorials</a> &gt; </div>
<h1 class="topictitle1">Video Player 2 Tutorial</h1>
<div><p>This tutorial describes how to play video data on graphics surfaces using the Video Client APIs. </p>
 <div class="section"><h2 class="sectiontitle">Purpose</h2> <p>The purpose of this tutorial is to show you how to open, configure and play video clips on graphics surfaces. </p>
 <p><strong>Required Background</strong> </p>
 <p>The <a href="GUID-2DC80BA9-7AA2-5CD3-9105-1DE28CE196C1.html">Video Client Overview</a> introduces the video client utilities. </p>
 <p><strong>Introduction</strong> </p>
 <p>The video player utility 2 enables you to open and play video data on graphics surfaces. For more information about graphics surfaces, see <a href="GUID-ADA8CECB-0E70-5B9C-8F36-0714AAF0CD13.html" title="This topic provides an introduction to graphics composition surfaces, which are usually simply called surfaces. Surfaces are pixel buffers that have associated metadata describing the width, height, stride and pixel format and are used as input to the composition components. Surfaces can be multi-buffered and are identified by a 128-bit identifier (called the surface ID).">Graphics Surfaces</a>. </p>
 <p>You can also render video to graphics surfaces without associating them with a target window. This allows you to use graphics surfaces provided by the Multimedia Framework (MMF), as well as other graphics surfaces where no window can be provided. </p>
 <p>This functionality is exposed by the <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2</span></a> class. <samp class="codeph">CVideoPlayerUtility2</samp> is derived from <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility</span></a>. For more information about <samp class="codeph">CVideoPlayerUtility</samp>, see the video player utility tutorials starting with <a href="GUID-172F46C1-6066-57FA-A815-5AC23ACE159D.html">Creating and Preparing a Video Player Tutorial</a>. </p>
 <p> <strong>Note:</strong>  <samp class="codeph">CVideoPlayerUtility2</samp> can only be used with controllers that support graphics surfaces. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">Using Video Player 2 </h2> <p>The following tasks are covered in this tutorial: </p>
 <ul><li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-2618FB7A-9DA7-5668-A38B-7BA1AFF7D1CE"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-2618FB7A-9DA7-5668-A38B-7BA1AFF7D1CE"><!-- --></a><p><a href="GUID-D38456FB-BAA2-5473-B669-F44D5627155B.html#GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-6096635D-2793-5472-BC9E-101D7F7A167E">Constructing a utility object</a>  </p>
 </li>
 <li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-67BB891B-8EA5-59EC-B115-0A691E6404F0"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-67BB891B-8EA5-59EC-B115-0A691E6404F0"><!-- --></a><p><a href="GUID-D38456FB-BAA2-5473-B669-F44D5627155B.html#GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-28CBE4D2-2979-5E2B-B707-9EB9BC051CC8">Opening a video source</a>  </p>
 </li>
 <li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-C21D3851-F85B-58F0-A06C-CDD2E240C311"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-C21D3851-F85B-58F0-A06C-CDD2E240C311"><!-- --></a><p><a href="GUID-D38456FB-BAA2-5473-B669-F44D5627155B.html#GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-C984C913-6647-50E6-A30D-CAA41E6EE1B0">Adding a display</a>  </p>
 </li>
 <li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-ED0F2F72-6476-5823-9712-D6CFE6A20367"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-ED0F2F72-6476-5823-9712-D6CFE6A20367"><!-- --></a><p><a href="GUID-D38456FB-BAA2-5473-B669-F44D5627155B.html#GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-3DBD0CE2-3351-5ED5-AB26-4976848E3B39">Preparing to play video data</a>  </p>
 </li>
 <li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-410F168C-708B-5223-A8F4-95A1FB72B2C2"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-410F168C-708B-5223-A8F4-95A1FB72B2C2"><!-- --></a><p><a href="GUID-D38456FB-BAA2-5473-B669-F44D5627155B.html#GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-87F516DC-090E-57F9-B140-B4702F44E391">Making configuration adjustments</a>  </p>
 </li>
 <li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-DB5EB16B-DD71-58DA-B0CB-419D1D4D33D4"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-DB5EB16B-DD71-58DA-B0CB-419D1D4D33D4"><!-- --></a><p><a href="GUID-D38456FB-BAA2-5473-B669-F44D5627155B.html#GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-6D7BD5B1-DDD0-5963-AF84-8169BD4D6CC3">Playing video data</a>  </p>
 </li>
 <li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-2B5A7AFD-EF70-5D5D-8F7F-368C67476181"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-2B5A7AFD-EF70-5D5D-8F7F-368C67476181"><!-- --></a><p><a href="GUID-D38456FB-BAA2-5473-B669-F44D5627155B.html#GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-97516B18-D59B-5FA2-9881-2FE3025AE888">Replacing a surface</a>  </p>
 </li>
 <li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-50F342B4-28D2-5734-9C14-2AE7474FA052"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-50F342B4-28D2-5734-9C14-2AE7474FA052"><!-- --></a><p><a href="GUID-D38456FB-BAA2-5473-B669-F44D5627155B.html#GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-FB26B528-1FBB-5A6E-B33B-7368A9596DAF">Stopping video playback</a>  </p>
 </li>
 </ul>
 <p id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-6096635D-2793-5472-BC9E-101D7F7A167E"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-6096635D-2793-5472-BC9E-101D7F7A167E"><!-- --></a><strong>Constructing a Utility Object</strong> </p>
 <p>The high level step to construct a utility object is shown here: </p>
 <ul><li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-D52BCA9D-75A5-5DE5-9C19-8275E1529131"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-D52BCA9D-75A5-5DE5-9C19-8275E1529131"><!-- --></a><p>To create a new instance of <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2</span></a>, use the <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">NewL()</span></a> function: </p>
 <pre class="codeblock" id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-FD8FEFCC-49ED-59F4-9DF4-AAFA81B8CC6F"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-FD8FEFCC-49ED-59F4-9DF4-AAFA81B8CC6F"><!-- --></a>NewL(MVideoPlayerUtilityObserver&amp; aObserver, TInt aPriority, TMdaPriorityPreference aPref);</pre>
 <p>Creating an instance of <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2</span></a> is similar to creating an instance of <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility</span></a>, however, unlike the <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility::NewL()</span></a>, the <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2::NewL()</span></a> method doesn’t take a window destination. </p>
 </li>
 </ul>
 <p id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-28CBE4D2-2979-5E2B-B707-9EB9BC051CC8"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-28CBE4D2-2979-5E2B-B707-9EB9BC051CC8"><!-- --></a><strong>Opening a Video Source</strong> </p>
 <p>Once created, the <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2</span></a> needs to know what data it should be playing. </p>
 <p> <strong>Note:</strong> To open a video source with <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2</span></a>, the controller must support graphics surfaces, otherwise it will fail with <samp class="codeph">KErrNotSupported</samp>. </p>
 <p>Video clips must be opened using one of the following open functions: </p>
 <ul><li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-DE36678D-2B5F-5A67-B94B-CB02A002A756"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-DE36678D-2B5F-5A67-B94B-CB02A002A756"><!-- --></a><p> <strong>From a file </strong>  </p>
 <pre class="codeblock" id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-0F42B9CD-29F9-50A9-A617-D2683D139299"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-0F42B9CD-29F9-50A9-A617-D2683D139299"><!-- --></a>OpenFileL(const TDesC&amp; aFileName, TUid aControllerUid=KNullUid);
</pre>
 <p>This method opens the video clip from a file. It uses an optionally specified plug-in in the argument to load a controller. If no controller plug-in is specified, it searches through the list of available plug-ins and attempts to use each one until successful or the end of the list is reached. </p>
 <p> <strong>Note:</strong> There is also another method to open a video clip from a file. It is strongly recommended to use this method. </p>
 <pre class="codeblock" id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-C708A76D-0156-5106-B288-BFF6563A15F8"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-C708A76D-0156-5106-B288-BFF6563A15F8"><!-- --></a>OpenFileL(const TMMSource&amp; aSource, TUid aControllerUid);</pre>
 <p>Where <samp class="codeph">aSource</samp> is a filename or an open handle to a file containing the video clip and <samp class="codeph">aControllerUid</samp> is an optionally specified plug-in. If specified, it will force the video player to use the controller with the given UID. If no controller plug-in is specified, this function searches through a list of all available plug-ins and attempts to use each one until successful or the end of the list is reached. </p>
 </li>
 <li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-E6A42E5B-685A-54FD-B6D0-B9ABED940F63"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-E6A42E5B-685A-54FD-B6D0-B9ABED940F63"><!-- --></a><p> <strong>From a descriptor</strong>  </p>
 <pre class="codeblock" id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-E53E70E6-FD54-5AB8-AC5D-F1EA6F86A9C6"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-E53E70E6-FD54-5AB8-AC5D-F1EA6F86A9C6"><!-- --></a>OpenDesL(const TDesC8&amp; aDescriptor, TUid aControllerUid=KNullUid);</pre>
 <p>This method opens the video clip from a descriptor. It opens the video clip contained as binary data in a descriptor using an optionally specified plug-in in the argument to load a controller. If no controller is specified, it searches through the list of available plug-ins and attempts to use each one until successful or the end of the list is reached. </p>
 </li>
 <li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-01F9EE80-BBA3-5E92-A14D-E749003D332C"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-01F9EE80-BBA3-5E92-A14D-E749003D332C"><!-- --></a><p> <strong>From an URL</strong>  </p>
 <pre class="codeblock" id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-4C942ECA-1308-597B-8F6A-BE942222D53A"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-4C942ECA-1308-597B-8F6A-BE942222D53A"><!-- --></a>OpenUrlL(const TDesC&amp; aUrl, TInt aIapId = KUseDefaultIap, const TDesC8&amp; aMimeType=KNullDesC8, TUid aControllerUid=KNullUid);</pre>
 <p>This method opens the video clip from the specified URL and identified by the MIME type. In addition a plug-in can be specified if necessary. If no controller plug-in is specified, this function searches through a list of all available plug-ins and attempts to use each one until successful or the end of the list is reached. </p>
 </li>
 </ul>
 <p>Once the opening of the video clip is complete, successfully or otherwise, the callback function <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">MVideoPlayerUtilityObserver::MvpuoOpenComplete()</span></a> is called. This notifies the client whether the video clip was successfully opened or not. </p>
 <p> <strong>Note:</strong> Opening a video source must be done before providing any window destination. This is because the controller needs to be able to support graphics surfaces and this is only known at load time. </p>
 <p id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-C984C913-6647-50E6-A30D-CAA41E6EE1B0"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-C984C913-6647-50E6-A30D-CAA41E6EE1B0"><!-- --></a><strong>Adding a Display</strong> </p>
 <p>To play video on graphics surfaces without an associated target window you need to add a display. The high level steps to add a specified display are shown here: </p>
 <ul><li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-C7295586-EDEB-5DF3-A02F-B1CF5DE12215"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-C7295586-EDEB-5DF3-A02F-B1CF5DE12215"><!-- --></a><p>Call the <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2::AddDisplayL()</span></a> method. This method takes a window server session, which is used to register the graphics surface, the display ID of the display that the surface is to be placed on, and a reference to a surface event handler. </p>
 <pre class="codeblock" id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-58633CE4-34E0-5780-8D13-A94B9CBA13EE"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-58633CE4-34E0-5780-8D13-A94B9CBA13EE"><!-- --></a>IMPORT_C void AddDisplayL(RWsSession&amp; aWs, TInt aDisplay, MMMFSurfaceEventHandler&amp; aEventHandler);</pre>
 <p> <strong>Note</strong>: To use windowless graphics surfaces, you must provide an implementation of the <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">MMMFSurfaceEventHandler</span></a> interface. The <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">MMMFSurfaceEventHandler</span></a> interface handles surface-related events from the MMF. </p>
 </li>
 </ul>
 <p id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-3DBD0CE2-3351-5ED5-AB26-4976848E3B39"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-3DBD0CE2-3351-5ED5-AB26-4976848E3B39"><!-- --></a><strong>Preparing to Play Video Data</strong> </p>
 <p>The high level steps to prepare to play video are shown here: </p>
 <a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-344888A8-4F8A-5481-8252-37E181FC1BEF"><!-- --></a><ol id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-344888A8-4F8A-5481-8252-37E181FC1BEF"><li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-8E6DDFD9-583B-5B51-A3FF-15F567F5C743"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-8E6DDFD9-583B-5B51-A3FF-15F567F5C743"><!-- --></a><p>Once the video data is ready, call the <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2::Prepare()</span></a> function. </p>
 </li>
 <li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-17137AFF-1E24-5A0D-9DD9-19B353A4209E"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-17137AFF-1E24-5A0D-9DD9-19B353A4209E"><!-- --></a><p>When the client receives the <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">MVideoPlayerUtilityObserver::MvpuoPrepareComplete()</span></a> callback, the video player utility will be in configured state. </p>
 </li>
 </ol>
 <p id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-87F516DC-090E-57F9-B140-B4702F44E391"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-87F516DC-090E-57F9-B140-B4702F44E391"><!-- --></a><strong>Making Configuration Adjustments</strong> </p>
 <p>Once the video clip is open and ready to play, configuration adjustments can be made using the following functions: </p>
 <ul><li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-E379C3CD-6117-53B9-BF0F-E78303D1A618"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-E379C3CD-6117-53B9-BF0F-E78303D1A618"><!-- --></a><p> <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2::AddDisplayWindowL</span></a>: This function adds a new window for displaying the video picture. Client applications must use this method instead of <samp class="codeph">SetDisplayWindowL()</samp> when using <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2</span></a>. This method has two overloads: </p>
 <ul><li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-C3098C44-63D5-56C3-9568-0BB5DE2EF41D"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-C3098C44-63D5-56C3-9568-0BB5DE2EF41D"><!-- --></a><p>The first takes window clipping and video extent as parameters: </p>
 <pre class="codeblock" id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-9F0B2B54-F376-5B3A-B2C5-C07E070496AC"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-9F0B2B54-F376-5B3A-B2C5-C07E070496AC"><!-- --></a>AddDisplayWindowL(RWsSession&amp; aWs, CWsScreenDevice&amp; aScreenDevice, RWindowBase&amp; aWindow, const TRect&amp; aVideoExtent, const TRect&amp; aWindowClipRect);</pre>
 </li>
 <li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-B9F7DDF9-A2CF-5249-85A4-1F62ED831637"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-B9F7DDF9-A2CF-5249-85A4-1F62ED831637"><!-- --></a><p>The second is a simplified version which doesn't take window clipping and video extent as parameters: </p>
 <pre class="codeblock" id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-5EACD930-7DA3-5FCB-8C16-5F1EDD04F9C4"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-5EACD930-7DA3-5FCB-8C16-5F1EDD04F9C4"><!-- --></a>AddDisplayWindowL(RWsSession&amp; aWs, CWsScreenDevice&amp; aScreenDevice, RWindowBase&amp; aWindow);</pre>
 <p> <strong>Note:</strong> When using this version, the video extent and window clipping rectangle default to the whole window. </p>
 </li>
 </ul>
 </li>
 <li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-B6ECCA94-FA08-539C-BF86-8684BB34E972"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-B6ECCA94-FA08-539C-BF86-8684BB34E972"><!-- --></a><p> <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2::SetVideoExtentL</span></a>: This function sets the video extent on the screen, relative to the window. The extent specifies the area of screen in which the video picture is placed and may be partially or completely outside of the video window. Video picture position within the extent depends on the picture size and content alignment or offset. </p>
 <pre class="codeblock" id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-02EDD632-ED30-50B9-B4F3-11A304FDF75C"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-02EDD632-ED30-50B9-B4F3-11A304FDF75C"><!-- --></a>SetVideoExtentL(const TRect&amp; aVideoExtent);</pre>
 <p> <strong>Note:</strong> Video extent can be set before a successful call to <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">AddDisplayWindowL</span></a> has been made. </p>
 </li>
 <li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-155740FA-08F7-5429-A2EE-B912D467EF64"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-155740FA-08F7-5429-A2EE-B912D467EF64"><!-- --></a><p> <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2::SetWindowClipRectL</span></a>: This function sets the window clipping rectangle, relative to the window. The clipping rectangle specifies the part of the window used to display the video picture and must be fully contained within the window. Any video content falling outside of this area is not displayed. </p>
 <pre class="codeblock" id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-F360165D-1E13-5ABE-8D2E-3818B32B139C"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-F360165D-1E13-5ABE-8D2E-3818B32B139C"><!-- --></a>SetWindowClipRectL(const TRect&amp; aWindowClipRect);</pre>
 </li>
 </ul>
 <p id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-6D7BD5B1-DDD0-5963-AF84-8169BD4D6CC3"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-6D7BD5B1-DDD0-5963-AF84-8169BD4D6CC3"><!-- --></a><strong>Playing Video Data</strong> </p>
 <p>The high level step to play video data is shown here: </p>
 <ul><li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-89BDC30D-CE13-5A9C-B348-AA46D751B80A"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-89BDC30D-CE13-5A9C-B348-AA46D751B80A"><!-- --></a><p>After configuring the properties, the <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2::Play()</span></a> function is called for the video clip to be played. </p>
 </li>
 </ul>
 <p id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-97516B18-D59B-5FA2-9881-2FE3025AE888"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-97516B18-D59B-5FA2-9881-2FE3025AE888"><!-- --></a><strong>Replacing a Surface</strong> </p>
 <p>If <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CMMFVideoPlayerUtility2</span></a> receives a <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">ReplaceSurface</span></a> event, then the graphics surface needs to be replaced. The high level steps to replace a surface are shown here: </p>
 <a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-A1A1CEE4-775E-5A3B-81FC-FAC2C6A6AEDF"><!-- --></a><ol id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-A1A1CEE4-775E-5A3B-81FC-FAC2C6A6AEDF"><li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-24FB37D7-FC3A-57B8-AF88-2A01450BA623"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-24FB37D7-FC3A-57B8-AF88-2A01450BA623"><!-- --></a><p>Call <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2::RemoveDisplay()</span></a> and set <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">aDisplay</span></a> to be the ID of the display to remove. </p>
 <pre class="codeblock" id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-91A4F673-DE4A-5A78-976F-B90D4D1136F1"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-91A4F673-DE4A-5A78-976F-B90D4D1136F1"><!-- --></a>IMPORT_C void RemoveDisplay(TInt aDisplay);</pre>
 </li>
 <li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-216C4BF6-809F-50C7-BCE5-704C15692A92"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-216C4BF6-809F-50C7-BCE5-704C15692A92"><!-- --></a><p>Call <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2::AddDisplayL()</span></a>. This method takes a window server session, which is used to register the graphics surface, the display ID of the display that the surface is to be placed on, and a reference to a surface event handler. </p>
 <pre class="codeblock" id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-3B6FFFA5-0EA7-51B6-840E-BB3174F07662"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-3B6FFFA5-0EA7-51B6-840E-BB3174F07662"><!-- --></a>IMPORT_C void AddDisplayL(RWsSession&amp; aWs, TInt aDisplay, MMMFSurfaceEventHandler&amp; aEventHandler);</pre>
 </li>
 </ol>
 <p id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-FB26B528-1FBB-5A6E-B33B-7368A9596DAF"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-FB26B528-1FBB-5A6E-B33B-7368A9596DAF"><!-- --></a><strong>Stopping Video Playback</strong> </p>
 <p>The high level steps to stop video playback are shown here: </p>
 <a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-4D4C9ACD-1BDE-5F65-A1A7-3603EB87C6E1"><!-- --></a><ol id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-4D4C9ACD-1BDE-5F65-A1A7-3603EB87C6E1"><li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-1C696A16-E514-50C0-BFB1-BB55ADC21299"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-1C696A16-E514-50C0-BFB1-BB55ADC21299"><!-- --></a><p>Call the <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2::Stop()</span></a> function. </p>
 <pre class="codeblock" id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-C2275FD7-7AAF-5D7E-9736-855BE9BAC2BE"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-C2275FD7-7AAF-5D7E-9736-855BE9BAC2BE"><!-- --></a>IMPORT_C TInt Stop();</pre>
 <p>Video playback is stopped as soon as possible, and the <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">MVideoPlayerUtilityObserver::MvpuoPlayComplete()</span></a> callback function is called. </p>
 </li>
 <li id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-46E456E9-71A5-531D-BA40-47AB20106263"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-46E456E9-71A5-531D-BA40-47AB20106263"><!-- --></a><p>To remove a display from the list of surface rendering targets, call <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2::RemoveDisplay()</span></a> and set <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">aDisplay</span></a> to be the ID of the display to remove: </p>
 <pre class="codeblock" id="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-96BD89C8-0DFE-5D24-AD74-6BC8A893794C"><a name="GUID-D38456FB-BAA2-5473-B669-F44D5627155B__GUID-96BD89C8-0DFE-5D24-AD74-6BC8A893794C"><!-- --></a>IMPORT_C void RemoveDisplay(TInt aDisplay);</pre>
 <p>Calling <samp class="codeph">RemoveDisplay()</samp> destroys any graphics surface associated with the display. You must make sure the graphics surface can be safely destroyed before making this call. </p>
 <p> <strong>Note</strong>: If you have added windows to the display using <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2::AddDisplayWindowL()</span></a>, then the graphics surface can only be destroyed when you have removed all of the windows as well. That is, when no windows or event handlers are using the display. To remove a window, use the <a href="GUID-42D1182F-46D8-3C78-8D3C-C1BB465FCA1F.html"><span class="apiname">CVideoPlayerUtility2::RemoveDisplayWindowL()</span></a> function. </p>
 </li>
 </ol>
 </div>
 <div class="section"><h2 class="sectiontitle">See Also</h2> <p><a href="GUID-3F0856D9-7B58-5519-9B26-97F1A035E21D.html">Video Player Utility Tutorials</a>  </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-B54E84A4-2F81-57C2-BEDC-48C6B3F6A023.html">Video Player Utility 2 Tutorials</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>