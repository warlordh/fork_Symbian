<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Voice Line Status Tutorial"/>
<meta name="abstract" content="This tutorial describes how to get the voice line status with the telephony API for applications."/>
<meta name="description" content="This tutorial describes how to get the voice line status with the telephony API for applications."/>
<meta name="DC.Relation" scheme="URI" content="GUID-5E95D090-582E-536A-AE93-8C5312618E76.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0F647342-E069-5444-9370-58520375543A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7C197DC1-43CA-5146-B81D-36B685A1D0C9.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5E95D090-582E-536A-AE93-8C5312618E76.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-0DA6722B-0700-5612-884A-F3B7733E5252"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Voice Line Status Tutorial</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-0DA6722B-0700-5612-884A-F3B7733E5252"><a name="GUID-0DA6722B-0700-5612-884A-F3B7733E5252"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2563496 id2562267 id2562189 id2562025 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html" title="Cellular Baseband Services provide a common interface to telephony services for applications and higher level platform components. The framework is independent of the underlying network services.">Cellular Baseband Services Guide</a> &gt; <a href="GUID-0F647342-E069-5444-9370-58520375543A.html" title="The Telephony Utilities is a collection of components that provides small utility libraries related to telephony. The collection also includes the component that implements the telephony API for applications.">Telephony Utilities</a> &gt; <a href="GUID-7C197DC1-43CA-5146-B81D-36B685A1D0C9.html" title="The telephony API gives applications access to Telephony services.">Telephony API for Applications</a> &gt; <a href="GUID-5E95D090-582E-536A-AE93-8C5312618E76.html" title="This tutorial describes how the client applications can retrieve the call and line information from the telephony API for applications.">Line and Call Status Tutorial</a> &gt; </div>
<h1 class="topictitle1">Voice
Line Status Tutorial</h1>
<div><p>This tutorial describes how to get the voice line status with the
telephony API for applications. </p>



<div class="section" id="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-BAC8D4B3-FAB2-4EE9-B20F-41810AEBD84E"><a name="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-BAC8D4B3-FAB2-4EE9-B20F-41810AEBD84E"><!-- --></a><p>The <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony</span></a> functions provide a detailed
 information on the voice line status. The detailed call information provides
 the information about: </p>
<ul>
<li><p>call status  </p>
</li>

<li><p> date of the call  </p>
</li>

<li><p> time of the call  </p>
</li>

<li><p> duration of the call  </p>
</li>

<li><p>destination number  </p>
</li>

<li><p>caller identification  </p>
</li>

<li><p>dynamic call capabilities  </p>
</li>

</ul>
</div>

<a name="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-F9E13043-8D2A-57BC-B9C0-ADD51F3AA449"><!-- --></a><ol id="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-F9E13043-8D2A-57BC-B9C0-ADD51F3AA449"><li class="stepexpand" id="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-7BA25A70-5F62-5668-8A64-D5F90FD72504"><a name="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-7BA25A70-5F62-5668-8A64-D5F90FD72504"><!-- --></a><span>create a new instance
of <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony</span></a>  </span>
</li>
<li class="stepexpand" id="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-382DD7F5-8555-5B06-9596-08D1C4684714"><a name="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-382DD7F5-8555-5B06-9596-08D1C4684714"><!-- --></a><span>use <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::GetLineStatus()</span></a> to
get the simple voice line status</span>
</li>
<li class="stepexpand" id="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-2B2692FB-88FF-5F40-8FC0-A30D7146C757"><a name="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-2B2692FB-88FF-5F40-8FC0-A30D7146C757"><!-- --></a><span>use <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::GetCallStatus()</span></a> to
get the status of any voice call owned by the client application </span>
</li>
<li class="stepexpand" id="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-C46FB87F-B7FB-5347-9199-D27CA9634E6F"><a name="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-C46FB87F-B7FB-5347-9199-D27CA9634E6F"><!-- --></a><span>use <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::GetCallInfo()</span></a> to
get the detailed call information about the call </span>
 pass the following parameters for the required information 
 
<div class="tablenoborder"><a name="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-9FDDE4F7-130C-55C9-8205-CF8C96575665"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-9FDDE4F7-130C-55C9-8205-CF8C96575665" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" id="d158733e108">Parameter</th>

<th class="cellrowborder" valign="top" id="d158733e111">Function</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" headers="d158733e108 "><p>TCallStatus </p>
 </td>

<td class="cellrowborder" valign="top" headers="d158733e111 "><p>To get the status of a call like idle, on-hold, dialling and ringing </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d158733e108 "><p>TDateTime </p>
 </td>

<td class="cellrowborder" valign="top" headers="d158733e111 "><p>To get the data and time of a call </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d158733e108 "><p>TTimeIntervalSeconds </p>
 </td>

<td class="cellrowborder" valign="top" headers="d158733e111 "><p>To get the duration of a call </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d158733e108 "><p>TTelAddress </p>
 </td>

<td class="cellrowborder" valign="top" headers="d158733e111 "><p>To get the destination number </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d158733e108 "><p>TPhoneNetworkSecurity </p>
 </td>

<td class="cellrowborder" valign="top" headers="d158733e111 "><p>To get the ciphering information from the network </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d158733e108 "><p>TCallRemoteIdentityStatus </p>
 </td>

<td class="cellrowborder" valign="top" headers="d158733e111 "><p>To determine if the remote caller status is available </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d158733e108 "><p>TCallDirection </p>
 </td>

<td class="cellrowborder" valign="top" headers="d158733e111 "><p>To determine the call direction </p>
 </td>

</tr>

</tbody>

</table>
</div>
 
</li>
<li class="stepexpand" id="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-0604B8F5-98CA-57B1-98D9-2B91708CF29C"><a name="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-0604B8F5-98CA-57B1-98D9-2B91708CF29C"><!-- --></a><span>use <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">GetCallDynamicCaps()</span></a> to
get the dynamic capability information about the call.</span>
</li>
</ol>

<div class="example" id="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-6F8987BC-703D-549F-85F7-11BDB3EAC319"><a name="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-6F8987BC-703D-549F-85F7-11BDB3EAC319"><!-- --></a><h2 class="sectiontitle">Voice call
information example</h2> <p>The example code describes the steps to get
the detailed call information. </p>
 <pre class="codeblock" id="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-5B4EF60C-66A0-5862-9E72-6759532AC776"><a name="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-5B4EF60C-66A0-5862-9E72-6759532AC776"><!-- --></a>CTelephony* telephony = CTelephony::NewLC();

CTelephony::TCallInfoV1 callInfoV1;
CTelephony::TCallInfoV1Pckg callInfoV1Pckg( callInfoV1 );

CTelephony::TCallSelectionV1 callSelectionV1;
CTelephony::TCallSelectionV1Pckg callSelectionV1Pckg( callSelectionV1 );

CTelephony::TRemotePartyInfoV1 remotePartyInfoV1;
CTelephony::TRemotePartyInfoV1Pckg remotePartyInfoV1Pckg( remotePartyInfoV1  );

callSelectionV1.iLine = CTelephony::EVoiceLine;
callSelectionV1.iSelect = CTelephony::EActiveCall;

telephony-&gt;GetCallInfo( callSelectionV1Pckg, callInfoV1Pckg, remotePartyInfoV1Pckg );

CleanupStack::PopAndDestroy( telephony );</pre>
 </div>

<div class="section" id="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-3A6FA503-E4A8-5013-A155-E8F80844281B"><a name="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-3A6FA503-E4A8-5013-A155-E8F80844281B"><!-- --></a><p>The example code
to get the dynamic call capability information </p>
 <pre class="codeblock" id="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-53DB7E1D-B6FA-5497-9140-28EB10EF242C"><a name="GUID-0DA6722B-0700-5612-884A-F3B7733E5252__GUID-53DB7E1D-B6FA-5497-9140-28EB10EF242C"><!-- --></a>CTelephony::TCallCapsV1 callCapsV1;
CTelephony::TCallCapsV1Pckg callCapsV1Pckg( callCapsV1 );

telephony-&gt;GetCallDynamicCaps( callId, callCapsV1Pckg );
TUint32 caps = callCapsV1.iControlCaps;
if( caps &amp; CTelephony::KCapsHold )
   {} // The call represented by 'callId' can be put on hold</pre>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-5E95D090-582E-536A-AE93-8C5312618E76.html" title="This tutorial describes how the client applications can retrieve the call and line information from the telephony API for applications.">Line and Call Status Tutorial</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>