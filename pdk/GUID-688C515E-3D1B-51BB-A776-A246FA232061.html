<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Creating and Preparing a Video Recorder"/>
<meta name="DC.Relation" scheme="URI" content="GUID-37934768-50D0-52A8-B594-B47D5E27722B.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-DDE1A8A9-1D67-53BF-8A65-340F139AD4AB.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0EE3180B-4814-517E-A6DD-748136C17D55.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F370A917-6963-58F6-8876-160A1DC42040.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-37934768-50D0-52A8-B594-B47D5E27722B.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-688C515E-3D1B-51BB-A776-A246FA232061"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Creating and Preparing a Video Recorder</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-688C515E-3D1B-51BB-A776-A246FA232061"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2405098 id2405245 id2405934 id2406156 id2406170 id2406254 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-1DE5CDAD-8D71-5384-9E98-5665D5A4C792.html">Multimedia Guide</a> &gt; <a href="GUID-3E341F9F-2635-589B-A59A-B999FE7DF9BE.html">Multimedia APIs and Frameworks Collection</a> &gt; <a href="GUID-DDE1A8A9-1D67-53BF-8A65-340F139AD4AB.html">Multimedia Framework Component</a> &gt; <a href="GUID-0EE3180B-4814-517E-A6DD-748136C17D55.html">Video Client Library</a> &gt; <a href="GUID-F370A917-6963-58F6-8876-160A1DC42040.html">Video Client Library Tutorials</a> &gt; <a href="GUID-37934768-50D0-52A8-B594-B47D5E27722B.html">Video Recorder Utility Tutorials</a> &gt; </div>
<h1 class="topictitle1">Creating and Preparing a Video Recorder</h1>
<div><p>This tutorial describes how to get started with the video recorder utility. </p>
 <div class="section"><h2 class="sectiontitle">Purpose</h2> <p>The purpose of this tutorial is to show you how to create a new video recorder utility and prepare it for recording video data. </p>
 <p><strong>Required Background</strong> </p>
 <p>The <a href="GUID-2DC80BA9-7AA2-5CD3-9105-1DE28CE196C1.html">Video Client Overview</a> introduces the video client utilities. </p>
 <p><strong>Introduction</strong> </p>
 <p>The video recorder utility is used to record video clips to files, descriptors or URLs and manipulate embedded meta data. This functionality is implemented by the <a href="GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html"><span class="apiname">CVideoRecorderUtility</span></a> class. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">Using Video Recorder Utility</h2> <p>The following tasks will be covered in this tutorial: </p>
 <ul><li id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-21F91659-A12E-5420-B4C5-FBEEB1EEE73E"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-21F91659-A12E-5420-B4C5-FBEEB1EEE73E"><!-- --></a><p><a href="GUID-F7598A84-9736-5310-AAA4-5BCC4BE46C16.html#GUID-F7598A84-9736-5310-AAA4-5BCC4BE46C16__GUID-D9B54B5B-97EE-5DF4-90D5-FF25B4227771">Create a Utility Object </a>  </p>
 </li>
 <li id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-709899B2-A05C-51BA-B8D9-DEF90C6EF528"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-709899B2-A05C-51BA-B8D9-DEF90C6EF528"><!-- --></a><p><a href="GUID-BA2EEEC3-86AC-5B1C-81E2-CC571EB5AB3E.html#GUID-BA2EEEC3-86AC-5B1C-81E2-CC571EB5AB3E__GUID-BAE58A16-943C-5C5F-B1ED-A70B04411005">Open a Recording Device</a>  </p>
 </li>
 <li id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-24782EE8-9C28-543D-9062-C4A697AAF6F6"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-24782EE8-9C28-543D-9062-C4A697AAF6F6"><!-- --></a><p><a href="GUID-688C515E-3D1B-51BB-A776-A246FA232061.html#GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-29741489-459B-591F-B9E9-E0255A9AC584">Prepare to Record</a>  </p>
 </li>
 </ul>
 <p id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-D9B54B5B-97EE-5DF4-90D5-FF25B4227771"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-D9B54B5B-97EE-5DF4-90D5-FF25B4227771"><!-- --></a><strong>Creating a Utility Object </strong> </p>
 <p>The high level steps to create a video recorder utility object are shown here: </p>
 <ul><li id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-4BBCB100-A806-59AA-B860-CE06075D9353"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-4BBCB100-A806-59AA-B860-CE06075D9353"><!-- --></a><p>You can create an object of this utility class using the <a href="GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D__GUID-6FF3F041-5566-352C-BF64-5094A462A056"><span class="apiname">CVideoRecorderUtility::NewL</span></a> function. Some video formats also allow storing of audio data. To facilitate this feature, the class contains audio functions that can manipulate audio data. </p>
 <pre class="codeblock" id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-7915F838-E4A6-5EF8-AD86-90A7EC507FFD"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-7915F838-E4A6-5EF8-AD86-90A7EC507FFD"><!-- --></a>void CRecordVideo::ConstructL()
    {
    iVideoRecordUtility = CVideoRecorderUtility::NewL(*this);
    }</pre>
 </li>
 </ul>
 <p id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-BAE58A16-943C-5C5F-B1ED-A70B04411005"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-BAE58A16-943C-5C5F-B1ED-A70B04411005"><!-- --></a><strong>Opening a Recording Device</strong> </p>
 <p>The high level steps to open a recording device are shown here: </p>
 <a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-87D7D324-06CD-55DA-83D9-B433FD7E4C8A"><!-- --></a><ol id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-87D7D324-06CD-55DA-83D9-B433FD7E4C8A"><li id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-133C072D-5E06-5CBE-B6A4-A64F40A579B4"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-133C072D-5E06-5CBE-B6A4-A64F40A579B4"><!-- --></a><p>Certain parameters like, the handle to the camera, the controller UID, video format and the codecs to use for video and audio need to be specified for recording. This is shown in the range of open statements shown below based on where you want to save the video clip: </p>
 <ul><li id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-4972A385-CA09-55B2-ABC2-0E17AFFF80CF"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-4972A385-CA09-55B2-ABC2-0E17AFFF80CF"><!-- --></a><p> <a href="GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D__GUID-085B4553-555A-35E9-8DE8-B93E615D6AF9"><span class="apiname">CVideoRecorderUtility::OpenFileL</span></a>: This function stores the recorded video clip in a file. </p>
 <pre class="codeblock" id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-66D747F9-F663-51C1-B557-D9F51709B3F3"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-66D747F9-F663-51C1-B557-D9F51709B3F3"><!-- --></a>void OpenFileL(const TDesC&amp; aFileName, TInt aCameraHandle, TUid aControllerUid, 
TUid aVideoFormat, TFourCC aVideoType=KFourCCNULL, TFourCC aAudioType=KFourCCNULL);
</pre>
 <p> <strong>Note:</strong> There is also another method to save a video clip to a file. It is strongly recommended to use this method. </p>
 <pre class="codeblock" id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-826E2D41-D332-5FD2-93D3-6378F88B14AF"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-826E2D41-D332-5FD2-93D3-6378F88B14AF"><!-- --></a>OpenFileL(const TMMSource&amp; aSource, TUid aControllerUid);</pre>
 <p>Where <samp class="codeph">aSource</samp> is a filename or an open handle to a file where the video clip has to be saved and <samp class="codeph">aControllerUid</samp> is an optionally specified plugin. If specified, it will force the video player to use the controller with the given UID. If no controller plugin is specified, this function searches through a list of all available plugins and attempts to use each one until successful or the end of the list is reached. </p>
 </li>
 <li id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-C6C3EA53-1B1F-593E-8053-522135DACB95"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-C6C3EA53-1B1F-593E-8053-522135DACB95"><!-- --></a><p> <a href="GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D__GUID-9F820878-1396-3D88-A2A6-B99CCD5635AB"><span class="apiname">CVideoRecorderUtility::OpenDesL</span></a>: This function stores the recorded video clip in a descriptor. </p>
 <pre class="codeblock" id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-91CF22D9-CB48-587F-ACF5-A3A36B42BF16"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-91CF22D9-CB48-587F-ACF5-A3A36B42BF16"><!-- --></a>void OpenDesL(TDes8&amp; aDescriptor, TInt aCameraHandle, TUid aControllerUid, 
TUid aVideoFormat,TFourCC aVideoType=KFourCCNULL, TFourCC aAudioType=KFourCCNULL);
</pre>
 </li>
 <li id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-CBF3B863-31C0-5107-BD68-B8458AB91A17"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-CBF3B863-31C0-5107-BD68-B8458AB91A17"><!-- --></a><p> <a href="GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D__GUID-F1A1728E-2ABD-31B2-B527-841EFA9A56A5"><span class="apiname">CVideoRecorderUtility::OpenUrlL</span></a>: This function stores the recorded video clip in a URL. </p>
 <pre class="codeblock" id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-F287F739-FBCB-53FB-95F6-B60FACCF5009"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-F287F739-FBCB-53FB-95F6-B60FACCF5009"><!-- --></a>void OpenUrlL(const TDesC&amp; aUrl, TInt aIapId = KUseDefaultIap, TInt aCameraHandle, TUid
 aControllerUid, TUid aVideoFormat, TFourCC aVideoType=KFourCCNULL, TFourCC aAudioType=KFourCCNULL);</pre>
 </li>
 </ul>
 </li>
 <li id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-60970A2A-2D5A-5E1A-8E68-D49FBC826C55"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-60970A2A-2D5A-5E1A-8E68-D49FBC826C55"><!-- --></a><p>Once the opening of the recording device is complete, successfully or otherwise, the callback function <a href="GUID-3DA683D9-644B-3629-901F-96F1B49EE0C7.html#GUID-3DA683D9-644B-3629-901F-96F1B49EE0C7__GUID-ADDB899E-EC79-3214-96E7-52825247D420"><span class="apiname">MVideoRecorderUtilityObserver::MvruoOpenComplete()</span></a> is called. This notifies the client whether the video clip was successfully opened or not. </p>
 </li>
 </ol>
 <p id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-29741489-459B-591F-B9E9-E0255A9AC584"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-29741489-459B-591F-B9E9-E0255A9AC584"><!-- --></a><strong>Preparing to Record</strong> </p>
 <p>The high level steps to prepare to record video are shown here: </p>
 <a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-6E3C8727-F1E0-5823-ADFB-308301B37C9D"><!-- --></a><ol id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-6E3C8727-F1E0-5823-ADFB-308301B37C9D"><li id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-FF6C37CA-A481-5338-B8DD-2D136183265D"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-FF6C37CA-A481-5338-B8DD-2D136183265D"><!-- --></a><p>Once the camera is ready and the video clip is opened successfully, call the <a href="GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.html#GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D__GUID-A8B11252-2852-36E4-BE16-BC05888F4ECF"><span class="apiname">CVideoRecorderUtility::Prepare()</span></a> function. This function prepares the record controller for use. </p>
 </li>
 <li id="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-BAD3C61D-9F02-5B6E-B3E0-6AC031B3B6BF"><a name="GUID-688C515E-3D1B-51BB-A776-A246FA232061__GUID-BAD3C61D-9F02-5B6E-B3E0-6AC031B3B6BF"><!-- --></a><p>When the preparation of the record controller is complete, successfully or otherwise, a callback function <a href="GUID-3DA683D9-644B-3629-901F-96F1B49EE0C7.html#GUID-3DA683D9-644B-3629-901F-96F1B49EE0C7__GUID-8E8E78F1-283A-3576-8075-B8024DC7F61E"><span class="apiname">MVideoRecorderUtilityObserver::MvruoPrepareComplete</span></a> is called to notify that the video recorder is ready to record. </p>
 </li>
 </ol>
 </div>
 <div class="section"><h2 class="sectiontitle">See Also</h2> <p><a href="GUID-3B250C0E-5D53-53ED-A02C-16FE8EAEDF86.html">Configuring the Video Recorder</a>  </p>
 <p><a href="GUID-ED700A4A-3BBF-5048-92CB-E3677A0FD09F.html">Enabling/Disabling Video Recording</a>  </p>
 <p><a href="GUID-C08BBBAD-3605-53E3-A94F-ECCFFB80E1DD.html">Controlling Video Recording Quality</a>  </p>
 <p><a href="GUID-18D7228F-A1E5-594A-B654-EF5D74CE17D2.html">Recording Video Data</a>  </p>
 <p><a href="GUID-2D20B6DF-BE02-50CF-8E9F-14E3402EF952.html">Setting Video Metadata</a>  </p>
 <p><a href="GUID-44EDB476-33E2-5D91-8CC2-A04369AACCA4.html">Controlling the Video Plugin</a>  </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-37934768-50D0-52A8-B594-B47D5E27722B.html">Video Recorder Utility Tutorials</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>