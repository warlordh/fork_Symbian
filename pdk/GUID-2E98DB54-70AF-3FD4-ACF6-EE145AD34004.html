<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="RAvctp"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004"/>

<title>RAvctp</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004"><a name="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2578598 id2579127 id2579132 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">RAvctp Class Reference</h1>
	<table class="signature"><tr><td>class RAvctp</td></tr></table><div class="section"><div>
			<p>AVCTP service provider</p>

			<p>Note that because AVCTP is a connectionless protocol, this class doesn't provide an API to directly control all aspects of whether or not a connection exists to a remote device. It provides an API to force a connection to exist (RAvctp::ConnectRequest()) until either a MaenDisconnectIndicate or MaenDisconnectConfirm event is notified via the <a href="GUID-D9BB368F-5731-3785-9AF4-81F251E5AAA3.html#GUID-D9BB368F-5731-3785-9AF4-81F251E5AAA3">MAvctpEventNotify</a> class that clients should derive from.</p>

			<p>When using <a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html#GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004">RAvctp</a> clients need to make the distinction between an explicit connection and an actual connection. All this class provides is an API to bring up and in keeping a connection up by allowing explicit connections to be made. However if no explicit connection to a remote device has been made, that does NOT mandate that no such connection to this remote will exist. Instead it means the client doesn't care if there is a connection or not to this remote. Hence a client can receive messages from or send messages to a device they've not explicitly connected to.</p>

		</div></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-0C1C5EBC-6DC4-377E-873E-9C8DBBE34679">RAvctp</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-05CF0FEB-27A2-38E3-BC43-27E698AB4287">Close</a>(<a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html">TCloseType</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-E2591E46-1402-3FAC-BD4A-916BB7B990BD">CloseGracefully</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-273449D4-77F7-3323-A36F-05ED18C9D2BA">InstallSecondaryChannel</a>(<a href="GUID-D9BB368F-5731-3785-9AF4-81F251E5AAA3.html">MAvctpEventNotify</a> &amp;, <a href="GUID-5A58C138-C95B-3F3A-B5C3-247CDD5C3525.html">MAvctpChannel</a> *&amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-F4AC0522-B918-3B4A-B57A-C04E6D7A83F6">Open</a>(<a href="GUID-D9BB368F-5731-3785-9AF4-81F251E5AAA3.html">MAvctpEventNotify</a> &amp;, <a href="GUID-46EDBA1F-C383-37FF-BB9A-F5615845C486.html">SymbianAvctp::TPid</a>, <a href="GUID-5A58C138-C95B-3F3A-B5C3-247CDD5C3525.html">MAvctpChannel</a> *&amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-753C1689-D58B-3F9D-A16A-8E63BE7C1625">UninstallSecondaryChannel</a>(<a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html">TCloseType</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-8FC96CAC-54BA-3395-B172-3B767C30CF95">RAvctp</a>(const <a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html">RAvctp</a> &amp;)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-271F1CC2-4F82-39F1-AFE5-D8E4D86BA720">TCloseType</a> { <a href="#GUID-AB8EC8E3-6120-3812-9969-5737FD56B0A3">ENormal</a>, <a href="#GUID-FE6EB41A-2E52-3F70-B99B-13BEA83DA49C">EImmediate</a> }</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-474029A5-240C-36C1-A1AC-3CBCA107CD29.html">CAvctpBody</a> *</td><td><a href="#GUID-D10F2756-F5FF-3E79-89C5-C649B7F83402">iBody</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-0C1C5EBC-6DC4-377E-873E-9C8DBBE34679"><a name="GUID-0C1C5EBC-6DC4-377E-873E-9C8DBBE34679"><!-- --></a>
		<h2 class="topictitle2">RAvctp()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>RAvctp</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Default constructor </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-8FC96CAC-54BA-3395-B172-3B767C30CF95"><a name="GUID-8FC96CAC-54BA-3395-B172-3B767C30CF95"><!-- --></a>
		<h2 class="topictitle2">RAvctp(const RAvctp &amp;)</h2>
		<table class="signature"><tr><td>RAvctp</td><td>(</td><td>const <a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html">RAvctp</a> &amp;</td><td>aObjectToCopy</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>The copy constructor is made private to help ensure there is only ever one <a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html#GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004">RAvctp</a> object per PID </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html">RAvctp</a> &amp; aObjectToCopy</td><td> </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-05CF0FEB-27A2-38E3-BC43-27E698AB4287"><a name="GUID-05CF0FEB-27A2-38E3-BC43-27E698AB4287"><!-- --></a>
		<h2 class="topictitle2">Close(TCloseType)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Close</td><td>(</td><td><a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html">TCloseType</a></td><td>aImmediacy = ENormal</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Closes the <a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html#GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004">RAvctp</a> session by immediately disconnecting all remote devices it is explicitly connected to, cancelling all outstanding requests and freeing all resources associated with it. This method deregisters aNotify from receiving any more AVCTP event notifications. The client will have to <a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html#GUID-F4AC0522-B918-3B4A-B57A-C04E6D7A83F6">Open()</a> this object before it can be used again.</p>

				<p>This function is safe to call at almost any time. The only case when this is not appropriate is if a secondary channel is installed in a different thread AND that thread has it's own heap. For this case the UninstallSecondaryChannel function must be called in the thread running the secondary channel BEFORE this function is called.</p>

				<p>
					<a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html#GUID-753C1689-D58B-3F9D-A16A-8E63BE7C1625">RAvctp::UninstallSecondaryChannel</a>
				</p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html">TCloseType</a> aImmediacy = ENormal</td><td>if the default, ENormal, is used then this function will shutdown gracefully. if EImmediate is given then RAvctp will close as quickly as possible which may result in some data not actually being sent that the client had received a successful SendComplete.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-E2591E46-1402-3FAC-BD4A-916BB7B990BD"><a name="GUID-E2591E46-1402-3FAC-BD4A-916BB7B990BD"><!-- --></a>
		<h2 class="topictitle2">CloseGracefully()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>CloseGracefully</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>This function is not currently supported. Use of it will result in MaenErrorNotify being called with an error of KErrNotSupported. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-273449D4-77F7-3323-A36F-05ED18C9D2BA"><a name="GUID-273449D4-77F7-3323-A36F-05ED18C9D2BA"><!-- --></a>
		<h2 class="topictitle2">InstallSecondaryChannel(MAvctpEventNotify &amp;, MAvctpChannel *&amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>InstallSecondaryChannel</td><td>(</td><td><a href="GUID-D9BB368F-5731-3785-9AF4-81F251E5AAA3.html">MAvctpEventNotify</a> &amp;</td><td>aSecondChannelObserver,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-5A58C138-C95B-3F3A-B5C3-247CDD5C3525.html">MAvctpChannel</a> *&amp;</td><td>aSecondaryChannel</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Installs the second AVCTP channel.</p>

				<p>This is separated out from <a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html#GUID-F4AC0522-B918-3B4A-B57A-C04E6D7A83F6">RAvctp::Open</a> so that the client can choose to run <a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html#GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004">RAvctp</a> in two-thread mode in which the "second channel" Send and receive service provide in AVCTP Services is installed on another thread if the client so chooses. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-D9BB368F-5731-3785-9AF4-81F251E5AAA3.html">MAvctpEventNotify</a> &amp; aSecondChannelObserver</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-5A58C138-C95B-3F3A-B5C3-247CDD5C3525.html">MAvctpChannel</a> *&amp; aSecondaryChannel</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-F4AC0522-B918-3B4A-B57A-C04E6D7A83F6"><a name="GUID-F4AC0522-B918-3B4A-B57A-C04E6D7A83F6"><!-- --></a>
		<h2 class="topictitle2">Open(MAvctpEventNotify &amp;, SymbianAvctp::TPid, MAvctpChannel *&amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Open</td><td>(</td><td><a href="GUID-D9BB368F-5731-3785-9AF4-81F251E5AAA3.html">MAvctpEventNotify</a> &amp;</td><td>aNotify,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-46EDBA1F-C383-37FF-BB9A-F5615845C486.html">SymbianAvctp::TPid</a></td><td>aPid,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-5A58C138-C95B-3F3A-B5C3-247CDD5C3525.html">MAvctpChannel</a> *&amp;</td><td>aPrimaryChannel</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<div class="p">Opens a channel to the AVCTP protocol. Only one <a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html#GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004">RAvctp</a> can be registered to receive events on each PID. <dl class="user"><dt class="dlterm"><strong>panic</strong></dt>
<dd>if <a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html#GUID-F4AC0522-B918-3B4A-B57A-C04E6D7A83F6">Open()</a> is not called before any other <a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html#GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004">RAvctp</a> method </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>the SID of the process holding the <a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html#GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004">RAvctp</a> is checked if it is allowed to access aPid. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>panic</strong></dt>
<dd>if the <a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html#GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004">RAvctp</a> object is already open </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-D9BB368F-5731-3785-9AF4-81F251E5AAA3.html">MAvctpEventNotify</a> &amp; aNotify</td><td>the MAvctpEventNotify object to notify with all this RAvctp's AVCTP events.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-46EDBA1F-C383-37FF-BB9A-F5615845C486.html">SymbianAvctp::TPid</a> aPid</td><td>the PID on which RAvctp will be used  </td></tr><tr><td class="parameter"><a href="GUID-5A58C138-C95B-3F3A-B5C3-247CDD5C3525.html">MAvctpChannel</a> *&amp; aPrimaryChannel</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-753C1689-D58B-3F9D-A16A-8E63BE7C1625"><a name="GUID-753C1689-D58B-3F9D-A16A-8E63BE7C1625"><!-- --></a>
		<h2 class="topictitle2">UninstallSecondaryChannel(TCloseType)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>UninstallSecondaryChannel</td><td>(</td><td><a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html">TCloseType</a></td><td>aImmediacy = ENormal</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Uninstalls the second AVCTP channel. This can be used for when the AVCTP second channel is run in a different thread to the primary channel.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html">TCloseType</a> aImmediacy = ENormal</td><td>if the default, ENormal, is used then this function will shutdown gracefully. if EImmediate is given then the second channel will close as quickly as possible which may result in some data not actually being sent that the client had received a successful SendComplete.  </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Enumerations Documentation</h1><div class="nested1" id="GUID-271F1CC2-4F82-39F1-AFE5-D8E4D86BA720"><a name="GUID-271F1CC2-4F82-39F1-AFE5-D8E4D86BA720"><!-- --></a>
		<h2 class="topictitle2">Enum TCloseType</h2>
		<div class="section"><div>
				<p>
					<a href="GUID-2E98DB54-70AF-3FD4-ACF6-EE145AD34004.html#GUID-05CF0FEB-27A2-38E3-BC43-27E698AB4287">RAvctp::Close()</a> </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">ENormal</td><td> </td></tr><tr class="bg"><td valign="top">EImmediate</td><td> </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-D10F2756-F5FF-3E79-89C5-C649B7F83402"><a name="GUID-D10F2756-F5FF-3E79-89C5-C649B7F83402"><!-- --></a>
		<h2 class="topictitle2">
					CAvctpBody * iBody</h2>
		<table class="signature"><tr><td>
					<a href="GUID-474029A5-240C-36C1-A1AC-3CBCA107CD29.html">CAvctpBody</a> *</td><td>iBody</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>