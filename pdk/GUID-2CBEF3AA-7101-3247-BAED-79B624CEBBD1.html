<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="ContentAccess::CRightsManager"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-2CBEF3AA-7101-3247-BAED-79B624CEBBD1"/>

<title>ContentAccess::CRightsManager</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-2CBEF3AA-7101-3247-BAED-79B624CEBBD1"><a name="GUID-2CBEF3AA-7101-3247-BAED-79B624CEBBD1"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2487220 id2487360 id2487365 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">ContentAccess::CRightsManager Class Reference</h1>
	<table class="signature"><tr><td>class ContentAccess::CRightsManager : public CBase</td></tr></table><div class="section"><div>
			<p>Manages and retrieves rights objects from an agent.</p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">ContentAccess::CRightsManager<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-DF438527-C8AE-3710-8E18-C09F3F92A63B">~CRightsManager</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-D15406BB-55B5-3F2F-BCF6-30E421EB9796">DeleteAllRightsObjects</a>(const <a href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html">TVirtualPathPtr</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-50B5B0DB-494B-3B9D-A70B-DF4A6765A96E">DeleteAllRightsObjects</a>(<a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-C12A4220-B431-331D-8F58-0399A1008FAB">DeleteRightsObject</a>(const CRightsInfo &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C MAgentRightsBase *</td><td><a href="#GUID-9384C0B1-6B62-3414-B6E6-D87A9A075064">GetRightsDataL</a>(const CRightsInfo &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-BC9D5E16-E86F-344B-AB9B-7303012D79A4">ListAllRightsL</a>(<a href="GUID-645B949D-7A45-3646-8ABE-142BC3488AF1.html">RStreamablePtrArray</a>&lt; CRightsInfo &gt; &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-B501C51E-ADB4-344D-A4CA-7A8B8A5E3BDD">ListContentL</a>(<a href="GUID-645B949D-7A45-3646-8ABE-142BC3488AF1.html">RStreamablePtrArray</a>&lt; <a href="GUID-D56FD380-1335-33BB-B42E-6C1911274B06.html">CVirtualPath</a> &gt; &amp;, CRightsInfo &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-B772AA45-9383-3BCF-BCAC-E9CD35EB8654">ListRightsL</a>(<a href="GUID-645B949D-7A45-3646-8ABE-142BC3488AF1.html">RStreamablePtrArray</a>&lt; CRightsInfo &gt; &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-168DC166-C76F-36CA-A7B5-0B7477DD944F">ListRightsL</a>(<a href="GUID-645B949D-7A45-3646-8ABE-142BC3488AF1.html">RStreamablePtrArray</a>&lt; CRightsInfo &gt; &amp;, <a href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html">TVirtualPathPtr</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-F987ABD1-BA18-3FB9-AE50-BCD1D480A22C">ListRightsL</a>(<a href="GUID-645B949D-7A45-3646-8ABE-142BC3488AF1.html">RStreamablePtrArray</a>&lt; CRightsInfo &gt; &amp;, <a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-27C580B7-27EE-3F7B-8F5A-B552CD740298">SetProperty</a>(<a href="GUID-F702BEA4-B711-37AB-BE96-889A94A06FD8.html">TAgentProperty</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-F7CFD861-36AE-3561-960F-B8A6115929E5">CRightsManager</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-1FEA33CB-8406-37E6-AB21-2890BEBFE535">ConstructL</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr><tr><td align="right" class="code">
					<a href="GUID-2CBEF3AA-7101-3247-BAED-79B624CEBBD1.html">CRightsManager</a> *</td><td><a href="#GUID-8C885B67-A5F3-327D-91BA-6F9F14F04485">NewL</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-798F4B18-D6AE-36B9-B03F-C1FC55266CB5.html">CAgentFactory</a> *</td><td><a href="#GUID-258BCB57-D461-3701-B55F-6BA0F370169C">iAgentFactory</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-441831EC-2FC0-340E-B276-BFFA00665FD2.html">CAgentRightsManager</a> *</td><td><a href="#GUID-C1CA61B6-3661-334B-A51D-80C142B54836">iAgentRightsManager</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-F7CFD861-36AE-3561-960F-B8A6115929E5"><a name="GUID-F7CFD861-36AE-3561-960F-B8A6115929E5"><!-- --></a>
		<h2 class="topictitle2">CRightsManager()</h2>
		<table class="signature"><tr><td>CRightsManager</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Constructor </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-DF438527-C8AE-3710-8E18-C09F3F92A63B"><a name="GUID-DF438527-C8AE-3710-8E18-C09F3F92A63B"><!-- --></a>
		<h2 class="topictitle2">~CRightsManager()</h2>
		<table class="signature"><tr><td>~CRightsManager</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-1FEA33CB-8406-37E6-AB21-2890BEBFE535"><a name="GUID-1FEA33CB-8406-37E6-AB21-2890BEBFE535"><!-- --></a>
		<h2 class="topictitle2">ConstructL(TUid)</h2>
		<table class="signature"><tr><td>void</td><td>ConstructL</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aUid</td><td>)</td><td>[private, virtual]</td></tr></table><div class="section"><div>
				<p>2nd phase constructor </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aUid</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D15406BB-55B5-3F2F-BCF6-30E421EB9796"><a name="GUID-D15406BB-55B5-3F2F-BCF6-30E421EB9796"><!-- --></a>
		<h2 class="topictitle2">DeleteAllRightsObjects(const TVirtualPathPtr &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>DeleteAllRightsObjects</td><td>(</td><td>const <a href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html">TVirtualPathPtr</a> &amp;</td><td>aVirtualPathPtr</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Deletes all rights associated with a particular content object</p>

				<p>The agent may display a dialog asking the user to confirm the delete. Execution will be blocked until the dialog is complete. Applications can request to disable the agents user interface using the <a href="GUID-2CBEF3AA-7101-3247-BAED-79B624CEBBD1.html#GUID-27C580B7-27EE-3F7B-8F5A-B552CD740298">SetProperty()</a> command.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>DRM Access to DRM rights is not permitted for processes without DRM capability. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html">TVirtualPathPtr</a> &amp; aVirtualPathPtr</td><td>The content object.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-50B5B0DB-494B-3B9D-A70B-DF4A6765A96E"><a name="GUID-50B5B0DB-494B-3B9D-A70B-DF4A6765A96E"><!-- --></a>
		<h2 class="topictitle2">DeleteAllRightsObjects(RFile &amp;, const TDesC &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>DeleteAllRightsObjects</td><td>(</td><td><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;</td><td>aFile,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aUniqueId</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Deletes all rights associated with a particular content object in a file specified by file handle. Can be used when the source file is in the client's private directory.</p>

				<p>The agent may display a dialog asking the user to confirm the delete. Execution will be blocked until the dialog is complete. Applications can request to disable the agents user interface using the <a href="GUID-2CBEF3AA-7101-3247-BAED-79B624CEBBD1.html#GUID-27C580B7-27EE-3F7B-8F5A-B552CD740298">SetProperty()</a> command.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>DRM Access to DRM rights is not permitted for processes without DRM capability. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp; aFile</td><td>The file handle for the file containing the content object.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aUniqueId</td><td>The unique id of the content object.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-C12A4220-B431-331D-8F58-0399A1008FAB"><a name="GUID-C12A4220-B431-331D-8F58-0399A1008FAB"><!-- --></a>
		<h2 class="topictitle2">DeleteRightsObject(const CRightsInfo &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>DeleteRightsObject</td><td>(</td><td>const CRightsInfo &amp;</td><td>aRightsInfo</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Asks the DRM agent to delete a rights object</p>

				<p>The agent may display a dialog asking the user to confirm the delete. Execution will be blocked until the dialog is complete. Applications can request to disable the agents user interface using the <a href="GUID-2CBEF3AA-7101-3247-BAED-79B624CEBBD1.html#GUID-27C580B7-27EE-3F7B-8F5A-B552CD740298">SetProperty()</a> command.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>DRM Access to DRM rights is not permitted for processes without DRM capability. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const CRightsInfo &amp; aRightsInfo</td><td>The rights object.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-9384C0B1-6B62-3414-B6E6-D87A9A075064"><a name="GUID-9384C0B1-6B62-3414-B6E6-D87A9A075064"><!-- --></a>
		<h2 class="topictitle2">GetRightsDataL(const CRightsInfo &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C MAgentRightsBase *</td><td>GetRightsDataL</td><td>(</td><td>const CRightsInfo &amp;</td><td>aRightsInfo</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<div class="p">This will be used by applications to retrieve an agent specific rights object <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrPermissionDenied If the agent does not permit the client to access rights information. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>... One of the CAF error codes defined in <tt>caferr.h</tt> or one of the other system-wide error codes for any other errors. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>DRM Access to DRM rights is not permitted for processes without DRM capability. </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const CRightsInfo &amp; aRightsInfo</td><td>The rights object.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-BC9D5E16-E86F-344B-AB9B-7303012D79A4"><a name="GUID-BC9D5E16-E86F-344B-AB9B-7303012D79A4"><!-- --></a>
		<h2 class="topictitle2">ListAllRightsL(RStreamablePtrArray&lt; CRightsInfo &gt; &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ListAllRightsL</td><td>(</td><td><a href="GUID-645B949D-7A45-3646-8ABE-142BC3488AF1.html">RStreamablePtrArray</a>&lt; CRightsInfo &gt; &amp;</td><td>aArray</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<div class="p">List all rights held by the agent. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrPermissionDenied If the agent does not permit the client to access rights information. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>... One of the CAF error codes defined in <tt>caferr.h</tt> or one of the other system-wide error codes for any other errors. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>DRM Access to DRM rights is not permitted for processes without DRM capability. </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-645B949D-7A45-3646-8ABE-142BC3488AF1.html">RStreamablePtrArray</a>&lt; CRightsInfo &gt; &amp; aArray</td><td>The client supplied array used to store the CRightsInfo objects. The agent will add CRightsInfo objects to the supplied array.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B501C51E-ADB4-344D-A4CA-7A8B8A5E3BDD"><a name="GUID-B501C51E-ADB4-344D-A4CA-7A8B8A5E3BDD"><!-- --></a>
		<h2 class="topictitle2">ListContentL(RStreamablePtrArray&lt; CVirtualPath &gt; &amp;, CRightsInfo &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ListContentL</td><td>(</td><td><a href="GUID-645B949D-7A45-3646-8ABE-142BC3488AF1.html">RStreamablePtrArray</a>&lt; <a href="GUID-D56FD380-1335-33BB-B42E-6C1911274B06.html">CVirtualPath</a> &gt; &amp;</td><td>aArray,</td></tr><tr><td colspan="3"> </td><td>CRightsInfo &amp;</td><td>aRightsInfo</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const </td></tr></table><div class="section"><div>
				<div class="p">List all content associated with a particular rights object. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrPermissionDenied If the agent does not permit the client to access rights information. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>... One of the CAF error codes defined in <tt>caferr.h</tt> or one of the other system-wide error codes for any other errors. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>DRM Access to DRM rights is not permitted for processes without DRM capability. </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-645B949D-7A45-3646-8ABE-142BC3488AF1.html">RStreamablePtrArray</a>&lt; <a href="GUID-D56FD380-1335-33BB-B42E-6C1911274B06.html">CVirtualPath</a> &gt; &amp; aArray</td><td>The client supplied array used to store the list of content objects. The agent will add CVirtualPath objects to the supplied array.  </td></tr><tr class="bg"><td class="parameter">CRightsInfo &amp; aRightsInfo</td><td>The rights object.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B772AA45-9383-3BCF-BCAC-E9CD35EB8654"><a name="GUID-B772AA45-9383-3BCF-BCAC-E9CD35EB8654"><!-- --></a>
		<h2 class="topictitle2">ListRightsL(RStreamablePtrArray&lt; CRightsInfo &gt; &amp;, const TDesC &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ListRightsL</td><td>(</td><td><a href="GUID-645B949D-7A45-3646-8ABE-142BC3488AF1.html">RStreamablePtrArray</a>&lt; CRightsInfo &gt; &amp;</td><td>aArray,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aUri</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const </td></tr></table><div class="section"><div>
				<div class="p">List all rights associated with a particular file. <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrPermissionDenied If the agent does not permit the client to access rights information. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>... One of the CAF error codes defined in <tt>caferr.h</tt> or one of the other system-wide error codes for any other errors. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>DRM Access to DRM rights is not permitted for processes without DRM capability. </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-645B949D-7A45-3646-8ABE-142BC3488AF1.html">RStreamablePtrArray</a>&lt; CRightsInfo &gt; &amp; aArray</td><td>The client supplied array used to store the CRightsInfo objects. The agent will add CRightsInfo objects to the supplied array.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aUri</td><td>The name of the file.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-168DC166-C76F-36CA-A7B5-0B7477DD944F"><a name="GUID-168DC166-C76F-36CA-A7B5-0B7477DD944F"><!-- --></a>
		<h2 class="topictitle2">ListRightsL(RStreamablePtrArray&lt; CRightsInfo &gt; &amp;, TVirtualPathPtr &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ListRightsL</td><td>(</td><td><a href="GUID-645B949D-7A45-3646-8ABE-142BC3488AF1.html">RStreamablePtrArray</a>&lt; CRightsInfo &gt; &amp;</td><td>aArray,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html">TVirtualPathPtr</a> &amp;</td><td>aVirtualPath</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const </td></tr></table><div class="section"><div>
				<div class="p">List all rights associated with a particular content object <dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>KErrPermissionDenied If the agent does not permit the client to access rights information. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>leave</strong></dt>
<dd>... One of the CAF error codes defined in <tt>caferr.h</tt> or one of the other system-wide error codes for any other errors. </dd>
</dl>
<dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>DRM Access to DRM rights is not permitted for processes without DRM capability. </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-645B949D-7A45-3646-8ABE-142BC3488AF1.html">RStreamablePtrArray</a>&lt; CRightsInfo &gt; &amp; aArray</td><td>The client supplied array used to store the CRightsInfo objects. The agent will add CRightsInfo objects to the supplied array.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-70925BDF-36EF-3705-9C95-9EE211543517.html">TVirtualPathPtr</a> &amp; aVirtualPath</td><td>The content object.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-F987ABD1-BA18-3FB9-AE50-BCD1D480A22C"><a name="GUID-F987ABD1-BA18-3FB9-AE50-BCD1D480A22C"><!-- --></a>
		<h2 class="topictitle2">ListRightsL(RStreamablePtrArray&lt; CRightsInfo &gt; &amp;, RFile &amp;, const TDesC &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ListRightsL</td><td>(</td><td><a href="GUID-645B949D-7A45-3646-8ABE-142BC3488AF1.html">RStreamablePtrArray</a>&lt; CRightsInfo &gt; &amp;</td><td>aArray,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp;</td><td>aFile,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aUniqueId</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">const </td></tr></table><div class="section"><div>
				<p>List all rights associated with a particular content object in a file specified by file handle. Can be used when the source file is in the client's private directory.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrCANotSupported if the feature not supported. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrPermissionDenied If the agent does not permit the client to access rights information. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>... One of the CAF error codes defined in <tt>caferr.h</tt> or one of the other system-wide error codes for any other errors. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>capability</strong>
							</dt>

							<dd>DRM Access to DRM rights is not permitted for processes without DRM capability. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-645B949D-7A45-3646-8ABE-142BC3488AF1.html">RStreamablePtrArray</a>&lt; CRightsInfo &gt; &amp; aArray</td><td>The client supplied array used to store the CRightsInfo objects. The agent will add CRightsInfo objects to the supplied array.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-BE0804F6-4375-3C8A-8C83-968F510466E0.html">RFile</a> &amp; aFile</td><td>The file handle for the file containing the content object.  </td></tr><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aUniqueId</td><td>The unique id of the content object.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-8C885B67-A5F3-327D-91BA-6F9F14F04485"><a name="GUID-8C885B67-A5F3-327D-91BA-6F9F14F04485"><!-- --></a>
		<h2 class="topictitle2">NewL(TUid)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-2CBEF3AA-7101-3247-BAED-79B624CEBBD1.html">CRightsManager</a> *</td><td>NewL</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aUid</td><td>)</td><td>[private, static]</td></tr></table><div class="section"><div>
				<p>Only created by <a href="GUID-671191B1-B249-3DD3-A5E8-6F1A41A371C8.html#GUID-671191B1-B249-3DD3-A5E8-6F1A41A371C8">CManager</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aUid</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-27C580B7-27EE-3F7B-8F5A-B552CD740298"><a name="GUID-27C580B7-27EE-3F7B-8F5A-B552CD740298"><!-- --></a>
		<h2 class="topictitle2">SetProperty(TAgentProperty, TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>SetProperty</td><td>(</td><td><a href="GUID-F702BEA4-B711-37AB-BE96-889A94A06FD8.html">TAgentProperty</a></td><td>aProperty,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aValue</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2"/></tr></table><div class="section"><div>
				<p>Request the agent to set a property value. If the property is set it is only set for this <a href="GUID-2CBEF3AA-7101-3247-BAED-79B624CEBBD1.html#GUID-2CBEF3AA-7101-3247-BAED-79B624CEBBD1">CRightsManager</a> session and does not impact other CAF users.</p>

				<div class="p">ContentAccess::TAgentProperty<dl class="user"><dt class="dlterm"><strong>capability</strong></dt>
<dd>DRM Access to DRM protected content is not permitted for processes without DRM capability. Access to unprotected content is unrestricted. </dd>
</dl>
</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-F702BEA4-B711-37AB-BE96-889A94A06FD8.html">TAgentProperty</a> aProperty</td><td>The property to set.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aValue</td><td>The value of the property.  </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-258BCB57-D461-3701-B55F-6BA0F370169C"><a name="GUID-258BCB57-D461-3701-B55F-6BA0F370169C"><!-- --></a>
		<h2 class="topictitle2">
					CAgentFactory * iAgentFactory</h2>
		<table class="signature"><tr><td>
					<a href="GUID-798F4B18-D6AE-36B9-B03F-C1FC55266CB5.html">CAgentFactory</a> *</td><td>iAgentFactory</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-C1CA61B6-3661-334B-A51D-80C142B54836"><a name="GUID-C1CA61B6-3661-334B-A51D-80C142B54836"><!-- --></a>
		<h2 class="topictitle2">
					CAgentRightsManager * iAgentRightsManager</h2>
		<table class="signature"><tr><td>
					<a href="GUID-441831EC-2FC0-340E-B276-BFFA00665FD2.html">CAgentRightsManager</a> *</td><td>iAgentRightsManager</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>