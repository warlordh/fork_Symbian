<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MDevSoundObserver"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-D0F3F385-68C9-331D-865F-DA36589BE9FD"/>

<title>MDevSoundObserver</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-D0F3F385-68C9-331D-865F-DA36589BE9FD"><a name="GUID-D0F3F385-68C9-331D-865F-DA36589BE9FD"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2865498 id2472142 id2472451 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">MDevSoundObserver Class Reference</h1>
	<table class="signature"><tr><td>class MDevSoundObserver</td></tr></table><div class="section"><div>
			<p>An interface to a set of DevSound callback functions.</p>

			<p>This serves as the method of communication between the client and the DevSound.</p>

			<p>The class is a mixin and is intended to be inherited by the client class that is interested in observing the DevSound operation. The functions encapsulated by this class are called when specific events occur in the process of initializing and playing/recording an audio sample or playing tones. </p>

		</div></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-C09AA355-5EA9-3E9A-ADFF-0505029A7E69">BufferToBeEmptied</a>(<a href="GUID-9A7A83ED-592B-3A0C-BABB-3B90099BCF7C.html">CMMFBuffer</a> *)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-6CE0C611-2977-3A30-977D-50857F3338BC">BufferToBeFilled</a>(<a href="GUID-9A7A83ED-592B-3A0C-BABB-3B90099BCF7C.html">CMMFBuffer</a> *)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-37031CB8-099E-32F8-98B0-5639CA093DEC">ConvertError</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-8B2F7AB1-20E9-35F7-956E-9208B6812691">DeviceMessage</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-73FED260-30FE-313A-8F48-8806F05FA403">InitializeComplete</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-5226D1B4-42A3-34D1-A00B-A1A2C120A896">PlayError</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-EE6404E0-AE51-324D-83EC-6C8ED7429042">RecordError</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-AFF9E9DF-48F7-3320-974A-FFE90AE6F002">SendEventToClient</a>(const <a href="GUID-759E8D08-D8BE-3450-9C2A-CE42A6C395EB.html">TMMFEvent</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-8AD3FCA2-84C3-3BFC-B0A9-CEAF132D0BF5">ToneFinished</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-C09AA355-5EA9-3E9A-ADFF-0505029A7E69"><a name="GUID-C09AA355-5EA9-3E9A-ADFF-0505029A7E69"><!-- --></a>
		<h2 class="topictitle2">BufferToBeEmptied(CMMFBuffer *)</h2>
		<table class="signature"><tr><td>void</td><td>BufferToBeEmptied</td><td>(</td><td><a href="GUID-9A7A83ED-592B-3A0C-BABB-3B90099BCF7C.html">CMMFBuffer</a> *</td><td>aBuffer</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Handles <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD">CMMFDevSound</a> object's data request event.</p>

				<p>A derived class must provide an implementation to process the data supplied by <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD">CMMFDevSound</a> object while recording or converting.</p>

				<p>
					<a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD">CMMFDevSound</a> object calls this function when the buffer, aBuffer gets filled while recording or converting. The observer should notify <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD">CMMFDevSound</a> object as quickly as possible after data in the buffer is processed by calling RecordData(), otherwise the implementation might callback the function <a href="GUID-D0F3F385-68C9-331D-865F-DA36589BE9FD.html#GUID-EE6404E0-AE51-324D-83EC-6C8ED7429042">RecordError()</a> on derived class object with error code KErrOverflow.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-9A7A83ED-592B-3A0C-BABB-3B90099BCF7C.html">CMMFBuffer</a> * aBuffer</td><td>Buffer containing processed (recorded or converted) data. The amount of data that is available is specified in CMMFBuffer::RequestSize().  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-6CE0C611-2977-3A30-977D-50857F3338BC"><a name="GUID-6CE0C611-2977-3A30-977D-50857F3338BC"><!-- --></a>
		<h2 class="topictitle2">BufferToBeFilled(CMMFBuffer *)</h2>
		<table class="signature"><tr><td>void</td><td>BufferToBeFilled</td><td>(</td><td><a href="GUID-9A7A83ED-592B-3A0C-BABB-3B90099BCF7C.html">CMMFBuffer</a> *</td><td>aBuffer</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Handles <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD">CMMFDevSound</a> object's data request event.</p>

				<p>A derived class must provide an implementation to supply <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD">CMMFDevSound</a> object the data that it needs to play or convert.</p>

				<p>
					<a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD">CMMFDevSound</a> object calls this function when and where it needs data for playing or converting. The observer should notify <a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD">CMMFDevSound</a> object as quickly as possible after the data is read into buffer, aBuffer by calling PlayData(), otherwise the implementation might callback function <a href="GUID-D0F3F385-68C9-331D-865F-DA36589BE9FD.html#GUID-5226D1B4-42A3-34D1-A00B-A1A2C120A896">PlayError()</a> on derived class object with error code KErrUnderflow. This does not apply to the very first call to PlayData(), however. It is possible for a user of DevSound to hold the first buffer sent in <a href="GUID-D0F3F385-68C9-331D-865F-DA36589BE9FD.html#GUID-6CE0C611-2977-3A30-977D-50857F3338BC">BufferToBeFilled()</a> until ready to play. The use case for this is if a low latency audio response is required, as at this point all the resources used to play audio are open. If used in this way then it is important to be aware that when when the resources for audio are ready at the <a href="GUID-D0F3F385-68C9-331D-865F-DA36589BE9FD.html#GUID-6CE0C611-2977-3A30-977D-50857F3338BC">BufferToBeFilled()</a> callback, a Devsound on a real device will be running at increased power consumption as the audio hw and any required DSPs will be powered up etc.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-9A7A83ED-592B-3A0C-BABB-3B90099BCF7C.html">CMMFBuffer</a> * aBuffer</td><td>Buffer into which data should be read. The amount of data that is needed is specified in CMMFBuffer::RequestSize().  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-37031CB8-099E-32F8-98B0-5639CA093DEC"><a name="GUID-37031CB8-099E-32F8-98B0-5639CA093DEC"><!-- --></a>
		<h2 class="topictitle2">ConvertError(TInt)</h2>
		<table class="signature"><tr><td>void</td><td>ConvertError</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aError</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Handles conversion completion or cancel event.</p>

				<p>A derived class must provide an implementation to handle the conversion completion or cancel request.</p>

				<p>
					<a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD">CMMFDevSound</a> object calls this function when an attempt to convert data from source format to destination format has completed, successfully or otherwise.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aError</td><td>Error code. KErrCancel conversion operation is cancelled. KErrNone conversion is complete. Other values are possible indicating a problem converting data.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-8B2F7AB1-20E9-35F7-956E-9208B6812691"><a name="GUID-8B2F7AB1-20E9-35F7-956E-9208B6812691"><!-- --></a>
		<h2 class="topictitle2">DeviceMessage(TUid, const TDesC8 &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>DeviceMessage</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aMessageType,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aMsg</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Handles device event.</p>

				<p>A derived class must provide an implementtion to handle the messages from audio hardware device.</p>

				<p>
					<a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD">CMMFDevSound</a> object calls this function when a message is received from the audio hardware device.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aMessageType</td><td>Defines the type of message. Used to determine how to interpret the contents of aMsg.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aMsg</td><td>Message that is packed in the Descriptor format.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-73FED260-30FE-313A-8F48-8806F05FA403"><a name="GUID-73FED260-30FE-313A-8F48-8806F05FA403"><!-- --></a>
		<h2 class="topictitle2">InitializeComplete(TInt)</h2>
		<table class="signature"><tr><td>void</td><td>InitializeComplete</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aError</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Handles initialization completion event.</p>

				<p>A derived class must provide an implementation to handle the initialization request.</p>

				<p>
					<a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD">CMMFDevSound</a> object calls this function when its InitializeL() function completes.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aError</td><td>Error code. KErrNone if successful. Other values are possible indicating a problem initializing CMMFDevSound object.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-5226D1B4-42A3-34D1-A00B-A1A2C120A896"><a name="GUID-5226D1B4-42A3-34D1-A00B-A1A2C120A896"><!-- --></a>
		<h2 class="topictitle2">PlayError(TInt)</h2>
		<table class="signature"><tr><td>void</td><td>PlayError</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aError</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Handles play completion or cancel event.</p>

				<p>A derived class must provide an implementation to handle the play completion or cancel request.</p>

				<p>
					<a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD">CMMFDevSound</a> object calls this function when an attempt to play audio sample has completed, successfully or otherwise.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aError</td><td>Error code. The status of playback. KErrUnderflow playing of the audio sample is complete. KErrAccessDenied the sound device is in use by another higher priority client.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-EE6404E0-AE51-324D-83EC-6C8ED7429042"><a name="GUID-EE6404E0-AE51-324D-83EC-6C8ED7429042"><!-- --></a>
		<h2 class="topictitle2">RecordError(TInt)</h2>
		<table class="signature"><tr><td>void</td><td>RecordError</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aError</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Handles record completion or cancel event.</p>

				<p>A derived class must provide an implementation to handle the record completion or cancel request.</p>

				<p>
					<a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD">CMMFDevSound</a> object calls this function when an attempt to record audio sample has completed, successfully or otherwise.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aError</td><td>Error code. The status of recording. KErrOverflow audio devices runs out of internal buffer. KErrAccessDenied the sound device is in use by another higher priority client.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-AFF9E9DF-48F7-3320-974A-FFE90AE6F002"><a name="GUID-AFF9E9DF-48F7-3320-974A-FFE90AE6F002"><!-- --></a>
		<h2 class="topictitle2">SendEventToClient(const TMMFEvent &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>SendEventToClient</td><td>(</td><td>const <a href="GUID-759E8D08-D8BE-3450-9C2A-CE42A6C395EB.html">TMMFEvent</a> &amp;</td><td>aEvent</td><td>)</td><td>[inline, virtual]</td></tr></table><div class="section"><div>
				<p>Handles policy request completion event.</p>

				<p>A derived class must provide an implementation to handle the policy request completion event.</p>

				<p>
					<a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD">CMMFDevSound</a> object calls this function when an attempt to acquire sound device is rejected by audio policy server.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-759E8D08-D8BE-3450-9C2A-CE42A6C395EB.html">TMMFEvent</a> &amp; aEvent</td><td>Not used  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-8AD3FCA2-84C3-3BFC-B0A9-CEAF132D0BF5"><a name="GUID-8AD3FCA2-84C3-3BFC-B0A9-CEAF132D0BF5"><!-- --></a>
		<h2 class="topictitle2">ToneFinished(TInt)</h2>
		<table class="signature"><tr><td>void</td><td>ToneFinished</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aError</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Handles tone play completion event.</p>

				<p>A derived class must provide an implementation to handle the tone play completion request.</p>

				<p>
					<a href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.html#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD">CMMFDevSound</a> object calls this function when an attempt to play tone has completed, successfully or otherwise.</p>

				<p>The following are the play tone functions; PlayToneL(), PlayDMTFStringL(), PlayToneSequenceL(), and PlayFixedSequenceL().</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aError</td><td>Error code. The status of tone playback. KErrUnderflow playing of the tone is complete. KErrAccessDenied the sound device is in use by another higher priority client. KErrCancel playing of the audio sample is stopped by DevSound client another higher priority client.  </td></tr></table></div>

	</div>

	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>