<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CAknEcsDetector"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0"/>

<title>CAknEcsDetector</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0"><a name="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2366708 id2364582 id2364619 id2417990 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CAknEcsDetector Class Reference</h1>
	<table class="signature"><tr><td>class CAknEcsDetector : public CBase</td></tr></table><div class="section"><div>
			<p>Central coordinating object in the emergency call system Objects of this class own the number queue and own the interface object to the stored emergency numbers.</p>

			<p>A phone client session is also open while constructed </p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CAknEcsDetector<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-475B594A-4AEF-3782-A2DF-F1E127C4962F">~CAknEcsDetector</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-0AAD53BF-A90A-3140-94D0-A6F1127FD776">AddChar</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TText</a>)</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-BD1E4B82-1DD5-39E5-8D4D-0388ACD221B9">CallAttemptedCallback</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-3DFD94AF-CAFD-38BC-BAD8-CC5580618DE5">CloseEventSource</a>()</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-9A0CCE07-85D8-3A3C-B10E-07CDAFD841EA">ConnectToEventSource</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-8FE95467-D48B-3E61-9028-29C0F15F567E.html">TPtrC</a></td><td><a href="#GUID-AF3C16E0-4B5F-3D67-9242-D9C58CE455E3">CurrentMatch</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-3BF484AF-5E65-3440-B434-7F80FCE87429">HandlePhoneStatusL</a>(const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-47784F56-ED87-36D6-88FA-DD783D3F390E">HandleWsEventL</a>(const <a href="GUID-5D0B1595-1AC7-3C44-AC6B-0EFB5EABCF31.html">TWsEvent</a> &amp;, <a href="GUID-B06F99BD-F032-3B87-AB26-5DD6EBE8C160.html">CCoeControl</a> *)</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-18B8E286-7115-34E1-BCC9-D1AC6C93AA69">IndexOfCurrentMatch</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0.html">CAknEcsDetector</a> *</td><td><a href="#GUID-A4B8367E-BA24-3804-9386-3B54EBFABFBB">NewL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-1E4C0818-D4EB-3DA5-8CD1-48890454AC75">Reset</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-73DB92A5-E89D-3777-B96E-9ACFB8227AB3">SetBuffer</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-A9B6A446-94F0-3CF9-89EF-7D09CA2C9CE6">SetObserver</a>(<a href="GUID-54B354A8-13D0-3382-9B2A-F779714C0A17.html">MAknEcsObserver</a> *)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0.html">TState</a></td><td><a href="#GUID-D1858E61-FE61-32EE-B573-52A74C216D1A">State</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-A79EB908-B627-3315-AE51-F880BBB3EB37">CAknEcsDetector</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-9954F3A4-F57A-3479-9DA4-D766485BB5C3">CancelMatch</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-C92DD8F4-AD49-31DC-988C-85DDEFCA30F0">ConstructL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-3F8FFA71-8619-3A90-A05C-B546B593050C">OfferEmergencyCall</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-2C216B89-4BB7-3ED3-BDE2-CAE79752B11A">ReportEvent</a>(<a href="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0.html">TState</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-6E0E5E9B-BD61-3BCA-9157-1E96B141ED90">SetState</a>(<a href="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0.html">TState</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-C3B7FDE5-1EA2-3175-A9ED-981877BD3D23">AttemptEmergencyCall</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-FA470FD9-BD94-3457-BF55-879E4CF783B0">CaptureKeys</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-93DE7B4E-DAF8-329E-94DC-73A578AD4955">DetermineState</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-417A853C-51DD-3F11-BD37-2E7ED106682A">MakeServiceCallL</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-EC5B8B5A-2F68-335B-9510-73A19E59F694">RelinquishCapturedKeys</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-2B29C90A-C580-36E3-B87C-41D274FB89E4">TState</a> { <br/><a href="#GUID-A7FE997C-25A9-3E57-9EEB-051296ACA879">ENotFullyConstructed</a>, <a href="#GUID-92346AAC-CAE0-33C1-95D3-173AA1BE7315">EEmpty</a>, <a href="#GUID-BB512B1F-54EC-322A-9434-AB2FB4510746">ENoMatch</a>, <a href="#GUID-18DB1275-4415-3C62-8486-F1536092B8A5">EPartialMatch</a>, <a href="#GUID-7D1479E9-D029-3493-8567-29C9D4639E42">ECompleteMatch</a>, <a href="#GUID-A2F7BD24-6A8F-3871-8F3E-932A450306EA">ECompleteMatchThenSendKey</a>, <a href="#GUID-83B90654-0409-387A-81F6-6C1C4C991600">ECallAttempted</a>, <a href="#GUID-9F93323B-4377-3261-990D-8DA3DE12293E">EServiceNumMatch</a><br/> }</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Enumerations</th></tr></thead><tbody><tr><td align="right" valign="top">enum</td><td><a href="#GUID-5B8E8C18-4C14-3A6A-A229-274DAC8ACABB">TBitFlagIndices</a> { <a href="#GUID-EC17468D-86E0-36AD-B4E8-C3D34386389F">EEventSourceConnected</a> = 0, <a href="#GUID-CC59E3B9-D324-3781-B72F-B0A480ADFDEB">ETestMode</a> }</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-9412F196-34B9-3326-BEEF-69A670583C78">iCapturedKey</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-12A9389D-363B-3F54-857F-89EE0EDCDF40.html">CCoeEnv</a> *</td><td><a href="#GUID-B7D5AC47-9C26-3FA1-ADA7-EB9C82826F35">iCoeEnv</a></td></tr><tr><td align="right" valign="top">CPhCltEmergencyCallObserver *</td><td><a href="#GUID-829FABF9-0EEF-38FC-B091-DE1E8A64E1BE">iEmergencyCallObserver</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-58691152-4005-3449-8E65-E3F4E2070E85.html">TBitFlags16</a>
				</td><td><a href="#GUID-40F55544-061A-3C0D-A425-7E4FB98D21B5">iFlags</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-6EAFEB3B-D5F1-3CAE-A9F3-5955F891F122.html">CIdle</a> *</td><td><a href="#GUID-DB631775-82E2-34BF-9731-864F32BD4543">iIdler</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-3CECC9FC-58C1-3117-AAF2-FDF88341F56F.html">CPeriodic</a> *</td><td><a href="#GUID-9AC7B605-7684-34B2-96EF-4248EEA973B4">iKeyTimeoutTimer</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-54B354A8-13D0-3382-9B2A-F779714C0A17.html">MAknEcsObserver</a> *</td><td><a href="#GUID-93658DC7-7E61-3B36-8EE8-E3E4260ECBC6">iObserver</a></td></tr><tr class="bg"><td align="right" valign="top">CPhCltEmergencyCall *</td><td><a href="#GUID-A22126A4-B555-3BBA-8BB8-26C632F74BAC">iPhCltEmergencyCall</a></td></tr><tr><td align="right" valign="top">CAknMatchingCharacterQueue *</td><td><a href="#GUID-69C9250D-0A7A-3A8E-8D85-DEEF64C02177">iQueue</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-29A4A19C-FDD3-3ADF-A3A4-02E60FC05123">iServiceCallEnabled</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-0B9C8884-6BFF-35E2-AA6F-E4057B85AFCF.html">TBuf</a>&lt; <a href="GUID-C7AC9B48-823F-3A16-82E3-F189F627D0AA.html">KAknEcsMaxMatchingLength</a> &gt;</td><td><a href="#GUID-23159549-5D92-375A-BEE1-33A96F441831">iSpare_3</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0.html">TState</a>
				</td><td><a href="#GUID-9A929A00-523C-3578-8245-76CC9CD3E624">iState</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-A79EB908-B627-3315-AE51-F880BBB3EB37"><a name="GUID-A79EB908-B627-3315-AE51-F880BBB3EB37"><!-- --></a>
		<h2 class="topictitle2">CAknEcsDetector()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>CAknEcsDetector</td><td>(</td><td>)</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>C++ constructor </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-475B594A-4AEF-3782-A2DF-F1E127C4962F"><a name="GUID-475B594A-4AEF-3782-A2DF-F1E127C4962F"><!-- --></a>
		<h2 class="topictitle2">~CAknEcsDetector()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>~CAknEcsDetector</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>C++ destructor </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-0AAD53BF-A90A-3140-94D0-A6F1127FD776"><a name="GUID-0AAD53BF-A90A-3140-94D0-A6F1127FD776"><!-- --></a>
		<h2 class="topictitle2">AddChar(TText)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>AddChar</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TText</a></td><td>aNewChar</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Add a character to the emergency call buffer. This should be fed with both numberic key presses and the Send key.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TText</a> aNewChar</td><td>New character to emergency call buffer.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-C3B7FDE5-1EA2-3175-A9ED-981877BD3D23"><a name="GUID-C3B7FDE5-1EA2-3175-A9ED-981877BD3D23"><!-- --></a>
		<h2 class="topictitle2">AttemptEmergencyCall()</h2>
		<table class="signature"><tr><td>void</td><td>AttemptEmergencyCall</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Wraps up the code that acutally sets off the emergency call </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-BD1E4B82-1DD5-39E5-8D4D-0388ACD221B9"><a name="GUID-BD1E4B82-1DD5-39E5-8D4D-0388ACD221B9"><!-- --></a>
		<h2 class="topictitle2">CallAttemptedCallback(TAny *)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>CallAttemptedCallback</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>aSelf</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>This callback is called by a <a href="GUID-6EAFEB3B-D5F1-3CAE-A9F3-5955F891F122.html#GUID-6EAFEB3B-D5F1-3CAE-A9F3-5955F891F122">CIdle</a> object to state that the call has been attempted. This is called outside the event loop in order allow self-deletion of the client object.</p>

				<p>State is set to CallAttempted by this method.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * aSelf</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-9954F3A4-F57A-3479-9DA4-D766485BB5C3"><a name="GUID-9954F3A4-F57A-3479-9DA4-D766485BB5C3"><!-- --></a>
		<h2 class="topictitle2">CancelMatch(TAny *)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>CancelMatch</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>aAny</td><td>)</td><td>[protected, static]</td></tr></table><div class="section"><div>
				<p>Static method that can be used as a cancel callback to the detector</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * aAny</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-FA470FD9-BD94-3457-BF55-879E4CF783B0"><a name="GUID-FA470FD9-BD94-3457-BF55-879E4CF783B0"><!-- --></a>
		<h2 class="topictitle2">CaptureKeys()</h2>
		<table class="signature"><tr><td>void</td><td>CaptureKeys</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Wraps up the code to capture whatever keys are necessary when the emergency number </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-3DFD94AF-CAFD-38BC-BAD8-CC5580618DE5"><a name="GUID-3DFD94AF-CAFD-38BC-BAD8-CC5580618DE5"><!-- --></a>
		<h2 class="topictitle2">CloseEventSource()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>CloseEventSource</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Closes the connection to the appui object opened by a previous call to ConnectToEventSource </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-9A0CCE07-85D8-3A3C-B10E-07CDAFD841EA"><a name="GUID-9A0CCE07-85D8-3A3C-B10E-07CDAFD841EA"><!-- --></a>
		<h2 class="topictitle2">ConnectToEventSource()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>ConnectToEventSource</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>This method attaches the Ecs Detector to the current appui and the registers itself for receiving all key presses parasitically. This method is called when there is no requirement for the ECS to keep synchronized with a visual buffer</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-C92DD8F4-AD49-31DC-988C-85DDEFCA30F0"><a name="GUID-C92DD8F4-AD49-31DC-988C-85DDEFCA30F0"><!-- --></a>
		<h2 class="topictitle2">ConstructL()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ConstructL</td><td>(</td><td>)</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>2nd stage construction. All memory allocation is performed in this routine </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-AF3C16E0-4B5F-3D67-9242-D9C58CE455E3"><a name="GUID-AF3C16E0-4B5F-3D67-9242-D9C58CE455E3"><!-- --></a>
		<h2 class="topictitle2">CurrentMatch()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-8FE95467-D48B-3E61-9028-29C0F15F567E.html">TPtrC</a></td><td>CurrentMatch</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Returns a pointer to the current matching number.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-93DE7B4E-DAF8-329E-94DC-73A578AD4955"><a name="GUID-93DE7B4E-DAF8-329E-94DC-73A578AD4955"><!-- --></a>
		<h2 class="topictitle2">DetermineState()</h2>
		<table class="signature"><tr><td>void</td><td>DetermineState</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Utility routine to determine the new state of the module. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-3BF484AF-5E65-3440-B434-7F80FCE87429"><a name="GUID-3BF484AF-5E65-3440-B434-7F80FCE87429"><!-- --></a>
		<h2 class="topictitle2">HandlePhoneStatusL(const TInt)</h2>
		<table class="signature"><tr><td>void</td><td>HandlePhoneStatusL</td><td>(</td><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aStatus</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>It is called whenever status is retrieved (by the client).</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aStatus</td><td>It is the status of the phone.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-47784F56-ED87-36D6-88FA-DD783D3F390E"><a name="GUID-47784F56-ED87-36D6-88FA-DD783D3F390E"><!-- --></a>
		<h2 class="topictitle2">HandleWsEventL(const TWsEvent &amp;, CCoeControl *)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>HandleWsEventL</td><td>(</td><td>const <a href="GUID-5D0B1595-1AC7-3C44-AC6B-0EFB5EABCF31.html">TWsEvent</a> &amp;</td><td>aEvent,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-B06F99BD-F032-3B87-AB26-5DD6EBE8C160.html">CCoeControl</a> *</td><td>aDestination</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[virtual]</td></tr></table><div class="section"><div>
				<p>Handle and event coming from the AppUi. Default implementation handles all keys and updates the Status(), <a href="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0.html#GUID-AF3C16E0-4B5F-3D67-9242-D9C58CE455E3">CurrentMatch()</a>, and <a href="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0.html#GUID-18B8E286-7115-34E1-BCC9-D1AC6C93AA69">IndexOfCurrentMatch()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-5D0B1595-1AC7-3C44-AC6B-0EFB5EABCF31.html">TWsEvent</a> &amp; aEvent</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-B06F99BD-F032-3B87-AB26-5DD6EBE8C160.html">CCoeControl</a> * aDestination</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-18B8E286-7115-34E1-BCC9-D1AC6C93AA69"><a name="GUID-18B8E286-7115-34E1-BCC9-D1AC6C93AA69"><!-- --></a>
		<h2 class="topictitle2">IndexOfCurrentMatch()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>IndexOfCurrentMatch</td><td>(</td><td>)</td><td>const </td></tr></table><div class="section"><div>
				<p>Returns an index to the current character buffer where the emergency number match begins. This value is between 0 and KAknEcsMaxMatchingLength, even if there have been a large number characters input to the FIFO. Thus, it does not take account of characters that have fallen out of the FIFO.</p>

				<p>The main use case for this is to allow clients to tell if the number was matched from the beginning of the buffer (value 0). Note that for emergency numbers of length KAknEcsMaxMatchingLength will ALWAYS return 0 if there is a complete match.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-417A853C-51DD-3F11-BD37-2E7ED106682A"><a name="GUID-417A853C-51DD-3F11-BD37-2E7ED106682A"><!-- --></a>
		<h2 class="topictitle2">MakeServiceCallL()</h2>
		<table class="signature"><tr><td>void</td><td>MakeServiceCallL</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Wraps up the code that actually initiates the service call </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-A4B8367E-BA24-3804-9386-3B54EBFABFBB"><a name="GUID-A4B8367E-BA24-3804-9386-3B54EBFABFBB"><!-- --></a>
		<h2 class="topictitle2">NewL()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0.html">CAknEcsDetector</a> *</td><td>NewL</td><td>(</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>Two phase constructor for Ecs detector Static method. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-3F8FFA71-8619-3A90-A05C-B546B593050C"><a name="GUID-3F8FFA71-8619-3A90-A05C-B546B593050C"><!-- --></a>
		<h2 class="topictitle2">OfferEmergencyCall()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>OfferEmergencyCall</td><td>(</td><td>)</td><td>[protected, virtual]</td></tr></table><div class="section"><div>
				<p>Framework method that may be re-implemented in order to perform some check or put up UI before the phone call is made Implementation must not leave;</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-EC5B8B5A-2F68-335B-9510-73A19E59F694"><a name="GUID-EC5B8B5A-2F68-335B-9510-73A19E59F694"><!-- --></a>
		<h2 class="topictitle2">RelinquishCapturedKeys()</h2>
		<table class="signature"><tr><td>void</td><td>RelinquishCapturedKeys</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Uncaptures Send key (if necessary) </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-2C216B89-4BB7-3ED3-BDE2-CAE79752B11A"><a name="GUID-2C216B89-4BB7-3ED3-BDE2-CAE79752B11A"><!-- --></a>
		<h2 class="topictitle2">ReportEvent(TState)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ReportEvent</td><td>(</td><td><a href="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0.html">TState</a></td><td>aNewState</td><td>)</td><td>[protected, virtual]</td></tr></table><div class="section"><div>
				<p>Calls the observer </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0.html">TState</a> aNewState</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-1E4C0818-D4EB-3DA5-8CD1-48890454AC75"><a name="GUID-1E4C0818-D4EB-3DA5-8CD1-48890454AC75"><!-- --></a>
		<h2 class="topictitle2">Reset()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>Reset</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Reset the buffer to a just initialized state. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-73DB92A5-E89D-3777-B96E-9ACFB8227AB3"><a name="GUID-73DB92A5-E89D-3777-B96E-9ACFB8227AB3"><!-- --></a>
		<h2 class="topictitle2">SetBuffer(const TDesC &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetBuffer</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aNewBuffer</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Set the entire contents of the emergency call buffer. A reset is performed first, and then the characters in the passed descriptor are added to the buffer. Emergency number is matched only if there is not other content in the string.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aNewBuffer</td><td>Emergency call buffer.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-A9B6A446-94F0-3CF9-89EF-7D09CA2C9CE6"><a name="GUID-A9B6A446-94F0-3CF9-89EF-7D09CA2C9CE6"><!-- --></a>
		<h2 class="topictitle2">SetObserver(MAknEcsObserver *)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetObserver</td><td>(</td><td><a href="GUID-54B354A8-13D0-3382-9B2A-F779714C0A17.html">MAknEcsObserver</a> *</td><td>aNewObserver</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Sets the obserever of the EcsDetector </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-54B354A8-13D0-3382-9B2A-F779714C0A17.html">MAknEcsObserver</a> * aNewObserver</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-6E0E5E9B-BD61-3BCA-9157-1E96B141ED90"><a name="GUID-6E0E5E9B-BD61-3BCA-9157-1E96B141ED90"><!-- --></a>
		<h2 class="topictitle2">SetState(TState)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SetState</td><td>(</td><td><a href="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0.html">TState</a></td><td>newState</td><td>)</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>Internal routine to set the state </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0.html">TState</a> newState</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D1858E61-FE61-32EE-B573-52A74C216D1A"><a name="GUID-D1858E61-FE61-32EE-B573-52A74C216D1A"><!-- --></a>
		<h2 class="topictitle2">State()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0.html">TState</a></td><td>State</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Returns the current state of the Ecs Detector</p>

				<p/>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Enumerations Documentation</h1><div class="nested1" id="GUID-5B8E8C18-4C14-3A6A-A229-274DAC8ACABB"><a name="GUID-5B8E8C18-4C14-3A6A-A229-274DAC8ACABB"><!-- --></a>
		<h2 class="topictitle2">Enum TBitFlagIndices</h2>
		<div class="section"><div>
				<p>Enumeration for the bit indices of iFlags Used for substates or state modifiers </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">EEventSourceConnected = 0</td><td> </td></tr><tr class="bg"><td valign="top">ETestMode</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-2B29C90A-C580-36E3-B87C-41D274FB89E4"><a name="GUID-2B29C90A-C580-36E3-B87C-41D274FB89E4"><!-- --></a>
		<h2 class="topictitle2">Enum TState</h2>
		<div class="section"><div>
				<p>Enumeration to carry the state of the Ecs detector </p>

			</div></div>
<div class="section enumerators"><h3 class="sectiontitle">Enumerators</h3><table border="0" class="enumerators"><tr><td valign="top">ENotFullyConstructed</td><td> </td></tr><tr class="bg"><td valign="top">EEmpty</td><td> </td></tr><tr><td valign="top">ENoMatch</td><td> </td></tr><tr class="bg"><td valign="top">EPartialMatch</td><td> </td></tr><tr><td valign="top">ECompleteMatch</td><td> </td></tr><tr class="bg"><td valign="top">ECompleteMatchThenSendKey</td><td> </td></tr><tr><td valign="top">ECallAttempted</td><td> </td></tr><tr class="bg"><td valign="top">EServiceNumMatch</td><td> </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-9412F196-34B9-3326-BEEF-69A670583C78"><a name="GUID-9412F196-34B9-3326-BEEF-69A670583C78"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iCapturedKey</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iCapturedKey</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-B7D5AC47-9C26-3FA1-ADA7-EB9C82826F35"><a name="GUID-B7D5AC47-9C26-3FA1-ADA7-EB9C82826F35"><!-- --></a>
		<h2 class="topictitle2">
					CCoeEnv * iCoeEnv</h2>
		<table class="signature"><tr><td>
					<a href="GUID-12A9389D-363B-3F54-857F-89EE0EDCDF40.html">CCoeEnv</a> *</td><td>iCoeEnv</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-829FABF9-0EEF-38FC-B091-DE1E8A64E1BE"><a name="GUID-829FABF9-0EEF-38FC-B091-DE1E8A64E1BE"><!-- --></a>
		<h2 class="topictitle2">CPhCltEmergencyCallObserver * iEmergencyCallObserver</h2>
		<table class="signature"><tr><td>CPhCltEmergencyCallObserver *</td><td>iEmergencyCallObserver</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Pointer to emergency call observer object </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-40F55544-061A-3C0D-A425-7E4FB98D21B5"><a name="GUID-40F55544-061A-3C0D-A425-7E4FB98D21B5"><!-- --></a>
		<h2 class="topictitle2">
					TBitFlags16
				 iFlags</h2>
		<table class="signature"><tr><td>
					<a href="GUID-58691152-4005-3449-8E65-E3F4E2070E85.html">TBitFlags16</a>
				</td><td>iFlags</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-DB631775-82E2-34BF-9731-864F32BD4543"><a name="GUID-DB631775-82E2-34BF-9731-864F32BD4543"><!-- --></a>
		<h2 class="topictitle2">
					CIdle * iIdler</h2>
		<table class="signature"><tr><td>
					<a href="GUID-6EAFEB3B-D5F1-3CAE-A9F3-5955F891F122.html">CIdle</a> *</td><td>iIdler</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-9AC7B605-7684-34B2-96EF-4248EEA973B4"><a name="GUID-9AC7B605-7684-34B2-96EF-4248EEA973B4"><!-- --></a>
		<h2 class="topictitle2">
					CPeriodic * iKeyTimeoutTimer</h2>
		<table class="signature"><tr><td>
					<a href="GUID-3CECC9FC-58C1-3117-AAF2-FDF88341F56F.html">CPeriodic</a> *</td><td>iKeyTimeoutTimer</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-93658DC7-7E61-3B36-8EE8-E3E4260ECBC6"><a name="GUID-93658DC7-7E61-3B36-8EE8-E3E4260ECBC6"><!-- --></a>
		<h2 class="topictitle2">
					MAknEcsObserver * iObserver</h2>
		<table class="signature"><tr><td>
					<a href="GUID-54B354A8-13D0-3382-9B2A-F779714C0A17.html">MAknEcsObserver</a> *</td><td>iObserver</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-A22126A4-B555-3BBA-8BB8-26C632F74BAC"><a name="GUID-A22126A4-B555-3BBA-8BB8-26C632F74BAC"><!-- --></a>
		<h2 class="topictitle2">CPhCltEmergencyCall * iPhCltEmergencyCall</h2>
		<table class="signature"><tr><td>CPhCltEmergencyCall *</td><td>iPhCltEmergencyCall</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Phone client interface of emergency call. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-69C9250D-0A7A-3A8E-8D85-DEEF64C02177"><a name="GUID-69C9250D-0A7A-3A8E-8D85-DEEF64C02177"><!-- --></a>
		<h2 class="topictitle2">CAknMatchingCharacterQueue * iQueue</h2>
		<table class="signature"><tr><td>CAknMatchingCharacterQueue *</td><td>iQueue</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-29A4A19C-FDD3-3ADF-A3A4-02E60FC05123"><a name="GUID-29A4A19C-FDD3-3ADF-A3A4-02E60FC05123"><!-- --></a>
		<h2 class="topictitle2">
					TBool
				 iServiceCallEnabled</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>iServiceCallEnabled</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Boolean to check if service call is enabled during device or key lock </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-23159549-5D92-375A-BEE1-33A96F441831"><a name="GUID-23159549-5D92-375A-BEE1-33A96F441831"><!-- --></a>
		<h2 class="topictitle2">
					TBuf&lt; KAknEcsMaxMatchingLength &gt; iSpare_3</h2>
		<table class="signature"><tr><td>
					<a href="GUID-0B9C8884-6BFF-35E2-AA6F-E4057B85AFCF.html">TBuf</a>&lt; <a href="GUID-C7AC9B48-823F-3A16-82E3-F189F627D0AA.html">KAknEcsMaxMatchingLength</a> &gt;</td><td>iSpare_3</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-9A929A00-523C-3578-8245-76CC9CD3E624"><a name="GUID-9A929A00-523C-3578-8245-76CC9CD3E624"><!-- --></a>
		<h2 class="topictitle2">
					TState
				 iState</h2>
		<table class="signature"><tr><td>
					<a href="GUID-87368526-5C75-3F51-AFE4-57F069C77BB0.html">TState</a>
				</td><td>iState</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>