<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Introduction to Transactions"/>
<meta name="abstract" content="A transaction is a series of operations on a store, normally completed by committing them using the store's CommitL() function."/>
<meta name="description" content="A transaction is a series of operations on a store, normally completed by committing them using the store's CommitL() function."/>
<meta name="DC.Relation" scheme="URI" content="GUID-6EE0CB66-A759-5E0C-884D-90895F35F267.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F8824165-4B33-50D1-9706-BD2438B5A2EE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3FAB9077-3EC3-5539-B391-D11456362513.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E9C608C0-AC22-5267-BEC4-207C9758F968.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6EE0CB66-A759-5E0C-884D-90895F35F267.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-79F39C97-75E8-5DB1-B976-8FE76E6E60C9.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Introduction to Transactions</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B"><a name="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2859821 id2860178 id2533897 id2533970 id2534077 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-FBCBF8A0-7922-5881-A1C5-5DB41630E75A.html" title="Provides services to enable and support persistence.">Persistent Data Services Guide</a> &gt; <a href="GUID-F8824165-4B33-50D1-9706-BD2438B5A2EE.html" title="The persistent storage collection.">Persistent Storage</a> &gt; <a href="GUID-3FAB9077-3EC3-5539-B391-D11456362513.html" title="Store provides structured data storage.">Store</a> &gt; <a href="GUID-E9C608C0-AC22-5267-BEC4-207C9758F968.html" title="Provides persistent, embedded, dictionary, and memory stores.">Stores Guide</a> &gt; <a href="GUID-6EE0CB66-A759-5E0C-884D-90895F35F267.html" title="Describes how to use transactions.">Transactions</a> &gt; </div>
<h1 class="topictitle1">Introduction
to Transactions</h1>
<div><p>A transaction is a series of operations on a store, normally completed
by committing them using the store's <samp class="codeph">CommitL()</samp> function. </p>

<p>Transactions are supported by the commit and revert protocol. The series
of operations forming a transaction must all succeed for the transaction to
be successful. </p>

<p>If a leave occurs during an operation on the store during a transaction,
or if the store's <samp class="codeph">RevertL()</samp> function is called explicitly,
the transaction is reverted. This facility parallels the commit and rollback
functions which are conventional in databases. However, reverting is not quite
the same as rolling back; integrity of data is guaranteed, but some indexes
may be corrupted. </p>

<p>The commit and revert protocol is useful for ensuring that persistent data
moves from one consistent state to another and for guaranteeing the integrity
of persistent store data in the event of failures. </p>

<p>Typically, changes to a store are not made permanent until they are committed,
establishing what is called a commit point. Until such changes are committed,
they can be rolled back or reverted, effectively causing the store to revert
back to its state before the changes were made. If a process termination or
a media failure occurs, the store reverts automatically to its state at the
last successful commit point. </p>

<p>In permanent file stores the protocol applies to: </p>

<ul>
<li id="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B__GUID-F16D4A25-8103-563C-9DC5-D79F7C275ACB"><a name="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B__GUID-F16D4A25-8103-563C-9DC5-D79F7C275ACB"><!-- --></a><p>generating new streams </p>
 </li>

<li id="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B__GUID-A0EA4352-D06B-59D3-9E04-D0B42131AF5B"><a name="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B__GUID-A0EA4352-D06B-59D3-9E04-D0B42131AF5B"><!-- --></a><p>deleting streams </p>
 </li>

<li id="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B__GUID-83307858-E18D-5F78-8E30-F6754EB6926E"><a name="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B__GUID-83307858-E18D-5F78-8E30-F6754EB6926E"><!-- --></a><p>creating new streams </p>
 </li>

<li id="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B__GUID-FAD15660-6405-5C11-A72D-40471D5FE2E5"><a name="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B__GUID-FAD15660-6405-5C11-A72D-40471D5FE2E5"><!-- --></a><p>replacing streams </p>
 </li>

<li id="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B__GUID-A00822E2-2FE7-55CA-9144-7B9F6DA7C3F7"><a name="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B__GUID-A00822E2-2FE7-55CA-9144-7B9F6DA7C3F7"><!-- --></a><p>setting the root stream </p>
 </li>

</ul>

<p>The protocol also applies to creating new streams or replacing existing
streams in dictionary stores. </p>

<p>The protocol does<em> not</em> apply to overwriting existing streams. </p>

<p>The following diagram shows the idea: </p>

<div class="fignone" id="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B__GUID-9F093A25-C9C6-5590-9427-EBC4BD26AC73"><a name="GUID-D4001895-09B9-5A47-BEE7-648FAB55F85B__GUID-9F093A25-C9C6-5590-9427-EBC4BD26AC73"><!-- --></a><span class="figcap">Figure 1. Transaction Commit and Revert</span>

<img src="GUID-6FC62A2F-E27F-54A8-A97F-0F42426D1F63_d0e620317_href.png"/>
</div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-6EE0CB66-A759-5E0C-884D-90895F35F267.html" title="Describes how to use transactions.">Transactions</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-79F39C97-75E8-5DB1-B976-8FE76E6E60C9.html" title="Dictionary stores are stores where the streams are accessed using a UID, rather than directly by stream ID.">Dictionary
stores</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>