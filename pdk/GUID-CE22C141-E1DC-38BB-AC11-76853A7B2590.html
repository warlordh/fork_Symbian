<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MLbsLocationSourceGpsObserver"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590"/>

<title>MLbsLocationSourceGpsObserver</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590"><a name="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2731347 id2731952 id2731957 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">MLbsLocationSourceGpsObserver Class Reference</h1>
	<table class="signature"><tr><td>class MLbsLocationSourceGpsObserver</td></tr></table><div class="section"><div>
			<p>The <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590">MLbsLocationSourceGpsObserver</a> class is used in partnership with <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-A458AA58-8BD6-303B-89E5-C99000376615">CLbsLocationSourceGpsBase</a>. These interfaces allow a GPS integration module to pass location data and status information to the observer. They are also used by the GPS integration module to retrieve GPS assistance data via the observer.</p>

			<p>The location observer makes a request to the GPS integration module via the class <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-A458AA58-8BD6-303B-89E5-C99000376615">CLbsLocationSourceGpsBase</a>. As these requests will typically take a long time to complete, the module provides a response via this observer class.</p>

			<p>When the GPS module wishes to make a request, it uses <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590">MLbsLocationSourceGpsObserver</a> to contact the observer. In this case, the observer provides its response via <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-A458AA58-8BD6-303B-89E5-C99000376615">CLbsLocationSourceGpsBase</a>.</p>

			<p>Calls from the integration module to the observer may be unsolicited and/or in response to requests made by the observer. For example, if the observer requests a location update via <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-2C037317-1001-38C5-B270-39FD65902914">CLbsLocationSourceGpsBase::RequestLocationUpdate()</a> the GPS module will respond some time later via <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-0AFFBDEB-1F13-38A9-9115-EC5501E00122">MLbsLocationSourceGpsObserver::UpdateLocation()</a>. However, the integration module is also allowed to provide location updates at any time and not just in response to the requests from the observer.</p>

			<p>When the GPS integration module makes a request via the observer API that takes a long time to complete, the location observer provides a response via the corresponding notification method in the <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-A458AA58-8BD6-303B-89E5-C99000376615">CLbsLocationSourceGpsBase</a> class.</p>

			<p>For example, when an integration module needs fresh GPS assistance data it will invoke MLbsLocationSourceGpsObserver::GetAssistanceData(). When this information eventually arrives from the network, the observer informs the integration module by calling CLbsLocationSourceGpsBase::NotifyAssistanceDataUpdate(). <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-A458AA58-8BD6-303B-89E5-C99000376615">CLbsLocationSourceGpsBase</a>   </p>

		</div></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-E2AB3588-7583-3B1A-89D2-5D7828AC1680">GetAssistanceDataItem</a>(<a href="GUID-E5AE6AB8-F121-3343-9D70-B03DC71D00FC.html">TLbsAssistanceDataItem</a>, <a href="GUID-946E404E-8FC7-31DD-8CCA-687E6FA82F37.html">RDataReaderRootBase</a> &amp;, <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-3891B844-D456-3AB9-B6F2-DB1B1D1B2C41">GetAssistanceDataItemTimeStamp</a>(<a href="GUID-E5AE6AB8-F121-3343-9D70-B03DC71D00FC.html">TLbsAssistanceDataItem</a>, <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-D0A45086-4105-383B-91DE-F71FE6D48FBD">RequestAssistanceData</a>(<a href="GUID-F6A93811-7F3F-3DE2-8915-4AC90F00BCDC.html">TLbsAsistanceDataGroup</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-9AB512F2-0F98-3E86-B5FB-56E4ED35B546">Shutdown</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-D0836E3A-112F-3A50-9FBA-4DF938664952">UpdateDataQualityStatus</a>(<a href="GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html">TPositionModuleStatus::TDataQualityStatus</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-9B978E8F-10E9-3367-BD35-F32FA2B1421A">UpdateDeviceStatus</a>(<a href="GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html">TPositionModuleStatus::TDeviceStatus</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-0AFFBDEB-1F13-38A9-9115-EC5501E00122">UpdateLocation</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a href="GUID-73D6F438-C270-33B9-974B-D4D1583E1738.html">TPositionInfoBase</a> *, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C <a href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a></td><td><a href="#GUID-ACBA2BAB-9755-346B-8AA6-EB326FC14A15">Version</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td><a href="#GUID-04C608B2-9EA4-3648-9112-28B771690AB3">ExtendedInterface</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *)</td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-04C608B2-9EA4-3648-9112-28B771690AB3"><a name="GUID-04C608B2-9EA4-3648-9112-28B771690AB3"><!-- --></a>
		<h2 class="topictitle2">ExtendedInterface(TInt, TAny *, TAny *)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>ExtendedInterface</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aFunctionNumber,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>aPtr1,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> *</td><td>aPtr2</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private, virtual]</td></tr></table><div class="section"><div>
				<p>This method is used to allow polymorphic extensions to the API without breaking BC. See documentation for explanation.</p>

				<p>Reserved for future expansion - derived classes should see documentation on how this is to be used.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aFunctionNumber</td><td>contains the Id of the function to be invoked.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * aPtr1</td><td>a pointer to any data  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TAny</a> * aPtr2</td><td>a pointer to any data.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-E2AB3588-7583-3B1A-89D2-5D7828AC1680"><a name="GUID-E2AB3588-7583-3B1A-89D2-5D7828AC1680"><!-- --></a>
		<h2 class="topictitle2">GetAssistanceDataItem(TLbsAssistanceDataItem, RDataReaderRootBase &amp;, TTime &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>GetAssistanceDataItem</td><td>(</td><td><a href="GUID-E5AE6AB8-F121-3343-9D70-B03DC71D00FC.html">TLbsAssistanceDataItem</a></td><td>aItem,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-946E404E-8FC7-31DD-8CCA-687E6FA82F37.html">RDataReaderRootBase</a> &amp;</td><td>aDataRoot,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aTimeStamp</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Gets cached assistance data GetAssistanceDataItem is called by the GPS integration module to obtain cached assistance data. The method always returns immediately the requested assistance data if it is available.</p>

				<p>If the desired assistance data is not available from cache or it has become invalid, the GPS integration module uses the RequestAssistanceData method to request that fresh information is downloaded from the network. <a href="GUID-946E404E-8FC7-31DD-8CCA-687E6FA82F37.html#GUID-946E404E-8FC7-31DD-8CCA-687E6FA82F37">RDataReaderRootBase</a> <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-D0A45086-4105-383B-91DE-F71FE6D48FBD">RequestAssistanceData</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-E5AE6AB8-F121-3343-9D70-B03DC71D00FC.html">TLbsAssistanceDataItem</a> aItem</td><td>Specifies a single item of assistance.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-946E404E-8FC7-31DD-8CCA-687E6FA82F37.html">RDataReaderRootBase</a> &amp; aDataRoot</td><td>Returns the requested assistance data if available.  </td></tr><tr><td class="parameter"><a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aTimeStamp</td><td>Contains the time the assistance data was originally downloaded from the network.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-3891B844-D456-3AB9-B6F2-DB1B1D1B2C41"><a name="GUID-3891B844-D456-3AB9-B6F2-DB1B1D1B2C41"><!-- --></a>
		<h2 class="topictitle2">GetAssistanceDataItemTimeStamp(TLbsAssistanceDataItem, TTime &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>GetAssistanceDataItemTimeStamp</td><td>(</td><td><a href="GUID-E5AE6AB8-F121-3343-9D70-B03DC71D00FC.html">TLbsAssistanceDataItem</a></td><td>aItem,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aTimeStamp</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Gets cached assistance data time stamp GetAssistanceDataItemTimeStamp is called by the GPS integration module to obtain cached assistance data time stamp. The method always returns immediately the requested assistance data time stamp if it is available.</p>

				<p>
					<a href="GUID-946E404E-8FC7-31DD-8CCA-687E6FA82F37.html#GUID-946E404E-8FC7-31DD-8CCA-687E6FA82F37">RDataReaderRootBase</a> <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-E2AB3588-7583-3B1A-89D2-5D7828AC1680">GetAssistanceDataItem</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-E5AE6AB8-F121-3343-9D70-B03DC71D00FC.html">TLbsAssistanceDataItem</a> aItem</td><td>Specifies a single item of assistance.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aTimeStamp</td><td>Contains the time the assistance data was originally downloaded from the network.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D0A45086-4105-383B-91DE-F71FE6D48FBD"><a name="GUID-D0A45086-4105-383B-91DE-F71FE6D48FBD"><!-- --></a>
		<h2 class="topictitle2">RequestAssistanceData(TLbsAsistanceDataGroup)</h2>
		<table class="signature"><tr><td>void</td><td>RequestAssistanceData</td><td>(</td><td><a href="GUID-F6A93811-7F3F-3DE2-8915-4AC90F00BCDC.html">TLbsAsistanceDataGroup</a></td><td>aDataItemMask</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Requests fresh assistance data is downloaded from the network RequestAssistanceData is called by the GPS integration module to request fresh assistance data is downloaded from the network. This method returns quickly after having instigated the download.</p>

				<p>When the assistance data arrives at the handset, the GPS integration module is informed by the observer via the method <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-6BF509CA-A49F-3C81-97E4-CC9163BF9B8F">CLbsLocationSourceGpsBase::AssistanceDataEvent()</a>. The GPS module accesses the assistance data by calling <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-E2AB3588-7583-3B1A-89D2-5D7828AC1680">GetAssistanceDataItem()</a>.</p>

				<p>Note: Although the GPS integration module is able to make a single call requesting various subsets of assistance data are downloaded, these may arrive in batches. That is, a single call to <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-D0A45086-4105-383B-91DE-F71FE6D48FBD">RequestAssistanceData()</a> may result in multiple deliveries and <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-6BF509CA-A49F-3C81-97E4-CC9163BF9B8F">CLbsLocationSourceGpsBase::AssistanceDataEvent()</a> being called more than once.</p>

				<p>The Module should always make this RequestAssistanceData call after a location update request has been received (from the Lbs SubSystem via RequestLocationUpdate()). This request should be made to request any assistance data it has not yet received (so aDataItemMask should change to only request the outstanding assistance data elements). Even when all of the required assistance data has been received this call should still be made, but with the aDataItemMask set to 0.</p>

				<p>
					<a href="GUID-F6A93811-7F3F-3DE2-8915-4AC90F00BCDC.html#GUID-DA483177-76AC-3110-A9BD-9CD97BF590CD">TLbsAsistanceDataGroup</a> TLbsAsistanceDataItem <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-6BF509CA-A49F-3C81-97E4-CC9163BF9B8F">CLbsLocationSourceGpsBase::AssistanceDataEvent()</a> <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-E2AB3588-7583-3B1A-89D2-5D7828AC1680">GetAssistanceDataItem()</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-F6A93811-7F3F-3DE2-8915-4AC90F00BCDC.html">TLbsAsistanceDataGroup</a> aDataItemMask</td><td>Contains a bit mask of values from TLbsAsistanceDataItem indicating the subsets of assistance data that are required.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-9AB512F2-0F98-3E86-B5FB-56E4ED35B546"><a name="GUID-9AB512F2-0F98-3E86-B5FB-56E4ED35B546"><!-- --></a>
		<h2 class="topictitle2">Shutdown()</h2>
		<table class="signature"><tr><td>void</td><td>Shutdown</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Shuts down the data source module Shutdown is called by the data source module when it wishes to close down. Note: the integration module should NOT start shutting down immediately after this call returns. When the observer is ready to shutdown it "deletes" the GPS integration module. This results in the module's destructor being called. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-D0836E3A-112F-3A50-9FBA-4DF938664952"><a name="GUID-D0836E3A-112F-3A50-9FBA-4DF938664952"><!-- --></a>
		<h2 class="topictitle2">UpdateDataQualityStatus(TPositionModuleStatus::TDataQualityStatus)</h2>
		<table class="signature"><tr><td>void</td><td>UpdateDataQualityStatus</td><td>(</td><td><a href="GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html">TPositionModuleStatus::TDataQualityStatus</a></td><td>aDataQuality</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Informs the observer about the accuracy of data it expects to produce UpdateDataQualityStatus is used by the GPS integration module to inform the observer about the accuracy of data it expects to produce. It is the responsibility of the integration module to call this method whenever it is required. The module does not receive any form of request from the location observer asking it for a status update.</p>

				<p>A module may inform its observer that the quality of its location data will be "Normal", "Partial" or "Loss".</p>

				<p>A status of "Normal" indicates that the data source is able to produce updates that are to its normal accuracy. When a module is still able to produce location information but to a less accurate degree than it would normally expect it signals this with a data quality of "Partial." A status of "Loss" is used when it is not possible to provide any location estimate.</p>

				<p>Note: Data quality updates reflect the current ability for the data source module to produce accurate location information. The module is still required to produce updates of its expected data quality whenever it is powered on and not just when it is processing a location request.</p>

				<p>Note: The values of "Normal" and "Partial" correspond to the integration module's normal accuracy. They do not reflect its ability to satisfy the accuracy desired by any current location request. PositionModuleStatus::TDataQualityStatus</p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html">TPositionModuleStatus::TDataQualityStatus</a> aDataQuality</td><td>Indicates the expected data quality of location information that could be produced by the GPS integration module.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-9B978E8F-10E9-3367-BD35-F32FA2B1421A"><a name="GUID-9B978E8F-10E9-3367-BD35-F32FA2B1421A"><!-- --></a>
		<h2 class="topictitle2">UpdateDeviceStatus(TPositionModuleStatus::TDeviceStatus)</h2>
		<table class="signature"><tr><td>void</td><td>UpdateDeviceStatus</td><td>(</td><td><a href="GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html">TPositionModuleStatus::TDeviceStatus</a></td><td>aDeviceStatus</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Shows the current state of associated hardware UpdateDeviceStatus is used by GPS integration module to provide an indication of the current state of its associated hardware. It is the responsibility of the integration module to call this method whenever it is required. The module does not receive any form of request from the location observer asking it for a status update.</p>

				<p>Device status updates reflect the current power mode of the hardware. In the case of GPS it will also indicate how long the GPS device takes to produce a location update. For example, a status of "Ready" indicates that the hardware is powered on and is in a "warm" state. It is capable of producing an accurate location update quickly.</p>

				<p>An "Inactive" state indicates the hardware is powered off and will need a "cold" start. The GPS module may need to download assistance data resulting in a delay in producing an accurate fix.</p>

				<p>The "StandBy" state could indicate that although the hardware is not powered on it is still capable of quickly producing a location update. This may be as a result of having valid assistance data cached.</p>

				<p>Note: The GPS integration module may need to report a status change even though the hardware itself has not changed state. For example, when the GPS assistance data becomes invalid, the module may not be able to produce a location update quickly. The GPS integration module should actively monitor for these types of situation and update its state accordingly - for example, from "StandBy" to "Inactive". <a href="GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html#GUID-4C1E0860-4813-3B3F-A766-9F759ADC9E7C">TPositionModuleStatus::TDeviceStatus</a> </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-F8376F62-46F2-3E7C-9536-920DB6FC6039.html">TPositionModuleStatus::TDeviceStatus</a> aDeviceStatus</td><td>Contains the current device status of the data source.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-0AFFBDEB-1F13-38A9-9115-EC5501E00122"><a name="GUID-0AFFBDEB-1F13-38A9-9115-EC5501E00122"><!-- --></a>
		<h2 class="topictitle2">UpdateLocation(TInt, const TPositionInfoBase *, TInt, const TTime &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>UpdateLocation</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aStatus,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-73D6F438-C270-33B9-974B-D4D1583E1738.html">TPositionInfoBase</a> *</td><td>aPosInfoArray,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aNumItems,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp;</td><td>aTargetTime</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Provides a location update UpdateLocation is used by the GPS integration module to provide a location update. This is normally in response to having received a location request via <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-2C037317-1001-38C5-B270-39FD65902914">CLbsLocationSourceGpsBase::RequestLocationUpdate()</a>.</p>

				<p>Location requests received by the integration module contain a target time (start time) of when the location update is wanted and its desired quality. The integration module should provide the response at the start time or shortly afterwards. If the quality information specifies a maximum time period this indicates the stop time. In this case the module must produce its best effort before that time expires.</p>

				<p>To associate a response with a location request, the module must include the target time as received in the request.</p>

				<p>The default positioning provided by the GPS module is of type TPositionSatelliteInfo. A pointer to an instance of this class is normally passed in the first element of aPosInfoArray. However, the LBS subsystem may require the GPS module to provide either different or additional positioning information via this array. The data types required by the LBS subsystem are specified via the method <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-4A070C16-7F19-3B74-A625-BD7DFE17EB96">CLbsLocationSourceGpsBase::SetGpsOptions()</a>. The GPS module should provide positioning information according to the current GPS options.</p>

				<p>Note that a GPS module must not return a position with a horizontal accuracy or vertical accuracy = 0 because the position update will not be returned to the client by the LBS subsystem.</p>

				<p>Although integration modules normally provide a location update as a direct response to a request, they are allowed to provide unsolicited location updates at any time. This is done by indicating they are "additional" updates to a previous request. The module continues to include the target time of the previous request in the response until (a) it decides to stop producing unsolicited updates or (b) it is time to provide a location update in response to the next request.</p>

				<p>Only when the integration module starts to produce a location update for a subsequent request should it call <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-0AFFBDEB-1F13-38A9-9115-EC5501E00122">UpdateLocation()</a> with the new target time.</p>

				<p>When the integration module wishes to produce location updates without having received a request, the target time in the location update "response" should be zero.</p>

				<p>Note: It is not recommended that integration modules provide unsolicited location updates. Careful consideration must be given to both the power drain and the overall performance impact.</p>

				<p>In certain circumstances, the GPS module may determine that it will not be able to satisfy the required accuracy of the request. In this situation, it should provide an update but set the aStatus parameter to KPositionCalculationFutile. All required elements of the the position information array (aPosInfoArray) must be supplied as normal. The GPS module should assign any information available to the data members. <a href="GUID-A458AA58-8BD6-303B-89E5-C99000376615.html#GUID-2C037317-1001-38C5-B270-39FD65902914">CLbsLocationSourceGpsBase::RequestLocationUpdate()</a> <a href="GUID-B5C832B0-93B1-30F2-B549-E468CB5A13B7.html#GUID-B5C832B0-93B1-30F2-B549-E468CB5A13B7">TLbsLocRequestQuality</a> RPositioner::NotifyPositionUpdate() </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aStatus</td><td>is the return/error code for the location update. see RPositioner::NotifyPositionUpdate for more information.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-73D6F438-C270-33B9-974B-D4D1583E1738.html">TPositionInfoBase</a> * aPosInfoArray</td><td>This is an array of pointers of position information. For most GPS positioning modules this will typically contain a single pointer to an instance of type TPositionSatelliteInfo. This should contain the current location of the handset and details about the satellites that are in view.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aNumItems</td><td>Contains a count of the number of items in aPosInfoArray  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-A2D3BA72-9B27-3BFF-950A-D7E3B2004821.html">TTime</a> &amp; aTargetTime</td><td>Contains the time when the location update was requested by the observer.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-ACBA2BAB-9755-346B-8AA6-EB326FC14A15"><a name="GUID-ACBA2BAB-9755-346B-8AA6-EB326FC14A15"><!-- --></a>
		<h2 class="topictitle2">Version()</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-D82DEC7A-71C2-3004-BFC2-C82C009A2715.html">TVersion</a></td><td>Version</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Returns the version of the <a href="GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590.html#GUID-CE22C141-E1DC-38BB-AC11-76853A7B2590">MLbsLocationSourceGpsObserver</a> interface implemented by the observer </p>

			</div></div>

	</div>

	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>