<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Updating the Network PSY Central Repository Initialization File"/>
<meta name="abstract" content="This topic shows you how to modify the settings of the Network PSY and the Network Location Manager so that they do not conflict with each other."/>
<meta name="description" content="This topic shows you how to modify the settings of the Network PSY and the Network Location Manager so that they do not conflict with each other."/>
<meta name="DC.Relation" scheme="URI" content="GUID-A2721B54-9B0A-572E-A695-22058F627639.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5CBF9CB3-1914-571C-B634-715EAF1272DA.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5C01B66C-9F21-508F-A612-2ADAE1837A8A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A2721B54-9B0A-572E-A695-22058F627639.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-178F91C8-32F4-5CD3-B81D-F0A6C45097E5.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9BB4A44E-6870-5A25-8EA8-0B0F1565213F.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Updating the Network PSY Central Repository Initialization File</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF"><a name="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2402590 id2403469 id2403727 id2403741 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html">Location Based Services (LBS) Guide</a> &gt; <a href="GUID-5CBF9CB3-1914-571C-B634-715EAF1272DA.html" title="The Data Source Modules collection contains components that enable the LBS subsystem to obtain position data.">Data Source Modules</a> &gt; <a href="GUID-5C01B66C-9F21-508F-A612-2ADAE1837A8A.html" title="The Network Positioning Module (PSY) connects the Location Server to the Network Location Manager.">Network Positioning Module</a> &gt; <a href="GUID-A2721B54-9B0A-572E-A695-22058F627639.html" title="This tutorial describes how configure and use the Network Positioning Module (Network PSY).">Network Positioning Module Tutorial</a> &gt; </div>
<h1 class="topictitle1">Updating the Network PSY Central Repository Initialization File </h1>
<div><p>This topic shows you how to modify the settings of the Network PSY and the Network Location Manager so that they do not conflict with each other. </p>
<div class="section"><p>As described in <a href="GUID-D0C20045-FCC5-53CB-BBDB-7AA058C9139E.html" title="This document describes the GPS/A-GPS PSY, which connects the Location Server eposserver.exe to the A-GPS Location Manager.">Network PSY Overview</a>, the Network PSY does not integrate directly with positioning hardware. It uses the Network Location Manager with a Network Protocol Module to connect the Location Server (<samp class="codeph">eposserver.exe</samp>) to positioning hardware. </p>
 <p>There are two places that information about the properties of the Network PSY and Network Protocol Module are stored: </p>
 <ul><li id="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-6443AE6F-BBD2-5519-A09E-A9EAFA0A0C2A"><a name="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-6443AE6F-BBD2-5519-A09E-A9EAFA0A0C2A"><!-- --></a><p>The Network PSY registers itself as a PSY with the LBS subsystem using a Central Repository Initialization file <span class="filepath">10285abe.cre</span> with keys defined by the <a href="GUID-DA2DC704-CE65-54FB-9049-4E1C73092EDF-GENID-1-12-1-19-1-1-10-1-5-1-5-1-8-1.html">Positioning Plug-in Information API</a>. </p>
 </li>
 <li id="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-6511E265-0964-5FB6-A0E7-22AD101DAAAF"><a name="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-6511E265-0964-5FB6-A0E7-22AD101DAAAF"><!-- --></a><p>The Network Location Manager uses the file <span class="filepath">networklocationmanager.ini</span> to specify the positioning properties of your Network Protocol Module and network. </p>
 </li>
 </ul>
 <p>The description of the properties of the Network PSY and the Network Protocol Module must be correctly described in both <span class="filepath">networklocationmanager.ini</span> and <span class="filepath">10285abe.cre</span>. </p>
 <p>This procedure assumes you have created a Network Protocol Module for your device's positioning hardware and have modified <span class="filepath">networklocationmanager.ini</span> to describe correctly the properties of the Network Protocol Module/network. </p>
 </div>
 <ul><li class="stepexpand" id="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-2F964162-CFC7-5FA3-AC3B-F38C8B5C404B"><a name="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-2F964162-CFC7-5FA3-AC3B-F38C8B5C404B"><!-- --></a><span/><br/> The contents of <span class="filepath">networklocationmanager.ini</span> as supplied with the Symbian platform are shown below. You need to modify this if your Network Protocol Module and network have different properties from the ones shown here.   <pre class="codeblock" id="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-D3CAEB9A-B377-50A7-8424-39B575B00F1D"><a name="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-D3CAEB9A-B377-50A7-8424-39B575B00F1D"><!-- --></a>
# networklocationmanager.ini

[1]
Version= 0.1.1        #
ModuleId= 271064387    # dec
ModuleName= "NetLocManager"    # 
TechnologyType= 0010    # binary
DeviceLocation= 0010    # binary
Capabilities= 1111    # binary
ClassesSupported= 111111    # binary
TimeToFirstFix= 20000    # ms
TimeToNextFix= 20000    # ms
HorizontalAccuracy= 100 # real
VerticalAccuracy= 100 # real
CostIndicator= 3    # dec
PowerConsumption = 2 # dec
ExecutableName= "lbsnetlocmanager.exe"
</pre>
  </li>
<li class="stepexpand" id="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-8646AB0E-D2AF-56FE-8A5C-6FB1C0544C9C"><a name="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-8646AB0E-D2AF-56FE-8A5C-6FB1C0544C9C"><!-- --></a><span/><br/> If necessary, modify the Network PSY Central Repository Initialization text file <span class="filepath">10285abe.txt</span> as follows:  <a name="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-6CE3B994-D484-55B4-AFE3-748692413788"><!-- --></a><ol id="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-6CE3B994-D484-55B4-AFE3-748692413788"><li class="substepexpand" id="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-E0B93F1A-5EC4-5DD1-97F5-1BFF00B8FEDE"><a name="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-E0B93F1A-5EC4-5DD1-97F5-1BFF00B8FEDE"><!-- --></a><span>Modify the Central Repository Initialization file for the Network PSY so that the values are the same as those in <span class="filepath">networklocationmanager.ini</span>. </span>  The Central Repository Initialization file for the Network PSY implementation supplied with the Symbian platform is <span class="filepath">datasourcemodules\lbsposfwadaptation\lbsnetpsy\cenrep\10285abe.txt</span>. It contains the following:   <pre class="codeblock" id="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-E9B7266B-9DBD-5A81-B020-B833F7748987"><a name="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-E9B7266B-9DBD-5A81-B020-B833F7748987"><!-- --></a>
cenrep
version 1
[owner]
0x101f97b2
[defaultmeta]
 0
[platsec]
 cap_rd=ReadDeviceData cap_wr=WriteDeviceData
[Main]
0x1 int 1 0 cap_rd=alwayspass cap_wr=alwaysfail
0x2 int 0 0 cap_rd=alwayspass cap_wr=alwaysfail
0x3 int 1 0 cap_rd=alwayspass cap_wr=alwaysfail
0x4 int 20000000 0 cap_rd=alwayspass cap_wr=alwaysfail
0x5 int 20000000 0 cap_rd=alwayspass cap_wr=alwaysfail
0x6 real 100 0 cap_rd=alwayspass cap_wr=alwaysfail
0x7 real 100 0 cap_rd=alwayspass cap_wr=alwaysfail
0x8 int 3 0 cap_rd=alwayspass cap_wr=alwaysfail
0x9 int 2 0 cap_rd=alwayspass cap_wr=alwaysfail
0xa int 2 0 cap_rd=alwayspass cap_wr=alwaysfail
0xb int 1 0 cap_rd=alwayspass cap_wr=alwaysfail
0xc int 15 0 cap_rd=alwayspass cap_wr=alwaysfail
0xd int 1 0 cap_rd=alwayspass cap_wr=alwaysfail
0xe int 1 0 cap_rd=alwayspass cap_wr=alwaysfail
0xf string "\\resource\\lbsnetpsy_name.rsc" 0 cap_rd=alwayspass cap_wr=alwaysfail
0x10000000 int 2000000 0 cap_rd=alwayspass cap_wr=alwaysfail
</pre>
   For a full description of the meanings of these keys, see <a href="GUID-DA2DC704-CE65-54FB-9049-4E1C73092EDF-GENID-1-12-1-19-1-1-10-1-5-1-5-1-8-1.html">Positioning Plug-in Information API</a>.   The important keys for this task are shown in the following table:   
<div class="tablenoborder"><a name="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-5FAAB3F8-23F0-5EEA-951D-A400192F8A52"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-5FAAB3F8-23F0-5EEA-951D-A400192F8A52" frame="border" border="1" rules="all"><thead align="left"><tr><th class="cellrowborder" valign="top" id="d2081229e131">Key name</th>
 <th class="cellrowborder" valign="top" id="d2081229e134">Key value</th>
 <th class="cellrowborder" valign="top" id="d2081229e137">Meaning</th>
 <th class="cellrowborder" valign="top" id="d2081229e140">Description</th>
 </tr>
 </thead>
 <tbody><tr><td class="cellrowborder" valign="top" headers="d2081229e131 "><p> <samp class="codeph">KPSYTimeToFirstFix</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e134 "><p> <samp class="codeph">0x4</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e137 "><p>Time to First Fix </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e140 "><p>This must be the same time as the <samp class="codeph">TimeToFirstFix</samp> value in <span class="filepath">networklocationmanager.ini</span>. </p>
 <p> <strong>Important note: In the PSY Central Repository Initialization file the time is specified in microseconds. In the Integration Module .ini file the time is specified in milliseconds.</strong>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2081229e131 "><p> <samp class="codeph">KPSYTimeToNextFix</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e134 "><p> <samp class="codeph">0x5</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e137 "><p>Time to Next Fix </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e140 "><p>This must be the same time as the <samp class="codeph">TimeToNextFix</samp> value in <span class="filepath">networklocationmanager.ini</span>. </p>
 <p> <strong> Important note: In the PSY Central Repository Initialization file the time is specified in microseconds. In the Integration Module .ini file the time is specified in milliseconds. </strong>  </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2081229e131 "><p> <samp class="codeph">KPSYHorizontalAccuracy</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e134 "><p> <samp class="codeph">0x6</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e137 "><p>Horizontal Accuracy </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e140 "><p>This must be the same as the <samp class="codeph">HorizontalAccuracy</samp> value in <span class="filepath">networklocationmanager.ini</span>. The value is specified in metres. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2081229e131 "><p> <samp class="codeph">KPSYVerticalAccuracy</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e134 "><p> <samp class="codeph">0x7</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e137 "><p>Vertical Accuracy </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e140 "><p>This must be the same as the <samp class="codeph">VerticalAccuracy</samp> value in <span class="filepath">networklocationmanager.ini</span>. The value is specified in metres. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2081229e131 "><p> <samp class="codeph">KPSYCostIndicator</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e134 "><p>0x8 </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e137 "><p>Cost Indicator </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e140 "><p>This must be the same as the <samp class="codeph">CostIndicator</samp> value in <span class="filepath">networklocationmanager.ini</span>. The value is an integer taken from the <a href="GUID-1AA235FA-CEC1-3853-8F96-C538C02B596D.html#GUID-1AA235FA-CEC1-3853-8F96-C538C02B596D__GUID-78C084A0-43F8-3040-BD98-70E2E62A5D45"><span class="apiname">TPositionQuality::TCostIndicator</span></a> enum. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2081229e131 "><p> <samp class="codeph">KPSYPowerConsumption</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e134 "><p> <samp class="codeph">0x9</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e137 "><p>Power Consumption </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e140 "><p>This must be the same as the <samp class="codeph">PowerConsumption</samp> value in <span class="filepath">networklocationmanager.ini</span>. The value is an integer taken from the <a href="GUID-1AA235FA-CEC1-3853-8F96-C538C02B596D.html#GUID-1AA235FA-CEC1-3853-8F96-C538C02B596D__GUID-AD77543D-625A-39CF-A1D5-F5B5636E17F7"><span class="apiname">TPositionQuality::TPowerConsumption</span></a> enum. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2081229e131 "><p> <samp class="codeph">KPSYTechnologyType</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e134 "><p> <samp class="codeph">0xa</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e137 "><p>Technology Type </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e140 "><p>This must be the same as the <samp class="codeph">TechnologyType</samp> value in <span class="filepath">networklocationmanager.ini</span>. The value is taken from the <a href="GUID-B098F3DB-E2FE-3C5A-8508-4B04D954AB26.html#GUID-B098F3DB-E2FE-3C5A-8508-4B04D954AB26__GUID-03AF8C51-1CAF-3F4C-BED1-17844FAE8423"><span class="apiname">TPositionModuleInfo::_TTechnologyType</span></a> enum. </p>
 <p> <strong>Important note: In the PSY Central Repository Initialization file the value is specified as decimal integer. In the Integration Module .ini file the value is specified in binary.</strong>  </p>
 <p>In the file shown above, the value of 2 for this key specifies that the Network PSY supports a technology type of <samp class="codeph">ETechnologyNetwork</samp> = 2 = 0010 in binary. </p>
 </td>
 </tr>
 <tr><td class="cellrowborder" valign="top" headers="d2081229e131 "><p> <samp class="codeph">KPSYCapabilities</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e134 "><p> <samp class="codeph">0xc</samp>  </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e137 "><p>Device Capabilities </p>
 </td>
 <td class="cellrowborder" valign="top" headers="d2081229e140 "><p>This must be the same as the <samp class="codeph">Capabilities</samp> value in <span class="filepath">networklocationmanager.ini</span>. The value is taken from the <a href="GUID-B098F3DB-E2FE-3C5A-8508-4B04D954AB26.html#GUID-B098F3DB-E2FE-3C5A-8508-4B04D954AB26__GUID-4A84D57F-D202-3F79-8094-139D69630C6D"><span class="apiname">TPositionModuleInfo::_Capabilities</span></a> enum. </p>
 <p> <strong>Important note: In the PSY Central Repository Initialization file the value is specified as a decimal integer. In the Integration Module .ini file the value is specified in binary.</strong>  </p>
 <p>In the file shown above the value of 15 for this key specifies that the Network PSY supports the capabilities: </p>
 <p> <samp class="codeph">ECapabilityHorizontal + ECapabilityVertical +
                             ECapabilitySpeed + ECapabilityDirection </samp> = 15 decimal or 1111 in binary. </p>
 </td>
 </tr>
 </tbody>
 </table>
</div>
  </li>
 <li class="substepexpand" id="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-971F2EF1-AAF0-55A9-AC4D-5A3E59595D43"><a name="GUID-E81D70B1-FB3F-501D-AD3F-038C8BE997BF__GUID-971F2EF1-AAF0-55A9-AC4D-5A3E59595D43"><!-- --></a><span>Make a binary version of the Central Repository Initialization text file <span class="filepath">10285abe.txt</span>. </span>  The LBS build process makes a binary version of the Network PSY Central Repository files and copies them to <span class="filepath">epoc32\winscw\c\private\10202BE9</span>.   To rebuild the Network PSY Central Repository file you can use the makefile <span class="filepath">createlbsnetpsyrep.mk</span> in <span class="filepath">datasourcemodules\lbsposfwadaptation\lbsnetpsy\group</span>.   Use the <a href="GUID-9BB4A44E-6870-5A25-8EA8-0B0F1565213F.html" title="This shows how to include the GPS/A-GPS PSY in a device ROM.">ROM macros</a> to copy the Network PSY DLL and the Central Repository files into a device ROM.  </li>
 </ol>
 </li>
</ul>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-A2721B54-9B0A-572E-A695-22058F627639.html" title="This tutorial describes how configure and use the Network Positioning Module (Network PSY).">Network Positioning Module Tutorial</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-178F91C8-32F4-5CD3-B81D-F0A6C45097E5.html" title="This document describes the Network PSY, which connects the Location Server (eposserver.exe) to the Network Location Manager.">Network PSY
                Overview</a></div>
<div><a href="GUID-9BB4A44E-6870-5A25-8EA8-0B0F1565213F.html" title="This shows how to include the GPS/A-GPS PSY in a device ROM.">Include the Network PSY in
                ROM</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>