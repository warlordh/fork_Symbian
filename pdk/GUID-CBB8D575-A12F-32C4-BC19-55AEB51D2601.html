<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="MCameraSnapshot"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-CBB8D575-A12F-32C4-BC19-55AEB51D2601"/>

<title>MCameraSnapshot</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-CBB8D575-A12F-32C4-BC19-55AEB51D2601"><a name="GUID-CBB8D575-A12F-32C4-BC19-55AEB51D2601"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2865498 id2865502 id2865507 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">MCameraSnapshot Class Reference</h1>
	<table class="signature"><tr><td>class MCameraSnapshot</td></tr></table><div class="section"><div>
			<p>This is a mixin class to be implemented by providers of the extension API for the camera snapshot.</p>

			<div class="p">
				<div class="note"><span class="notetitle">Note:</span> 
					<p>This class is intended for sub classing by licensees only.</p>

				</div>

				<a href="GUID-7DB06650-199E-3B00-A19A-1B48D671E46E.html#GUID-7DB06650-199E-3B00-A19A-1B48D671E46E">CCamera::CCameraSnapshot</a>
			</div>

		</div></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-E8FDA907-8DC1-3336-90AD-8939C5AC8615">IsSnapshotActive</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-09BF54FA-7D42-3608-AABB-647B33528A28">PrepareSnapshotL</a>(<a href="GUID-021C509B-C821-3401-B2F4-DE7F52BB16D4.html">CCamera::TFormat</a>, const <a href="GUID-339EC4C5-89DC-3972-9579-6DD38D418317.html">TPoint</a> &amp;, const <a href="GUID-938244B2-5E1A-39F7-8ACA-E6DE4C44A313.html">TSize</a> &amp;, const <a href="GUID-F84C7F40-6DEB-39D1-B172-CB0CC3918E27.html">TRgb</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-D6D68FDF-5B89-3F7A-8C52-64B91B1430E4">PrepareSnapshotL</a>(<a href="GUID-021C509B-C821-3401-B2F4-DE7F52BB16D4.html">CCamera::TFormat</a>, const <a href="GUID-938244B2-5E1A-39F7-8ACA-E6DE4C44A313.html">TSize</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-0933CEC8-3C38-3823-97E2-2F73F24064DC">Release</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-232BABFC-0F83-3FE9-B845-974A0ECB643B">SetBgColorL</a>(const <a href="GUID-F84C7F40-6DEB-39D1-B172-CB0CC3918E27.html">TRgb</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-C50A962B-4F72-3FD9-84D9-B2D6A5A43D11">SetPositionL</a>(const <a href="GUID-339EC4C5-89DC-3972-9579-6DD38D418317.html">TPoint</a> &amp;)</td></tr><tr><td align="right" class="code">
					<a href="GUID-7F66BE6C-9998-3F16-AD55-F6FDF6CB351F.html">MCameraBuffer</a> &amp;</td><td><a href="#GUID-486A2038-4126-3FA1-B720-FD0392A23A64">SnapshotDataL</a>(<a href="GUID-FAEBF321-6B08-3041-A01F-B1E7282D0707.html">RArray</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-96DFFEE4-0634-3111-83EE-EA0D8CF41B37">StartSnapshot</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-246F9D39-2FFD-3745-A907-59021A3837C1">StopSnapshot</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a>
				</td><td><a href="#GUID-5CB9B315-44FC-34E4-B94D-C51A9EC7798C">SupportedFormats</a>()</td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-E8FDA907-8DC1-3336-90AD-8939C5AC8615"><a name="GUID-E8FDA907-8DC1-3336-90AD-8939C5AC8615"><!-- --></a>
		<h2 class="topictitle2">IsSnapshotActive()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>IsSnapshotActive</td><td>(</td><td>)</td><td>const [pure virtual]</td></tr></table><div class="section"><div>
				<p>Use void <a href="GUID-A048086C-0481-3E68-9B96-70943917B3FB.html#GUID-120716C8-4079-3EA2-B2A8-4EFB9DF5882B">MCameraSnapshot2::GetSnapshotStatusL(CCamera::CCameraSnapshot::TSnapshotState&amp; aSnapshotState) const</a>;</p>

				<p>Determines if the snapshot feature is active.</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-09BF54FA-7D42-3608-AABB-647B33528A28"><a name="GUID-09BF54FA-7D42-3608-AABB-647B33528A28"><!-- --></a>
		<h2 class="topictitle2">PrepareSnapshotL(CCamera::TFormat, const TPoint &amp;, const TSize &amp;, const TRgb &amp;, TBool)</h2>
		<table class="signature"><tr><td>void</td><td>PrepareSnapshotL</td><td>(</td><td><a href="GUID-021C509B-C821-3401-B2F4-DE7F52BB16D4.html">CCamera::TFormat</a></td><td>aFormat,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-339EC4C5-89DC-3972-9579-6DD38D418317.html">TPoint</a> &amp;</td><td>aPosition,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-938244B2-5E1A-39F7-8ACA-E6DE4C44A313.html">TSize</a> &amp;</td><td>aSize,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-F84C7F40-6DEB-39D1-B172-CB0CC3918E27.html">TRgb</a> &amp;</td><td>aBgColor,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aMaintainAspectRatio</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Use void <a href="GUID-A048086C-0481-3E68-9B96-70943917B3FB.html#GUID-73D86647-F49D-3C22-A518-9721758A7FFB">MCameraSnapshot2::PrepareSnapshotL(const CCamera::CCameraSnapshot::TSnapshotParameters&amp; aSnapshotParameters)</a>;</p>

				<p>Sets the properties of the snapshot data including the background colour and the position of the snapshot.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotSupported if the specified image format is not supported; also any system wide error. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-021C509B-C821-3401-B2F4-DE7F52BB16D4.html">CCamera::TFormat</a> aFormat</td><td>The image format that the snapshot must have.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-339EC4C5-89DC-3972-9579-6DD38D418317.html">TPoint</a> &amp; aPosition</td><td>The top left corner position (in pixels) which determines the layout of the snapshot image within the dimensions provided by the aSize parameter when the snapshot has been scaled maintaining its aspect ratio. See also SetPositionL().  </td></tr><tr><td class="parameter">const <a href="GUID-938244B2-5E1A-39F7-8ACA-E6DE4C44A313.html">TSize</a> &amp; aSize</td><td>The size of the snapshot in pixels.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-F84C7F40-6DEB-39D1-B172-CB0CC3918E27.html">TRgb</a> &amp; aBgColor</td><td>The background colour to be used if the snapshot has been scaled (maintaining its aspect ratio) and does not fully fill the dimension provided by the aSize parameter. See also SetBgColorL().  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aMaintainAspectRatio</td><td>Set to ETrue if the aspect ratio of the snapshot image must be maintained when scaling down. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D6D68FDF-5B89-3F7A-8C52-64B91B1430E4"><a name="GUID-D6D68FDF-5B89-3F7A-8C52-64B91B1430E4"><!-- --></a>
		<h2 class="topictitle2">PrepareSnapshotL(CCamera::TFormat, const TSize &amp;, TBool)</h2>
		<table class="signature"><tr><td>void</td><td>PrepareSnapshotL</td><td>(</td><td><a href="GUID-021C509B-C821-3401-B2F4-DE7F52BB16D4.html">CCamera::TFormat</a></td><td>aFormat,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-938244B2-5E1A-39F7-8ACA-E6DE4C44A313.html">TSize</a> &amp;</td><td>aSize,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aMaintainAspectRatio</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[pure virtual]</td></tr></table><div class="section"><div>
				<p>Use void <a href="GUID-A048086C-0481-3E68-9B96-70943917B3FB.html#GUID-73D86647-F49D-3C22-A518-9721758A7FFB">MCameraSnapshot2::PrepareSnapshotL(const CCamera::CCameraSnapshot::TSnapshotParameters&amp; aSnapshotParameters)</a>;</p>

				<p>Sets the properties of the snapshot data, excluding the background colour and the position of the snapshot. This method can be used when the client wishes to determine the layout and background colour after the snapshot image has been generated. See also <a href="GUID-CBB8D575-A12F-32C4-BC19-55AEB51D2601.html#GUID-C50A962B-4F72-3FD9-84D9-B2D6A5A43D11">SetPositionL()</a> and <a href="GUID-CBB8D575-A12F-32C4-BC19-55AEB51D2601.html#GUID-232BABFC-0F83-3FE9-B845-974A0ECB643B">SetBgColorL()</a>.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotSupported if the specified image format is not supported; also any system wide error. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-021C509B-C821-3401-B2F4-DE7F52BB16D4.html">CCamera::TFormat</a> aFormat</td><td>The image format that the snapshot must have.  </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-938244B2-5E1A-39F7-8ACA-E6DE4C44A313.html">TSize</a> &amp; aSize</td><td>The size of the snapshot in pixels.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aMaintainAspectRatio</td><td>Set to ETrue if the aspect ratio of the snapshot image must be maintained when scaling down. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-0933CEC8-3C38-3823-97E2-2F73F24064DC"><a name="GUID-0933CEC8-3C38-3823-97E2-2F73F24064DC"><!-- --></a>
		<h2 class="topictitle2">Release()</h2>
		<table class="signature"><tr><td>void</td><td>Release</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Destroys the object of this class on the ECam implementation. This function is called from the destructor of <a href="GUID-7DB06650-199E-3B00-A19A-1B48D671E46E.html#GUID-7DB06650-199E-3B00-A19A-1B48D671E46E">CCamera::CCameraSnapshot</a>. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-232BABFC-0F83-3FE9-B845-974A0ECB643B"><a name="GUID-232BABFC-0F83-3FE9-B845-974A0ECB643B"><!-- --></a>
		<h2 class="topictitle2">SetBgColorL(const TRgb &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>SetBgColorL</td><td>(</td><td>const <a href="GUID-F84C7F40-6DEB-39D1-B172-CB0CC3918E27.html">TRgb</a> &amp;</td><td>aBgColor</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Use void <a href="GUID-A048086C-0481-3E68-9B96-70943917B3FB.html#GUID-0F6685ED-774D-3F50-96D4-64E286E12D31">MCameraSnapshot2::SetSnapshotParametersL(const CCamera::CCameraSnapshot::TSnapshotParameters&amp; aSnapshotParameters)</a>;</p>

				<p>Sets the background colour to be used if the snapshot has been scaled (maintaining its aspect ratio) and does not fully fill the snapshot size as specified in PrepareSnapshot().</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotSupported if the specified image format is not supported; also any system wide error. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-F84C7F40-6DEB-39D1-B172-CB0CC3918E27.html">TRgb</a> &amp; aBgColor</td><td>The new background colour. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-C50A962B-4F72-3FD9-84D9-B2D6A5A43D11"><a name="GUID-C50A962B-4F72-3FD9-84D9-B2D6A5A43D11"><!-- --></a>
		<h2 class="topictitle2">SetPositionL(const TPoint &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>SetPositionL</td><td>(</td><td>const <a href="GUID-339EC4C5-89DC-3972-9579-6DD38D418317.html">TPoint</a> &amp;</td><td>aPosition</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Use void <a href="GUID-A048086C-0481-3E68-9B96-70943917B3FB.html#GUID-0F6685ED-774D-3F50-96D4-64E286E12D31">MCameraSnapshot2::SetSnapshotParametersL(const CCamera::CCameraSnapshot::TSnapshotParameters&amp; aSnapshotParameters)</a>;</p>

				<p>Sets the top left corner position (in pixels), where the snapshot should be laid out after scaling down (maintaining its aspect ratio). The position is within the dimensions provided by the snapshot size specified in PrepareSnapshot().</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNotSupported if the specified image format is not supported; also any system wide error. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-339EC4C5-89DC-3972-9579-6DD38D418317.html">TPoint</a> &amp; aPosition</td><td>The top left corner position in pixels of the snapshot. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-486A2038-4126-3FA1-B720-FD0392A23A64"><a name="GUID-486A2038-4126-3FA1-B720-FD0392A23A64"><!-- --></a>
		<h2 class="topictitle2">SnapshotDataL(RArray&lt; TInt &gt; &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-7F66BE6C-9998-3F16-AD55-F6FDF6CB351F.html">MCameraBuffer</a> &amp;</td><td>SnapshotDataL</td><td>(</td><td><a href="GUID-FAEBF321-6B08-3041-A01F-B1E7282D0707.html">RArray</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp;</td><td>aFrameIndexOrder</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Use callbacks: <a href="GUID-430C206E-24D7-30BE-98E9-ACD176DDA3A8.html#GUID-E6E3F5E3-930D-34B5-9C98-4D2BA248E68C">MCaptureImageObserver::ClientSnapshotForImageReady</a> and <a href="GUID-7FAEB878-52B1-3A54-9607-69AE09AB8AEB.html#GUID-7FAEB878-52B1-3A54-9607-69AE09AB8AEB">MCaptureVideoObserver</a>:: ClientSnapshotReady</p>

				<p>Returns the snapshot data from ECam implementation to the client.</p>

				<p>The data is returned in an <a href="GUID-7F66BE6C-9998-3F16-AD55-F6FDF6CB351F.html#GUID-7F66BE6C-9998-3F16-AD55-F6FDF6CB351F">MCameraBuffer</a> object. In the case where the driving mode returns more than one image (burst mode, bracket mode, etc.) the buffer contains several snapshots which may be returned in any order. The aFrameIndexOrder array provides the image sequence numbers in the order in which the snapshots for those images are returned within the <a href="GUID-7F66BE6C-9998-3F16-AD55-F6FDF6CB351F.html#GUID-7F66BE6C-9998-3F16-AD55-F6FDF6CB351F">MCameraBuffer</a>.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrNoMemory if the ECam implementation has not been able to create the camera buffer; also any system wide error. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FAEBF321-6B08-3041-A01F-B1E7282D0707.html">RArray</a>&lt; <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> &gt; &amp; aFrameIndexOrder</td><td>A reference to an array that will receive the image sequence numbers in the order to which the snapshots within MCameraBuffer relate. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-96DFFEE4-0634-3111-83EE-EA0D8CF41B37"><a name="GUID-96DFFEE4-0634-3111-83EE-EA0D8CF41B37"><!-- --></a>
		<h2 class="topictitle2">StartSnapshot()</h2>
		<table class="signature"><tr><td>void</td><td>StartSnapshot</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Use void MCameraSnapshot2::EnableSnapshotL();</p>

				<p>Activates the snapshot feature. Calls to this method when the snapshot feature is already active will be ignored.</p>

				<p>The client will not receive snapshot notifications until the snapshot feature is activated. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-246F9D39-2FFD-3745-A907-59021A3837C1"><a name="GUID-246F9D39-2FFD-3745-A907-59021A3837C1"><!-- --></a>
		<h2 class="topictitle2">StopSnapshot()</h2>
		<table class="signature"><tr><td>void</td><td>StopSnapshot</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Use void MCameraSnapshot2::DisableSnapshotL();</p>

				<p>Deactivates the snapshot feature if it is active.</p>

				<p>Once the snapshot has been deactivated, the client will no longer receive notifications about snapshots. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-5CB9B315-44FC-34E4-B94D-C51A9EC7798C"><a name="GUID-5CB9B315-44FC-34E4-B94D-C51A9EC7798C"><!-- --></a>
		<h2 class="topictitle2">SupportedFormats()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TUint32</a>
				</td><td>SupportedFormats</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"><div>
				<p>Gets a list of camera formats for which the ECam implementation supports snapshots.</p>

				<p/>

			</div></div>

	</div>

	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>