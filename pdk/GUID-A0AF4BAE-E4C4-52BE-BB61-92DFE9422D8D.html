<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="How to Develop a SIP Profile Agent Plug-in using the SIP Profile Agent API"/>
<meta name="DC.Relation" scheme="URI" content="GUID-BDD99F37-FD44-56FF-A849-015FCEE8F2D9.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-6425B722-4095-56E3-9198-70BA3E06C617.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-057F1F82-56AF-5696-853E-79196A3D567E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-BDD99F37-FD44-56FF-A849-015FCEE8F2D9.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-11E73F76-46F7-573A-99AC-CC094CEB3A4F.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E9AF73E8-DF31-5C5E-889E-96CCD4C4A46B.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>How to Develop a SIP Profile Agent Plug-in using the SIP Profile Agent API</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2397554 id2397680 id2397836 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-6425B722-4095-56E3-9198-70BA3E06C617.html">Multimedia Protocols Guide</a> &gt; <a href="GUID-057F1F82-56AF-5696-853E-79196A3D567E.html">SIP</a> &gt; <a href="GUID-BDD99F37-FD44-56FF-A849-015FCEE8F2D9.html">SIP Profile Agent API</a> &gt; </div>
<h1 class="topictitle1">How to Develop a SIP Profile Agent Plug-in using the SIP Profile Agent API</h1>
<div><p>A SIP Profile Agent plug-in is an ECOM plug-in that is used by the SIP Profile server to register the corresponding SIP profiles. For example, if the SIP Profile type is IETF, the profile server uses the IETF plug-in to register the profile. </p>
 <p>In the following illustration, the SIP Profile Agent plug-in implements interfaces, uses APIs, and inherits a class. </p>
 <p>The following steps describe how to develop a SIP Profile Agent plug-in. </p>
 <a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-7EC57F82-9A98-5651-AC53-B9EE80BD4F6A"><!-- --></a><ol id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-7EC57F82-9A98-5651-AC53-B9EE80BD4F6A"><li id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-7B046198-3C5F-5111-A11A-3A8023A63659"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-7B046198-3C5F-5111-A11A-3A8023A63659"><!-- --></a><p>Derive a profile agent plug-in class from <a href="GUID-F324C2F6-1336-361C-B270-EFBAA256C46A.html"><span class="apiname">CSIPProfileAgent</span></a>, which provides an ECOM interface for SIP Profile Agent plug-ins. </p>
 </li>
 <li id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-81288220-4895-5213-B522-75896DCF7E76"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-81288220-4895-5213-B522-75896DCF7E76"><!-- --></a><p>Implement the following interfaces in the plug-in class: </p>
 <ul><li id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-8190B7B7-0C28-5ADA-A2F2-A0AD5BE7982E"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-8190B7B7-0C28-5ADA-A2F2-A0AD5BE7982E"><!-- --></a><p> <a href="GUID-8E42520B-698F-3925-8F0F-6CD0F9745EF2.html"><span class="apiname">MSIPProfileAgentObserver</span></a> - To receive notifications of profile registration, update and deregister events, and any errors reported while doing these tasks. </p>
 </li>
 <li id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-1F4AE0B4-4E69-5E5D-B610-6C1839D56B61"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-1F4AE0B4-4E69-5E5D-B610-6C1839D56B61"><!-- --></a><p> <a href="GUID-EB6027F7-D166-3B2C-9AE2-F65457D128B5.html"><span class="apiname">MSIPProfileFSMUser</span></a> - To receive profile state change notifications. </p>
 </li>
 <li id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-DD164449-34E0-54FE-B685-6371D433C5B3"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-DD164449-34E0-54FE-B685-6371D433C5B3"><!-- --></a><p> <a href="GUID-C6FF4A83-0097-3A82-B4ED-802E1FEA05D1.html"><span class="apiname">MSIPObserver</span></a> - To receive SIP requests from the SIP connections that the user does no initialise. </p>
 </li>
 <li id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-F1FED442-C5C3-50A5-9DE6-1EF035D44B70"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-F1FED442-C5C3-50A5-9DE6-1EF035D44B70"><!-- --></a><p> <a href="GUID-64AD3756-2FEC-37CB-9A31-838738DEC03D.html"><span class="apiname">MSIPHttpDigestChallengeObserver2</span></a> - To provide HTTP Digest authentication for SIP registrations when an instance of the <a href="GUID-F9FBAFBE-A895-3FD3-A526-604A6C9E035D.html"><span class="apiname">CSIPHttpDigest</span></a> class is used. </p>
 </li>
 </ul>
 </li>
 <li id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-8B3E553F-A92C-59CE-B959-CF13D43BD1AD"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-8B3E553F-A92C-59CE-B959-CF13D43BD1AD"><!-- --></a><p>Derive and implement the following classes in the profile context and connection context classes: </p>
 <ul><li id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-446A39EF-12B7-56B1-A477-A0B2DDDF7BE7"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-446A39EF-12B7-56B1-A477-A0B2DDDF7BE7"><!-- --></a><p>Implement the <a href="GUID-6B6F73C9-1288-3F6F-B6A3-FD0AE39DE0E2.html"><span class="apiname">MSIPProfileContext</span></a> interface in the profile context class to get and set the information about the profile when it is in a particular state. </p>
 </li>
 <li id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-330406BA-8A73-56DC-867F-F5AA837BDA5C"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-330406BA-8A73-56DC-867F-F5AA837BDA5C"><!-- --></a><p>Implement the <a href="GUID-B889A3FD-3B14-3785-90AE-3546F0C9A5D4.html"><span class="apiname">MSIPConnectionObserver</span></a> interface in the connection context class to receive requests, responses, connection state notifications, and error notifications from the SIP stack. </p>
 </li>
 <li id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-55F08A29-83C4-519C-8195-D8B15A6AD1B4"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-55F08A29-83C4-519C-8195-D8B15A6AD1B4"><!-- --></a><p>Implement the <a href="GUID-981869F9-0137-303F-9A55-DA18A89C72A7.html"><span class="apiname">MSIPProxyResolverObserver</span></a> interface to receive notifications about the state of the asynchronous request to resolve proxy. </p>
 </li>
 <li id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-FD500D85-05E7-53EF-87BB-9BF5DE8FF45E"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-FD500D85-05E7-53EF-87BB-9BF5DE8FF45E"><!-- --></a><p>Derive the profile context and the connection context classes from <a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html"><span class="apiname">CBase</span></a> to create the objects on the heap. </p>
 </li>
 </ul>
 </li>
 <li id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-19B99A3A-D50D-55ED-B973-424DA488D20F"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-19B99A3A-D50D-55ED-B973-424DA488D20F"><!-- --></a><p>Create instances of the <a href="GUID-AFB2603A-8A35-3E70-8EC2-229C9726F00B.html"><span class="apiname">CSIP</span></a> and <a href="GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html"><span class="apiname">CSIPConnection</span></a> classes, and monitor the states of CSIPConnection object. </p>
 <p> <strong>Note:</strong> SIP Profile registration is performed when the state of <a href="GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html"><span class="apiname">CSIPConnection</span></a> object is <a href="GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html#GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94__GUID-2B88DB09-5C64-38AD-96D3-0095F2203EB7"><span class="apiname">CSIPConnection::EActive</span></a>. </p>
 </li>
 <li id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-45896E47-490E-575A-887B-BC03E98059FA"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-45896E47-490E-575A-887B-BC03E98059FA"><!-- --></a><p>Create instances of the <a href="GUID-48AA01D5-CE7B-3C22-B2E0-529261121EC4.html"><span class="apiname">CSIPRegistrationBinding</span></a> class to perform SIP profile registrations. </p>
 </li>
 <li id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-F757E38E-13A3-5AF6-A8BC-80B1AE1367CD"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-F757E38E-13A3-5AF6-A8BC-80B1AE1367CD"><!-- --></a><p>Implement the SIP profile registration state machine. The state machine responds to the state changes to <a href="GUID-2A070F4D-A35B-3505-BE86-E6C7A2F27B94.html"><span class="apiname">CSIPConnection</span></a> instances and SIP profile registrations. </p>
 </li>
 </ol>
 <p>The following illustration shows the relationship between the SIP Profile Agent plug-in and other components used by it. </p>
 <div class="fignone" id="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-4B5948A1-0355-5F5A-BA2E-0D24B37CEB4A"><a name="GUID-A0AF4BAE-E4C4-52BE-BB61-92DFE9422D8D__GUID-4B5948A1-0355-5F5A-BA2E-0D24B37CEB4A"><!-- --></a><span class="figcap">Figure 1. 
          SIP Profile Agent plug-in relationship diagram 
        </span> <img src="GUID-A741A42E-AFF5-5781-A555-134C63A97B53_d0e556778_href.png"/></div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-BDD99F37-FD44-56FF-A849-015FCEE8F2D9.html">SIP Profile Agent API</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-11E73F76-46F7-573A-99AC-CC094CEB3A4F.html">SIP Profile
                Agent overview</a></div>
<div><a href="GUID-E9AF73E8-DF31-5C5E-889E-96CCD4C4A46B.html">Example IETF
                profile agent plug-in</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>