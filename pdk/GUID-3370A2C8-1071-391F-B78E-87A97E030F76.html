<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="CObexServerSendOperation"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-3370A2C8-1071-391F-B78E-87A97E030F76"/>

<title>CObexServerSendOperation</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-3370A2C8-1071-391F-B78E-87A97E030F76"><a name="GUID-3370A2C8-1071-391F-B78E-87A97E030F76"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2437142 id2415693 id2416466 id2416470 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">CObexServerSendOperation Class Reference</h1>
	<table class="signature"><tr><td>class CObexServerSendOperation : public CActive</td></tr></table><div class="section"><div>
			<p>class <a href="GUID-3370A2C8-1071-391F-B78E-87A97E030F76.html#GUID-3370A2C8-1071-391F-B78E-87A97E030F76">CObexServerSendOperation</a></p>

			<p>Obex Server Send Operation:</p>

			<p>Base class for Send operations using Obex protocol.</p>

			<p>Implements a state machine with the following states: Initialise--&gt;Connect--&gt;ConnectAttemptComplete--&gt;SendObject--&gt;(SendNextObject--&gt;)SendComplete--&gt;MovedToSent--&gt;Disconnected</p>

			<p>The pure virtual function <a href="GUID-3370A2C8-1071-391F-B78E-87A97E030F76.html#GUID-D8D3D522-6FAC-3F63-8BBE-1E30044E51C6">InitialiseObexClientL()</a> must be overridden in the base class to initialise the iObexClient member to use the desired Obex transport mechanism (e.g. infrared, Bluetooth).</p>

			<p>In order to allow asynchronous transport initialisations (for example BT's SDP Query) implementations of this function must set iAsyncInit and provide a mechanism to complete a request. See the bluetooth server mtm code for implementation details.</p>

		</div></div>
<div class="section derivation"><h2 class="sectiontitle">Inherits from</h2><ul class="derivation derivation-root"><li class="derivation-depth-0 ">CObexServerSendOperation<ul class="derivation"><li class="derivation-depth-1 "><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive</a><ul class="derivation"><li class="derivation-depth-2 "><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase</a></li></ul></li></ul></li></ul></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-26118091-6B28-30C4-9507-B60956C2957D">~CObexServerSendOperation</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-D8D3D522-6FAC-3F63-8BBE-1E30044E51C6">InitialiseObexClientL</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-5F65D567-2E68-3AD3-8394-FF8A8896DC18">PostConnectOperations</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-73CB4B66-57C6-396C-9B10-CB9248FD8B13">PostSendOperations</a>()</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-89C82C50-3E67-38DB-9A5C-647167E851C0">PreConnectOperations</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-33CCF518-C6D8-3462-A538-3278D3C7FFAE">PreSendOperations</a>()</td></tr><tr><td align="right" class="code">IMPORT_C const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td><a href="#GUID-ACB99409-B08D-39D9-9BAB-488BD31F3CEA">ProgressL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-EAD81B9F-3131-3B77-BD09-FAF713F2B62C">SecondPhaseObexClientInitL</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-6F795F43-2541-3A8F-A9F4-36C28C785C6F">TimeOut</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Member Functions</th></tr></thead><tbody><tr><td align="right" class="code"/><td><a href="#GUID-AFCE6FC2-82A1-3B48-B9F3-181706E90745">CObexServerSendOperation</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>, <a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code"/><td><a href="#GUID-EA7127AC-1377-3537-8F08-72172E00EF41">CObexServerSendOperation</a>(<a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a>, <a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>)</td></tr><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td><a href="#GUID-530DD1A7-9FFC-32B0-A43B-7189D27C4F9D">CompletingObserver</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-B10ED4EF-4DF1-398F-A5CB-C274487AEB5A">ConstructL</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> *)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-17DDC227-C5F6-38DE-BC7F-B7D998B6377F">DoCancel</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-06FD643D-7749-3EBD-BF8B-6321459F72EB">ActivateRunLWithError</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-4ECC0043-DFF6-38D8-8C9C-AB63B614CB6A">BuildSpecificConstructL</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-4700A865-306D-32E0-9DA9-39A7899740CE">BuildSpecificDestructor</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-1212D3B6-4C99-3840-8B66-C2253FA44C4E">CheckStatusOfLastObject</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>, <a href="GUID-4F19B3DB-0DA8-324F-986B-F20B933AFCF1.html">TObexMtmProgress::TSendState</a>)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-5CE49024-048E-3483-A09D-0A135A2CCDA1">CleanupAfterMovedToSent</a>()</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-BEC81455-DD53-3998-9DED-CED4F510C0F5">CompleteObserverL</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-DC1FE947-D9FD-3EC9-B150-2082A2DB601A">CompleteSelf</a>(<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-81472CEE-B2BC-3893-90DA-873853BF1402">ExplicitCancel</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td><a href="#GUID-8E7BC441-D6E6-3CFC-BB05-D5B07988395D">FileSession</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-5E85ADE7-AB48-3562-AFC7-EEE55EBC1FE4">GetUserPasswordL</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-1BB9A401-DD94-39F2-8A89-4BC9FACBFFC6">InitialiseAttachmentL</a>(<a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp;, <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>)</td></tr><tr class="bg"><td align="right" class="code">void</td><td><a href="#GUID-E5981507-AC0D-3960-8157-718EE8625E33">LoadFileIntoObjectL</a>(const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;, const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-AD7A788B-8631-34D5-AF3F-01688DF90741">MoveToSentAndSetActiveL</a>()</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-0369CAF8-43BA-3705-8938-59109C6E3975">PrepareCurrentObjectAndSetStateL</a>()</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-E0C558B3-5890-31EE-82BD-127D4A02A367">RealRunL</a>()</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-796D4833-9CFF-3968-8BB7-F0956932DFA9">RunL</a>()</td></tr><tr><td align="right" class="code">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-AC8800D5-04C0-350E-A2F9-BDA5C78567DE">SynchronousEntryDelete</a>()</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Functions</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::CActive(TInt)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Cancel()</a></td></tr><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Deque()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Extension_(TUint,TAny *&amp;,TAny *)</a></td></tr><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::IsActive()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::IsAdded()const</a></td></tr><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::Priority()const</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::RunError(TInt)</a></td></tr><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::SetActive()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::SetPriority(TInt)</a></td></tr><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::~CActive()</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::CBase()</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::Delete(CBase *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TAny *)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TLeave,TUint)</a></td></tr><tr class="bg"><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::operator new(TUint,TUint)</a></td></tr><tr><td> </td><td><a href="GUID-8F6FE089-E2A8-30F4-B67E-10F286347681.html">CBase::~CBase()</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Enumerations</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive:TPriority</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Public Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-D58ADF1B-EF0B-3E70-B9EF-3395C968C502">iAsyncInit</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Protected Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-E268CFF7-1376-32F1-963F-9BC80B421645">iLastSendAttempt</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-8D8568F5-39B3-34D0-8B90-07358B7D3A1C.html">CObexClient</a> *</td><td><a href="#GUID-C079C33D-DE04-3F2D-B6ED-F9948B742E77">iObexClient</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Attributes</th></tr></thead><tbody><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-7AD41A10-3B65-3246-9208-4B32AF79ED6D">iAttachmentEntryCount</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td><a href="#GUID-B3357173-7ECE-34E0-B0D1-23B04B8A61FD">iCancelWithoutCompleting</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-3D3D9CD7-C8FD-3F81-9CC5-1A71D4F9751E.html">HBufC</a> *</td><td><a href="#GUID-4FBB382A-3757-3584-A778-C93D6C41D74E">iConnectPassword</a></td></tr><tr class="bg"><td align="right" valign="top">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-6B25334A-0DF7-3F7F-B44C-F421A4C4A55D">iConnectTimeout</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> *</td><td><a href="#GUID-0F0B1873-3996-3483-A38F-97CC94D88EAD">iMoveEntrySelection</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-AF724192-6580-3DE3-9287-3A005C0AA932.html">CMsvOperation</a> *</td><td><a href="#GUID-F0EF3762-1003-3842-ACB9-403EFB74BAB3">iMoveOperation</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp;</td><td><a href="#GUID-7F7B6664-C101-3993-B93B-CC36AB65B2D5">iMsvSendParent</a></td></tr><tr class="bg"><td align="right" valign="top">const <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td><a href="#GUID-EADA9A04-39F7-3935-8E6F-E83C0A702170">iMtm</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td><a href="#GUID-D8995BB5-1443-3D7E-BA02-7123F8583655">iNextAttachment</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-F15439CE-9D6C-3ABA-9C77-160140DFFE2E.html">CObexFileObject</a> *</td><td><a href="#GUID-99C5AA35-E860-3612-B631-CFB332F3E189">iObexObject</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td><a href="#GUID-AD0D6AF7-CDED-3420-9C0F-DC69C8DFC048">iObserverRequestStatus</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-4F19B3DB-0DA8-324F-986B-F20B933AFCF1.html">TObexMtmProgress</a> &gt;</td><td><a href="#GUID-97DF73EC-2CA9-3A9E-A430-4810C899CE4A">iProgressPckg</a></td></tr><tr><td align="right" valign="top">const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-21854D3D-518C-3072-8C1F-D0F70723E9A8">iPutTimeout</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-0B9C8884-6BFF-35E2-AA6F-E4057B85AFCF.html">TFileName</a>
				</td><td><a href="#GUID-ED99CB90-FDCC-3DD1-8F36-2B22802D53CB">iSendFile</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-4F19B3DB-0DA8-324F-986B-F20B933AFCF1.html">TObexMtmProgress::TSendState</a>
				</td><td><a href="#GUID-B53FC9F5-C233-34EE-8833-B7FA600D1768">iSendState</a></td></tr><tr class="bg"><td align="right" valign="top">
					<a href="GUID-0B9C8884-6BFF-35E2-AA6F-E4057B85AFCF.html">TFileName</a>
				</td><td><a href="#GUID-D239CC4D-85E8-3F3B-A3B2-24B164C0F73D">iServicePath</a></td></tr><tr><td align="right" valign="top">
					<a href="GUID-ABCB71B9-0307-3413-90B5-989E75D5BB77.html">CObexSendOpTimeout</a> *</td><td><a href="#GUID-889EF922-CCB8-3C83-A4C9-4B67F1245A54">iTimeoutTimer</a></td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Inherited Attributes</th></tr></thead><tbody><tr><td> </td><td><a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html">CActive::iStatus</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Constructor &amp; Destructor Documentation</h1><div class="nested1" id="GUID-AFCE6FC2-82A1-3B48-B9F3-181706E90745"><a name="GUID-AFCE6FC2-82A1-3B48-B9F3-181706E90745"><!-- --></a>
		<h2 class="topictitle2">CObexServerSendOperation(TUid, CMsvServerEntry &amp;, TInt, TInt, TRequestStatus &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>CObexServerSendOperation</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aMsgTypeUid,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp;</td><td>aSendObj,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aConnectTimeoutMicroSeconds,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aPutTimeoutMicroSeconds,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aObserverRequestStatus</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected]</td></tr></table><div class="section"><div>
				<p>Constructor.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aMsgTypeUid</td><td>UID of message type  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp; aSendObj</td><td>Reference to the object to send.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aConnectTimeoutMicroSeconds</td><td>Timeout period for Connect operation in microseconds.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aPutTimeoutMicroSeconds</td><td> </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aObserverRequestStatus</td><td>TRequestStatus of owning active object.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-EA7127AC-1377-3537-8F08-72172E00EF41"><a name="GUID-EA7127AC-1377-3537-8F08-72172E00EF41"><!-- --></a>
		<h2 class="topictitle2">CObexServerSendOperation(TUid, CMsvServerEntry &amp;, TInt, TInt, TRequestStatus &amp;, TBool)</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>CObexServerSendOperation</td><td>(</td><td><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>aMsgTypeUid,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp;</td><td>aSendObj,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aConnectTimeoutMicroSeconds,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aPutTimeoutMicroSeconds,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>aObserverRequestStatus,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>aLastSendAttempt</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[protected]</td></tr></table><div class="section"><div>
				<p>Constructor.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a> aMsgTypeUid</td><td>UID of message type  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp; aSendObj</td><td>Reference to the object to send.  </td></tr><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aConnectTimeoutMicroSeconds</td><td>Timeout period for Connect operation in microseconds.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aPutTimeoutMicroSeconds</td><td> </td></tr><tr><td class="parameter"><a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp; aObserverRequestStatus</td><td>TRequestStatus of owning active object.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a> aLastSendAttempt</td><td>TBool flag to check for second send attempt and also for sending headers. EFalse sends full headers, ETrue only sends name and size  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-26118091-6B28-30C4-9507-B60956C2957D"><a name="GUID-26118091-6B28-30C4-9507-B60956C2957D"><!-- --></a>
		<h2 class="topictitle2">~CObexServerSendOperation()</h2>
		<table class="signature"><tr><td>IMPORT_C</td><td>~CObexServerSendOperation</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Destructor. <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-A8C4BD4D-4D85-31E3-AA9F-4F8675D608C5">Cancel()</a>s, deletes owned objects and Close()s the connection to the FileServer. </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-06FD643D-7749-3EBD-BF8B-6321459F72EB"><a name="GUID-06FD643D-7749-3EBD-BF8B-6321459F72EB"><!-- --></a>
		<h2 class="topictitle2">ActivateRunLWithError(TInt)</h2>
		<table class="signature"><tr><td>void</td><td>ActivateRunLWithError</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aError</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Cancels the current operation, then reactivates with the given error code.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aError</td><td>Error code to be passed to CompleteSelf.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-4ECC0043-DFF6-38D8-8C9C-AB63B614CB6A"><a name="GUID-4ECC0043-DFF6-38D8-8C9C-AB63B614CB6A"><!-- --></a>
		<h2 class="topictitle2">BuildSpecificConstructL()</h2>
		<table class="signature"><tr><td>void</td><td>BuildSpecificConstructL</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Normal second phase constructor. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-4700A865-306D-32E0-9DA9-39A7899740CE"><a name="GUID-4700A865-306D-32E0-9DA9-39A7899740CE"><!-- --></a>
		<h2 class="topictitle2">BuildSpecificDestructor()</h2>
		<table class="signature"><tr><td>void</td><td>BuildSpecificDestructor</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Destructor. <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-A8C4BD4D-4D85-31E3-AA9F-4F8675D608C5">Cancel()</a>s, deletes owned objects and Close()s the connection to the FileServer. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-1212D3B6-4C99-3840-8B66-C2253FA44C4E"><a name="GUID-1212D3B6-4C99-3840-8B66-C2253FA44C4E"><!-- --></a>
		<h2 class="topictitle2">CheckStatusOfLastObject(TInt, TObexMtmProgress::TSendState)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>CheckStatusOfLastObject</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aStatus,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-4F19B3DB-0DA8-324F-986B-F20B933AFCF1.html">TObexMtmProgress::TSendState</a></td><td>aSendState</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>Checks the last object was sent correctly, and tries to action appropriate error feedback if not. Only to be called from ESendObject/ESendNextObject or ESendComplete states.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aStatus</td><td>Status of last object  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-4F19B3DB-0DA8-324F-986B-F20B933AFCF1.html">TObexMtmProgress::TSendState</a> aSendState</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-5CE49024-048E-3483-A09D-0A135A2CCDA1"><a name="GUID-5CE49024-048E-3483-A09D-0A135A2CCDA1"><!-- --></a>
		<h2 class="topictitle2">CleanupAfterMovedToSent()</h2>
		<table class="signature"><tr><td>void</td><td>CleanupAfterMovedToSent</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Restores after the message has been moved to the inbox, and marks the message as visible. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-BEC81455-DD53-3998-9DED-CED4F510C0F5"><a name="GUID-BEC81455-DD53-3998-9DED-CED4F510C0F5"><!-- --></a>
		<h2 class="topictitle2">CompleteObserverL()</h2>
		<table class="signature"><tr><td>void</td><td>CompleteObserverL</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Complete the observer, reporting any error via the progress. THIS METHOD MUST BE CALLED ONCE ONLY. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-DC1FE947-D9FD-3EC9-B150-2082A2DB601A"><a name="GUID-DC1FE947-D9FD-3EC9-B150-2082A2DB601A"><!-- --></a>
		<h2 class="topictitle2">CompleteSelf(TInt)</h2>
		<table class="signature"><tr><td>void</td><td>CompleteSelf</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aError</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>This causes this active object's request to complete which means <a href="GUID-3370A2C8-1071-391F-B78E-87A97E030F76.html#GUID-796D4833-9CFF-3968-8BB7-F0956932DFA9">RunL()</a> will be called again if we are active (immediately if there are no higher priority active objects in the active scheduler).</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aError</td><td>Error to be passed forward to the next step of the state machine  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-530DD1A7-9FFC-32B0-A43B-7189D27C4F9D"><a name="GUID-530DD1A7-9FFC-32B0-A43B-7189D27C4F9D"><!-- --></a>
		<h2 class="topictitle2">CompletingObserver(TInt)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a></td><td>CompletingObserver</td><td>(</td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aErrorCode</td><td>)</td><td>[protected, virtual]</td></tr></table><div class="section"><div>
				<p>Tells the derived class that the base class is about to complete the observer. This is the first thing called when CompleteObserver is called. Since the behaviour of CompleteObserver is to clean up the message that it was trying to send, this calls gives the derived class an opportunity to either stop this deletion or recover any information synchronously from the message. If the derived class has no need to use this functionality, the default implementation allows deletion. This is the default implementation that allows the server mtm to continue normally. Tells the derived class that the base class is about to complete the observer. This is the first thing called when CompleteObserverL is called. Since the behaviour of CompleteObserverL is to clean up the message that it was trying to send, this calls gives the derived class an opportunity to either stop this deletion or recover any information synchronously from the message. If the derived class has no need to use this functionality, the default implementation allows deletion. </p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aErrorCode</td><td>The last error code encountered during operation  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B10ED4EF-4DF1-398F-A5CB-C274487AEB5A"><a name="GUID-B10ED4EF-4DF1-398F-A5CB-C274487AEB5A"><!-- --></a>
		<h2 class="topictitle2">ConstructL(const TDesC *)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>ConstructL</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> *</td><td>aConnectPassword</td><td>)</td><td>[protected]</td></tr></table><div class="section"><div>
				<p>Second phase constructor. Sets up connection to the FileServer, initialises attachments or filename list then starts sending process by initialising.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Leaves if insufficient memory. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Leaves if cannot connect to FileServer. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> * aConnectPassword</td><td>Pointer to the password to be used for authentication.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-17DDC227-C5F6-38DE-BC7F-B7D998B6377F"><a name="GUID-17DDC227-C5F6-38DE-BC7F-B7D998B6377F"><!-- --></a>
		<h2 class="topictitle2">DoCancel()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>DoCancel</td><td>(</td><td>)</td><td>[protected, virtual]</td></tr></table><div class="section"><div>
				<p>Cancels the current operation, deletes the client and <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-A8C4BD4D-4D85-31E3-AA9F-4F8675D608C5">Cancel()</a>s the timeout timer. Only completes the observer (by a call to CompleteObserver) if an external entity (i.e. the owner) has called <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-A8C4BD4D-4D85-31E3-AA9F-4F8675D608C5">Cancel()</a>. Otherwise the observer is not completed.</p>

				<p>Cancels the current operation, deletes the client and <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-A8C4BD4D-4D85-31E3-AA9F-4F8675D608C5">Cancel()</a>s the timeout timer. Only completes the observer (by a call to CompleteObserverL) if an external entity (i.e. the owner) has called <a href="GUID-067293BF-B28C-3CEC-92F4-1351A795EA7F.html#GUID-A8C4BD4D-4D85-31E3-AA9F-4F8675D608C5">Cancel()</a>. Otherwise the observer is not completed. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-81472CEE-B2BC-3893-90DA-873853BF1402"><a name="GUID-81472CEE-B2BC-3893-90DA-873853BF1402"><!-- --></a>
		<h2 class="topictitle2">ExplicitCancel()</h2>
		<table class="signature"><tr><td>void</td><td>ExplicitCancel</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Cancel any pending obex operation without completing the observer. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-8E7BC441-D6E6-3CFC-BB05-D5B07988395D"><a name="GUID-8E7BC441-D6E6-3CFC-BB05-D5B07988395D"><!-- --></a>
		<h2 class="topictitle2">FileSession()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html">RFs</a> &amp;</td><td>FileSession</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Returns a reference to the file session (<a href="GUID-E263C747-946F-35AA-9F1D-41833BD350FC.html#GUID-E263C747-946F-35AA-9F1D-41833BD350FC">RFs</a>) of the message</p>

				<p/>

			</div></div>

	</div>
<div class="nested1" id="GUID-5E85ADE7-AB48-3562-AFC7-EEE55EBC1FE4"><a name="GUID-5E85ADE7-AB48-3562-AFC7-EEE55EBC1FE4"><!-- --></a>
		<h2 class="topictitle2">GetUserPasswordL(const TDesC &amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>GetUserPasswordL</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aUserID</td><td>)</td><td>[private, virtual]</td></tr></table><div class="section"><div>
				<p>Called by the Obex Client when authentication is requested to pass the password back. If the password is invalid, this call should succeed but the send operation as a whole will inevitably fail.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrXXX system wide error codes. Shouldn't leave just because the password is invalid.</dd>

						
					</dl>
Called by the Obex Client when authentication is requested to pass the password back. If the password is invalid, this call should succeed but the send operation as a whole will inevitably fail.</div>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrXXX system wide error codes. Shouldn't leave just because the password is invalid. </dd>

						
					</dl>

					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrIrObexConnectChallRejected, if password is found empty. </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aUserID</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-1BB9A401-DD94-39F2-8A89-4BC9FACBFFC6"><a name="GUID-1BB9A401-DD94-39F2-8A89-4BC9FACBFFC6"><!-- --></a>
		<h2 class="topictitle2">InitialiseAttachmentL(CMsvServerEntry &amp;, TInt)</h2>
		<table class="signature"><tr><td>void</td><td>InitialiseAttachmentL</td><td>(</td><td><a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp;</td><td>aParent,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>aWhichAttachment</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"><div>
				<p>Load an attachment into the obex sending buffer, and create a new Obex object of name <a href="GUID-5A23B804-2C06-3407-9D48-1BFB212D699F.html#GUID-5CB4BB91-FA44-32CC-B6B5-B569D30DD9DB">TMsvEntry::iDetails</a>.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrXXX system wide error codes </dd>

						
					</dl>

				</div>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp; aParent</td><td>Reference to CMsvServerEntry to be sent.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a> aWhichAttachment</td><td>Zero-based index of attachment to send.  </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D8D3D522-6FAC-3F63-8BBE-1E30044E51C6"><a name="GUID-D8D3D522-6FAC-3F63-8BBE-1E30044E51C6"><!-- --></a>
		<h2 class="topictitle2">InitialiseObexClientL()</h2>
		<table class="signature"><tr><td>void</td><td>InitialiseObexClientL</td><td>(</td><td>)</td><td>[pure virtual]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-E5981507-AC0D-3960-8157-718EE8625E33"><a name="GUID-E5981507-AC0D-3960-8157-718EE8625E33"><!-- --></a>
		<h2 class="topictitle2">LoadFileIntoObjectL(const TDesC &amp;, const TDesC &amp;, const TDesC8 &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>LoadFileIntoObjectL</td><td>(</td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aFileName,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp;</td><td>aObexName,</td></tr><tr><td colspan="3"> </td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aMimeType</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aFileName</td><td> </td></tr><tr class="bg"><td class="parameter">const <a href="GUID-440FF2B4-353B-3097-A2BA-5887D10B8B23.html">TDesC</a> &amp; aObexName</td><td> </td></tr><tr><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aMimeType</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-AD7A788B-8631-34D5-AF3F-01688DF90741"><a name="GUID-AD7A788B-8631-34D5-AF3F-01688DF90741"><!-- --></a>
		<h2 class="topictitle2">MoveToSentAndSetActiveL()</h2>
		<table class="signature"><tr><td>void</td><td>MoveToSentAndSetActiveL</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Moves the newly sent message to the global sent items folder, and sets active ready for its completion.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrXXX system wide error codes </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-5F65D567-2E68-3AD3-8394-FF8A8896DC18"><a name="GUID-5F65D567-2E68-3AD3-8394-FF8A8896DC18"><!-- --></a>
		<h2 class="topictitle2">PostConnectOperations()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>PostConnectOperations</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Operations to perform after attempting a connection. As multiple connection attempts can be made, it is necessary for this routine to ensure it can handle being called multiple times. May be overridden. Default implementation is blank. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-73CB4B66-57C6-396C-9B10-CB9248FD8B13"><a name="GUID-73CB4B66-57C6-396C-9B10-CB9248FD8B13"><!-- --></a>
		<h2 class="topictitle2">PostSendOperations()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>PostSendOperations</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Operations to perform after attempting to send a set of objects. May be overridden. Default implementation is blank. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-89C82C50-3E67-38DB-9A5C-647167E851C0"><a name="GUID-89C82C50-3E67-38DB-9A5C-647167E851C0"><!-- --></a>
		<h2 class="topictitle2">PreConnectOperations()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>PreConnectOperations</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Operations to perform before attempting a connection. As multiple connection attempts can be made, it is necessary for this routine to ensure it can handle being called multiple times. May be overridden. Default implementation is blank. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-33CCF518-C6D8-3462-A538-3278D3C7FFAE"><a name="GUID-33CCF518-C6D8-3462-A538-3278D3C7FFAE"><!-- --></a>
		<h2 class="topictitle2">PreSendOperations()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>PreSendOperations</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>Operations to perform before attempting to send a set of objects. May be overridden. Default implementation is blank. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-0369CAF8-43BA-3705-8938-59109C6E3975"><a name="GUID-0369CAF8-43BA-3705-8938-59109C6E3975"><!-- --></a>
		<h2 class="topictitle2">PrepareCurrentObjectAndSetStateL()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>PrepareCurrentObjectAndSetStateL</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Loads the next object to be sent, whether an attachment or a file in the file list.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrXXX system wide error codes </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-ACB99409-B08D-39D9-9BAB-488BD31F3CEA"><a name="GUID-ACB99409-B08D-39D9-9BAB-488BD31F3CEA"><!-- --></a>
		<h2 class="topictitle2">ProgressL()</h2>
		<table class="signature"><tr><td>IMPORT_C const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>ProgressL</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Returns current progress information.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrXXX system wide error codes </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-E0C558B3-5890-31EE-82BD-127D4A02A367"><a name="GUID-E0C558B3-5890-31EE-82BD-127D4A02A367"><!-- --></a>
		<h2 class="topictitle2">RealRunL()</h2>
		<table class="signature"><tr><td>void</td><td>RealRunL</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Implementation of the send operation state machine. Progresses as: Initialise--&gt;Connect--&gt;ConnectAttemptComplete--&gt;SendObject--&gt;(SendNextObject--&gt;)SendComplete--&gt;Disconnected The SendNextObject state is repeated for each attachment in excess of one. Also handles UserCancelled and SendError states by CompleteObserver()ing with appropriate error codes. Leaves will be passed back to RunL and handled there.</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>KErrXXX system wide error codes </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-796D4833-9CFF-3968-8BB7-F0956932DFA9"><a name="GUID-796D4833-9CFF-3968-8BB7-F0956932DFA9"><!-- --></a>
		<h2 class="topictitle2">RunL()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>RunL</td><td>(</td><td>)</td><td>[private, virtual]</td></tr></table><div class="section"><div>
				<p>Calls <a href="GUID-3370A2C8-1071-391F-B78E-87A97E030F76.html#GUID-E0C558B3-5890-31EE-82BD-127D4A02A367">RealRunL()</a>, and traps errors</p>

				<div class="p">
					<dl class="user">
						
							<dt class="dlterm">
								<strong>leave</strong>
							</dt>

							<dd>Leaves with errors from <a href="GUID-3370A2C8-1071-391F-B78E-87A97E030F76.html#GUID-E0C558B3-5890-31EE-82BD-127D4A02A367">RealRunL()</a> </dd>

						
					</dl>

				</div>

			</div></div>

	</div>
<div class="nested1" id="GUID-EAD81B9F-3131-3B77-BD09-FAF713F2B62C"><a name="GUID-EAD81B9F-3131-3B77-BD09-FAF713F2B62C"><!-- --></a>
		<h2 class="topictitle2">SecondPhaseObexClientInitL()</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>SecondPhaseObexClientInitL</td><td>(</td><td>)</td><td>[virtual]</td></tr></table><div class="section"><div>
				<p>This is not required to do anything in the base implementation. </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-AC8800D5-04C0-350E-A2F9-BDA5C78567DE"><a name="GUID-AC8800D5-04C0-350E-A2F9-BDA5C78567DE"><!-- --></a>
		<h2 class="topictitle2">SynchronousEntryDelete()</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>SynchronousEntryDelete</td><td>(</td><td>)</td><td>[private]</td></tr></table><div class="section"><div>
				<p>Delete the outbox entry as operation has 'completed'. Will be invisible&amp;InPreparation anyway (MS delete will delete it the next time it starts). </p>

			</div></div>

	</div>
<div class="nested1" id="GUID-6F795F43-2541-3A8F-A9F4-36C28C785C6F"><a name="GUID-6F795F43-2541-3A8F-A9F4-36C28C785C6F"><!-- --></a>
		<h2 class="topictitle2">TimeOut()</h2>
		<table class="signature"><tr><td>void</td><td>TimeOut</td><td>(</td><td>)</td><td/></tr></table><div class="section"><div>
				<p>Called when the current operation times out. Causes the current operation to be cancelled, then reactivates with the appropriate error code (KErrIrObexClientNoDevicesFound or KErrIrObexClientPutPeerAborted). </p>

			</div></div>

	</div>
<h1 class="pageHeading topictitle1">Member Data Documentation</h1><div class="nested1" id="GUID-D58ADF1B-EF0B-3E70-B9EF-3395C968C502"><a name="GUID-D58ADF1B-EF0B-3E70-B9EF-3395C968C502"><!-- --></a>
		<h2 class="topictitle2">
					TBool
				 iAsyncInit</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>iAsyncInit</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-7AD41A10-3B65-3246-9208-4B32AF79ED6D"><a name="GUID-7AD41A10-3B65-3246-9208-4B32AF79ED6D"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iAttachmentEntryCount</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iAttachmentEntryCount</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-B3357173-7ECE-34E0-B0D1-23B04B8A61FD"><a name="GUID-B3357173-7ECE-34E0-B0D1-23B04B8A61FD"><!-- --></a>
		<h2 class="topictitle2">
					TBool
				 iCancelWithoutCompleting</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>iCancelWithoutCompleting</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-4FBB382A-3757-3584-A778-C93D6C41D74E"><a name="GUID-4FBB382A-3757-3584-A778-C93D6C41D74E"><!-- --></a>
		<h2 class="topictitle2">
					HBufC * iConnectPassword</h2>
		<table class="signature"><tr><td>
					<a href="GUID-3D3D9CD7-C8FD-3F81-9CC5-1A71D4F9751E.html">HBufC</a> *</td><td>iConnectPassword</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-6B25334A-0DF7-3F7F-B44C-F421A4C4A55D"><a name="GUID-6B25334A-0DF7-3F7F-B44C-F421A4C4A55D"><!-- --></a>
		<h2 class="topictitle2">const TInt iConnectTimeout</h2>
		<table class="signature"><tr><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>iConnectTimeout</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-E268CFF7-1376-32F1-963F-9BC80B421645"><a name="GUID-E268CFF7-1376-32F1-963F-9BC80B421645"><!-- --></a>
		<h2 class="topictitle2">
					TBool
				 iLastSendAttempt</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TBool</a>
				</td><td>iLastSendAttempt</td><td>[protected]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-0F0B1873-3996-3483-A38F-97CC94D88EAD"><a name="GUID-0F0B1873-3996-3483-A38F-97CC94D88EAD"><!-- --></a>
		<h2 class="topictitle2">
					CMsvEntrySelection * iMoveEntrySelection</h2>
		<table class="signature"><tr><td>
					<a href="GUID-6BC8851B-D913-3CE5-B343-5163661E8AD5.html">CMsvEntrySelection</a> *</td><td>iMoveEntrySelection</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-F0EF3762-1003-3842-ACB9-403EFB74BAB3"><a name="GUID-F0EF3762-1003-3842-ACB9-403EFB74BAB3"><!-- --></a>
		<h2 class="topictitle2">
					CMsvOperation * iMoveOperation</h2>
		<table class="signature"><tr><td>
					<a href="GUID-AF724192-6580-3DE3-9287-3A005C0AA932.html">CMsvOperation</a> *</td><td>iMoveOperation</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-7F7B6664-C101-3993-B93B-CC36AB65B2D5"><a name="GUID-7F7B6664-C101-3993-B93B-CC36AB65B2D5"><!-- --></a>
		<h2 class="topictitle2">
					CMsvServerEntry &amp; iMsvSendParent</h2>
		<table class="signature"><tr><td>
					<a href="GUID-681B56F3-B3A2-3147-B25A-FD69451F4A1D.html">CMsvServerEntry</a> &amp;</td><td>iMsvSendParent</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-EADA9A04-39F7-3935-8E6F-E83C0A702170"><a name="GUID-EADA9A04-39F7-3935-8E6F-E83C0A702170"><!-- --></a>
		<h2 class="topictitle2">const TUid iMtm</h2>
		<table class="signature"><tr><td>const <a href="GUID-530281E6-29FC-33F2-BC9B-610FBA389444.html">TUid</a></td><td>iMtm</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-D8995BB5-1443-3D7E-BA02-7123F8583655"><a name="GUID-D8995BB5-1443-3D7E-BA02-7123F8583655"><!-- --></a>
		<h2 class="topictitle2">
					TInt
				 iNextAttachment</h2>
		<table class="signature"><tr><td>
					<a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a>
				</td><td>iNextAttachment</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-C079C33D-DE04-3F2D-B6ED-F9948B742E77"><a name="GUID-C079C33D-DE04-3F2D-B6ED-F9948B742E77"><!-- --></a>
		<h2 class="topictitle2">
					CObexClient * iObexClient</h2>
		<table class="signature"><tr><td>
					<a href="GUID-8D8568F5-39B3-34D0-8B90-07358B7D3A1C.html">CObexClient</a> *</td><td>iObexClient</td><td>[protected]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-99C5AA35-E860-3612-B631-CFB332F3E189"><a name="GUID-99C5AA35-E860-3612-B631-CFB332F3E189"><!-- --></a>
		<h2 class="topictitle2">
					CObexFileObject * iObexObject</h2>
		<table class="signature"><tr><td>
					<a href="GUID-F15439CE-9D6C-3ABA-9C77-160140DFFE2E.html">CObexFileObject</a> *</td><td>iObexObject</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-AD0D6AF7-CDED-3420-9C0F-DC69C8DFC048"><a name="GUID-AD0D6AF7-CDED-3420-9C0F-DC69C8DFC048"><!-- --></a>
		<h2 class="topictitle2">
					TRequestStatus &amp; iObserverRequestStatus</h2>
		<table class="signature"><tr><td>
					<a href="GUID-E0B34F3E-D4C4-3232-B8B1-7DB35B454646.html">TRequestStatus</a> &amp;</td><td>iObserverRequestStatus</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-97DF73EC-2CA9-3A9E-A430-4810C899CE4A"><a name="GUID-97DF73EC-2CA9-3A9E-A430-4810C899CE4A"><!-- --></a>
		<h2 class="topictitle2">
					TPckgBuf&lt; TObexMtmProgress &gt; iProgressPckg</h2>
		<table class="signature"><tr><td>
					<a href="GUID-C7A094BD-846F-3ED2-8CCE-C0743DB3712A.html">TPckgBuf</a>&lt; <a href="GUID-4F19B3DB-0DA8-324F-986B-F20B933AFCF1.html">TObexMtmProgress</a> &gt;</td><td>iProgressPckg</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-21854D3D-518C-3072-8C1F-D0F70723E9A8"><a name="GUID-21854D3D-518C-3072-8C1F-D0F70723E9A8"><!-- --></a>
		<h2 class="topictitle2">const TInt iPutTimeout</h2>
		<table class="signature"><tr><td>const <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>iPutTimeout</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-ED99CB90-FDCC-3DD1-8F36-2B22802D53CB"><a name="GUID-ED99CB90-FDCC-3DD1-8F36-2B22802D53CB"><!-- --></a>
		<h2 class="topictitle2">
					TFileName
				 iSendFile</h2>
		<table class="signature"><tr><td>
					<a href="GUID-0B9C8884-6BFF-35E2-AA6F-E4057B85AFCF.html">TFileName</a>
				</td><td>iSendFile</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-B53FC9F5-C233-34EE-8833-B7FA600D1768"><a name="GUID-B53FC9F5-C233-34EE-8833-B7FA600D1768"><!-- --></a>
		<h2 class="topictitle2">
					TObexMtmProgress::TSendState
				 iSendState</h2>
		<table class="signature"><tr><td>
					<a href="GUID-4F19B3DB-0DA8-324F-986B-F20B933AFCF1.html">TObexMtmProgress::TSendState</a>
				</td><td>iSendState</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-D239CC4D-85E8-3F3B-A3B2-24B164C0F73D"><a name="GUID-D239CC4D-85E8-3F3B-A3B2-24B164C0F73D"><!-- --></a>
		<h2 class="topictitle2">
					TFileName
				 iServicePath</h2>
		<table class="signature"><tr><td>
					<a href="GUID-0B9C8884-6BFF-35E2-AA6F-E4057B85AFCF.html">TFileName</a>
				</td><td>iServicePath</td><td>[private]</td></tr></table><div class="section"></div>

	</div>
<div class="nested1" id="GUID-889EF922-CCB8-3C83-A4C9-4B67F1245A54"><a name="GUID-889EF922-CCB8-3C83-A4C9-4B67F1245A54"><!-- --></a>
		<h2 class="topictitle2">
					CObexSendOpTimeout * iTimeoutTimer</h2>
		<table class="signature"><tr><td>
					<a href="GUID-ABCB71B9-0307-3413-90B5-989E75D5BB77.html">CObexSendOpTimeout</a> *</td><td>iTimeoutTimer</td><td>[private]</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>