<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Adding a Device to the Start of the List"/>
<meta name="abstract" content="This topic shows you how to add a device to the first position in the list."/>
<meta name="description" content="This topic shows you how to add a device to the first position in the list."/>
<meta name="DC.Relation" scheme="URI" content="GUID-F560405C-582D-5D43-9D00-8220ABC4810E.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5CBF9CB3-1914-571C-B634-715EAF1272DA.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5454AFE9-ADC2-5980-85FC-3FF457B638D0.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-2A137918-D949-5017-BB00-B93CFA8AA65F.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F560405C-582D-5D43-9D00-8220ABC4810E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5CAF1B85-853F-5450-B79B-7E768DFA44EC.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-9619335F-7345-5C9B-BAF6-4C3D8172ECE6"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Adding a Device to the Start of the List</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-9619335F-7345-5C9B-BAF6-4C3D8172ECE6"><a name="GUID-9619335F-7345-5C9B-BAF6-4C3D8172ECE6"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2402590 id2403469 id2403500 id2403561 id2403576 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html">Location Based Services (LBS) Guide</a> &gt; <a href="GUID-5CBF9CB3-1914-571C-B634-715EAF1272DA.html" title="The Data Source Modules collection contains components that enable the LBS subsystem to obtain position data.">Data Source Modules</a> &gt; <a href="GUID-5454AFE9-ADC2-5980-85FC-3FF457B638D0.html" title="The Bluetooth GPS Positioning Module (Bluetooth GPS PSY) connects the LBS subsystem to an external Bluetooth GPS device.">Bluetooth GPS Positioning Module</a> &gt; <a href="GUID-2A137918-D949-5017-BB00-B93CFA8AA65F.html" title="The Bluetooth GPS PSY Configuration API enables client applications to manage a list of Bluetooth GPS devices.">Bluetooth GPS PSY Configuration API</a> &gt; <a href="GUID-F560405C-582D-5D43-9D00-8220ABC4810E.html">Bluetooth GPS PSY Configuration API Tutorial</a> &gt; </div>
<h1 class="topictitle1">Adding a Device to the Start of the List </h1>
<div><p>This topic shows you how to add a device to the first position in the list. </p>
<div class="section"><p>The position of a device in the list is represented by a position index, where 0 indicates the start of the list, followed by 1 ,2, 3 and so on. Adding a device to the start of the list means that the device is the first device that the Bluetooth GPS PSY attempts to connect to. </p>
 <p>To add a device to the list, its Bluetooth device address (<a href="GUID-D6B126B5-A6AA-37E1-845F-4D650033C603.html"><span class="apiname">TBTDevAddr</span></a>) must be specified. A device's Bluetooth address is obtained by looking up the device in the Bluetooth Registry. Note that device addresses must be unique within the list. </p>
 </div>
 <div class="p" id="GUID-9619335F-7345-5C9B-BAF6-4C3D8172ECE6__GUID-4E8C55B2-8866-5257-8F87-C00DD8859422"><a name="GUID-9619335F-7345-5C9B-BAF6-4C3D8172ECE6__GUID-4E8C55B2-8866-5257-8F87-C00DD8859422"><!-- --></a><span>Call <a href="GUID-2D92CE4A-3784-35E6-969F-504888DFA4FF.html#GUID-2D92CE4A-3784-35E6-969F-504888DFA4FF__GUID-5F3D5F3F-42AE-334D-AA8F-918F579C72EB"><span class="apiname">CLbsBtGpsConfig::AddDevice(const TBTDevAddr&amp;,
                TInt, TLbsBtGpsEntryKey&amp;)</span></a>. This function takes the address of the new device and the position in the list as input. Set <samp class="codeph">aPosition</samp> = 0 to add the device to the start of the list. </span>  <pre class="codeblock" id="GUID-9619335F-7345-5C9B-BAF6-4C3D8172ECE6__GUID-F09D1B14-82D5-5117-965F-B88E975113F6"><a name="GUID-9619335F-7345-5C9B-BAF6-4C3D8172ECE6__GUID-F09D1B14-82D5-5117-965F-B88E975113F6"><!-- --></a>// Add a new device at the start of the list
TInt err;
TBTDevAddr deviceAddress;
TLbsBtGpsEntryKey key;
err = iConfig-&gt;AddDevice(deviceAddress, 0, key);
</pre>
   <p>Upon success, this step returns <samp class="codeph">KErrNone</samp> and the unique key (type <a href="GUID-4BAA1E3B-D73C-34CC-9FCA-D5D7924773DB.html"><span class="apiname">TLbsBtGpsEntryKey</span></a>) that identifies the new device. The key is returned via the key reference that is passed in. The key is used to identify the device in any future operations, such as moving or removing. </p>
 <p>If the address of the device being added is the same as one already in the list, then <samp class="codeph">KErrAlreadyExists</samp> is returned. </p>
  </div>
 <div class="section"><p>The device is added to the first position in the list. If the connection to this device fails, then the Bluetooth GPS PSY moves onto the next in the list. </p>
 </div>
 <div class="section"><p><a href="GUID-DEF5784C-FE4A-57FE-834D-3C4C0E179007.html" title="This topic shows you how to move a device to a new position in the list.">Moving a Device to a New Position in the List</a>  </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-F560405C-582D-5D43-9D00-8220ABC4810E.html">Bluetooth GPS PSY Configuration API Tutorial</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-5CAF1B85-853F-5450-B79B-7E768DFA44EC.html" title="This document describes the Bluetooth GPS PSY Configuration API and is aimed at application developers who want to create applications for managing a list of Bluetooth GPS devices.">Bluetooth
                GPS PSY Configuration API Overview</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>