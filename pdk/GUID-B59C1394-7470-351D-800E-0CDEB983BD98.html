<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="cxxClass"/>
<meta name="DC.Title" content="UsbDescriptorParser"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-B59C1394-7470-351D-800E-0CDEB983BD98"/>

<title>UsbDescriptorParser</title>

<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->
<meta name="keywords" content="api"/><link rel="stylesheet" type="text/css" href="cxxref.css"/></head>
<body class="cxxref" id="GUID-B59C1394-7470-351D-800E-0CDEB983BD98"><a name="GUID-B59C1394-7470-351D-800E-0CDEB983BD98"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2437088 id2437096 id2578593 id2557087 id2441463 id2441468 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">
<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt;</div>
<h1 class="topictitle1">UsbDescriptorParser Class Reference</h1>
	<table class="signature"><tr><td>class UsbDescriptorParser</td></tr></table><div class="section"><div>
			<p>The Symbian USB Descriptor Parsing Framework class.</p>

			<p>This class is to aid users of USBDI by providing the facilities to parse the raw descriptor data into wrapper classes that allow access to the fields in the descriptor bodies, and pointers to map the serial data blob into the tree structure that descriptors logically have.</p>

			<p>Intended to be available to 3rd parties later  </p>

		</div></div>
<div class="section member-index"><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td><a href="#GUID-B6CB37DF-63FD-35ED-ADF9-28703A511BC6">Parse</a>(const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;, <a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *&amp;)</td></tr><tr class="bg"><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-8C598AF1-9E17-3CA0-87CF-1FD7294D568A">RegisterCustomParserL</a>(<a href="GUID-B59C1394-7470-351D-800E-0CDEB983BD98.html">TUsbDescriptorParserL</a>)</td></tr><tr><td align="right" class="code">IMPORT_C void</td><td><a href="#GUID-8B9A8C7D-AE83-3D49-A7FD-4544A0FDF1AF">UnregisterCustomParser</a>(<a href="GUID-B59C1394-7470-351D-800E-0CDEB983BD98.html">TUsbDescriptorParserL</a>)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Private Member Functions</th></tr></thead><tbody><tr><td align="right" class="code">void</td><td><a href="#GUID-F83143CD-E48C-311B-8949-B90343EAA598">BuildTreeL</a>(<a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp;, <a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *</td><td><a href="#GUID-43DDF186-0D72-3012-842E-198F90B512C9">FindParserAndParseAndCheckL</a>(<a href="GUID-6DF731E4-5691-31C4-BEE0-03A3873F15EC.html">TPtrC8</a> &amp;, <a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *)</td></tr><tr><td align="right" class="code">
					<a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *</td><td><a href="#GUID-D584B9C0-BD92-36ED-91C0-19F4D2F37862">FindParserAndParseL</a>(<a href="GUID-6DF731E4-5691-31C4-BEE0-03A3873F15EC.html">TPtrC8</a> &amp;, <a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp;</td><td><a href="#GUID-1CF98773-368C-34A2-9E10-0138F670544C">FindSuitableParentL</a>(<a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp;, <a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp;)</td></tr><tr><td align="right" class="code">void</td><td><a href="#GUID-D2A97E2F-45AA-3F58-A279-6A52C29D2CC5">ParseDescriptorTreeL</a>(<a href="GUID-6DF731E4-5691-31C4-BEE0-03A3873F15EC.html">TPtrC8</a> &amp;, <a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp;)</td></tr><tr class="bg"><td align="right" class="code">
					<a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *</td><td><a href="#GUID-72CC5BCD-D476-3FCE-A8AF-092F1831F150">UnknownUsbDescriptorParserL</a>(<a href="GUID-6DF731E4-5691-31C4-BEE0-03A3873F15EC.html">TPtrC8</a> &amp;, <a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *)</td></tr></tbody></table><table border="0" class="member-index"><thead><tr><th colspan="2">Public Member Type Definitions</th></tr></thead><tbody><tr><td align="right" valign="top">typedef</td><td>
					<a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *(* <a href="#GUID-0BF16F6E-71D3-3654-BEA8-D5554E3FFD9B">TUsbDescriptorParserL</a></td></tr></tbody></table></div><h1 class="pageHeading topictitle1">Member Functions Documentation</h1><div class="nested1" id="GUID-F83143CD-E48C-311B-8949-B90343EAA598"><a name="GUID-F83143CD-E48C-311B-8949-B90343EAA598"><!-- --></a>
		<h2 class="topictitle2">BuildTreeL(TUsbGenericDescriptor &amp;, TUsbGenericDescriptor &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>BuildTreeL</td><td>(</td><td><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp;</td><td>aNewDesc,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp;</td><td>aPreviousDesc</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private, static]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp; aNewDesc</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp; aPreviousDesc</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-43DDF186-0D72-3012-842E-198F90B512C9"><a name="GUID-43DDF186-0D72-3012-842E-198F90B512C9"><!-- --></a>
		<h2 class="topictitle2">FindParserAndParseAndCheckL(TPtrC8 &amp;, TUsbGenericDescriptor *)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *</td><td>FindParserAndParseAndCheckL</td><td>(</td><td><a href="GUID-6DF731E4-5691-31C4-BEE0-03A3873F15EC.html">TPtrC8</a> &amp;</td><td>aUsbDes,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *</td><td>aPreviousDesc</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private, static]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-6DF731E4-5691-31C4-BEE0-03A3873F15EC.html">TPtrC8</a> &amp; aUsbDes</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> * aPreviousDesc</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D584B9C0-BD92-36ED-91C0-19F4D2F37862"><a name="GUID-D584B9C0-BD92-36ED-91C0-19F4D2F37862"><!-- --></a>
		<h2 class="topictitle2">FindParserAndParseL(TPtrC8 &amp;, TUsbGenericDescriptor *)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *</td><td>FindParserAndParseL</td><td>(</td><td><a href="GUID-6DF731E4-5691-31C4-BEE0-03A3873F15EC.html">TPtrC8</a> &amp;</td><td>aUsbDes,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *</td><td>aPreviousDesc</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private, static]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-6DF731E4-5691-31C4-BEE0-03A3873F15EC.html">TPtrC8</a> &amp; aUsbDes</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> * aPreviousDesc</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-1CF98773-368C-34A2-9E10-0138F670544C"><a name="GUID-1CF98773-368C-34A2-9E10-0138F670544C"><!-- --></a>
		<h2 class="topictitle2">FindSuitableParentL(TUsbGenericDescriptor &amp;, TUsbGenericDescriptor &amp;)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp;</td><td>FindSuitableParentL</td><td>(</td><td><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp;</td><td>aNewDesc,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp;</td><td>aTopParent</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private, static]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp; aNewDesc</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp; aTopParent</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-B6CB37DF-63FD-35ED-ADF9-28703A511BC6"><a name="GUID-B6CB37DF-63FD-35ED-ADF9-28703A511BC6"><!-- --></a>
		<h2 class="topictitle2">Parse(const TDesC8 &amp;, TUsbGenericDescriptor *&amp;)</h2>
		<table class="signature"><tr><td>IMPORT_C <a href="GUID-FC2F2B93-3D18-3BCC-9FD6-6BC6B240B667.html">TInt</a></td><td>Parse</td><td>(</td><td>const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp;</td><td>aUsbDes,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *&amp;</td><td>aDesc</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[static]</td></tr></table><div class="section"><div>
				<p>The main parsing function of the USB descriptor parsing framework.</p>

				<p>This will perform a best effort parse of a USB descriptor tree. It is best effort in the fact that upon encountering a form of syntatic corruption in the source data it will error the parse attempt, but also return the incomplete descriptor tree up to the parsing error.</p>

				<p/>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter">const <a href="GUID-FB97E0A3-352A-316F-97C6-69E4741A8120.html">TDesC8</a> &amp; aUsbDes</td><td>The source data that will be parsed.  </td></tr><tr class="bg"><td class="parameter"><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *&amp; aDesc</td><td>The pointer that will be updated to the top-level descriptor. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-D2A97E2F-45AA-3F58-A279-6A52C29D2CC5"><a name="GUID-D2A97E2F-45AA-3F58-A279-6A52C29D2CC5"><!-- --></a>
		<h2 class="topictitle2">ParseDescriptorTreeL(TPtrC8 &amp;, TUsbGenericDescriptor &amp;)</h2>
		<table class="signature"><tr><td>void</td><td>ParseDescriptorTreeL</td><td>(</td><td><a href="GUID-6DF731E4-5691-31C4-BEE0-03A3873F15EC.html">TPtrC8</a> &amp;</td><td>aUsbDes,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp;</td><td>aPreviousDesc</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private, static]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-6DF731E4-5691-31C4-BEE0-03A3873F15EC.html">TPtrC8</a> &amp; aUsbDes</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> &amp; aPreviousDesc</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-8C598AF1-9E17-3CA0-87CF-1FD7294D568A"><a name="GUID-8C598AF1-9E17-3CA0-87CF-1FD7294D568A"><!-- --></a>
		<h2 class="topictitle2">RegisterCustomParserL(TUsbDescriptorParserL)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>RegisterCustomParserL</td><td>(</td><td><a href="GUID-B59C1394-7470-351D-800E-0CDEB983BD98.html">TUsbDescriptorParserL</a></td><td>aParserFunc</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>The function to register a custom parsing routine in the USB descriptor parser framework.</p>

				<p>The routine is registered locally to the current thread, and so if an application wishes to perform the same custom parsing in multiple threads, it must call this function with the appropriate routine in each thread context.</p>

				<p>If the custom routine becomes unapplicable after being registered, the application may unregister it using the <a href="GUID-B59C1394-7470-351D-800E-0CDEB983BD98.html#GUID-8B9A8C7D-AE83-3D49-A7FD-4544A0FDF1AF">UsbDescriptorParser::UnregisterCustomParser</a> function. <a href="GUID-B59C1394-7470-351D-800E-0CDEB983BD98.html#GUID-8B9A8C7D-AE83-3D49-A7FD-4544A0FDF1AF">UsbDescriptorParser::UnregisterCustomParser</a></p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-B59C1394-7470-351D-800E-0CDEB983BD98.html">TUsbDescriptorParserL</a> aParserFunc</td><td>The routine which will be added to the USB descriptor parsing framework. </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-72CC5BCD-D476-3FCE-A8AF-092F1831F150"><a name="GUID-72CC5BCD-D476-3FCE-A8AF-092F1831F150"><!-- --></a>
		<h2 class="topictitle2">UnknownUsbDescriptorParserL(TPtrC8 &amp;, TUsbGenericDescriptor *)</h2>
		<table class="signature"><tr><td>
					<a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *</td><td>UnknownUsbDescriptorParserL</td><td>(</td><td><a href="GUID-6DF731E4-5691-31C4-BEE0-03A3873F15EC.html">TPtrC8</a> &amp;</td><td>aUsbDes,</td></tr><tr><td colspan="3"> </td><td><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *</td><td>aPreviousDesc</td></tr><tr><td colspan="2"> </td><td>)</td><td colspan="2">[private, static]</td></tr></table><div class="section"></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-6DF731E4-5691-31C4-BEE0-03A3873F15EC.html">TPtrC8</a> &amp; aUsbDes</td><td> </td></tr><tr class="bg"><td class="parameter"><a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> * aPreviousDesc</td><td> </td></tr></table></div>

	</div>
<div class="nested1" id="GUID-8B9A8C7D-AE83-3D49-A7FD-4544A0FDF1AF"><a name="GUID-8B9A8C7D-AE83-3D49-A7FD-4544A0FDF1AF"><!-- --></a>
		<h2 class="topictitle2">UnregisterCustomParser(TUsbDescriptorParserL)</h2>
		<table class="signature"><tr><td>IMPORT_C void</td><td>UnregisterCustomParser</td><td>(</td><td><a href="GUID-B59C1394-7470-351D-800E-0CDEB983BD98.html">TUsbDescriptorParserL</a></td><td>aParserFunc</td><td>)</td><td>[static]</td></tr></table><div class="section"><div>
				<p>The function to unregister a custom parsing routine in the USB descriptor parser framework.</p>

				<p>This routine will only unregister the routine from the current thread context. If the routine is registered in multiple threads and it is no longer wanted in any thread, an application must call this function in each thread context that the routine is registered.</p>

				<p>It is safe to call this function even if RegisterCustomParserL has never been called successfully.</p>

				<p>
					<a href="GUID-B59C1394-7470-351D-800E-0CDEB983BD98.html#GUID-8C598AF1-9E17-3CA0-87CF-1FD7294D568A">UsbDescriptorParser::RegisterCustomParserL</a>
				</p>

			</div></div>
<div class="section parameters"><h3 class="sectiontitle">Parameters</h3><table border="0" class="parameters"><tr><td class="parameter"><a href="GUID-B59C1394-7470-351D-800E-0CDEB983BD98.html">TUsbDescriptorParserL</a> aParserFunc</td><td>The routine which will be removed from the USB descriptor parsing framework. </td></tr></table></div>

	</div>
<h1 class="pageHeading topictitle1">Member Type Definitions Documentation</h1><div class="nested1" id="GUID-0BF16F6E-71D3-3654-BEA8-D5554E3FFD9B"><a name="GUID-0BF16F6E-71D3-3654-BEA8-D5554E3FFD9B"><!-- --></a>
		<h2 class="topictitle2">Typedef TUsbDescriptorParserL</h2>
		<table class="signature"><tr><td>typedef 
					<a href="GUID-B3A58B1C-98FB-3DF2-96EF-59BA35143E5F.html">TUsbGenericDescriptor</a> *(*</td><td>TUsbDescriptorParserL</td></tr></table><div class="section"></div>

	</div>

	
	
	
	
	
	
	
	
	
	
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>