<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="DirectGDI Component Overview"/>
<meta name="abstract" content="This topic provides an introduction to the DirectGDI component. DirectGDI provides a graphics context that can be hardware accelerated, and allows an asynchronous interface."/>
<meta name="description" content="This topic provides an introduction to the DirectGDI component. DirectGDI provides a graphics context that can be hardware accelerated, and allows an asynchronous interface."/>
<meta name="DC.Relation" scheme="URI" content="GUID-A2E07A3C-B3A8-50B9-BD60-F1F01795FA24.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E89F034F-C807-5FF9-B06B-F7CCD2441041.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-A2E07A3C-B3A8-50B9-BD60-F1F01795FA24.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-936A024F-FFBA-530E-A2C6-C835B71633F7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E2A886E1-39FD-517F-870E-3B1BCD49E8CD.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E9C6DBBF-1910-595D-94A1-67664CF7B7A6.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>DirectGDI Component Overview</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61"><a name="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2384330 id2385294 id2386774 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-975CBC70-81E6-5FA2-80CE-88DD2ABE9595.html">Graphics Guide</a> &gt; <a href="GUID-E89F034F-C807-5FF9-B06B-F7CCD2441041.html" title="The Graphics Device Interface (GDI) collection provides important functionality within the Graphics subsystem. The functionality includes graphics device abstraction, linear digital differential analysis, font description and information, printer devices abstraction, line breaking and text rendering.">Graphics Device Interface (GDI) Collection</a> &gt; <a href="GUID-A2E07A3C-B3A8-50B9-BD60-F1F01795FA24.html" title="The DirectGDI component provides a graphics context that can be hardware accelerated, and allows an asynchronous interface.">DirectGDI Component</a> &gt; </div>
<h1 class="topictitle1">DirectGDI
Component Overview</h1>
<div><p>This topic provides an introduction to the DirectGDI component.
DirectGDI provides a graphics context that can be hardware accelerated, and
allows an asynchronous interface. </p>

<p><strong>Target audience</strong>: Device creators. </p>

<div class="note"><span class="notetitle">Note:</span> DirectGDI is deprecated in Symbian^3.</div>

<p>The DirectGDI framework has two parts: a generic layer, which provides
a client API and an adaptation layer. Device creators can replace the adaptation
layer with an implementation that takes advantage of graphics accelerated
hardware, if it is available, or a software implementation, if it is not available.
This section covers the generic layer. </p>

<p>Window Server rendering is performed by one or more <a href="GUID-3A2785D4-6185-50C3-8D7E-5D94CD2B7C98.html" title="This section provides information about the render stage framework in ScreenPlay. This framework enables device creators to change the lower layers of the rendering pipeline without changing the Window Server code.">render
stage plug-ins</a>, which device creators can also replace. In ScreenPlay,
the Symbian render stage plug-in uses DirectGDI rather than the older BitGDI
component. This means that existing Window Server applications can potentially
take advantage of hardware acceleration (and therefore run faster) without
recompiling the code. </p>

<p>The following diagram shows the usage of the DirectGDI component. In this
diagram the application is a regular GUI application that draws using the
Symbian Window Server API. </p>

<div class="fignone" id="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-E0731CEB-BA28-5F07-8584-16286D439433"><a name="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-E0731CEB-BA28-5F07-8584-16286D439433"><!-- --></a><span class="figcap">Figure 1.  Usage of DirectGDI          </span>

<img src="GUID-E401D2B1-5360-57E3-99D6-3D08730E6C09_d0e267711_href.png"/>
</div>

<p>The Symbian DirectGDI adaptation uses the <a href="GUID-82B0B4B9-6BC2-5BEF-B3B0-D57AC57F8D8A.html" title="The Graphics Resource component is not available on all systems. When present, together with the Graphics Resource Adaptation component, it provides an abstraction layer for the memory management of graphics data, both pixel data and non-pixel data (such as OpenVG command lists). The Graphics Resource component is the generic part, which provides the client API, whereas the Graphics Resource Adaptation component provides the adaptation part, which device creators can adapt to suit their graphics acceleration hardware if any is available.">Graphics
Resource component</a>, which provides an abstraction layer for the memory
management of pixel and non-pixel data (such as a list of VG commands). The
Graphics Resource component supports uniform and non-uniform memory architectures,
but is not available on all platforms. Like DirectGDI, the Graphics Resource
component has generic and adaptation layers. When it is available, device
creators can tailor the adaptation for a specific graphics hardware accelerator.
The Symbian reference Graphics Resource adaptation uses surfaces. </p>

<div class="section" id="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-EB8CE781-DA66-4557-87D1-88B0AF97F7B7"><a name="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-EB8CE781-DA66-4557-87D1-88B0AF97F7B7"><!-- --></a><h2 class="sectiontitle">Key concepts
and terms</h2> <p>The key elements of DirectGDI are driver, resources and
drawing context as shown in the following diagram. </p>
 <div class="fignone" id="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-13399385-2DC4-50A2-8DC7-5712BC5325A7"><a name="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-13399385-2DC4-50A2-8DC7-5712BC5325A7"><!-- --></a><span class="figcap">Figure 2.  DirectGDI key elements            </span>

<img src="GUID-1A02B1FB-FDE3-565B-8E52-0F7FD3AC5188_d0e267732_href.png"/>
</div>
 <p> <strong>Driver</strong>. The driver class <a href="GUID-0C7CD826-95FD-3DD2-9394-3A20316C9C61.html"><span class="apiname">CDirectGdiDriver</span></a> implements
platform-specific functionality to create and manage device-dependent drawing
contexts and resources. It defines the Hardware Adaptation Interface (HAI)
that must be implemented by device creators. </p>
 <p> <strong>Drawing Context</strong>. <a href="GUID-09AFDE10-489E-3215-B821-DE7B2D31A007.html"><span class="apiname">CDirectGdiContext</span></a> represents
a new drawing context that is similar to <a href="GUID-4A501086-7EFF-376D-8901-6D9B2EB4EFF2.html"><span class="apiname">CFbsBitGc</span></a> and <a href="GUID-B782C9A1-D7CB-3BD7-8167-27F5E3F00CB0.html"><span class="apiname">CWindowsGc</span></a>,
but without functions (such as read-modify-write functions like <samp class="codeph">SetFaded()</samp>)
that are not suitable for hardware acceleration. <a href="GUID-09AFDE10-489E-3215-B821-DE7B2D31A007.html"><span class="apiname">CDirectGdiContext</span></a> also
provides new rendering operations that are not available via <a href="GUID-4A501086-7EFF-376D-8901-6D9B2EB4EFF2.html"><span class="apiname">CFbsBitGc</span></a>,
such as drawing contents generated using non-native APIs. </p>
 <p> <strong>Resources</strong>.
DirectGDI introduces two new abstractions of graphics resources: <a href="GUID-66A0A534-7BB6-304F-9A5E-17A125DA916F.html"><span class="apiname">RDirectGdiDrawableSource</span></a> and <a href="GUID-8F7C2E3C-3DF6-3C76-85C0-04922A99E9D0.html"><span class="apiname">RDirectGdiImageTarget</span></a>. These resources are created by binding them to the <a href="GUID-6F23F34A-A0BE-349C-ADE7-61A5AEF48018.html"><span class="apiname">RSgDrawable</span></a> or <a href="GUID-EDC0E03F-37F6-3BEC-8FF3-D03C3CDB949C.html"><span class="apiname">RSgImage</span></a> resource
defined in the <a href="GUID-82B0B4B9-6BC2-5BEF-B3B0-D57AC57F8D8A.html" title="The Graphics Resource component is not available on all systems. When present, together with the Graphics Resource Adaptation component, it provides an abstraction layer for the memory management of graphics data, both pixel data and non-pixel data (such as OpenVG command lists). The Graphics Resource component is the generic part, which provides the client API, whereas the Graphics Resource Adaptation component provides the adaptation part, which device creators can adapt to suit their graphics acceleration hardware if any is available.">Graphics
Resource component</a>. </p>
 <p> </p>
 </div>

<div class="section" id="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-F7EFEDD5-B145-46EB-BEF1-4FD84F6753BA"><a name="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-F7EFEDD5-B145-46EB-BEF1-4FD84F6753BA"><!-- --></a><h2 class="sectiontitle">Architectural
relationships</h2> <p>The DirectGDI component provides a framework that
enables graphics hardware acceleration and interleaved rendering. This framework
provides an API for client applications and a Hardware Adaptation Interface
(HAI), which defines interfaces that must be implemented by device and hardware
manufacturers in order to provide the API functionality. The framework has
a dependency on the <a href="GUID-82B0B4B9-6BC2-5BEF-B3B0-D57AC57F8D8A.html" title="The Graphics Resource component is not available on all systems. When present, together with the Graphics Resource Adaptation component, it provides an abstraction layer for the memory management of graphics data, both pixel data and non-pixel data (such as OpenVG command lists). The Graphics Resource component is the generic part, which provides the client API, whereas the Graphics Resource Adaptation component provides the adaptation part, which device creators can adapt to suit their graphics acceleration hardware if any is available.">Graphics
Resource component</a>. </p>
 <p>The Graphics package provides two DirectGDI
adaptations: </p>
 <ul>
<li id="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-C34EF67E-127F-5464-AEA2-01F8FBD482CF"><a name="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-C34EF67E-127F-5464-AEA2-01F8FBD482CF"><!-- --></a><p>a purely software adaptation
that uses existing components to draw to the screen in a similar manner to
BitGDI </p>
 </li>

<li id="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-F80A29B5-E6BE-5190-8CD6-877CA0341745"><a name="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-F80A29B5-E6BE-5190-8CD6-877CA0341745"><!-- --></a><p>a hardware adaptation
that uses OpenVG and EGL APIs. </p>
 </li>

</ul>
 <p>The following figure shows how the DirectGDI generic layer and the
reference adaptations interface with each other. It shows how the software
and hardware adaptations use the same HAI. However, only one adaptation can
be present on a phone. </p>
 <div class="fignone" id="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-DCD69302-90C3-5C1B-BC62-E901EDBE133B"><a name="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-DCD69302-90C3-5C1B-BC62-E901EDBE133B"><!-- --></a><span class="figcap">Figure 3.  DirectGDI architecture            </span>

<img src="GUID-3E2E0C91-14B3-53AC-B797-DEE349688477_d0e267837_href.png"/>
</div>
 <p>For more information about the DirectGDI adaptation layer, see the <a href="GUID-22E46647-D677-5A47-A7E0-E1E0AE736B27.html">DirectGDI Adaptation Overview</a>. </p>
 </div>

<div class="section" id="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-21429397-2B36-4799-869F-5948C282B4A0"><a name="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-21429397-2B36-4799-869F-5948C282B4A0"><!-- --></a><h2 class="sectiontitle">DLL summary</h2> <p>DirectGDI
consists of one DLL, <span class="filepath">directgdi.dll</span>. For more information,
see <a href="GUID-936A024F-FFBA-530E-A2C6-C835B71633F7.html" title="The DirectGDI library provides the key elements of the DirectGDI component—driver, resources and drawing context.">DirectGDI Library </a>. </p>
 </div>

<div class="section" id="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-C8B5A833-6687-4198-A57B-81BE433DE7E7"><a name="GUID-CD4B8ECA-AFE7-593C-B095-5D642EA2EC61__GUID-C8B5A833-6687-4198-A57B-81BE433DE7E7"><!-- --></a><h2 class="sectiontitle">Main usage</h2> <p>The
main usage of DirectGDI is within a Window Server <a href="GUID-3A2785D4-6185-50C3-8D7E-5D94CD2B7C98.html" title="This section provides information about the render stage framework in ScreenPlay. This framework enables device creators to change the lower layers of the rendering pipeline without changing the Window Server code.">render
stage plug-in</a>. This enables the Window Server rendering to be hardware
accelerated when suitable hardware is available. Currently DirectGDI is not
available for use by applications. </p>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-A2E07A3C-B3A8-50B9-BD60-F1F01795FA24.html" title="The DirectGDI component provides a graphics context that can be hardware accelerated, and allows an asynchronous interface.">DirectGDI Component</a></div>
</div>
<div class="relinfo relconcepts"><strong>Related concepts</strong><br/>
<div><a href="GUID-936A024F-FFBA-530E-A2C6-C835B71633F7.html" title="The DirectGDI library provides the key elements of the DirectGDI component—driver, resources and drawing context.">DirectGDI
Library Overview</a></div>
<div><a href="GUID-E2A886E1-39FD-517F-870E-3B1BCD49E8CD.html" title="This tutorial shows how to create an image as a target for off-screen DirectGDI rendering, create a DirectGDI graphics context and use it to issue draw commands to the image and finally display the image in a Window Server window.">Off-Screen
Rendering with                 DirectGDI Tutorial</a></div>
<div><a href="GUID-E9C6DBBF-1910-595D-94A1-67664CF7B7A6.html" title="The DirectGDI Interface component provides a Hardware Adaptation Interface (HAI), which separates the generic and adaptation parts of the DirectGDI functionality. This HAI defines a set of interfaces that are implemented by device creators in order to provide the API functionality.">DirectGDI
Interface Component</a></div>
</div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>