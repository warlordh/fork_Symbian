<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Integrated Circuit Card (ICC) Access Tutorial"/>
<meta name="abstract" content="This tutorial explains how the RMobilePhone functions enables a client to know whether ICC access is available and how to be notified when this access is possible. The RMobilePhone also enables the client to get the functional capabilities of the current ICC."/>
<meta name="description" content="This tutorial explains how the RMobilePhone functions enables a client to know whether ICC access is available and how to be notified when this access is possible. The RMobilePhone also enables the client to get the functional capabilities of the current ICC."/>
<meta name="DC.Relation" scheme="URI" content="GUID-3A834117-B5DC-54F4-96D4-61A6CADBC6DF.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D49696D1-4B84-56B5-909D-A15F599F4B6D.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-BBF6E33F-2E9C-5BB1-8404-87289EC73BFF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3A834117-B5DC-54F4-96D4-61A6CADBC6DF.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-05CDE32C-05B3-519F-9937-757A196400F9"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Integrated Circuit Card (ICC) Access Tutorial</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-05CDE32C-05B3-519F-9937-757A196400F9"><a name="GUID-05CDE32C-05B3-519F-9937-757A196400F9"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2563496 id2563017 id2562829 id2562738 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html" title="Cellular Baseband Services provide a common interface to telephony services for applications and higher level platform components. The framework is independent of the underlying network services.">Cellular Baseband Services Guide</a> &gt; <a href="GUID-D49696D1-4B84-56B5-909D-A15F599F4B6D.html">Telephony Server</a> &gt; <a href="GUID-BBF6E33F-2E9C-5BB1-8404-87289EC73BFF.html" title="The ETel multimode API enables access to common mobile telephony services for a number of air-interface cellular standards or modes. It also enables access to specialised services within the GSM and CDMA IS-95 standards and provides an API that allows switching between supported modes. Currently, GSM, CDMA (IS-95 and cdma2000) and WCDMA (3GPP rel '99) modes are the fully supported modes.">Multimode Telephony</a> &gt; <a href="GUID-3A834117-B5DC-54F4-96D4-61A6CADBC6DF.html" title="This section describes how to implement different multimode phone sub-session tasks.">Multimode Phone Sub-session Tutorials</a> &gt; </div>
<h1 class="topictitle1">Integrated
Circuit Card (ICC) Access Tutorial</h1>
<div><p>This tutorial explains how the <samp class="codeph">RMobilePhone</samp> functions
enables a client to know whether ICC access is available and how to be notified
when this access is possible. The <samp class="codeph">RMobilePhone</samp> also enables
the client to get the functional capabilities of the current ICC. </p>



<div class="section" id="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-C952CF4B-20C4-4D75-9BF8-CA093F71B9ED"><a name="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-C952CF4B-20C4-4D75-9BF8-CA093F71B9ED"><!-- --></a><p>An ICC has different names under the different cellular standards. </p>
 <ul>
<li id="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-3CE9DCD8-2129-5F8C-A4CC-1136CAA7310E"><a name="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-3CE9DCD8-2129-5F8C-A4CC-1136CAA7310E"><!-- --></a><p>The ICC is called as
Subscriber Identity Module (SIM) card in GSM networks. </p>
 </li>

<li id="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-37AB1492-E84B-5643-8922-57B16D809FDC"><a name="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-37AB1492-E84B-5643-8922-57B16D809FDC"><!-- --></a><p>The ICC is called Removable
User Identity Module (R-UIM) in CDMA networks. </p>
 </li>

<li id="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-7D402BEA-D833-5BC3-B6A0-E94687B9C021"><a name="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-7D402BEA-D833-5BC3-B6A0-E94687B9C021"><!-- --></a><p>In WCDMA networks, the
ICC contains a number of applications one of which is known as the Universal
Subscriber Identity Module (USIM) application. </p>
 </li>

</ul>
 <p>The ICC stores the services available in the SIM Service Table (SST)
on a SIM, or the CDMA Service Table on a R-UIM. For DCS1800 systems, there
is also the Customer Service Profile (CSP). The services available reflects
the ICC applications static capabilities combined with the subscription details
of the user. </p>
 </div>

<a name="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-330C5808-2492-57B4-9F70-93E11705E223"><!-- --></a><ol id="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-330C5808-2492-57B4-9F70-93E11705E223"><li class="stepexpand" id="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-6757FD3F-0913-562F-B1D3-6BF917B96777"><a name="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-6757FD3F-0913-562F-B1D3-6BF917B96777"><!-- --></a><span>Use <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone::GetIccAccessCaps()</span></a> to
find if the ICC access is available. </span>
 Capabilities are described by <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone::TMobilePhoneIccCaps</span></a>. 
</li>
<li class="stepexpand" id="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-8B16C684-0711-59B9-8139-AEF2068C2F1D"><a name="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-8B16C684-0711-59B9-8139-AEF2068C2F1D"><!-- --></a><span>Use <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone::NotifyIccAccessCapsChange()</span></a> to
get the notification of any changes in the capabilities. </span>
</li>
<li class="stepexpand" id="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-FB65BE05-5141-5EFD-9D3B-2E2E62D047F6"><a name="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-FB65BE05-5141-5EFD-9D3B-2E2E62D047F6"><!-- --></a><span>Get the ICC service
table using <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone::GetServiceTable()</span></a>. </span>

 Service table information is returned in a packaged <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone::TMobilePhoneServiceTableV1</span></a> object.
This contains the data members that store bitmasks of flags indicating the
supported services. 
</li>
</ol>

<div class="section" id="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-D289A2A3-CFEC-4661-A152-E2C43E695EAE"><a name="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-D289A2A3-CFEC-4661-A152-E2C43E695EAE"><!-- --></a><p>Capabilities
are described by <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone::TMobilePhoneIccCaps</span></a>.
The service table information is returned in a packaged <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone::TMobilePhoneServiceTableV1</span></a> object.
This contains the data members that store bitmasks of flags indicating the
supported services. </p>
 </div>

<div class="example"><h2 class="sectiontitle">SIM access example</h2> <p>The following code checks if
the phone has a SIM that can be accessed, and if so, gets the service table
of the SIM. It then checks if Cell Broadcast (CB) message identifiers (a list
of identifiers used as a filter to specify which CB messages are accepted
and shown to user and which are rejected) can be stored, by testing if the <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone::KSstCBMI</span></a> flag is set in the
service table. </p>
 <p>The code assumes <samp class="codeph">iMobilePhone</samp> is an <a href="GUID-AA81AFA4-6FAC-3B0D-A082-BE0AEC58CCA8.html"><span class="apiname">RMobilePhone</span></a> object. </p>
 <pre class="codeblock" id="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-208F50A9-395F-5CCB-A5B4-5C5601FFDFF3"><a name="GUID-05CDE32C-05B3-519F-9937-757A196400F9__GUID-208F50A9-395F-5CCB-A5B4-5C5601FFDFF3"><!-- --></a>TUint32 iccCaps;

User::LeaveIfError(iMobilePhone.GetIccAccessCaps(iccCaps));
TBool cbStorage = EFalse;

if (iccCaps &amp; RMobilePhone::KCapsSimAccessSupported)
    {
    RMobilePhone::TMobilePhoneServiceTableV1 mobilePhoneServiceTable;
    RMobilePhone::TMobilePhoneServiceTableV1Pckg mobilePhoneServiceTablePckg(mobilePhoneServiceTable);

    TRequestStatus status;

    iMobilePhone.GetServiceTable(status, RMobilePhone::ESIMServiceTable, mobilePhoneServiceTablePckg);
    User::WaitForRequest(status);
    User::LeaveIfError(status.Int());
    cbStorage = mobilePhoneServiceTable.iServices9To16 &amp; RMobilePhone::KSstCBMI;
    }
</pre>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-3A834117-B5DC-54F4-96D4-61A6CADBC6DF.html" title="This section describes how to implement different multimode phone sub-session tasks.">Multimode Phone Sub-session Tutorials</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>