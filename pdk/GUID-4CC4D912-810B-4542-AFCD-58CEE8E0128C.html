<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Open C libz Example"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E2DE2C6F-E071-5E88-96F1-D71DDED84609.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D79380CF-22B5-5865-9366-44118E8ECA2E.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-4CC4D912-810B-4542-AFCD-58CEE8E0128C"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Open C libz Example</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-4CC4D912-810B-4542-AFCD-58CEE8E0128C"><a name="GUID-4CC4D912-810B-4542-AFCD-58CEE8E0128C"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2381193 id2381201 id2381554 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-E2DE2C6F-E071-5E88-96F1-D71DDED84609.html">Generic Open Libraries</a> &gt; <a href="GUID-D79380CF-22B5-5865-9366-44118E8ECA2E.html">Open Environment Core (P.I.P.S.)</a> &gt; <a href="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html">P.I.P.S. Examples</a> &gt; </div>
<h1 class="topictitle1">Open C libz Example</h1>
<div>
<p>The example demonstrates how to use the libz library to compress
a file and decompress it. The library can compress and decompress
any kind of file (txt, doc, xls, xml, mpeg, ppt, mp3 etc). </p>

<div class="section" id="GUID-4CC4D912-810B-4542-AFCD-58CEE8E0128C__GUID-026FD8D6-6C4A-5958-B289-775D4AE1E756-GENID-1-12-1-14-1-1-5-1-3-1-11-1-11-1-2-2"><a name="GUID-4CC4D912-810B-4542-AFCD-58CEE8E0128C__GUID-026FD8D6-6C4A-5958-B289-775D4AE1E756-GENID-1-12-1-14-1-1-5-1-3-1-11-1-11-1-2-2"><!-- --></a><h2 class="sectiontitle">Download</h2> <p>Click on the following link to download the example: <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/zips/guid-4e9f70e8-96f8-45be-90fc-00c9071cf562.zip" target="_blank"> openclibz.zip</a></p>
<p>Click: <a href="guid-6013a680-57f9-415b-8851-c4fa63356636/guid-4e9f70e8-96f8-45be-90fc-00c9071cf562.html">browse</a> to view the example code. </p>
 </div>

<div class="section" id="GUID-4CC4D912-810B-4542-AFCD-58CEE8E0128C__GUID-7E7C4564-B10E-41F9-8A9D-D8A6C5E9C51C-GENID-1-12-1-14-1-1-5-1-3-1-11-1-11-1-2-3"><a name="GUID-4CC4D912-810B-4542-AFCD-58CEE8E0128C__GUID-7E7C4564-B10E-41F9-8A9D-D8A6C5E9C51C-GENID-1-12-1-14-1-1-5-1-3-1-11-1-11-1-2-3"><!-- --></a><h2 class="sectiontitle">Design
and Implementation</h2> <p>The following sections provide more
information about the steps that the example performs. </p>
 <p><strong>Capabilities</strong> </p>
Program capabilities are defined in <span class="filepath">openclibz.mmp</span>: <samp class="codeph">CAPABILITY None</samp><p><strong>Implementation
details of EXE</strong> </p>
This example is a console based application.
This application can be launched from the icon (openclibz) in installed
folder and also from eshell.  When we launch it through icon it prompts
the user to enter the mode to process. The strategy parameter is used
to select the compression algorithm. For compressing a file, it reads
the file and then compresses it using the API of the libz library
and then stores the compressed content in a (.gz) file. If you want
to decompress, type d.  For decompressing a file, it opens the compressed
(.gz) file using libz API's  and then reads the content and decompresses
it . To check what happens to the content of the string after compression
then type s. Enter the string you want and see the data in compressed
format .   This option is to demonstrate compression of string using
libz API's.<p>To run this application through eshell: </p>
<div class="p"><pre class="codeblock"> Usage :  openclibz [-d] [-f] [-h] [-r] [-1 to -9] [files...]
   -d : decompress
   -f : compress with Z_FILTERED
   -h : compress with Huffman encoding
   -r : compress with run-length encoding
   -1 to -9 : compression level
   files : absolute path of files
</pre>
</div>
<p><strong>Some usage tips</strong></p>
<p>Once you choose compression
process, enter the file name. You should provide absolute path of
the file you want to compress.  <span class="filepath">(drive letter):\[(folder
name)\]filename</span>.   To get : on phone you have to press
1 few times.  To get on phone you have to press 1 few times.  To get
on emulator is bit tricky. If you are lucky then pressing 1 will get
it for you, otherwise change the mode. using "\ BUTTON" (Just above
the enter button in the keyboard) and then try pressing 1.  To press
enter on phone we are supposed to press 0 four times. </p>
<p><strong>Cross
platform usage</strong></p>
<p>We can compress the file on any platform
and uncompress it on any other platform.  For example Unix's gzip
files can be compressed using the example application and decompressed
using Unix's gunzip.   Compression can be done in a single step, if
the buffers are large enough; or compression can be done by repeated
calls of the compression function. In the second scenario, application
must provide more input and consume the output (providing more output
space) before each call. </p>
</div>

<div class="section" id="GUID-4CC4D912-810B-4542-AFCD-58CEE8E0128C__GUID-D72E3F44-9925-456B-9B1D-FBCBAC2548DA"><a name="GUID-4CC4D912-810B-4542-AFCD-58CEE8E0128C__GUID-D72E3F44-9925-456B-9B1D-FBCBAC2548DA"><!-- --></a><strong>APIs Used</strong><p><samp class="codeph">compress</samp>, <samp class="codeph">uncompress</samp>, <samp class="codeph">gzopen</samp>, <samp class="codeph">gzclose</samp>, <samp class="codeph">gzread</samp>, <samp class="codeph">gzwrite</samp>, <samp class="codeph">gzerror</samp> from libz library</p>
<p> <samp class="codeph">fopen</samp>, <samp class="codeph">fclose</samp>, <samp class="codeph">fread</samp>, <samp class="codeph">fwrite</samp>, <samp class="codeph">mmap</samp>, <samp class="codeph">munmap</samp>, <samp class="codeph">fstat</samp>, <samp class="codeph">unlink</samp>, <samp class="codeph">printf</samp>, <samp class="codeph">scanf</samp> from libc library </p>
</div>

<div class="section" id="GUID-4CC4D912-810B-4542-AFCD-58CEE8E0128C__GUID-67A72761-1D92-46D1-B1C9-7455978BDE4E-GENID-1-12-1-14-1-1-5-1-3-1-11-1-11-1-2-5"><a name="GUID-4CC4D912-810B-4542-AFCD-58CEE8E0128C__GUID-67A72761-1D92-46D1-B1C9-7455978BDE4E-GENID-1-12-1-14-1-1-5-1-3-1-11-1-11-1-2-5"><!-- --></a><h2 class="sectiontitle">Building
and Using</h2> <p>The Symbian build process describes how to build
this example application. </p>
 To build the example
application, go to the openclibz\group directory and build the application.
 The definition for the whole application can be found in the bld.inf
file in the group subdirectory of the applications main directory. </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-3EB1C34E-584E-595D-A339-DE170A96AEBC.html">P.I.P.S. Examples</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>