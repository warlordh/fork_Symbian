<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="LString"/>
<meta name="DC.Relation" scheme="URI" content="GUID-ECE93783-F571-51DA-AB92-EDDA8618A85C.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-28AD51DC-C101-5E6E-9EC3-C2B61400D8CD.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-D60B55FA-D8C1-559A-9D99-48845BE32A6C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-ECE93783-F571-51DA-AB92-EDDA8618A85C.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>LString</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075"><a name="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2381103 id2383459 id2384051 id2384059 id2384073 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-5072BE46-B1B4-5C3A-BF55-BEA7443E7657.html">Generic OS Services Guide</a> &gt; <a href="GUID-324107D1-6E0B-56DD-BDC0-7296F688A9CF.html">Low Level Libraries and Frameworks</a> &gt; <a href="GUID-28AD51DC-C101-5E6E-9EC3-C2B61400D8CD.html">Generic Usability Library</a> &gt; <a href="GUID-D60B55FA-D8C1-559A-9D99-48845BE32A6C.html" title="The EUser High Level (EUserHL) library is a general purpose user library that provides a usability layer to hide away some of the complexities of the Symbian platform. This section lists the concepts, the overview and the tutorials that helps the Symbian Developers understand the importance of the EUserHL library.">EUser High Level Library</a> &gt; <a href="GUID-ECE93783-F571-51DA-AB92-EDDA8618A85C.html" title="The EUser High Level Library introduces a new L-Class idiom along with a self managing string class and automatic resource management classes.">EUser High Level Concepts</a> &gt; </div>
<h1 class="topictitle1">LString</h1>
<div><p> <a href="GUID-2C3DFAFD-A2DD-3E44-BB1A-580E60EDD8BC.html"><span class="apiname"> LString</span></a> is a convenient, general-purpose string class derived from <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html"><span class="apiname">RBuf</span></a>. LString adds automatic cleanup and on-demand buffer resize facilities. Like an <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html"><span class="apiname">RBuf</span></a>, an LString can be passed to any function that is prototyped to take a <a href="GUID-49D4E917-57EA-39AE-8941-144AA8AC2584.html"><span class="apiname">TDes</span></a> or a <a href="GUID-52D07F46-2162-380C-A775-C3BB335C42F5.html"><span class="apiname">TDesC</span></a> reference. Again like an <a href="GUID-BFBC574B-EFF6-37A4-9189-B71DA1505BC8.html"><span class="apiname">RBuf</span></a>, an LString maintains its string data in a heap buffer. </p>
 <div class="section"><h2 class="sectiontitle">Need for LString</h2> <p>While being simpler to use than existing descriptors in many cases, LString's use of heap allocation and itâ€™s resizing variant methods clearly come with associated costs. Their use in performance-critical code should be carefully considered. On the other hand, LString's small stack footprint and ability to better-handle inputs of unpredictable size may make them a better choice when the alternative is a large, fixed-max-size <a href="GUID-0B9C8884-6BFF-35E2-AA6F-E4057B85AFCF.html"><span class="apiname">TBuf</span></a> or <a href="GUID-A103FB19-60B3-3E45-97A5-1F295934ACA1.html"><span class="apiname">HBufC</span></a>. </p>
 </div>
 <div class="section"><h2 class="sectiontitle">Variants of LString</h2> <p>The concrete <a href="GUID-2C3DFAFD-A2DD-3E44-BB1A-580E60EDD8BC.html"><span class="apiname">LString </span></a> classes provided are <a href="GUID-C788743B-AD3C-3508-83CD-942EFA243B26.html"><span class="apiname">LString8</span></a> and <a href="GUID-C5A68FFA-9AED-319D-B29D-723F9AA7FFD7.html"><span class="apiname">LString16</span></a> for 8 and 16 bit data respectively. Two convenient Typedefs are also provided: </p>
 <p>LString for <a href="GUID-C5A68FFA-9AED-319D-B29D-723F9AA7FFD7.html"><span class="apiname">LString16</span></a> and LData for <a href="GUID-C788743B-AD3C-3508-83CD-942EFA243B26.html"><span class="apiname">LString8</span></a>  </p>
 </div>
 <div class="section"><h2 class="sectiontitle"> Library and header file</h2> <p> <a href="GUID-2C3DFAFD-A2DD-3E44-BB1A-580E60EDD8BC.html"><span class="apiname">LString</span></a> is part of the EUser High Level library which is found in <a href="GUID-6A6706AB-8859-3D2C-90B2-EE9E20B494BE.html"><span class="apiname">euserhl.dll</span></a>. To use <a href="GUID-2C3DFAFD-A2DD-3E44-BB1A-580E60EDD8BC.html"><span class="apiname">LString</span></a> you must link <span class="filepath">euserhl.lib</span> library and include <span class="filepath">estring.h</span> header file. </p>
 </div>
 <div class="section"><h2 class="sectiontitle"> Characteristics of LString</h2> <p>The following are the characteristics of LString: </p>
 <ul><li id="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-BD07F012-83A8-5A10-964C-DA710D73CAD9"><a name="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-BD07F012-83A8-5A10-964C-DA710D73CAD9"><!-- --></a><p> <strong>Automatic in-place resizing:</strong> LString replaces standard descriptor APIs with a corresponding leaving method that automatically expands the underlying buffer on-demand. </p>
 </li>
 <li id="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-986A6AD5-E6F4-51E1-B6CB-5B2E58A19954"><a name="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-986A6AD5-E6F4-51E1-B6CB-5B2E58A19954"><!-- --></a><p> <strong>Automatic Growth:</strong> LString supports automatic growth when being manipulated directly as an LString. When an LString is passed to a function accepting a <a href="GUID-AD7087EB-7922-3959-8C3C-D31B09A77540.html"><span class="apiname">TDes()</span></a> that function will operate on it as if it is a fixed-max-length descriptor. </p>
 </li>
 <li id="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-DAC97247-345B-5E11-8E32-1A08920CB765"><a name="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-DAC97247-345B-5E11-8E32-1A08920CB765"><!-- --></a><p> <strong>Compression:</strong> It is difficult to predict the use of an LString object and therefore auto-compression would likely result in further allocations and be inefficient. If compression is desired this must be done manually via <a href="GUID-2C3DFAFD-A2DD-3E44-BB1A-580E60EDD8BC.html#GUID-2C3DFAFD-A2DD-3E44-BB1A-580E60EDD8BC__GUID-48151B50-C8C4-3011-9A76-8242EB7E1DDC"><span class="apiname">LString::Compress()</span></a>. </p>
 </li>
 </ul>
 </div>
 <div class="section"><h2 class="sectiontitle">LString APIs</h2> <p>The following are the LString APIs: </p>
 <ul><li id="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-44F43752-D692-5A53-AFD9-D0F81C21ECD0"><a name="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-44F43752-D692-5A53-AFD9-D0F81C21ECD0"><!-- --></a><p> <a href="GUID-B7878C32-D093-3B15-A5B6-E91DA3A0961E.html"><span class="apiname">SetMaxLengthL()</span></a>  </p>
 <pre class="codeblock" id="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-507C3A66-1670-5AC4-88EE-FA84D1D1E08F"><a name="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-507C3A66-1670-5AC4-88EE-FA84D1D1E08F"><!-- --></a>void LStringX::SetMaxLength(TInt aMaxLength)</pre>
 <p> <strong>Description:</strong> This method sets the storage space allocated to this descriptor to the specified value by growing or compressing its buffer size. If the current length of the descriptor is greater than the specified max length, length is truncated to max length. </p>
 </li>
 <li id="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-29DA153C-459B-5ADD-919F-4BBCD50B0116"><a name="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-29DA153C-459B-5ADD-919F-4BBCD50B0116"><!-- --></a><p> <a href="GUID-A3EE1898-D58C-3C15-8A98-7BEF85963AEB.html"><span class="apiname">ReserveFreeCapacityL()</span></a>  </p>
 <pre class="codeblock" id="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-54E2FE69-15A5-505C-A6D2-0E4217BF5359"><a name="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-54E2FE69-15A5-505C-A6D2-0E4217BF5359"><!-- --></a>void LStringX::ReserveFreeCapacityL(TInt aExtraSpaceRequired)</pre>
 <p> <strong>Description:</strong> This method ensures that the remaining unused space is more than the supplied value. It may reallocate a larger storage space to meet the requirement. As a result MaxLength() and Ptr() may return different values afterwards, and any existing raw pointers to into the descriptor data may be invalidated. </p>
 </li>
 <li id="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-A75B4E77-51ED-5F83-AAB8-234C6D184C68"><a name="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-A75B4E77-51ED-5F83-AAB8-234C6D184C68"><!-- --></a><p> <a href="GUID-E016AEA6-D901-3AF4-AE52-CBE4308E962C.html"><span class="apiname">Compress()</span></a>  </p>
 <pre class="codeblock" id="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-33D642D8-E1A0-5004-A014-334DF9E2B7BE"><a name="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-33D642D8-E1A0-5004-A014-334DF9E2B7BE"><!-- --></a>void LStringX::Compress()</pre>
 <p> <strong>Description:</strong> This method re-allocates a smaller descriptor buffer space to the current descriptor length. This may cause the string descriptor's heap buffer to be reallocated in order to accommodate the new data. As a result, MaxLength() and Ptr() may return different values afterwards, and any existing raw pointers to into the descriptor data may be invalidated. </p>
 </li>
 <li id="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-0824D4AC-6978-5455-B65F-06CEAB3A0CEF"><a name="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-0824D4AC-6978-5455-B65F-06CEAB3A0CEF"><!-- --></a><p> <a href="GUID-ABC0096D-A6DD-3AAA-8AA6-57474737983A.html"><span class="apiname">Reset()</span></a>  </p>
 <pre class="codeblock" id="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-ACA006B1-ED9B-5EB9-BFA5-9249354D6399"><a name="GUID-01677FF9-8FA1-5F0D-8223-46EDD20E3075__GUID-ACA006B1-ED9B-5EB9-BFA5-9249354D6399"><!-- --></a>void LStringX::Reset()</pre>
 <p> <strong>Description:</strong> This method re-initialises the descriptor destroying its payload. </p>
 </li>
 </ul>
 </div>
 <div class="section"><h2 class="sectiontitle">See Also</h2> <p><a href="GUID-B007634D-4D55-528A-8B85-6120C633AC8B.html">EUser High Level Library Overview</a>  </p>
 <p><a href="GUID-D33EB877-CCCB-527B-8AFC-4A8385C55E78.html" title="The EUser High Level Library tutorials are meant to discuss the usage of the LString and resource management class implementation.">EUser High Level Library Tutorials</a>  </p>
 </div>
 </div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-ECE93783-F571-51DA-AB92-EDDA8618A85C.html" title="The EUser High Level Library introduces a new L-Class idiom along with a self managing string class and automatic resource management classes.">EUser High Level Concepts</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>