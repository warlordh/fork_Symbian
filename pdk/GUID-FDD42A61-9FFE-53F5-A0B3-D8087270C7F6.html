<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="task"/>
<meta name="DC.Title" content="Phone Lock Tutorial"/>
<meta name="abstract" content="This tutorial describes how to get the device lock information by the client applications."/>
<meta name="description" content="This tutorial describes how to get the device lock information by the client applications."/>
<meta name="DC.Relation" scheme="URI" content="GUID-F4163874-3F97-506B-AC93-EA2321D3BEC1.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-0F647342-E069-5444-9370-58520375543A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7C197DC1-43CA-5146-B81D-36B685A1D0C9.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-F4163874-3F97-506B-AC93-EA2321D3BEC1.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Phone Lock Tutorial</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6"><a name="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2563496 id2562267 id2562189 id2562074 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-34E7AAF2-EC62-5BF6-B9E7-C7D346BCDF93.html" title="Cellular Baseband Services provide a common interface to telephony services for applications and higher level platform components. The framework is independent of the underlying network services.">Cellular Baseband Services Guide</a> &gt; <a href="GUID-0F647342-E069-5444-9370-58520375543A.html" title="The Telephony Utilities is a collection of components that provides small utility libraries related to telephony. The collection also includes the component that implements the telephony API for applications.">Telephony Utilities</a> &gt; <a href="GUID-7C197DC1-43CA-5146-B81D-36B685A1D0C9.html" title="The telephony API gives applications access to Telephony services.">Telephony API for Applications</a> &gt; <a href="GUID-F4163874-3F97-506B-AC93-EA2321D3BEC1.html" title="This tutorial describes how to get the device information using the telephony API for applications.">Device Information Tutorial</a> &gt; </div>
<h1 class="topictitle1">Phone
Lock Tutorial </h1>
<div><p>This tutorial describes how to get the device lock information
by the client applications. </p>

<div class="section"><p>The phone can have up to two locks specified by the user. The
client  application can retrieve the lock information to prevent unauthorised
use of  the device. The client applications must specify a lock to retrieve
the information. </p>
</div>



<a name="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-A284897D-1D9A-5012-AF7F-569E3DB0FF84"><!-- --></a><ol id="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-A284897D-1D9A-5012-AF7F-569E3DB0FF84"><li class="stepexpand" id="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-BF21F99C-8A31-5BF5-9D33-AC952F9CFB6C"><a name="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-BF21F99C-8A31-5BF5-9D33-AC952F9CFB6C"><!-- --></a><span/><br/>
 create a new instance of <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony</span></a>  
</li>
<li class="stepexpand" id="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-CC42631B-2A9A-58DB-8018-4A7679FAED0A"><a name="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-CC42631B-2A9A-58DB-8018-4A7679FAED0A"><!-- --></a><span/><br/>
 use <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::GetLockInfo()</span></a> to
get the lock information 
 Specify the lock in a <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">TIccLock</span></a> object. 
</li>
<li class="stepexpand" id="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-A1F3A428-568F-5149-9491-00AB2D2BEE16"><a name="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-A1F3A428-568F-5149-9491-00AB2D2BEE16"><!-- --></a><span/><br/>
 the function returns the lock information in <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::TIccLockInfoV1</span></a>  
</li>
<li class="stepexpand" id="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-18B971F7-056B-55DB-BE93-D6503ACC6D69"><a name="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-18B971F7-056B-55DB-BE93-D6503ACC6D69"><!-- --></a><span/><br/>
 use <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::EPin1LockInfoChange</span></a> and <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::EPin2LockInfoChangenotification</span></a> to
get the notification of any changes in the lock1 and lock2 
</li>
<li class="stepexpand" id="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-0D7A9400-6C12-5B44-BA19-BE0A55E4BF30"><a name="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-0D7A9400-6C12-5B44-BA19-BE0A55E4BF30"><!-- --></a><span/><br/>
 pass the enumeration <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::EPin1LockInfoChangeCancel</span></a> and <a href="GUID-97D402C8-B4B7-385A-92B3-D3FCC0CA575A.html"><span class="apiname">CTelephony::EPin2LockInfoChangeCancel</span></a> to cancel
the notification requests of lock1 and lock2. 
</li>
</ol>

<div class="example" id="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-FD34FB9F-02F7-518E-A591-ECBAEFCC1521"><a name="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-FD34FB9F-02F7-518E-A591-ECBAEFCC1521"><!-- --></a><h2 class="sectiontitle">Phone lock
example</h2> <pre class="codeblock" id="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-C79BF94F-2001-511D-A3E7-827A206536DE"><a name="GUID-FDD42A61-9FFE-53F5-A0B3-D8087270C7F6__GUID-C79BF94F-2001-511D-A3E7-827A206536DE"><!-- --></a>#include &lt;e32base.h&gt;
#include &lt;Etel3rdParty.h&gt;

class CClientApp : public CActive
    { 

private:
    CTelephony* iTelephony;
    CTelephony::TIccLockInfoV1 iIccLockInfoV1;
    CTelephony::TIccLockInfoV1Pckg iIccLockInfoV1Pckg;
public:
    CClientApp(CTelephony* aTelephony);
    void SomeFunction();

private:
    /*
       These are the pure virtual methods from CActive that  
       MUST be implemented by all active objects
       */
    void RunL();
    void DoCancel();
    };

CClientApp::CClientApp(CTelephony* aTelephony)
    : CActive(EPriorityStandard),
      iTelephony(aTelephony),
      iIccLockInfoV1Pckg(iIccLockInfoV1)
    {
    //default constructor
    }

void CClientApp::SomeFunction()
    {
    CTelephony::TIccLock lockSelect = CTelephony::ELockPin2;
    iTelephony-&gt;GetLockInfo(iStatus, lockSelect, iIccLockInfoV1Pckg);
    SetActive();
    }

void CClientApp::RunL()
    {
    if(iStatus==KErrNone)
       {
       if( iIccLockInfoV1.iSetting == CTelephony::ELockSetEnabled 
                    &amp;&amp; iIccLockInfoV1.iStatus == CTelephony::EStatusUnlocked)
          {
          // Lock 2 is available for the phone to use 
          // and its current statues is open, 
          // The user can access functionality governed by this lock.
          }
       }
    }

void CClientApp::DoCancel()
    {
    iTelephony-&gt;CancelAsync(CTelephony::EGetLockInfoCancel);
    }</pre>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-F4163874-3F97-506B-AC93-EA2321D3BEC1.html" title="This tutorial describes how to get the device information using the telephony API for applications.">Device Information Tutorial</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>