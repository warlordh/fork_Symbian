<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Privacy Controller"/>
<meta name="abstract" content="A Privacy Controller is an application that a licensee can create in order to process privacy requests."/>
<meta name="description" content="A Privacy Controller is an application that a licensee can create in order to process privacy requests."/>
<meta name="DC.Relation" scheme="URI" content="GUID-9EB08688-7A16-585B-B2B0-C142AF754D2A.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-710BC22B-E4F0-5E16-B970-E2D21F5571FC.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-CE970F0F-C922-516F-9D7E-EA1F4754A205.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-CDE5CC9D-F6DE-5A21-97C3-59A2F3398A15.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-9EB08688-7A16-585B-B2B0-C142AF754D2A.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-CB6B4D1A-ACB9-5571-8C23-4BC095209782.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-E1710E40-B8F5-5CF8-B9FE-698869A1770F.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Privacy Controller</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2402590 id2402671 id2402731 id2402745 id2402754 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-7F476137-5E7F-5288-9F4A-6C20F0A1AD9B.html">Location Based Services (LBS) Guide</a> &gt; <a href="GUID-710BC22B-E4F0-5E16-B970-E2D21F5571FC.html" title="The Location Request Management collection contains components that handle requests for location request information both from installed applications and from the network.">Location Request Management</a> &gt; <a href="GUID-CE970F0F-C922-516F-9D7E-EA1F4754A205.html" title="The Network Request Handler processes privacy and location requests received from the network.">Network Request Handler</a> &gt; <a href="GUID-CDE5CC9D-F6DE-5A21-97C3-59A2F3398A15.html" title="A privacy request is a request for permission to obtain the mobile device's location. Privacy requests are usually sent from the network to the mobile device as part of an MT-LR.">Privacy Requests</a> &gt; <a href="GUID-9EB08688-7A16-585B-B2B0-C142AF754D2A.html" title="This section contains documents the describe privacy request concepts and the components that licensees create to handle them.">Privacy Request Concepts</a> &gt; </div>
<h1 class="topictitle1">Privacy
Controller</h1>
<div><p> A Privacy Controller is an application that a licensee can create
in order to process privacy requests. </p>


<div class="section"><h2 class="sectiontitle">Purpose</h2> <p>This document explains the concept of a
Privacy Controller and the Privacy Controller API that is used to create one.
The Privacy Controller API is the interface through which a Privacy Controller
application receives and responds to privacy requests from the LBS subsystem
Network Request Handler. </p>
 <p> <a href="GUID-3078D198-0FCB-58A0-8152-9CD319906D58.html#GUID-3078D198-0FCB-58A0-8152-9CD319906D58__GUID-38E5625D-FFA4-56E2-97C8-12A5D1C361E4">How
to use the Privacy Controller API</a> has example code for the API described
in this document. </p>
 <p>See <a href="GUID-2E565B8E-D262-5769-96E6-A532154D57E6.html#GUID-2E565B8E-D262-5769-96E6-A532154D57E6__GUID-47C88C54-6BDC-5777-A661-A3EB7162A89E">Privacy
Requests Overview</a> for an explanation of privacy request concepts. </p>
 </div>

<div class="section"><h2 class="sectiontitle">Contents</h2> <ul>
<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-36E24ADF-B416-5D50-A986-DE7AB8EDF462"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-36E24ADF-B416-5D50-A986-DE7AB8EDF462"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-22440498-6540-5FFB-B5FE-D04EF92294E6">Introduction</a>  </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-9E797581-5F00-5BD6-B4AB-9E3088659C36"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-9E797581-5F00-5BD6-B4AB-9E3088659C36"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-55AB42E6-417C-55FD-A734-20871B544417">Privacy Controller startup and shutdown</a>  </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-D5DE5EDB-A45F-5B5B-8699-FFC34DF651C5"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-D5DE5EDB-A45F-5B5B-8699-FFC34DF651C5"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-098366A4-0262-5C59-8441-A5F5371150B0">Privacy Controller API description</a>  </p>
 <ul>
<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-45CA2D36-D20A-5CD4-85DC-6FB69C0DF102"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-45CA2D36-D20A-5CD4-85DC-6FB69C0DF102"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-C1DE6AB6-B521-568B-835B-FEA1FBE1F157">CLbsPrivacyController</a> </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-0252ABE8-945C-5213-AFC4-07F0E4087184"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-0252ABE8-945C-5213-AFC4-07F0E4087184"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-50DD3996-3A4C-5FD1-9938-2F66DEECCFBB">MLbsPrivacyObserver</a> </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-16236BB4-5F39-5891-BFDE-74C4F0555F55"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-16236BB4-5F39-5891-BFDE-74C4F0555F55"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-4A7719C2-ED38-51B3-A16B-17B26DA87278">MLbsPrivacyObserver2</a> </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-D5B5D625-78DC-50E3-B74E-BE96636C2A24"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-D5B5D625-78DC-50E3-B74E-BE96636C2A24"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-EF3695BB-5D29-519B-8410-41B82E9F2634">TLbsExternalRequestInfo</a> </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-935996FF-F126-5CB1-BFB2-5E3CE59E8CFC"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-935996FF-F126-5CB1-BFB2-5E3CE59E8CFC"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-6CE66027-3F7C-505F-949F-4CFE1101C54A">TLbsExternalRequestInfo2</a> </p>
 </li>

</ul>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-FB7837D6-FE3B-5FE3-B7A7-685EABF0A32D"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-FB7837D6-FE3B-5FE3-B7A7-685EABF0A32D"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-40428027-BCF1-5A37-B3A8-E1DC9A37CD7A">Sequence Diagrams</a>  </p>
 <ul>
<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-FA581F5F-292C-55D0-A8A9-B218E4B11F14"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-FA581F5F-292C-55D0-A8A9-B218E4B11F14"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-5D870ABF-549C-5CB1-902C-D0E644E29E49">Privacy verification request</a>  </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-2502BDB2-564F-5289-8CA4-F6E13D1D350B"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-2502BDB2-564F-5289-8CA4-F6E13D1D350B"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-227497D1-D8A7-579F-8B46-629D9833B6EC">Privacy notification request</a>  </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-A796B57B-CF1E-5EE8-BA51-F245373C4DB6"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-A796B57B-CF1E-5EE8-BA51-F245373C4DB6"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-2552D9A2-4563-58DC-80FE-AEE7797CFB28">Privacy verification request is cancelled</a>  </p>
 </li>

</ul>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-92A45D56-1EEE-5012-A4D6-ADBF6599EB10"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-92A45D56-1EEE-5012-A4D6-ADBF6599EB10"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-73569D0C-BB7D-54E9-B9AB-DC4FF87E133C">See also</a>  </p>
 </li>

</ul>
 </div>

<div class="section" id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-22440498-6540-5FFB-B5FE-D04EF92294E6"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-22440498-6540-5FFB-B5FE-D04EF92294E6"><!-- --></a><h2 class="sectiontitle">Introduction</h2> <p>A
Privacy Controller is a licensee application that receives privacy requests
and responds to them. The response to the privacy request could involve user
input (for example by showing privacy dialogs), or it could be automated (for
example by a set of rules or policies that automatically accept or reject
privacy requests based on the identity of the requester). The details of a
Privacy Controller implementation are licensee-specific; the Privacy Controller
API only specifies the interface over which privacy requests and responses
are sent and received. </p>
 <p>A Privacy Controller gives more control over
responses to privacy requests than <a href="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23.html#GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-DC80984B-7B46-5C2D-A1EF-EDBB0983159D">Privacy
Notifiers</a>. A licensee must implement either a Privacy Controller or
use Privacy Notifiers to handle privacy requests. </p>
 <p>Figure 1 shows a
Privacy Controller in the context of the other components that make up the <a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">Full LBS configuration</a>.
A licensee can choose to handle privacy requests by using either a Privacy
Controller or by using notifiers (using the Privacy Notifier API or the deprecated
Privacy Query and Notification API). </p>
 <p>A Privacy Controller is built
as a separate application that runs outside of the LBS subsystem. See <a href="GUID-3078D198-0FCB-58A0-8152-9CD319906D58.html#GUID-3078D198-0FCB-58A0-8152-9CD319906D58__GUID-38E5625D-FFA4-56E2-97C8-12A5D1C361E4">How
to use the LBS Privacy Controller API</a> for guidance on how to create
a Privacy Controller. Symbian does not provide a reference Privacy Controller
implementation. </p>
 <div class="fignone" id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-C364B7DC-0DE0-55F8-9928-EE1318700935"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-C364B7DC-0DE0-55F8-9928-EE1318700935"><!-- --></a><span class="figcap">Figure 1.               Figure 1. The Privacy Controller API and part of the
LBS subsystem.            </span>

<img src="GUID-4C00FAF4-B500-5973-AC6C-79274122276A_d0e432619_href.png"/>
</div>
 </div>

<div class="section" id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-55AB42E6-417C-55FD-A734-20871B544417"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-55AB42E6-417C-55FD-A734-20871B544417"><!-- --></a><h2 class="sectiontitle">Privacy Controller
startup and shutdown</h2> <p>From Symbian OS v9.4 a licensee can configure
the LBS subsystem to run in the <a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">Standalone
Privacy Mode configuration</a> in which the Symbian LBS subsystem handles
privacy requests but does not calculate position fixes. </p>
 <p>In the Standalone
Privacy Mode, when a privacy request is received the LBS subsystem starts
up if it is not already running and it starts the licensee Privacy Controller
process. To configure the Privacy Controller for automatic startup and shutdown,
a licensee must do the following: </p>
 <ul>
<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-4F6CB571-EFF0-53CF-8187-40A617848E7B"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-4F6CB571-EFF0-53CF-8187-40A617848E7B"><!-- --></a><p>The licensee Privacy
Controller executable UID (secure ID) must be added to the LBS Root central
repository file as described in the <a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">LBS
integration and configuration guide</a>. This is necessary so that the
LBS subsystem can automatically start the Privacy Controller process when
a privacy request is received. </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-09562316-B168-5012-B9A1-1CC201172BA2"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-09562316-B168-5012-B9A1-1CC201172BA2"><!-- --></a><p>The Privacy Controller
implementation class must derive from <a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-4A7719C2-ED38-51B3-A16B-17B26DA87278">MLbsPrivacyObserver2</a> (described in the API description section below) in order to receive notice
to shutdown when the processing of all outstanding privacy requests is complete. </p>
 </li>

</ul>
 </div>

<div class="section" id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-098366A4-0262-5C59-8441-A5F5371150B0"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-098366A4-0262-5C59-8441-A5F5371150B0"><!-- --></a><h2 class="sectiontitle">Privacy Controller
API description</h2> <p>This section describes the classes of the LBS Privacy
Controller API. </p>
 <p><strong>Privacy Controller API classes and types </strong> </p>
 <p>The following table
lists the classes and types that define the LBS Privacy Controller API. Further
details can be found by following the links to other sections of this document
and to Symbian Developer Library reference documentation. </p>
 <p>The LBS
Privacy Controller API has <samp class="codeph">publishedPartner</samp> interface access. </p>
 
<div class="tablenoborder"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-C2B503F3-75E3-5D11-BA32-990D76667EA7"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-C2B503F3-75E3-5D11-BA32-990D76667EA7" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" id="d1926719e267">Class name</th>

<th class="cellrowborder" valign="top" id="d1926719e270">Description</th>

<th class="cellrowborder" valign="top" id="d1926719e273">Header file</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" headers="d1926719e267 "><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-C1DE6AB6-B521-568B-835B-FEA1FBE1F157">CLbsPrivacyController</a>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1926719e270 "><p>A licensee application uses this class to register itself as a Privacy
Controller. The licensee Privacy Controller class must implement either the <a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-50DD3996-3A4C-5FD1-9938-2F66DEECCFBB">MLbsPrivacyObserver</a> or
the <a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-4A7719C2-ED38-51B3-A16B-17B26DA87278">MLbsPrivacyObserver2</a> interface. </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1926719e273 "><p> <span class="filepath">lbsprivacycontroller.h</span>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d1926719e267 "><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-50DD3996-3A4C-5FD1-9938-2F66DEECCFBB">MLbsPrivacyObserver</a> </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1926719e270 "><p>The interface that a licensee Privacy Controller implements to receive
privacy requests from the LBS subsystem. </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1926719e273 "><p> <span class="filepath">lbsprivacycontroller.h</span>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d1926719e267 "><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-4A7719C2-ED38-51B3-A16B-17B26DA87278">MLbsPrivacyObserver2</a> </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1926719e270 "><p>The interface (derived from <samp class="codeph">MLbsPrivacyObserver</samp>)
that allows a Privacy Controller to receive privacy requests and shutdown
instructions from the LBS subsystem. </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1926719e273 "><p> <span class="filepath">lbsprivacycontroller.h</span>  </p>
 </td>

</tr>

</tbody>

</table>
</div>
 <p>The following table describes the request information classes
used by the Privacy Controller API. Note that <a href="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23.html#GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-DC80984B-7B46-5C2D-A1EF-EDBB0983159D">Privacy
Notifiers</a> also use these classes to get privacy request information
from the LBS subsystem. </p>
 
<div class="tablenoborder"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-8B845EC4-B6AF-5CCE-867A-B9054AF79B48"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-8B845EC4-B6AF-5CCE-867A-B9054AF79B48" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" id="d1926719e385">Class name</th>

<th class="cellrowborder" valign="top" id="d1926719e388">Description</th>

<th class="cellrowborder" valign="top" id="d1926719e391">Header file</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" headers="d1926719e385 "><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-EF3695BB-5D29-519B-8410-41B82E9F2634">TLbsExternalRequestInfo</a> </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1926719e388 "><p>Contains information about the agent who is requesting the device's
location. A reference to this class (or the derived class <samp class="codeph">TLbsExternalRequestInfo2</samp>)
is passed in <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D__GUID-74F567E4-1BD8-38A0-AF7E-51031DBFA625"><span class="apiname">MLbsPrivacyObserver::ProcessNetworkLocationRequest()</span></a>. </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1926719e391 "><p> <span class="filepath"> lbsloccommon.h</span>  </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d1926719e385 "><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-6CE66027-3F7C-505F-949F-4CFE1101C54A">TLbsExternalRequestInfo2</a> </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1926719e388 "><p>This class extends <samp class="codeph">TLbsExternalRequestInfo</samp> to allow
for long Requester ID and Client Name descriptors. Note that this class is
deprecated as <samp class="codeph">TLbsExternalRequestInfo</samp> should be sufficient
for most licensee Privacy Controllers. </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1926719e391 "><p> <span class="filepath"> lbsloccommon.h</span>  </p>
 </td>

</tr>

</tbody>

</table>
</div>
 <p><strong>Privacy Controller API class diagram </strong> </p>
 <p>Figure 2 shows the classes
of the Privacy Controller API. <a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-50DD3996-3A4C-5FD1-9938-2F66DEECCFBB">MLbsPrivacyObserver</a> has a dependency on <a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-EF3695BB-5D29-519B-8410-41B82E9F2634">TLbsExternalRequestInfo</a> (which is shown in more detail in Figure 3). </p>
 <div class="fignone" id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-3ED0FA49-FB2A-50E4-A40A-9CCBDF810CA6"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-3ED0FA49-FB2A-50E4-A40A-9CCBDF810CA6"><!-- --></a><span class="figcap">Figure 2.               Figure 2. Privacy Controller API classes and types  
         </span>

<img src="GUID-4AE98C9B-03A9-5F26-BD0F-2A60B01A67F4_d0e432893_href.png"/>
</div>
 <p>Figure 3 shows the <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html"><span class="apiname">TLbsExternalRequestInfo</span></a> and <a href="GUID-EB52E7D5-55AE-3539-A212-AB2B5430D407.html"><span class="apiname">TLbsExternalRequestInfo2</span></a> classes.
Either a <samp class="codeph">TLbsExternalRequestInfo</samp> or <samp class="codeph">TLbsExternalRequestInfo2</samp> object
reference is passed to the Privacy Controller via the <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D__GUID-74F567E4-1BD8-38A0-AF7E-51031DBFA625"><span class="apiname">MLbsPrivacyObserver::ProcessNetworkLocationRequest()</span></a> function
when a privacy request is received and a Privacy Controller is configured. </p>
 <p>Note
from figure 2 that the object reference is always passed as a <samp class="codeph">TLbsExternalRequestInfo</samp> so
it is only necessary to cast to the <samp class="codeph">TLbsExternalRequestInfo2</samp> derived
class if the licensee is using large buffers for the requester ID and the
client name. This may be the case <em>only</em> when LBS is being used in the <a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">Standalone Privacy Mode configuration</a> <em>and</em> large
buffer sizes are passed across the Network Privacy API or the Privacy Request
API. </p>
 <p>See the Network Privacy API documentation and the <a href="GUID-3078D198-0FCB-58A0-8152-9CD319906D58.html#GUID-3078D198-0FCB-58A0-8152-9CD319906D58__GUID-38E5625D-FFA4-56E2-97C8-12A5D1C361E4">How to use the Privacy Controller API</a> documentation for more information
about handling large buffers. </p>
 <div class="fignone" id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-B7748A22-266B-54C1-9C73-C77A8220B0FA"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-B7748A22-266B-54C1-9C73-C77A8220B0FA"><!-- --></a><span class="figcap">Figure 3.               Figure 3. TLbsExternalRequestInfo, TLbsExternalRequestInfo2
and              related types.            </span>

<img src="GUID-648D4AEB-4BCD-552A-BCAF-F049F79F04FC_d0e432946_href.png"/>
</div>
 <p><strong>Libraries </strong> </p>
 <p>The Privacy Controller API is packaged in <span class="filepath">lbsprivacycontroller.dll</span>.
A licensee Privacy Controller links to <span class="filepath">lbsprivacycontroller.lib</span>. </p>
 <p>The
API header files for the Privacy Controller API can be found in <span class="filepath">/epoc32/include/lbs</span>. </p>
 <p><strong>Capabilities </strong> </p>
 <p>A licensee Privacy Controller requires the following
capabilities: <strong>Location</strong>, <strong>ReadDeviceData</strong> and <strong>WriteDeviceData</strong>. </p>
 <p><strong>LBS Configuration </strong> </p>
 <p>The LBS Administration setting <samp class="codeph">KLbsSettingPrivacyHandler</samp> must
be set to <samp class="codeph">CLbsAdmin::EPrivacyHandleByController</samp> to configure
LBS to use a Privacy Controller. See <a href="GUID-23BBC1D8-B3A0-5148-A4F1-22ECF3043E4E.html" title="The documents in this section explain how to configure LBS by using the LBS Administration API or by using a repository initialisation file.">LBS
administration</a> for details of how to configure this setting either
through the LBS Administration API or in the LBS central repository initialisation
file. </p>
 <p> <strong>Multiple simultaneous privacy requests</strong>  </p>
 <p>The
LBS administration setting <samp class="codeph">KLbsSettingMaximumExternalLocateRequests</samp> has
an important effect when LBS is configured to use a Privacy Controller. </p>
 <p>The
setting does not affect the behaviour of LBS in the <a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">Full
LBS configuration</a> because multiple simultaneous privacy requests are
not supported with a <a href="GUID-CB6B4D1A-ACB9-5571-8C23-4BC095209782.html" title="This document describes the Network Protocol Module API that device creators use to develop their own Network Protocol Modules.">Network
Protocol Module</a>. </p>
 <p>The setting only affects how LBS behaves when
a privacy request is received via the Network Privacy API or the Privacy Request
API which are only supported in <a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">Standalone
Privacy Mode</a>: </p>
 <ul>
<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-CFA0BE7D-21B8-549D-9BF3-FEC0CB2CC1AC"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-CFA0BE7D-21B8-549D-9BF3-FEC0CB2CC1AC"><!-- --></a><p> <samp class="codeph">KLbsSettingMaximumExternalLocateRequests
= 1</samp> (the default setting) </p>
 <p>Privacy requests can only be handled
sequentially by the LBS subsystem. Requests are sent sequentially to the Privacy
Controller. Additional privacy requests may be received by the LBS subsystem
while a previous request is still outstanding (being processed by the Privacy
Controller) but these are always rejected by the LBS subsystem and are not
sent to the Privacy Controller. For details of the return codes sent to a
Privacy Request API client or Network Privacy API client see the <a href="GUID-E1710E40-B8F5-5CF8-B9FE-698869A1770F.html" title="The Privacy Request API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Privacy
Request API</a> and <a href="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726.html" title="The Network Privacy API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Network
Privacy API</a> documentation. </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-2B7A6F2C-DDB9-5462-9935-1B5534A834CC"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-2B7A6F2C-DDB9-5462-9935-1B5534A834CC"><!-- --></a><p> <samp class="codeph">KLbsSettingMaximumExternalLocateRequests
&gt; 1</samp>  </p>
 <p> <strong>For this case, a licensee must design their Privacy
Controller so that it can process multiple simultaneous privacy requests.</strong> For
example, the implementation of <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D__GUID-74F567E4-1BD8-38A0-AF7E-51031DBFA625"><span class="apiname">MLbsPrivacyObserver::ProcessNetworkLocationRequest()</span></a> may
be called multiple times in rapid succession and therefore must not block
the Privacy Controller. </p>
 <p>The behaviour of the LBS subsystem depends
on the number of outstanding privacy requests and the setting <samp class="codeph">KLbsSettingMaximumExternalLocateRequests</samp>: </p>
 <ul>
<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-77A9E950-DE48-524F-A9B5-29B2129D2708"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-77A9E950-DE48-524F-A9B5-29B2129D2708"><!-- --></a><p> <samp class="codeph">Number of outstanding
privacy requests &lt;                      KLbsSettingMaximumExternalLocateRequests</samp>  </p>
 <p>A
new privacy request is processed and causes a sequence of Privacy Controller
API methods to be called. See the sequence diagrams of <a href="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726.html" title="The Network Privacy API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Network
Privacy API</a> and <a href="GUID-E1710E40-B8F5-5CF8-B9FE-698869A1770F.html" title="The Privacy Request API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Privacy
Request API</a> for sequences that describe the processing of each request. </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-73A49D47-A3DC-5EFF-A343-B8CF04D2E312"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-73A49D47-A3DC-5EFF-A343-B8CF04D2E312"><!-- --></a><p> <samp class="codeph">Number of outstanding
privacy requests =                      KLbsSettingMaximumExternalLocateRequests</samp>  </p>
 <p>A
new privacy request is always rejected by the LBS subsystem and is not sent
to the Privacy Controller. For details of the return codes sent to an API
client see the <a href="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726.html" title="The Network Privacy API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Network
Privacy API</a> and <a href="GUID-E1710E40-B8F5-5CF8-B9FE-698869A1770F.html" title="The Privacy Request API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Privacy
Request API</a> documentation. </p>
 </li>

</ul>
 </li>

</ul>
 <p id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-C1DE6AB6-B521-568B-835B-FEA1FBE1F157"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-C1DE6AB6-B521-568B-835B-FEA1FBE1F157"><!-- --></a><strong>CLbsPrivacyController</strong> </p>
 <p><strong>Purpose </strong> </p>
 <p> <a href="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html"><span class="apiname">CLbsPrivacyController</span></a> is the
class that a licensee Privacy Controller application uses to register itself
as a Privacy Controller with the LBS subsystem. It is also used to respond
to privacy requests. The licensee Privacy Controller must implement the <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html"><span class="apiname">MLbsPrivacyObserver</span></a> interface
or the derived <a href="GUID-BF88837F-1ADC-3DB2-98E5-CFBF75E2BE86.html"><span class="apiname">MLbsPrivacyObserver2</span></a> interface. </p>
 <p><strong>Usage </strong> </p>
 <p> <a href="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html#GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091__GUID-DB38D39A-780E-3F36-BD02-E770AC1C513B"><span class="apiname">CLbsPrivacyController::NewL()</span></a> is
used by a licensee Privacy Controller to register itself with the LBS subsystem. </p>
 <p> <a href="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html#GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091__GUID-D3C37C92-5609-31F1-82AB-01AEC99671BB"><span class="apiname">CLbsPrivacyController::RespondNetworkLocationRequest()</span></a> is used to send a privacy response to the LBS subsystem (in response to
a privacy request that was previously sent to the Privacy Controller). </p>
 <p> <a href="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html#GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091__GUID-C2FC9C84-DB18-3741-BD2F-AC214D679A13"><span class="apiname">CLbsPrivacyController::CancelNetworkLocationRequest()</span></a> is used to cancel an outstanding privacy request. </p>
 <p><strong>CLbsPrivacyController::TRequestVerificationResult</strong> </p>
 <p><strong>Purpose </strong> </p>
 <p> <a href="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html#GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091__GUID-6F3104C6-C47F-35F5-9CDA-5AFD44CBFE32"><span class="apiname">CLbsPrivacyController::TRequestVerificationResult</span></a> holds
the privacy response that the Privacy Controller returns to the LBS subsystem. </p>
 <p><strong>Usage </strong> </p>
 <p>The Privacy Controller passes a <samp class="codeph">TRequestVerificationResult</samp> parameter
to LBS in <a href="GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091.html#GUID-DA9AD188-944E-36C0-98A6-4F9B6FB2A091__GUID-D3C37C92-5609-31F1-82AB-01AEC99671BB"><span class="apiname">CLbsPrivacyController::RespondNetworkLocationRequest()</span></a> to
indicate if the privacy request was accepted, rejected or ignored. </p>
 <p id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-50DD3996-3A4C-5FD1-9938-2F66DEECCFBB"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-50DD3996-3A4C-5FD1-9938-2F66DEECCFBB"><!-- --></a><strong>MLbsPrivacyObserver</strong> </p>
 <p><strong>Purpose </strong> </p>
 <p> <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html"><span class="apiname">MLbsPrivacyObserver</span></a> is the interface
class that a licensee Privacy Controller implements (or the derived <a href="GUID-BF88837F-1ADC-3DB2-98E5-CFBF75E2BE86.html"><span class="apiname">MLbsPrivacyObserver2</span></a> interface). </p>
 <p><strong>Usage </strong> </p>
 <p> <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D__GUID-74F567E4-1BD8-38A0-AF7E-51031DBFA625"><span class="apiname">MLbsPrivacyObserver::ProcessNetworkLocationRequest()</span></a> is
called by the LBS subsystem to cause the Privacy Controller to process a privacy
request. </p>
 <p> <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D__GUID-EC9BC8C5-F634-36FB-BD69-D932891F8CF9"><span class="apiname">MLbsPrivacyObserver::ProcessNetworkPositionUpdate()</span></a> is
called by the LBS subsystem to send the Privacy Controller a position update. </p>
 <p> <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D__GUID-19A15BEC-7F45-3E8C-9EC3-8D0BCA6A90B3"><span class="apiname">MLbsPrivacyObserver::ProcessRequestComplete()</span></a> is called by the LBS subsystem to notify the Privacy Controller that a privacy
request is complete. </p>
 <p><strong>MLbsPrivacyObserver::TNotificationType</strong> </p>
 <p><strong>Purpose </strong> </p>
 <p> <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D__GUID-3318F6A6-4371-3304-AE0B-BF68D9B01CDA"><span class="apiname">MLbsPrivacyObserver::TNotificationType</span></a> specifies
the notification action defined by the received privacy request. It informs
the Privacy Controller if the request requires verification or only notification
to the user and whether the privacy request should be accepted or rejected
if there is no response. The notification type can be one of the following
values: </p>
 
<div class="tablenoborder"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-1A913B1D-3967-51D0-9FC6-92776693C373"><!-- --></a><table cellpadding="4" cellspacing="0" summary="" id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-1A913B1D-3967-51D0-9FC6-92776693C373" frame="border" border="1" rules="all">
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" id="d1926719e938">Value</th>

<th class="cellrowborder" valign="top" id="d1926719e941">Meaning</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" headers="d1926719e938 "><p> <samp class="codeph">ENotifyLocationAccepted</samp>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1926719e941 "><p>Accept the privacy request and notify the user </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d1926719e938 "><p> <samp class="codeph">ENotifyAndVerifyLocationAcceptedIfNoReponse</samp>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1926719e941 "><p>Verify the privacy request (query user or use privacy rules). Accept
if no response </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d1926719e938 "><p> <samp class="codeph">ENotifyAndVerifyLocationRejectedIfNoReponse</samp>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1926719e941 "><p>Verify the privacy request (query user or use privacy rules). Reject
if no response </p>
 </td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="d1926719e938 "><p> <samp class="codeph">ENotifyLocationRejected</samp>  </p>
 </td>

<td class="cellrowborder" valign="top" headers="d1926719e941 "><p>Reject the request and and notify user </p>
 </td>

</tr>

</tbody>

</table>
</div>
 <p> <strong>Important Note</strong>  </p>
 <p>The action specified by <samp class="codeph">TNotificationType</samp> can
be overridden by the <a href="GUID-23BBC1D8-B3A0-5148-A4F1-22ECF3043E4E.html" title="The documents in this section explain how to configure LBS by using the LBS Administration API or by using a repository initialisation file.">LBS
administration</a> settings. </p>
 <p>There are three settings that override
the behaviour specified by <samp class="codeph">TNotificationType</samp>: </p>
 <p>LBS
administration setting <samp class="codeph">KLbsSettingHomeExternalLocate</samp> and <samp class="codeph">KLbsSettingRoamingExternalLocate</samp> specify
if external location requests (requests from the network) are turned on or
off in the LBS subsystem (in the home network and when roaming) and whether
such requests should always be verified. See <a href="GUID-E8B4B321-6B45-3764-ADD2-CD05A5533945.html#GUID-E8B4B321-6B45-3764-ADD2-CD05A5533945__GUID-74AF5A08-F6D9-36F7-A904-710C18248569"><span class="apiname">CLbsAdmin::TExternalLocateService</span></a> for
more information about the values that these administration settings can take. </p>
 <p>LBS
administration setting <samp class="codeph">KLbsSettingPrivacyTimeoutAction</samp> specifies
the action that the LBS subsystem takes if a privacy request times out. See <a href="GUID-E8B4B321-6B45-3764-ADD2-CD05A5533945.html#GUID-E8B4B321-6B45-3764-ADD2-CD05A5533945__GUID-F063FE21-9996-3F0E-9BE2-95067EF5B5E6"><span class="apiname">CLbsAdmin::TPrivacyTimeoutAction</span></a> for
more information about the values that this administration setting can take. </p>
 <p><strong>Usage </strong> </p>
 <p>An <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D__GUID-3318F6A6-4371-3304-AE0B-BF68D9B01CDA"><span class="apiname">MLbsPrivacyObserver::TNotificationType</span></a> parameter
is passed as a parameter in a call by the LBS subsystem to the Privacy Controller
method <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D__GUID-74F567E4-1BD8-38A0-AF7E-51031DBFA625"><span class="apiname">MLbsPrivacyObserver::ProcessNetworkLocationRequest()</span></a>. </p>
 <p id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-4A7719C2-ED38-51B3-A16B-17B26DA87278"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-4A7719C2-ED38-51B3-A16B-17B26DA87278"><!-- --></a><strong>MLbsPrivacyObserver2</strong> </p>
 <p><strong>Purpose </strong> </p>
 <p> <a href="GUID-BF88837F-1ADC-3DB2-98E5-CFBF75E2BE86.html"><span class="apiname">MLbsPrivacyObserver2</span></a> is a Privacy
Controller interface class derived from <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html"><span class="apiname">MLbsPrivacyObserver</span></a>.
A licensee Privacy Controller only needs to implement this interface instead
of <samp class="codeph">MLbsPrivacyObserver</samp> if it requires notification that LBS
is shutting down. </p>
 <p><strong>Usage </strong> </p>
 <p> <a href="GUID-BF88837F-1ADC-3DB2-98E5-CFBF75E2BE86.html#GUID-BF88837F-1ADC-3DB2-98E5-CFBF75E2BE86__GUID-D0474BB9-6CD6-3F5E-842C-1531A663AAB8"><span class="apiname">MLbsPrivacyObserver2::ProcessCloseDownNotification()</span></a> is
called by the LBS subsystem root process to shutdown a licensee Privacy Controller
when the LBS subsystem is in the <a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">Standalone
Privacy Mode configuration</a>. </p>
 <p id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-EF3695BB-5D29-519B-8410-41B82E9F2634"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-EF3695BB-5D29-519B-8410-41B82E9F2634"><!-- --></a><strong>TLbsExternalRequestInfo</strong> </p>
 <p><strong>Purpose </strong> </p>
 <p> <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html"><span class="apiname">TLbsExternalRequestInfo</span></a> is the
class that LBS subsystem uses to pass request information to a licensee Privacy
Controller. </p>
 <p>This class is not strictly part of the Privacy Controller
API. It is defined in <span class="filepath">lbsloccommon.h</span> and is also used
by <a href="GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23.html#GUID-F8C5A22F-8433-5F50-B12A-E964572E6C23__GUID-DC80984B-7B46-5C2D-A1EF-EDBB0983159D">Privacy
Notifiers</a> and by LBS internally. A Privacy Controller uses it to obtain
information about the agent that sent the privacy request. </p>
 <p><strong>Usage </strong> </p>
 <p>A <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html"><span class="apiname">TLbsExternalRequestInfo</span></a> object
reference is passed as a parameter from the LBS subsystem to the Privacy Controller
in a call to <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D__GUID-74F567E4-1BD8-38A0-AF7E-51031DBFA625"><span class="apiname">MLbsPrivacyObserver::ProcessNetworkLocationRequest()</span></a>. </p>
 <p> <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html"><span class="apiname">TLbsExternalRequestInfo</span></a> contains
buffers that contain the client name, the requester ID and the external requester
ID as specified in 3GPP LBS specifications. This information is accessed via
the following methods: </p>
 <ul>
<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-3FEE3437-1C39-5CA9-A215-A44E3E20E250"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-3FEE3437-1C39-5CA9-A215-A44E3E20E250"><!-- --></a><p> <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-DAE108AE-80F4-3136-B7A4-BF2E50A76864"><span class="apiname">TLbsExternalRequestInfo::GetRequesterId()</span></a> gets
the ID of the requester. </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-07E8994D-D98E-5B1B-8F80-A1F61E7E9603"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-07E8994D-D98E-5B1B-8F80-A1F61E7E9603"><!-- --></a><p> <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-E486B61F-FF83-3D6D-BA83-1A9839AE4090"><span class="apiname">TLbsExternalRequestInfo::GetClientName()</span></a> gets
the name of the client. </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-047B24E3-B49C-5790-B70F-7A40246382E2"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-047B24E3-B49C-5790-B70F-7A40246382E2"><!-- --></a><p> <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-0BC7BC4B-83DF-3C5F-8E96-4EAF4C7B107C"><span class="apiname">TLbsExternalRequestInfo::GetClientExternalId()</span></a> gets
the client external ID. </p>
 </li>

</ul>
 <p>A Privacy Controller can use other methods of <samp class="codeph">TLbsExternalRequestInfo</samp> to
get information about the format of the data and the encoding of the requester
ID and the client name descriptors: </p>
 <ul>
<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-D67309F3-11CC-585E-8C17-98F999BC9E40"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-D67309F3-11CC-585E-8C17-98F999BC9E40"><!-- --></a><p> <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-1DE5ECB6-A4BE-3D8A-B2CA-4C856818FBD7"><span class="apiname">TLbsExternalRequestInfo::RequesterIdFormat()</span></a> returns
a <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-BE59DD81-E3C7-3BC9-85BB-EFBC152F7C85"><span class="apiname">TLbsExternalRequestInfo::TFormatIndicator</span></a> (a value from
the enumeration <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-4A0CFFE5-B5FA-33B1-AC61-0F8E21C56384"><span class="apiname">TLbsExternalRequestInfo::_TFormatIndicator</span></a>).
This specifies the format of the data that <samp class="codeph">TLbsExternalRequestInfo::GetRequesterId()</samp> returns
(such as a MSISDN, URL, email address etc.) </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-753F57B2-A88C-55E8-A954-491988003128"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-753F57B2-A88C-55E8-A954-491988003128"><!-- --></a><p> <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-7648CE80-2702-3FEA-A3CC-FFAFA39C8FE9"><span class="apiname">TLbsExternalRequestInfo::ClientNameFormat()</span></a> returns
a <samp class="codeph">TFormatIndicator</samp> which describes the format of the data
that <samp class="codeph">TLbsExternalRequestInfo::GetClientName()</samp> returns. </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-EBD5CD41-EB9C-526F-AEFA-504555276B6A"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-EBD5CD41-EB9C-526F-AEFA-504555276B6A"><!-- --></a><p> <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-4D04EBF9-CDED-32EC-B993-E10036682FA3"><span class="apiname">TLbsExternalRequestInfo::RequesterIdCodingScheme()</span></a> returns
a <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-9C6D27D5-DFA6-31C5-9223-0692C6DD133F"><span class="apiname">TLbsExternalRequestInfo::TCodingScheme</span></a> (a value from
the enumeration <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-0F58F35A-B83D-3259-8E79-CCE8E311D52A"><span class="apiname">TLbsExternalRequestInfo::_TCodingScheme</span></a>).
This specifies the encoding of the data that <samp class="codeph">TLbsExternalRequestInfo::GetRequesterId()</samp> returns
(such as UCS-2, UTF-8 or GSM 7 bit). </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-BAB695DD-1DF8-594A-9D64-00482DC30933"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-BAB695DD-1DF8-594A-9D64-00482DC30933"><!-- --></a><p> <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-022A7856-019F-3E52-BF69-31CAB8D3E99C"><span class="apiname">TLbsExternalRequestInfo::ClientNameCodingScheme()</span></a> returns
a <samp class="codeph">TCodingScheme</samp> that specifies the encoding of the data that <samp class="codeph">TLbsExternalRequestInfo::GetClientName()</samp> returns. </p>
 </li>

</ul>
 <p> <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-941B8D64-1A14-3212-91A8-F34C251DF324"><span class="apiname">TLbsExternalRequestInfo::NetworkType()</span></a> returns
a <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-8A8A5988-7824-3FCD-8DDD-3EDE1EE5F91D"><span class="apiname">TLbsExternalRequestInfo::TNetworkType</span></a> (a value from the
enumeration <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-E1629237-2510-33E1-8DD9-E5A02F0CFAC6"><span class="apiname">TLbsExternalRequestInfo::_TNetworkType</span></a>). This
specifies the type of network from which the privacy request was received
(GSM, SUPL or WCDMA). </p>
 <p> <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-FC25815D-18CB-3C0C-BC4B-B9B0AD989D4A"><span class="apiname">TLbsExternalRequestInfo::RequestSource()</span></a> returns
a <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-96423BB7-2412-3E51-B457-6D99CECCDB1C"><span class="apiname">TLbsExternalRequestInfo::TRequestSource</span></a> (a value from
the enumeration <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-08527BDC-45E9-3EE1-9F82-618B9EEAE932"><span class="apiname">TLbsExternalRequestInfo::_TRequestSource</span></a>).
This specifies the source of the privacy request (a local application or the
network). This value is checked by LBS when it is configured in the Standalone
Privacy Mode, but is not checked in the Full LBS mode. A <a href="GUID-E1710E40-B8F5-5CF8-B9FE-698869A1770F.html" title="The Privacy Request API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Privacy
Request API</a> client must set this value on the <samp class="codeph">TLbsExternalRequestInfo</samp> object
it passes across the API. It is used for policing client capabilities. See <a href="GUID-5008C3E6-4D12-5BA3-A95A-7CAB02ED0594.html" title="This topic describes how to use the Privacy Request API.">How to use the Privacy Request
API</a> for more information. </p>
 <p> <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-A945D0A5-0BD3-3644-A202-1F0DC86B6DD0"><span class="apiname">TLbsExternalRequestInfo::RequestType()</span></a> returns
a <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-6DD2B933-A4C0-38A7-ACF8-9408297928AD"><span class="apiname">TLbsExternalRequestInfo::TRequestType</span></a> (a value from the
enumeration <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-70F3669A-B543-3312-A625-BB5769256AC7"><span class="apiname">TLbsExternalRequestInfo::_TRequestType</span></a>). This
specifies the type of request (single shot, periodic or area event). These
values are not implemented and are reserved for future use. </p>
 <p>Note that
the <samp class="codeph">TLbsExternalRequestInfo</samp> setter functions are for use
in licensee Network Protocol Module implementations and not by Privacy Controllers
(which only need to read data from a <samp class="codeph">TLbsExternalRequestInfo</samp> object). </p>
 <p id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-6CE66027-3F7C-505F-949F-4CFE1101C54A"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-6CE66027-3F7C-505F-949F-4CFE1101C54A"><!-- --></a><strong>TLbsExternalRequestInfo2</strong> </p>
 <p><strong>Purpose </strong> </p>
 <p> <a href="GUID-EB52E7D5-55AE-3539-A212-AB2B5430D407.html"><span class="apiname">TLbsExternalRequestInfo2</span></a> is an
extended request info class that derives from <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html"><span class="apiname">TLbsExternalRequestInfo</span></a>. </p>
 <p>A
Privacy Controller only needs to use this class if large buffers are used
to pass data across the <a href="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726.html" title="The Network Privacy API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Network
Privacy API</a>. In other circumstances, the Privacy Controller need only
use the <samp class="codeph">TLbsExternalRequestInfo</samp> class. </p>
 <p>The maximum
buffer sizes for <samp class="codeph">TLbsPrivacyRequestInfo</samp> are defined as <a href="GUID-966AD1BE-78A2-35A8-8BBF-FEC5E6515757.html"><span class="apiname">KLbsMaxRequesterIdSize</span></a>, <a href="GUID-CFB09B2C-7BB7-30CC-B914-AC809FD74FEC.html"><span class="apiname">KLbsMaxClientNameSize</span></a> and <a href="GUID-001E09F9-B7C6-36AC-8750-9E8AFD23A381.html"><span class="apiname">KLbsMaxClientExternalIdSize</span></a> in <span class="filepath">lbsprivacycontroller.h</span>. </p>
 <p> <samp class="codeph">TLbsPrivacyRequestInfo2</samp> defines additional buffers for holding requester data when a licensee wants
to use larger buffers for requester ID and the client name. The maximum buffer
sizes for <samp class="codeph">TLbsExternalRequestInfo2</samp> are defined as <a href="GUID-65A04124-8B71-3A21-9BE6-3A8E5C7EBB96.html"><span class="apiname">KLbsMaxRequesterIdSize2</span></a> and <a href="GUID-F87B009E-1DEC-327D-9496-3C277BFD1563.html"><span class="apiname">KLbsMaxClientNameSize2</span></a> in <span class="filepath">lbsprivacycontroller.h</span>. </p>
 <p><strong>Usage </strong> </p>
 <p>A Privacy Controller is always passed a <samp class="codeph">TLbsExternalRequestInfo</samp> reference
when the LBS subsystem calls <a href="GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D.html#GUID-76C6B540-DCA5-33CB-9ABD-8951A2F1DD5D__GUID-74F567E4-1BD8-38A0-AF7E-51031DBFA625"><span class="apiname">MLbsPrivacyObserver::ProcessNetworkLocationRequest()</span></a>.
However this reference may be to a derived <samp class="codeph">TLbsExternalRequestInfo2</samp> object.
The following cases should be considered: </p>
 <a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-C99A3C03-05F2-581A-8761-F483C944C51F"><!-- --></a><ol id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-C99A3C03-05F2-581A-8761-F483C944C51F">
<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-F7D86881-C56E-59AA-9117-40AB342E3970"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-F7D86881-C56E-59AA-9117-40AB342E3970"><!-- --></a><p>LBS is being used in
the <a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">Full LBS configuration</a>. </p>
 <p>The
Privacy Controller can use the <samp class="codeph">TLbsExternalRequestInfo</samp> reference
parameter directly without casting it. </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-20CB3AB4-760C-514B-A491-2B3AEB0271BC"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-20CB3AB4-760C-514B-A491-2B3AEB0271BC"><!-- --></a><p>LBS is being used in
the <a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">Standalone Privacy
Mode configuration</a> (the <a href="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726.html" title="The Network Privacy API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Network
Privacy API</a> is used to send privacy requests into the LBS subsystem): </p>
 <ul>
<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-87A8E1C7-7ABC-5A50-B08E-6E2FDC2A39D2"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-87A8E1C7-7ABC-5A50-B08E-6E2FDC2A39D2"><!-- --></a><p>If buffers no larger
than <samp class="codeph">KLbsMaxRequesterIdSize</samp> and <samp class="codeph">KLbsMaxClientNameSize</samp> are
used by the licensee across the Network Privacy API then the Privacy Controller
can use the <samp class="codeph">TLbsExternalRequestInfo</samp> reference parameter directly
without casting it. </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-29785BFB-1EF7-5F63-B392-C2E03BC174F0"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-29785BFB-1EF7-5F63-B392-C2E03BC174F0"><!-- --></a><p>If larger buffers up
to <samp class="codeph">KLbsMaxRequesterIdSize2</samp> and <samp class="codeph">KLbsMaxClientNameSize2</samp> in
size are used across the Network Privacy API then the Privacy Controller must
cast the <samp class="codeph">TLbsExternalRequestInfo</samp> reference parameter to derived
class <samp class="codeph">TLbsExternalRequestInfo2</samp> before using it. Failure to
cast to the derived class may result in truncated data being returned from
the accessor functions <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-E486B61F-FF83-3D6D-BA83-1A9839AE4090"><span class="apiname">TLbsExternalRequestInfo::GetClientName()</span></a> and <a href="GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08.html#GUID-D6E1F012-8C98-3B10-9601-3F665CFD5F08__GUID-DAE108AE-80F4-3136-B7A4-BF2E50A76864"><span class="apiname">TLbsExternalRequestInfo::GetRequesterId()</span></a>. </p>
 </li>

</ul>
 </li>

</ol>
 <p> <a href="GUID-3078D198-0FCB-58A0-8152-9CD319906D58.html#GUID-3078D198-0FCB-58A0-8152-9CD319906D58__GUID-38E5625D-FFA4-56E2-97C8-12A5D1C361E4">How
to use the LBS Privacy Controller API</a> gives an example of how to use <samp class="codeph">TLbsExternalRequestInfo</samp> and <samp class="codeph">TLbsExternalRequestInfo2</samp>. </p>
 </div>

<div class="section" id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-40428027-BCF1-5A37-B3A8-E1DC9A37CD7A"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-40428027-BCF1-5A37-B3A8-E1DC9A37CD7A"><!-- --></a><h2 class="sectiontitle">Sequence Diagrams</h2> <p>This
section describes the main use cases for the Privacy Controller API. A set
of sequence diagrams explain the behaviour of the API. </p>
 <p>Note that these
use cases and sequences only document Privacy Controller behaviour with the <a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">Full LBS configuration</a> (in
which the LBS subsystem handles both privacy requests and location calculations). </p>
 <p>For
sequences that describe the behaviour of a Privacy Controller with the Network
Privacy API in the <a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">Standalone
Privacy Mode configuration</a> see the <a href="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726.html" title="The Network Privacy API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Network
Privacy API</a> documentation. </p>
 <p>The following are the main use cases
involving a Privacy Controller and the LBS subsystem: </p>
 <ul>
<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-388F8613-29AD-500F-B947-4585D85DC610"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-388F8613-29AD-500F-B947-4585D85DC610"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-5D870ABF-549C-5CB1-902C-D0E644E29E49">Privacy verification request</a>  </p>
 <p>A non-emergency MT-LR is received
from the network and causes a privacy verification request to be sent to the
registered Privacy Controller by the LBS subsystem. </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-97DCDF97-F425-5B3E-AE96-91C1E451D4DC"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-97DCDF97-F425-5B3E-AE96-91C1E451D4DC"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-227497D1-D8A7-579F-8B46-629D9833B6EC">Privacy notification request</a>  </p>
 <p>An emergency services MT-LR
is received from the network and causes a privacy notification request to
be sent to the registered Privacy Controller by the LBS subsystem. </p>
 </li>

<li id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-9F36ADFB-8036-5FC7-B447-945B5FA20B7A"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-9F36ADFB-8036-5FC7-B447-945B5FA20B7A"><!-- --></a><p><a href="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0.html#GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-2552D9A2-4563-58DC-80FE-AEE7797CFB28">Privacy verification request is cancelled</a>  </p>
 <p>The network can
send a message to cancel an outstanding privacy request. </p>
 </li>

</ul>
 <p><strong>Sequence Diagrams </strong> </p>
 <p>These sequence diagrams describe the interaction
of a Privacy Controller with the LBS subsystem in the <a href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.html" title="The documents in this section describe the tasks necessary to build and configure the LBS subsystem. These documents are for device creators.">Full
LBS configuration</a>. See <a href="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726.html" title="The Network Privacy API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Network
Privacy API</a> documentation for sequences that describe Privacy Controller
interaction with the Network Privacy API. </p>
 <p id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-5D870ABF-549C-5CB1-902C-D0E644E29E49"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-5D870ABF-549C-5CB1-902C-D0E644E29E49"><!-- --></a><strong> Privacy verification request
(request accepted, rejected or timeout)</strong> </p>
 <p>Figure 4.1 shows the case
when a privacy request is received from the network. The Privacy Controller
can respond by either accepting or rejecting the request, or by not responding
at all, in which case the LBS subsystem times out the privacy request. </p>
 <div class="fignone" id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-3EB95BD2-B78C-5A40-8239-D06C8F95273C"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-3EB95BD2-B78C-5A40-8239-D06C8F95273C"><!-- --></a><span class="figcap">Figure 4.                  Figure 4.1 Privacy verification               </span>

<img src="GUID-2B5C905C-CEE7-5B7B-8143-A73D3352949A_d0e433922_href.png"/>
</div>
 <p id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-227497D1-D8A7-579F-8B46-629D9833B6EC"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-227497D1-D8A7-579F-8B46-629D9833B6EC"><!-- --></a><strong> Privacy notification request</strong> </p>
 <p>Figure
4.2 shows the case when the Privacy Controller receives a privacy notification
request. The Privacy Controller is notified of the request and can also receive
notification of position calculation updates. </p>
 <div class="fignone" id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-EA3FA6C0-10C4-57D4-A44E-D6F1C705E149"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-EA3FA6C0-10C4-57D4-A44E-D6F1C705E149"><!-- --></a><span class="figcap">Figure 5.                  Figure 4.2. Privacy notification               </span>

<img src="GUID-A6598739-2BB5-546E-931B-B202E3DD49E0_d0e433938_href.png"/>
</div>
 <p id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-2552D9A2-4563-58DC-80FE-AEE7797CFB28"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-2552D9A2-4563-58DC-80FE-AEE7797CFB28"><!-- --></a><strong>Privacy verification request
is cancelled</strong> </p>
 <p>Figure 4.3 shows the case when a privacy verification
request is cancelled. </p>
 <div class="fignone" id="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-16093966-FFB9-53A8-9612-2B8F06FF616E"><a name="GUID-D857413A-D5A1-5F9F-A780-C980A9E0BEE0__GUID-16093966-FFB9-53A8-9612-2B8F06FF616E"><!-- --></a><span class="figcap">Figure 6.                  Figure 4.3. Privacy verification is cancelled    
          </span>

<img src="GUID-BAD38A27-5A46-5A72-B0AD-A095C207CD2B_d0e433954_href.png"/>
</div>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-9EB08688-7A16-585B-B2B0-C142AF754D2A.html" title="This section contains documents the describe privacy request concepts and the components that licensees create to handle them.">Privacy Request Concepts</a></div>
</div>

<div class="linklist">
<div><a href="GUID-CB6B4D1A-ACB9-5571-8C23-4BC095209782.html" title="This document describes the Network Protocol Module API that device creators use to develop their own Network Protocol Modules.">Network Protocol
Module API</a></div>
<div><a href="GUID-B3000A78-3BE5-5E0A-A718-87BC9BA03726.html" title="The Network Privacy API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Network Privacy
API</a></div>
<div><a href="GUID-E1710E40-B8F5-5CF8-B9FE-698869A1770F.html" title="The Privacy Request API is an interface through which the LBS subsystem can receive and respond to privacy requests when it is built to include the Privacy Protocol Module.">Privacy Request
API</a></div></div>
</div>   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>