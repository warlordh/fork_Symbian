<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2010"/>
<meta name="DC.rights.owner" content="(C) Copyright 2010"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Using URIs from the URI List"/>
<meta name="DC.Relation" scheme="URI" content="GUID-956E7DD6-C7FA-5F0A-9C86-D7FE58373A25.html"/>
<meta name="DC.Relation" scheme="URI" content="index.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-32E29020-1956-461A-B79A-1492E06049E7.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C0D38954-2FC5-4E8B-BC11-229464DCF16C.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-939C0EE6-0931-4898-842B-9D0C9D61DD2F.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-C0E7CBC4-C525-4CA8-8D21-E7E2ABE396CE.html"/>
<meta name="DC.Relation" scheme="URI" content="GUID-956E7DD6-C7FA-5F0A-9C86-D7FE58373A25.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C"/>
<meta name="DC.Language" content="en"/>
<link rel="stylesheet" type="text/css" href="commonltr.css"/>
<title>Using URIs from the URI List</title>

     
<link type="text/css" rel="stylesheet" href="css/common.css" media="screen"/>
<link type="text/css" rel="stylesheet" href="css/sdl.css" media="screen"/>

<!--[if IE]>
<link href="css/iefix.css" rel="stylesheet" type="text/css" media="screen" />
<![endif]-->



     <link rel="stylesheet" type="text/css" href="nokiacxxref.css"/></head>
<body id="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C"><a name="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C"><!-- --></a>


<?php include_once (CURRENT_SKIN_PATH.'/sdl_header.html'); ?>
<div id="sdl_container">
   <div id="leftMenu">  
 <div id="expandcontractdiv">
    <a id="collapseTree" href="javascript:tree.collapseAll()">Collapse all</a>
    <a id="index" href="index.html">Symbian^3 Product Developer Library</a>        
</div>
     <iframe style="border:none" height="800" width="300" src="index-toc.html"></iframe>
<div id="treeDiv1">&#160;</div>
     <script type="text/javascript">
	var currentIconMode = 0; window.name="id2563754 id2387372 id2387627 id2387636 id2387644 ";
	YAHOO.util.Event.onDOMReady(buildTree, this,true);
    </script>
     
</div>

<div id="sdl_content">


<div class="breadcrumb"><a href="index.html" title="Symbian^3 Product Developer Library">Symbian^3 Product Developer Library</a> &gt; <a href="GUID-32E29020-1956-461A-B79A-1492E06049E7.html" title="The Symbian Guide describes the architecture and functionality of the platform, and provides guides on using its APIs.">Symbian Guide</a> &gt; <a href="GUID-C0D38954-2FC5-4E8B-BC11-229464DCF16C.html">High Level Internet Protocols Guide</a> &gt; <a href="GUID-939C0EE6-0931-4898-842B-9D0C9D61DD2F.html">Application Layer Plugins and Utils</a> &gt; <a href="GUID-C0E7CBC4-C525-4CA8-8D21-E7E2ABE396CE.html">URI Permission Services</a> &gt; <a href="GUID-956E7DD6-C7FA-5F0A-9C86-D7FE58373A25.html">WhiteList/BlackList URI Services</a> &gt; </div>
<h1 class="topictitle1">Using
URIs from the URI List</h1>
<div>
<p>The URI List framework provides two classes for URI list operation: <a href="GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html"><span class="apiname">RInetUri</span></a> and <a href="GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html"><span class="apiname">RInetUriList</span></a>. <a href="GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html"><span class="apiname">RInetUri</span></a> represents a handle to the URI and its associated properties (like <em>service
type</em>, <em>list type</em>, <em>permission</em> and <em>favourite name</em>). <a href="GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html"><span class="apiname">RInetUriList</span></a> represents
a handle to the entire list and provides APIs for adding URIs to the list,
removing URIs from the list, and updating URIs in the list. Before performing
any operation, a session with URI List Server should be created by calling <a href="GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html#GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2__GUID-216A97DE-FB70-3465-8989-75914D4698C2"><span class="apiname">RInetUriList::OpenL()</span></a>. </p>

<p>This section contains the following subsections: </p>

<ul>
<li id="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-2D38354A-5FD7-5D72-B9D2-E02D9345E60A"><a name="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-2D38354A-5FD7-5D72-B9D2-E02D9345E60A"><!-- --></a><p> <a href="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C.html#GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-D466B837-760E-5FD9-84C0-D80DDB205C97">Adding a URI to the list</a>  </p>
 </li>

<li id="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-7E954F3C-81F6-5EAB-975F-3E6619EFB312"><a name="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-7E954F3C-81F6-5EAB-975F-3E6619EFB312"><!-- --></a><p> <a href="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C.html#GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-7FA78C8E-74A5-5FF8-99DF-11A6D9A04F83">Removing a URI from the list</a>  </p>
 </li>

<li id="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-12EC94EA-75C5-52D7-8415-7E888144F491"><a name="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-12EC94EA-75C5-52D7-8415-7E888144F491"><!-- --></a><p> <a href="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C.html#GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-202A44E4-3E28-5B84-8C8C-E1B1D094B9D5">Updating a URI in the list </a>  </p>
 </li>

</ul>

<div class="section" id="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-D466B837-760E-5FD9-84C0-D80DDB205C97"><a name="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-D466B837-760E-5FD9-84C0-D80DDB205C97"><!-- --></a><h2 class="sectiontitle">Adding a URI
to the list</h2> <p>A URI can be added to the list using the following
API: </p>
 <p> <samp class="codeph">void AddL(const RInetUri&amp;           aInetUri)</samp> </p>
 <p>Where
the <a href="GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html"><span class="apiname">RInetUri</span></a> parameter is the <samp class="codeph">Uri</samp> property
object that contains all properties of a URI. Sample code to add URIs to the
list is shown here. </p>
 <pre class="codeblock" id="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-9F38C56A-C5D1-5DE9-A7B1-5FC9C456B184"><a name="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-9F38C56A-C5D1-5DE9-A7B1-5FC9C456B184"><!-- --></a>//Create the URI
_LIT8(KUri, “http://www.symbian.org”);

//Create a RInetUri object
RInetUri uriObject;

//Now initialise the object with Uri properties. 
    uriObject.CreateL ( KUri, EWapPush, EBlackList);
    CleanupClosePushL(uriObject);

//Now create the RInetUriList object
    RInetUriList uriListObj;

//Create a server session
    uriListObj.OpenL();
    CleanupClosePushL(uriListObj);

//Now add the Uri to list. 
    uriListObj.AddL(uriObject);

//Pop and close the server session.
CleanupStack::PopAndDestroy ( &amp;uriListObj);

//Pop and free up memory of uri property object.
CleanupStack::PopAndDestroy ( &amp;uriObject);
</pre>
 <p>The <a href="GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html#GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4__GUID-693DB5EF-B91F-3AD1-BD59-66F7D6987C76"><span class="apiname">RInetUri::CreateL</span></a> function accepts
a reference to an 8-bit descriptor only. By default, the permission attribute
of <samp class="codeph">Uri</samp> is set to <samp class="codeph">EReadWrite</samp>. <a href="GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html#GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4__GUID-089BEF50-85CB-36E8-BD4E-FB836A687307"><span class="apiname">RInetUri::Close</span></a> should
be called to free up the memory. </p>
 </div>

<div class="section" id="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-7FA78C8E-74A5-5FF8-99DF-11A6D9A04F83"><a name="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-7FA78C8E-74A5-5FF8-99DF-11A6D9A04F83"><!-- --></a><h2 class="sectiontitle">Removing a
URI from the list</h2> <p>The <a href="GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html"><span class="apiname">RInetUriList</span></a> class provides
the following API for removing a URI from the list: </p>
 <p> <samp class="codeph">void
RemoveL(const RInetUri&amp;           aInetUri)</samp> </p>
 <p>Where the <a href="GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html"><span class="apiname">RInetUri</span></a> parameter
is the <samp class="codeph">Uri</samp> property object. This object handle can be obtained
by calling <a href="GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html#GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2__GUID-0F1C347F-1F7F-343D-B36A-B3924C7FA795"><span class="apiname">RInetUriList::OpenInetUriL()</span></a>, and passing URI
and service type. Sample code to remove URIs from the list is shown here: </p>
 <pre class="codeblock" id="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-DC259A5E-3B9D-5946-93DE-D30510C69A90"><a name="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-DC259A5E-3B9D-5946-93DE-D30510C69A90"><!-- --></a>_LIT8(KUri “http://www.symbian.org”);
    RInetUri uriObject;
    RInetUriList uriListObj;
    uriListObj.OpenL();
    CleanupClosePushL(uriListObj);

    uriObject = uriListObj. OpenInetUriL(KUri, EBrowser);
    CleanupClosePushL(uriObject);
    uriListObj.RemoveL(uriObject);

//Pop and close the server session.
CleanupStack::PopAndDestroy ( &amp;uriListObj);

//Pop and free up memory of uri property object.
CleanupStack::PopAndDestroy ( &amp;uriObject);
</pre>
 </div>

<div class="section" id="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-202A44E4-3E28-5B84-8C8C-E1B1D094B9D5"><a name="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-202A44E4-3E28-5B84-8C8C-E1B1D094B9D5"><!-- --></a><h2 class="sectiontitle">Updating a
URI in the list</h2> <p>The <a href="GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html"><span class="apiname">RInetUriList</span></a> class provides
the following API for updating properties of a URI in the list: </p>
 <p> <samp class="codeph">void
UpdateL(const RInetUri&amp;           aInetUri)</samp> </p>
 <p>Where the <a href="GUID-75AC6BC8-1D10-33FC-8BB2-98EEDF16BCB4.html"><span class="apiname">RInetUri</span></a> parameter
is the <samp class="codeph">Uri</samp> property object. This object handle can be obtained
by calling <a href="GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2.html#GUID-6F5E2A42-5047-3AB2-9929-D893B88F2BD2__GUID-0F1C347F-1F7F-343D-B36A-B3924C7FA795"><span class="apiname">RInetUriList::OpenInetUriL()</span></a>, and passing URI
and service type. Only <em>favourite name</em> and <em>list type</em> of a URI
can be updated. Sample code to update a URI in the list is shown here. </p>
 <pre class="codeblock" id="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-777AEE6D-FE05-57FF-9F3D-A80A93A1F965"><a name="GUID-F8159093-6349-516B-8301-C50BD2AC9F2C__GUID-777AEE6D-FE05-57FF-9F3D-A80A93A1F965"><!-- --></a>_LIT8(KUri “http://www.symbian.org”);
    _LIT8(KUriFavoritename “Home Page of Symbian”);
    RInetUri uriObject;
    RInetUriList uriListObj;
    uriListObj.OpenL();
    CleanupClosePushL(uriListObj);

    uriObject = uriListObj. OpenInetUriL(KUri, EBrowser);
    CleanupClosePushL(uriObject);
    uriObject.SetListType(EBlackList);
    uriObject.SetFavoriteNameL(KUriFavoritename);
    uriListObj.UpdateL(uriObject);

//Pop and close the server session.
CleanupStack::PopAndDestroy ( &amp;uriListObj);

//Pop and free up memory of uri property object.
CleanupStack::PopAndDestroy ( &amp;uriObject);
</pre>
 </div>

</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="GUID-956E7DD6-C7FA-5F0A-9C86-D7FE58373A25.html">WhiteList/BlackList URI Services</a></div>
</div>
</div>
   
<p class="copyright">Copyright &#169;2010 Nokia Corporation and/or its subsidiary(-ies).<br /> All rights
reserved. Unless otherwise stated, these materials are provided under the terms of the <a href=" http://www.eclipse.org/legal/epl-v10.html"> Eclipse Public License
v1.0</a>.</p> 
</div>
</div>
<?php include_once (CURRENT_SKIN_PATH.'/sdl_footer.html'); ?>

</body>
</html>